!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,s),i(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,s,o,a;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(s){i.once&&e.removeEventListener(t,r),n(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)s(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,s,o;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,s,o=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var h=-1,f=o.length;++h<f;)if(o[h]&&o[h].test&&o[h].test()){s=o[h].install(d);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),l||i||(l=!0,s())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(18),r=n(12),s=n(24),o=n(27),a=n(13),c=n(7);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function u(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():s.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function d(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSingleStaffActions(),s.initGroupingListeners(),t.dragInit())}function h(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function f(e,t,n=!0){if(e){if(e.classList.contains("staff"))return d(e,t);if(e.classList.contains("layer"))return h(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function p(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function g(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function m(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const s=e.closest(".syllable");s.style.fill="#d00",s.classList.add("syllable-highlighted"),s.querySelectorAll(".divLine").length&&(s.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),s.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,o.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}a.triggerBBoxActions()}t.getSelectionType=l,t.unselect=u,t.selectStaff=d,t.selectLayerElement=h,t.select=f,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(u(),f(i),await p(i,t)){const e=i.previousSibling;if(await p(e,t))f(e);else{const e=i.nextSibling;await p(e,t)?f(e):console.warn("Error: Neither prev or next nc are ligatures")}s.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=p,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],s=n.indexOf(t),o=n.indexOf(r);if(1!==Math.abs(s-o))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!g(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=g,t.sharedSecondLevelParent=m,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,s;return e.querySelectorAll("path").forEach(e=>{const o=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===s&&(s=Math.atan((o[3]-o[1])/(o[2]-o[0]))),(void 0===n||Math.min(o[1],o[3])<n)&&(n=Math.min(o[1],o[3])),(void 0===t||o[0]<t)&&(t=o[0]),(void 0===r||Math.max(o[1],o[3])>r)&&(r=Math.max(o[1],o[3])),(void 0===i||o[2]>i)&&(i=o[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:s}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{f(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(u(),0===e.length)return;let r,c=!1,d=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const h=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else d=d||!0;h.add(e);const n=e.getAttribute("mei:follows");n&&(document.querySelector("#"+n.slice(1)).classList.add("no-moving"),h.add(document.querySelector("#"+n.slice(1))));const i=e.getAttribute("mei:precedes");i&&(document.querySelector("#"+i.slice(1)).classList.add("no-moving"),h.add(document.querySelector("#"+i.slice(1))))}h.forEach(e=>f(e,n,!1));const p=Array.from(h.values());if(!c||d)switch(i){case"selByStaff":switch(p.length){case 1:a.triggerSingleStaffActions(),s.initGroupingListeners(),(0,o.resize)(p[0],t,n);break;default:a.triggerMultiStaffActions(),s.initGroupingListeners()}break;case"selByLayerElement":1===h.size?a.triggerLayerElementActions(p[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(p.length){case 1:a.triggerSyllableActions("singleSelect");break;case 2:s.isLinkable("selBySyllable",p)?a.triggerSyllableActions("linkableSelect"):s.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default");break;default:s.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(p.length){case 1:a.triggerNeumeActions(),s.initGroupingListeners();break;default:s.isGroupable("selByNeume",p)?s.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(p.length){case 1:a.triggerNcActions(p[0]);break;case 2:if(m(p)){if(p[0].parentElement===p[1].parentElement){const e=Array.from(p[0].parentElement.children);if(1===Math.abs(e.indexOf(p[0])-e.indexOf(p[1]))){let e=p[0].children[0],t=p[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,o=t.y.baseVal.value;if((n>i||n===i&&r<o)&&([e,t]=[t,e],[n,r,i,o]=[i,o,n,r]),n===i||r<o){s.triggerGrouping("ligature");break}}}s.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:m(p)?s.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(p.length){case 1:v(p[0],n,t),a.triggerBBoxActions();break;default:p.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===h.size?a.triggerLayerElementActions(p[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,circleSize:25,highlightMode:"none",userMode:"edit",insertMode:"punctum",insertTab:"primitiveTab",selectionMode:"selBySyllable",displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(26),r=n(16),s=new Array(0);let o=null;const a={default:"",warning:"⚠️ ",error:"🔴 ",success:"✅ "};class c{constructor(e,t){this.message=a[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function l(e){document.getElementById(e)&&document.getElementById(e).remove()}function u(e){!function(e){if(e.isModeMessage){if(null!==o)return void window.clearTimeout(o.timeoutID);o=e}if(s.push(e),s.length>3){l(s.shift().getId())}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(l,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),l(e.getId())})}function d(e,t="default"){const n=new c(e,t);"error"!=n.type&&"warning"!=n.type||(0,i.recordNotification)(n),u(n)}t.Notification=c,t.queueNotification=d,t.default={queueNotification:d}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t){e.exports=d3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.bboxActionContents=t.divLineActionContents=t.clefActionContents=t.columnActionContents=t.staffMergeActionContents=t.staffSplitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.staffSplitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.staffMergeActionContents='<label>Merge Systems:</label>\n    <div id="merge-system-btns-container" class="right-side-panel-btns-container">\n        <button id="merge-systems" class="side-panel-btn">Merge</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.columnActionContents='<div class="col-edit-container">\n        Edit Column Information: \n        <div id="col-stepper-btns-container" class="right-side-panel-btns-container">\n            <button id="col-decrement" class="side-panel-btn col-stepper-btn">–</button>\n            <input type="text" id="col-input" class="side-panel-stepper-input" value="0">\n            <button id="col-increment" class="side-panel-btn col-stepper-btn">+</button>\n            <button id="col-confirm" class="side-panel-btn side-panel-confirm-btn" style="display:none">Confirm</button>\n            <div id="col-warning" class="side-panel-warning"></div> \n        </div>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToVirgula" class="dropdown-item">Virgula</a>\n        </div>\n    </div>\n</div>',t.bboxActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="matchHeight">Match Height for Entire Row</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">T</div>\n                </div>\n                <div class="hotkey-entry-description">Scroll To Syllable Text</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4/5/6</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff/Layer Element/BBox\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: scroll; padding: 0.5em 0.75em; max-height: 300px;"><div>'},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(11),r=[],s=0;s<256;++s)r.push((s+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateDisplayAllBtn=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setCircleSizeControls=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(18),r=n(4),s=n(7);let o,a,c;function l(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function u(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function d(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),s=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return s.textContent=" - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),s.textContent=" - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function h(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{d(e)})}function f(){document.body.removeEventListener("click",f),document.getElementById("highlight-dropdown").classList.remove("is-active")}function p(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",f),h("column"),h("staff"),h("syllable"),h("neume"),h("layerElement"),h("none")):document.body.removeEventListener("click",f)})}function g(){const{highlightMode:e}=(0,r.getSettings)();d(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=l,t.setBgOpacityFromSlider=u,t.setCircleSizeControls=function(){const e=document.getElementById("circleSlider"),t=document.getElementById("circleOutput"),{circleSize:n}=(0,r.getSettings)();function i(){t.value=e.value,c=Number(e.value),(0,r.setSettings)({circleSize:Number(c)});const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",c)}c=n,e.value=String(n),t.value=String(n),document.getElementById("reset-circle-size").addEventListener("click",()=>{const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",25),c=Number(25),e.value=String(25),t.value=String(25),(0,r.setSettings)({circleSize:Number(25)}),i()}),e.addEventListener("input",i),e.addEventListener("change",i),e.disabled=!1},t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=h,t.setHighlightControls=p,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-column":i.setGroupingHighlight("column");break;case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.updateDisplayAllBtn=function(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)?(e.classList.add("selected"),e.innerHTML="Hide All"):e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")},t.loadHighlightSettings=g,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),l(e)}o=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-glyph-opacity");100==i&&a.classList.add("hide-icon"),null==a||a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,a=Number(t.value),u(e)}a=i,t.value=String(i),n.value=String(i);const o=document.getElementById("toggle-bg-opacity");100==i&&o.classList.add("hide-icon"),o.addEventListener("click",()=>{let i;o.classList.contains("hide-icon")?(o.classList.remove("hide-icon"),i=0):(o.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),a=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(t),p(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":d("staff");break;case"w":d("syllable");break;case"e":d("neume");break;case"r":d("layerElement");break;case"t":d("selection");break;case"y":d("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),g();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerBBoxActions=t.triggerSingleStaffActions=t.triggerStaffSplitMode=t.triggerMultiStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.matchHeightHandler=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(8),r=n(24),s=n(5),o=n(35),a=n(36),c=n(3);let l;function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function p(e){return{action:"setLiquescent",param:{elementId:e,curve:""}}}function g(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function m(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",g)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};m(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};m(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Insert Success","success"):s.default.queueNotification("Insert Failed XoX","error"),m(),l.updateForCurrentPage()})}function w(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Move Success","success"):s.default.queueNotification("Move Failed XoX","error"),m(),l.updateForCurrentPage()})}function _(){const e=Array.from(document.getElementsByClassName("selected"));e.length>1&&s.default.queueNotification("Cannot match height to multiple bbox","error");const t={action:"matchHeight",param:{elementId:e[0].id}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Height Match Success","success"):s.default.queueNotification("Height Match Failed XoX","error"),m(),l.updateForCurrentPage()})}function E(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",g))}function S(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function x(){const e=document.getElementById("col-input"),t=document.querySelectorAll(".staff.selected");let n;for(const e of t){const t=Array.from(e.classList).join(" ").match(/\bcolumn(\d+)\b/);if(t){const e=parseInt(t[1],10);if(n&&n!=e){document.getElementById("col-warning").innerText="The selected staves are not of the same column!",n=0;break}n=e}}n&&(e.value=n.toString())}function L(){const e=document.getElementById("col-decrement"),t=document.getElementById("col-increment"),n=document.getElementById("col-confirm"),i=document.getElementById("col-input");function r(e){let t=parseInt(i.value,10)||0;t+=e,t=Math.min(Math.max(t,1),5),t.toString()!=i.value&&(n.style.display=""),i.value=t.toString()}e.addEventListener("click",(function(){r(-1)})),t.addEventListener("click",(function(){r(1)})),n.addEventListener("click",(function(){const e=[];document.querySelectorAll(".staff.selected").forEach(t=>{e.push({action:"set",param:{elementId:t.id,attrType:"type",attrValue:"column"+i.value}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Column Value Update Success","success"):s.default.queueNotification("Column Value Update Failed XoX","error"),m(),l.updateForCurrentPage()})}))}function A(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function k(e){l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}function C(){const e=document.querySelector(".staff.selected");if(null!==e){new o.SplitStaffHandler(l,e).startSplit(),m()}else console.error("No staff was selected!"),m()}function I(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=u,t.unsetVirgaAction=d,t.unsetVirgaReversedAction=h,t.unsetLiquescentClockwiseAction=f,t.unsetLiquescentAnticlockwiseAction=p,t.deleteButtonHandler=g,t.endOptionsSelection=m,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=w,t.matchHeightHandler=_,t.addChangeStaffListener=S,t.triggerNcActions=function(e){m(),A("moreEdit",i.defaultActionContents),A("extraEdit",i.ncActionContents),E(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o=p(e.id);l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=f(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=h(e.id),n=u(e.id),i=f(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=p(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"c"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"a"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),I()},t.triggerNeumeActions=function(){m(),A("moreEdit",i.defaultNeumeActionContents),A("extraEdit",i.neumeActionContents),E();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Grouping Changed","success"):s.default.queueNotification("Grouping Failed","error"),m(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),m()}else console.error("No staff was selected!"),m()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),I()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){m(),A("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}A("moreEdit",t,!0),S(),E(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,o;if(m(),e.classList.contains("custos"))return A("moreEdit",i.custosActionContents),S(),void E();A("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(A("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}})}),I()}(e)):e.classList.contains("clef")?(A("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave incremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave decremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{k({action:"setClef",param:{elementId:e.id,shape:"C"}})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{k({action:"setClef",param:{elementId:e.id,shape:"F"}})}),I()}(e)):e.classList.contains("divLine")&&(A("extraEdit",i.divLineActionContents),function(e){document.querySelector("#ChangeToMinima.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"minima"}})}),document.querySelector("#ChangeToMaior.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maior"}})}),document.querySelector("#ChangeToMaxima.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maxima"}})}),document.querySelector("#ChangeToFinalis.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"finalis"}})}),document.querySelector("#ChangeToCaesura.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"caesura"}})}),document.querySelector("#ChangeToVirgula.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"virgula"}})}),I()}(e)),S(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",w),E(),S(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",b),null===(o=document.getElementById("moveOutsideSyllable"))||void 0===o||o.addEventListener("click",w)},t.triggerMultiStaffActions=function(){m(),A("moreEdit",i.staffMergeActionContents),A("extraEdit",i.columnActionContents),E(),x(),L(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=C,t.triggerSingleStaffActions=function(){m(),A("moreEdit",i.staffSplitActionContents),A("extraEdit",i.columnActionContents),E(),x(),L(),document.getElementById("split-system").addEventListener("click",()=>{C()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),m()}else console.error("No staff was selected"),m()})},t.triggerBBoxActions=function(){m(),A("moreEdit",i.bboxActionContents),E(),document.getElementById("matchHeight").addEventListener("click",()=>{_()})},t.triggerDefaultSylActions=function(){m(),A("moreEdit",i.defaultSylActionContents),E(),S()},t.triggerDefaultActions=function(){m(),A("moreEdit",i.defaultActionContents),E()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(3);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".system"),{x:r,y:s}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:s}}function s(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:s,y:o}=r(e,t),a=n.find(e=>s<=e.lrx&&s>=e.ulx&&o<=e.lry&&o>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=s,t.getStaffByCoords=function(e,t){const n=s(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+t[2]+606105819|0)<<17|r>>>15)+s|0)&s|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+t[6]-1473231341|0)<<17|r>>>15)+s|0)&s|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+t[10]-42063|0)<<17|r>>>15)+s|0)&s|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+t[14]-1502002290|0)<<17|r>>>15)+s|0)&s|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[14]-1416354905|0)<<15|r>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[10]-1051523|0)<<15|r>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[6]-1560198380|0)<<15|r>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[2]+718787259|0)<<15|r>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=s+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,r,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}function o(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,s,o,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,s=new ArrayBuffer(r),o=new Uint8Array(s),a=new Uint8Array(this,l,r),o.set(a),s)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,s,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),s=parseInt(i[1],16)||0,e[14]=r,e[15]=s,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(s(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,s,o,a,c=(i=this._buff.buffer,s=e,o=!0,(a=new Uint8Array(i.byteLength+s.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(s),i.byteLength),o?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),s=new Uint8Array(r);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(8),r=n(33),s=n(3);var o,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.VALIDATION_STATUS=2]="VALIDATION_STATUS",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD",e[e.MOVE_TO=4]="MOVE_TO",e[e.NEW_FOLDER=5]="NEW_FOLDER",e[e.RENAME=6]="RENAME"}(o=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{this.updateSelectedBBox(e,this.dragHandler,this.neonView)})})}else this.updateSelectedBBox(e,this.dragHandler,this.neonView);this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case o.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;case o.DOCUMENT_UPLOAD:case o.NEW_FOLDER:case o.RENAME:break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,this.setupEventListeners()}setupEventListeners(){document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}removeEventListeners(){document.getElementById("neon-modal-window-header-close").removeEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").removeEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").removeEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case o.EDIT_TEXT:this.openEditSylTextModalWindow();break;case o.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");break;case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:document.getElementById("neon-modal-window-content-container").innerHTML=""}document.getElementById("neon-modal-window-container").style.display="none",document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED,this.removeEventListeners()}setModalWindowContent(e){const t=document.getElementById("neon-modal-window-content-container"),n=document.getElementById("neon-modal-window-header-title");switch(this.modalWindowView){case o.EDIT_TEXT:t.innerHTML=i.editTextModal,n.innerText="EDIT SYLLABLE TEXT";const s=/\u{25CA}/u,a=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(s,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=a;break;case o.HOTKEYS:t.innerHTML=i.hotkeysModal,n.innerText="HOTKEYS";break;case o.VALIDATION_STATUS:t.innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURIComponent(e)}" download="validation.log">\n              Export\n            </a>\n            </div>`,n.innerText="ERROR LOG";break;case o.DOCUMENT_UPLOAD:n.innerText="DOCUMENT UPLOAD",t.innerHTML=r.uploadAreaHTML;break;case o.MOVE_TO:n.innerText="MOVE TO";break;case o.NEW_FOLDER:n.innerText="NEW FOLDER",t.innerHTML=r.newFolderHTML;break;case o.RENAME:n.innerText="RENAME",t.innerHTML=r.renameHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}updateSelectedBBox(e,t,n){(0,s.unselect)();const i=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(i)){const e=document.getElementById(i).querySelector(".sylTextRect-display");(0,s.selectBBox)(e,t,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function s(){r()}function o(){s();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=s,t.unsetGroupingHighlight=o,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(o(),"staff"===t)return void c();if("column"===t)return void function(){const e={};document.querySelectorAll(".staff").forEach(t=>{const n=Array.from(t.classList).join(" ").match(/\bcolumn(\d+)\b/);let i=0;n&&(i=parseInt(n[1],10)-1),e[i]||(e[i]=[]),e[i].push(t)});for(const[t,n]of Object.entries(e)){const e=i[Number(t)%i.length];for(const t of n)a(t,e)}}();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByColumn":t="column";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},function(e,t,n){"use strict";var i=n(43),r=t.ValidationError=function(e,t,n,i,r,s){if(Array.isArray(i)?(this.path=i,this.property=i.reduce((function(e,t){return e+d(t)}),"instance")):void 0!==i&&(this.property=i),e&&(this.message=e),n){var o=n.$id||n.id;this.schema=o||n}void 0!==t&&(this.instance=t),this.name=r,this.argument=s,this.stack=this.toString()};r.prototype.toString=function(){return this.property+" "+this.message};var s=t.ValidatorResult=function(e,t,n,i){this.instance=e,this.schema=t,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}function a(e){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}s.prototype.addError=function(e){var t;if("string"==typeof e)t=new r(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new r(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new a(this);if(this.throwError)throw t;return t},s.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},s.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(s.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=a,a.prototype=new Error,a.prototype.constructor=a,a.prototype.name="Validation Error";var c=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};c.prototype=Object.create(Error.prototype,{constructor:{value:c,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var l=t.SchemaContext=function(e,t,n,i,r){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+d(t)}),"instance")):this.propertyPath=n,this.base=i,this.schemas=r};l.prototype.resolve=function(e){return i.resolve(this.base,e)},l.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),r=e.$id||e.id,s=i.resolve(this.base,r||""),o=new l(e,this.options,n,s,Object.create(this.schemas));return r&&!o.schemas[s]&&(o.schemas[s]=e),o};var u=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var d=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function h(e,t,n,i){"object"==typeof n?t[i]=g(e[i],n):-1===e.indexOf(n)&&t.push(n)}function f(e,t,n){t[n]=e[n]}function p(e,t,n,i){"object"==typeof t[i]&&t[i]&&e[i]?n[i]=g(e[i],t[i]):n[i]=t[i]}function g(e,t){var n=Array.isArray(t),i=n&&[]||{};return n?(e=e||[],i=i.concat(e),t.forEach(h.bind(null,e,i))):(e&&"object"==typeof e&&Object.keys(e).forEach(f.bind(null,e,i)),Object.keys(t).forEach(p.bind(null,e,t,i))),i}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&(t.length===n.length&&t.every((function(i,r){return e(t[r],n[r])})));if("object"==typeof t){if(!t||!n)return t===n;var i=Object.keys(t),r=Object.keys(n);return i.length===r.length&&i.every((function(i){return e(t[i],n[i])}))}return t===n},e.exports.deepMerge=g,t.objectGetPath=function(e,t){for(var n,i=t.split("/").slice(1);"string"==typeof(n=i.shift());){var r=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(r in e))return;e=e[r]}return e},t.encodePath=function(e){return e.map(m).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var i=n[0].split(".");return 2===i.length&&(t+=i[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return s}));var r=new Uint8Array(16);function s(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(e);else if(s===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,s,o,a,c,l,u,d,h="";n=t.pop();)if(i=n.obj,h+=n.prefix||"",r=n.val||"")h+=r;else if("object"!=typeof i)h+=void 0===i?null:JSON.stringify(i);else if(null===i)h+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),s=i.length-1;s>=0;s--)o=0===s?"":",",t.push({obj:i[s],prefix:o});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),s=a.length-1;s>=0;s--)u=i[l=a[s]],d=s>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,r,s,o,a,c,l,u,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,i(null,d,h);break;case"t":f+=3,i(!0,d,h);break;case"f":f+=4,i(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(r=e[f++],!/[\d\.\-e\+]/.test(r)){f--;break}n+=r}i(parseFloat(n),d,h);break;case'"':for(s="",o=void 0,a=0;'"'!==(c=e[f++])||"\\"===o&&a%2==1;)s+=c,"\\"===(o=c)?a++:a=0;i(JSON.parse('"'+s+'"'),d,h);break;case"[":l={element:[],index:d.length},d.push(l.element),h.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),h.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,h)}}},function(e,t,n){"use strict";var i=n(20),r=n(10);t.a=function(e,t,n){var s=(e=e||{}).random||(e.rng||i.a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=s[o];return t}return Object(r.a)(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(14),s=n(5),o=n(3);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,o.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,o.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,o.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:s,lrx:o,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,s+this.dy)||(0,r.isOutOfSVGBounds)(o+this.dx,a+this.dy)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(8),r=n(34),s=n(5),o=n(3),a=n(13),c=n(13);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(o.sharedLogicalParent(e,t))return!1;default:return!!o.areAdjacent(e,t)}}function d(e,t){switch(t||(t=Array.from(document.querySelectorAll(".selected"))),e){case"selBySyllable":for(const e of t)if(e.hasAttribute("mei:follows")||e.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNeume":for(const e of t)if(e.parentElement.hasAttribute("mei:follows")||e.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNc":for(const e of t)if(e.parentElement.parentElement.hasAttribute("mei:follows")||e.parentElement.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1}}function h(e){return 2===e.length&&(e[0].getAttribute("mei:follows")==="#"+e[1].id&&e[1].getAttribute("mei:precedes")==="#"+e[0].id||e[0].getAttribute("mei:precedes")==="#"+e[1].id&&e[1].getAttribute("mei:follows")==="#"+e[0].id)}function f(e,t){switch(t.length){case 2:if("selBySyllable"!==e)return!1;if(h([t[0],t[1]]))return!0;if(o.isMultiStaveSelection(t)){const e=t[0].closest(".staff"),n=t[1].closest(".staff"),i=Array.from(e.parentElement.children),r=i.indexOf(e)<i.indexOf(n)?e:n,s=r.id===e.id?n:e,o=r.querySelector(".layer"),a=s.querySelector(".layer"),c=Array.from(o.children).filter(e=>e.classList.contains("syllable")),l=Array.from(a.children).filter(e=>e.classList.contains("syllable")),u=c[c.length-1],d=l[0];if(u.id===t[0].id&&d.id===t[1].id)return!0;if(u.id===t[1].id&&d.id===t[0].id)return!0}default:return!1}return!1}function p(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(s.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):s.queueNotification("Merge Failed","error")})}function g(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",v)}function m(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",v);try{document.getElementById("mergeSyls").addEventListener("click",()=>{if(d(o.getSelectionType()))return;y("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{if(d(o.getSelectionType()))return;y("group","neume",w())})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{y("group","nc",w())})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{y("ungroup","neume",_())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{y("ungroup","nc",_())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:w()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Ligature Toggled","success"):s.queueNotification("Ligature Toggle Failed","error"),g(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{b()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.isLinked=h,t.isLinkable=f,t.mergeStaves=p,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],m()},t.endGroupingSelection=g,t.initGroupingListeners=m;const v=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=o.getSelectionType();if(d(t,e))return;switch(t){case"selBySyllable":if(f(t,e))b();else if(u(t,e)){y("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){y("ungroup","neume",_())}break;case"selByNeume":if(u(t,e)){y("group","neume",w())}else{y("ungroup","nc",_())}break;case"selByNc":if(u(t,e)){y("group","nc",w())}else{y("ungroup","nc",_())}break;case"selByStaff":u(t,e)?p():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function y(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?s.queueNotification("Grouping Success","success"):s.queueNotification("Ungrouping Success","success"):"group"===e?s.queueNotification("Grouping Failed","error"):s.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}g()})}function b(){const e=w(),t={action:"chain",param:[]},n=new Array;if(document.getElementById(e[0]).getAttribute("mei:precedes"))n.push({action:"set",param:{elementId:e[0],attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"follows",attrValue:""}}),n.push({action:"setText",param:{elementId:e[1],text:""}});else if(document.getElementById(e[0]).getAttribute("mei:follows"))n.push({action:"set",param:{elementId:e[0],attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"precedes",attrValue:""}}),n.push({action:"setText",param:{elementId:e[0],text:""}});else{const t=document.getElementById(e[0]),i=document.getElementById(e[1]),r=t.closest(".staff"),s=i.closest(".staff"),o=Array.from(r.parentElement.children).filter(e=>e.classList.contains("staff"));let a,c;o.indexOf(r)<o.indexOf(s)?(a=t,c=i):(a=i,c=t),n.push({action:"set",param:{elementId:a.id,attrType:"precedes",attrValue:"#"+c.id}}),n.push({action:"set",param:{elementId:c.id,attrType:"follows",attrValue:"#"+a.id}});const l=c.querySelector(".syl");null!==l&&n.push({action:"remove",param:{elementId:l.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Toggled Syllable Link"):s.queueNotification("Failed to Toggle Syllable Link"),g(),l.updateForCurrentPage()})}function w(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function _(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(8),r=n(4);function s(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:s}=(0,r.getSettings)();s&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),o()}function o(){const e=document.querySelector("#error_log"),t=document.querySelector("#display-single-container"),n=document.createElement("label"),i=document.createElement("input");i.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Errors",i.id="display-errors",i.type="checkbox",i.checked=!1,n.appendChild(i),t.append(n);const{displayErrLog:s}=(0,r.getSettings)();s&&(i.checked=!0),i.addEventListener("click",()=>{const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),s=document.getElementById("displayBBox"),o=document.getElementById("displayText"),a=document.getElementById("display-errors");i.checked?(e.classList.add("visible"),(0,r.setSettings)({displayErrLog:!0}),(null==n?void 0:n.checked)&&(null==s?void 0:s.checked)&&(null==o?void 0:o.checked)&&(null==a?void 0:a.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.classList.remove("visible"),(0,r.setSettings)({displayErrLog:!1}),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))})}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(function(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n    <div class="notification-wrapper">\n\n      <div>\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n    </div>\n\n    <div class="remove-notif-icon-wrapper">\n      <img class="log-remove remove-notif-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg">\n    </div>\n  `;const n=t.querySelector(".log-remove");return n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),t}(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,s()},t.initErrorLogControls=s,t.initDisplayListener=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(3),r=n(7),s=n(14),o=n(5),a=n(4),c={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function l(e,t,n,i,r){let s;if(r>=0)s=[{x:e,y:t,name:c.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:c.Top},{x:n,y:t+(n-e)*Math.sin(r),name:c.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:c.Right},{x:n,y:i,name:c.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:c.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:c.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:c.Left}];else{const o=(n-e)*Math.tan(Math.abs(r)),a=i-t-o;s=[{x:e,y:t+o,name:c.TopLeft},{x:(e+n)/2,y:t+o/2,name:c.Top},{x:n,y:t,name:c.TopRight},{x:n,y:t+a/2,name:c.Right},{x:n,y:t+a,name:c.BottomRight},{x:(e+n)/2,y:i-o/2,name:c.Bottom},{x:e,y:i,name:c.BottomLeft},{x:e,y:i-a/2,name:c.Left}]}return s}t.resize=function(e,t,n){let u,d,h,f,p,g,m,v,y,b,w,_,E,S,x;function L(){const e=l(u,d,h,f,p),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(u,h))),n.setAttribute("y",String(Math.min(d,f))),n.setAttribute("width",String(Math.abs(h-u))),n.setAttribute("height",String(Math.abs(f-d))));for(const t in c){const n=e[c[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,s=e[3].y;const o=i+100+","+(s+85)+" "+(i+70)+","+(s+50)+" "+(i+100)+","+(s+15)+" "+(i+130)+","+(s+50);i=e[7].x,s=e[7].y;const a=i-100+","+(s-15)+" "+(i-130)+","+(s-50)+" "+(i-100)+","+(s-85)+" "+(i-70)+","+(s-50);r.select("#rotateLeft").attr("points",a),r.select("#rotateRight").attr("points",o)}!function A(){if(null===e)return;if(r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");u=Number(t.getAttribute("x")),d=Number(t.getAttribute("y")),h=+u+ +t.getAttribute("width"),f=+d+ +t.getAttribute("height"),p=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);u=t.ulx,d=t.uly,h=t.lrx,f=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));p=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let k;g=u,y=d,m=h,b=f;const C=l(u,d,h,f,p);E=C[2].x-C[0].x;const I=C.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",I).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");const{circleSize:P}=(0,a.getSettings)();for(const t in c){const n=C[c[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",P).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in c)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{O(e)}).on("drag",B).on("end",T.bind(this)));if(e.classList.contains("staff")){let t=C[3].x,n=C[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=C[7].x,n=C[7].y;const s=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",s).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x-Math.atan(e/E);t>-.2&&t<.2&&(S=e,d=_+S,p=t,p>=0?(d=S+C.filter(e=>e.name===c.TopLeft)[0].y,f=C.filter(e=>e.name===c.BottomRight)[0].y):(d=C.filter(e=>e.name===c.TopRight)[0].y,f=S+C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M)),r.select("#rotateRight").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x+Math.atan(e/E);t>-.2&&t<.2&&(S=e,p=t,p>=0?(f=S+C.filter(e=>e.name===c.BottomRight)[0].y,d=C.filter(e=>e.name===c.TopLeft)[0].y):(d=S+C.filter(e=>e.name===c.TopRight)[0].y,f=C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M))}function O(e){k=e;const t=C.find(t=>t.name===c[e]);v=[t.x,t.y],y=d,b=f}function B(){const e=r.mouse(this);switch(c[k]){case c.TopLeft:u=e[0],d=e[1];break;case c.Top:d=e[1]-(h-u)*Math.tan(p)/2;break;case c.TopRight:h=e[0],d=e[1]-(h-u)*Math.tan(p);break;case c.Right:h=e[0],f=b+(e[0]-v[0])*Math.tan(p);break;case c.BottomRight:h=e[0],f=e[1];break;case c.Bottom:f=e[1]+(h-u)*Math.tan(p)/2;break;case c.BottomLeft:u=e[0],f=e[1]+(h-u)*Math.tan(p);break;case c.Left:u=e[0],d=y+(e[0]-v[0])*Math.tan(p);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}L()}function T(){if((0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return u=g,d=y,h=m,f=b,L(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const r={action:"resize",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{if(r&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),u=void 0,d=void 0,h=void 0,f=void 0,A(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function N(){const e=r.event.sourceEvent.target.id;w=r.mouse(this)[1],b=f,y=d,_="rotateRight"===e?f:d,x=p}function M(){if(void 0===S&&(S=0),(0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f,rotate:180*p/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,s=n(2),o=n.n(s),a=n(22),c=n(15),l=n.n(c),u=n(21),d=n.n(u),h=n(6),f=n.n(h),p=n(1),g=n.n(p),m=n(0),v=n.n(m);function y(e){return"$"+e}function b(e){return e.substring(1)}function w(){this._store={}}function _(e){if(this._store=new w,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}w.prototype.get=function(e){var t=y(e);return this._store[t]},w.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},w.prototype.has=function(e){return y(e)in this._store},w.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},w.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},w.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(w.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_.prototype.add=function(e){return this._store.set(e,!0)},_.prototype.has=function(e){return this._store.has(e)},_.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(_.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=_,r=w):(i=Set,r=Map);var S=Function.prototype.toString,x=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==x}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return f()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function k(e){return f()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var s;try{var o=A((function(e,t){e?r(e):i(t)}));t.push(o),(s=e.apply(n,t))&&"function"==typeof s.then&&i(s)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return k(f()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var s=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),s(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(s){s?r(s):t(i[e].apply(i,n))}))}))})))}function I(e,t){for(var n={},i=0,r=t.length;i<r;i++){var s=t[i];s in e&&(n[s]=e[s])}return n}var P;function O(e){return e}function B(e){return[{ok:e}]}function T(e,t,n){var i=t.docs,s=new r;i.forEach((function(e){s.has(e.id)?s.get(e.id).push(e):s.set(e.id,[e])}));var o=s.size,a=0,c=new Array(o);function l(){var e;++a===o&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];s.forEach((function(e,t){u.push(t)}));var d=0;function h(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var o=i+r,a=s.get(n),u=I(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(O);var d=O;0===u.open_revs.length&&(delete u.open_revs,d=B),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,s;i=e?[{error:e}]:d(t),r=n,s=i,c[o]={id:r,docs:s},l(),h()}))}))}(i,d),d+=i.length}}h()}try{localStorage.setItem("_pouch_check_localstorage",1),P=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){P=!1}function N(){return P}function M(){v.a.call(this),this._listeners={},function(e){N()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function q(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function D(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function F(e,t){q("info","The above "+e+" is totally normal. "+t)}g()(M,v.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,s=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(s)s="waiting";else{s=!0;var e=I(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===s&&o()(a),s=!1})).on("error",(function(){s=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){N()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var j="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}g()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var V=new R(400,"bad_request","Missing JSON list of 'docs'"),z=new R(404,"not_found","missing"),H=new R(409,"conflict","Document update conflict"),U=new R(400,"bad_request","_id field must contain a string"),$=new R(412,"missing_id","_id is required for puts"),Z=new R(400,"bad_request","Only reserved document ids may start with underscore."),G=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),W=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),Y=new R(500,"doc_validation","Bad special document member"),X=new R(400,"bad_request","Something wrong with the request"),J=new R(400,"bad_request","Document must be a JSON object"),Q=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=G).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(X,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0)}else delete i.doc;return!0}}function se(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function oe(e){var t;if(e?"string"!=typeof e?t=ne(U):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(Z)):t=ne($),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(q("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,he=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function fe(e){for(var t=he.exec(e),n={},i=14;i--;){var r=ue[i],s=t[i]||"",o=-1!==["user","password"].indexOf(r);n[r]=o?decodeURIComponent(s):s}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function pe(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function ge(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,s=n(i);return s?(s._id=t,s._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return ge(e,t._id,n)}))}(e,s,n)):{updated:!1,rev:r}}))}var me=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function we(e,t){return ye([be(e)],{type:t})}function _e(e,t){return we(me(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function xe(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function ke(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),s=Math.ceil(i/r),o=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?ke:Ae;function u(){Le(h)}function d(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function h(){var t=o*r,n=t+r;o++,c(a,e,t,n,o<s?u:d)}h()}function Ie(e){return l.a.hash(e)}function Pe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=j({},e);return delete n._rev_tree,Ie(JSON.stringify(n))}var Oe=a.a;function Be(e){for(var t,n,i,r,s=e.rev_tree.slice();r=s.pop();){var o=r.ids,a=o[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)s.push({pos:c+1,ids:a[l]});else{var d=!!o[1].deleted,h=o[0];t&&!(i!==d?i:n!==c?n<c:t<h)||(t=h,n=c,i=d)}}return n+"-"+t}function Te(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,s=n.ids,o=s[2],a=t(0===o.length,r,s[0],n.ctx,s[1]),c=0,l=o.length;c<l;c++)i.push({pos:r+1,ids:o[c],ctx:a})}function Ne(e,t){return e.pos-t.pos}function Me(e){var t=[];Te(e,(function(e,n,i,r,s){e&&t.push({rev:n+"-"+i,pos:n,opts:s})})),t.sort(Ne).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function qe(e){for(var t=Be(e),n=Me(e.rev_tree),i=[],r=0,s=n.length;r<s;r++){var o=n[r];o.rev===t||o.opts.deleted||i.push(o.rev)}return i}function De(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,s=t.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:o,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,h=c.length;d<h;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function Fe(e,t){return e.pos-t.pos}function je(e,t,n){var i=function(e,t,n){for(var i,r=0,s=e.length;r<s;)n(e[i=r+s>>>1],t)<0?r=i+1:s=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,s=e.length;r<s;r++){var o=e[r],a=[o.id,o.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ve(e,t){return e[0]<t[0]?-1:1}function ze(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),s=r.tree1,o=r.tree2;(s[1].status||o[1].status)&&(s[1].status="available"===s[1].status||"available"===o[1].status?"available":"missing");for(var a=0;a<o[2].length;a++)if(s[2][0]){for(var c=!1,l=0;l<s[2].length;l++)s[2][l][0]===o[2][a][0]&&(n.push({tree1:s[2][l],tree2:o[2][a]}),c=!0);c||(i="new_branch",je(s[2],o[2][a],Ve))}else i="new_leaf",s[2][0]=o[2][a]}return{conflicts:i,tree:e}}function He(e,t,n){var i,r=[],s=!1,o=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=ze(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),s=s||i.conflicts,o=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,h=d.pos-u.pos,f=[],p=[];for(p.push({ids:u.ids,diff:h,parent:null,parentIdx:null});p.length>0;){var g=p.pop();if(0!==g.diff)for(var m=g.ids[2],v=0,y=m.length;v<y;v++)p.push({ids:m[v],diff:g.diff-1,parent:g.ids,parentIdx:v});else g.ids[0]===d.ids[0]&&f.push(g)}var b=f[0];b?(i=ze(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),s=s||i.conflicts,o=!0):r.push(l)}else r.push(l)}return o||r.push(t),r.sort(Fe),{tree:r,conflicts:s||"internal_node"}}function Ue(e,t,n){var i=He(e,t),r=function(e,t){for(var n,i,r=De(e),s=0,o=r.length;s<o;s++){var a,c=r[s],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Re(l,u)};for(var d=0;d<u;d++){var h=c.pos+d+"-"+l[d].id;n[h]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?He(i,a,!0).tree:[a]}return n&&Te(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function $e(e){return e.ids}function Ze(e,t){t||(t=Be(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map($e);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ge(e){return/^_local/.test(e)}function We(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,o;t?(o="error",("listenerCount"in(r=i)?r.listenerCount(o):v.a.listenerCount(r,o))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",s)}));function s(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",s),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){q("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var o=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})})),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ze(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=qe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Ye(e,t){return e<t?-1:e>t?1:0}function Xe(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Je(e,t){var n=Ye(e._id,t._id);return 0!==n?n:Ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Qe(){for(var e in v.a.call(this),Qe.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,s=tt.prefix,o=t.adapter;if(!o)for(var a=0;a<r.length&&("idb"===(o=r[a])&&"websql"in i&&N()&&localStorage["_pouch__websqldb_"+s+e]);++a)q("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[o];return{name:!c||!("use_prefix"in c)||c.use_prefix?s+e:e,adapter:o}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Qe.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}g()(We,v.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&q("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=f()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},g()(Qe,v.a),Qe.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));this.bulkDocs({docs:[e]},t,Xe(n,e._id))})),Qe.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));if(oe(e._id),Ge(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,s,o,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Xe(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],s=parseInt(i[0],10)+1,o=Pe(),e._revisions={start:s,ids:[o,r]},e._rev=s+"-"+o,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Qe.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var s=this;function o(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},s.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||q("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==n)throw ne(H);return o(e)}),(function(t){if(t.reason===z.message)return o({_id:e});throw t}))})),Qe.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,s){if(e)i(e);else if(s._rev===n){if(!s._attachments)return i();delete s._attachments[t],0===Object.keys(s._attachments).length&&delete s._attachments,r.put(s,i)}else i(ne(H))}))})),Qe.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var s={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ge(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[s]},n,Xe(i,s._id))})),Qe.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,o=new r;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)o.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Te(n,(function(e,n,r,s,o){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==o.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++s===i.length){var l={};return o.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Qe.prototype.bulkGet=C("bulkGet",(function(e,t){T(this,e,t)})),Qe.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,s){if(r)return n(r);var o=function(e){var t={},n=[];return Te(e,(function(e,i,r,s){var o=i+"-"+r;return e&&(t[o]=0),void 0!==s&&n.push({from:s,to:o}),o})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(s),a=[],c=[];Object.keys(o).forEach((function(e){o[e]>t&&a.push(e)})),Te(s,(function(e,t,n,i,r){var s=t+"-"+n;"available"===r.status&&-1!==a.indexOf(s)&&c.push(s)})),i._doCompaction(e,c,n)}))})),Qe.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),o()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Qe.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return ge(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Qe.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(U));if(Ge(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function s(){var s=[],o=i.length;if(!o)return n(null,s);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)s.push({missing:i});else{for(var r,a=0,c=s.length;a<c;a++)if(s[a].ok&&s[a].ok._rev===t._rev){r=!0;break}r||s.push({ok:t})}--o||n(null,s)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,s){if(i)return i.docId=e,n(i);var o=s.doc,a=s.metadata,c=s.ctx;if(t.conflicts){var l=qe(a);l.length&&(o._conflicts=l)}if(Ze(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var u=o._rev.split("-"),d=parseInt(u[0],10),h=u[1],f=De(a.rev_tree),p=null,g=0;g<f.length;g++){var m=f[g],v=m.ids.map((function(e){return e.id})).indexOf(h);(v===d-1||!p&&-1!==v)&&(p=m)}if(!p)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=p.ids.map((function(e){return e.id})).indexOf(o._rev.split("-")[1])+1,b=p.ids.length-y;if(p.ids.splice(y,b),p.ids.reverse(),t.revs&&(o._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var w=p.pos+p.ids.length;o._revs_info=p.ids.map((function(e){return{rev:--w+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&o._attachments){var _=o._attachments,E=Object.keys(_).length;if(0===E)return n(null,o);Object.keys(_).forEach((function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:c},(function(t,i){var r=o._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,o)}))}),r)}else{if(o._attachments)for(var S in o._attachments)Object.prototype.hasOwnProperty.call(o._attachments,S)&&(o._attachments[S].stub=!0);n(null,o)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),s()}));else{if(!Array.isArray(t.open_revs))return n(ne(G,"function_clause"));i=t.open_revs;for(var o=0;o<i.length;o++){var a=i[o];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}s()}})),Qe.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(s,o){return s?i(s):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,void r._getAttachment(e,t,o.doc._attachments[t],n,i)):i(ne(z))}))})),Qe.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Qe.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Qe.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Qe.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Qe.prototype.id=C("id",(function(e){return this._id(e)})),Qe.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Qe.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(V));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(J));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||q("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(X,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||ae(s)||e.docs.sort(Je),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var s=i[r];n._attachments[s]=I(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var o=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(s))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||o[r];n(null,i)}))})),Qe.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);ge(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Qe.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,s){if(e)return 404!==e.status?t(e):r();var o=s.dependentDbs,a=n.constructor,c=Object.keys(o).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},g()(tt,Qe);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var st=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=st[t].bind(st))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=j({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=j({},t.__defaults,n),tt.call(this,e,n)}return g()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=j({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function ot(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var s=e[i];i>0&&"\\"===e[i-1]&&("$"===s||"."===s)?n=n.substring(0,n.length-1)+s:"."===s?(t.push(n),n=""):n+=s}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var s=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),o=dt([e,n]);Object.keys(o).length<=i||s.push(o)}))})),t[i]=s}else t[i]=dt([r]);else{var o=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,o):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,o):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,o):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,o):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,o):void(o[e]=t)}))}}))})),t}function ht(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var s=i[r],o=t[s];"object"!=typeof o||null===o?o={$eq:o}:n||("$ne"in o&&(o.$ne=[o.$ne]),"$regex"in o&&(o.$regex=[o.$regex])),t[s]=o}return t}function ft(e,t){if(e===t)return 0;e=pt(e),t=pt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ft(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),s=0;s<r;s++){var o=ft(n[s],i[s]);if(0!==o)return o;if(0!==(o=ft(e[n[s]],t[i[s]])))return o}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function pt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=pt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t[r];void 0!==s&&(e[r]=pt(s))}}}return e}function gt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",s=(o=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(o,a,c)+o);var o,a,c;r+=""+s;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,s="";if(t)for(;++i<r;)s+=mt(n[i]);else for(;++i<r;){var o=n[i];s+=mt(o)+mt(e[o])}return s}return""}function mt(e){return bt(e=pt(e))+""+gt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var s="",o=e.substring(t,t+3),a=parseInt(o,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;s+=c,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(n);else if(s===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function wt(e,t,n){if(e=e.filter((function(e){return _t(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return ot(t,n)}))}return function(e,n){var i,r,s=ft(t(e.doc),t(n.doc));return 0!==s?s:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var s=t.skip||0,o=("limit"in t?t.limit:e.length)+s;e=e.slice(s,o)}return e}function _t(e,t,n){return n.every((function(n){var i=t[n],r=at(n),s=ot(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return _t(n,e,Object.keys(e))}));if("$not"===e)return!_t(n,t,Object.keys(t));return!t.find((function(e){return _t(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,s)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var s=e[r];if(0===r.indexOf("$"))return St(r,t,s,n,i);var o=at(r);if(void 0===i&&"object"!=typeof s&&o.length>0)return!1;var a=ot(i,o);return"object"==typeof s?Et(s,t,n,a):St("$eq",t,s,o,a)})):e===i)}function St(e,t,n,i,r){if(!kt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return kt[e](t,n,i,r)}function xt(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ft(t,e)})):0===ft(t,e)}))}var kt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return _t(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return _t(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ft(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ft(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ft(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ft(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ft(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return xt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ft(i,e)}))},$in:function(e,t,n,i){return xt(i)&&At(i,t)},$nin:function(e,t,n,i){return xt(i)&&!At(i,t)},$size:function(e,t,n,i){return xt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ft(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return xt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function It(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function Pt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function Ot(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(X,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=s&&s.views&&s.views[r[1]]&&s.views[r[1]].map;if(!o)return n(ne(z,s.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=pe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+o+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=wt([{doc:e}],{selector:t=ht(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var s=ce(t.filter);e.db.get("_design/"+s[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=r&&r.filters&&r.filters[s[1]];if(!o)return n(ne(z,r&&r.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=pe('"use strict";\nreturn '+o+";",{}),e.doChanges(t)}))}}function Bt(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:It,shouldFilter:Pt,filter:Ot}})),tt.version="7.3.0";var Tt=Bt(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Nt=Bt(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function qt(e,t,n){var i,r,s;n||(n={deterministic_revs:!0});var o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=Oe()),r=Pe(e,n.deterministic_revs),e._rev){if((s=Mt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,o,[]]]]}],i=s.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],s=1,o=i.length;s<o;s++)r=[i[s],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,o),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((s=Mt(e._rev)).error)return s;i=s.prefix,r=s.id,e._rev_tree=[{pos:i,ids:[r,o,[]]}]}oe(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Tt[c]){var u=ne(Y,c);throw u.message=Y.message+": "+c,u}l&&!Nt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Dt(e,t,n){var i=function(e){try{return me(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?we(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Ft(e,t,n){if(e.stub)return n();"string"==typeof e.data?Dt(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?xe(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function jt(e,t,n,i,r,s,o,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),s=parseInt(r[0],10),o=r[1];n=i.pop();){if(n.pos===s&&n.ids[0]===o)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,s();var c=t.winningRev||Be(t),l="deleted"in t?t.deleted:Ze(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ze(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var h=n.data;h._rev=c,h._id=n.metadata.id,n=qt(h,a)}var f=Ue(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==f.conflicts||!l&&"new_leaf"!==f.conflicts||l&&!u&&"new_branch"===f.conflicts)){var p=ne(H);return i[r]=p,s()}var g=n.metadata.rev;n.metadata.rev_tree=f.tree,n.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m=Be(n.metadata),v=Ze(n.metadata,m),y=l===v?0:l<v?-1:1;o(n,m,v,g===m?v:Ze(n.metadata,g),!0,y,r,s)}function Rt(e,t,n,i,s,o,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,h=0,f=t.length;function p(){++h===f&&l&&l()}t.forEach((function(e,t){if(e._id&&Ge(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:s},(function(e,n){o[t]=e||n,p()}))}else{var r=e.metadata.id;d.has(r)?(f--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function s(){++r<t.length?l():p()}function l(){var l=t[r],d=l[0],h=l[1];if(i.has(n))jt(e,i.get(n),d,o,h,s,a,u);else{var f=Ue([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,n){var i=Be(e.metadata),r=Ze(e.metadata,i);if("was_delete"in c&&r)return o[t]=ne(z,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var s=ne(H);return o[t]=s,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,h,s)}}l()}))}var Vt="document-store",zt="meta-store";function Ht(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ut(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Q,n,t.type))}}function $t(e,t,n){return{data:Ht(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Zt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Gt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:_e(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(ve(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var s=0;function o(){++s===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,o()}}(e,i):(e._attachments[i].stub=!0,o())}))}function Yt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,s=i.content_type;return new Promise((function(o){Wt(r,s,t,(function(t){e.doc._attachments[n]=j(I(i,["digest","content_type"]),{data:t}),o()}))}))}})))}})))}function Xt(e,t,n){var i=[],r=n.objectStore("by-sequence"),s=n.objectStore("attach-store"),o=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){o.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),s=t+"::"+e;n.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),o.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),o.delete(t.primaryKey),t.continue()}else c()}}}))}function Jt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Qt=new M;function en(e,t,n,i,s,o){for(var a,c,l,u,d,h,f,p,g=t.docs,m=0,v=g.length;m<v;m++){var y=g[m];y._id&&Ge(y._id)||(y=g[m]=qt(y,n.new_edits,e)).error&&!f&&(f=y)}if(f)return o(f);var b=!1,w=0,_=new Array(g.length),E=new r,S=!1,x=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){p&&b&&(p.docCount+=w,h.put(p))}function k(){S||(Qt.notify(i._meta.name),o(null,_))}function C(e,t,n,i,r,s,o,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,s){var o=e.data,a=0,c=Object.keys(o._attachments);function l(){a===c.length&&I(e,t,n,i,r,s)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,o,a);w+=s,A(),I(e,t,n,r,o,a)}function I(e,t,n,r,s,o){var u=e.data,h=e.metadata;function f(s){var o=e.stemmedRevs||[];r&&i.auto_compaction&&(o=o.concat(function(e){var t=[];return Te(e.rev_tree,(function(e,n,i,r,s){"available"!==s.status||e||(t.push(n+"-"+i),s.status="missing")})),t}(e.metadata))),o&&o.length&&Xt(o,e.metadata.id,a),h.seq=s.target.result;var l=$t(h,t,n);c.put(l).onsuccess=p}function p(){_[s]={ok:!0,id:h.id,rev:h.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function s(){++i===r.length&&n()}function o(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=s,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var a=0;a<r.length;a++)o(r[a])}(e,h.seq,o)}u._doc_id_rev=h.id+"::"+h.rev,delete u._id,delete u._rev;var g=l.put(u);g.onsuccess=f,g.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=f}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function s(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return s();function o(e){i=e,++r===n.length&&s()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Ft(e.data._attachments[a],t,o)}))}(g,x,(function(t){if(t)return o(t);!function(){var t=Jt(s,[Vt,"by-sequence","attach-store","local-store","attach-seq-store",zt],"readwrite");if(t.error)return o(t.error);(a=t.txn).onabort=Ut(o),a.ontimeout=Ut(o),a.oncomplete=k,c=a.objectStore(Vt),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(h=a.objectStore(zt)).get(zt).onsuccess=function(e){p=e.target.result,A()},function(e){var t=[];if(g.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,o(t);!function(){if(!g.length)return;var t=0;function r(){++t===g.length&&Rt(e.revs_limit,g,i,E,a,_,C,n,L)}function s(e){var t=Zt(e.target.result);t&&E.set(t.id,t),r()}for(var o=0,l=g.length;o<l;o++){var u=g[o];if(u._id&&Ge(u._id))r();else c.get(u.metadata.id).onsuccess=s}}()}))}()}))}function tn(e,t,n,i,r){var s,o,a;function c(e){o=e.target.result,s&&r(s,o,a)}function l(e){s=e.target.result,o&&r(s,o,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!s.length)return r();var n,a=s[s.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,s=null,o=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,s="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(s,o,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Q,r.name,r.message));var h=[Vt,"by-sequence",zt];e.attachments&&h.push("attach-store");var f=Jt(t,h,"readonly");if(f.error)return n(f.error);var p=f.txn;p.oncomplete=function(){e.attachments?Yt(E,e.binary).then(A):A()},p.onabort=Ut(n);var g,m,v,y=p.objectStore(Vt),b=p.objectStore("by-sequence"),w=p.objectStore(zt),_=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;_.get(r).onsuccess=function(i){if(n.doc=Gt(i.target.result)||{},e.conflicts){var r=qe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,p)}}(n,i,t))}function x(e){for(var t=0,n=e.length;t<n&&E.length!==u;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Zt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(x(t),E.length<u&&n.continue())}function A(){var t={total_rows:g,offset:e.skip,rows:E};e.update_seq&&void 0!==m&&(t.update_seq=m),n(null,t)}return w.get(zt).onsuccess=function(e){g=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(m=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(s,o){t.get(s).onsuccess=function(t){t.target.result?i[o]=t.target.result:i[o]={key:s,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),x(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,sn=[];function on(){!rn&&sn.length&&(rn=!0,sn.shift()())}function an(e,t,n,s){if((e=L(e)).continuous){var o=n+":"+Oe();return Qt.addListener(n,o,t,e),Qt.notify(n),{cancel:function(){Qt.removeListener(n,o)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,h,f,p=[],g=0,m=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;f.get(r).onsuccess=function(e){i(n,Gt(e.target.result))}}function b(){e.complete(null,{results:p,last_seq:c})}var w=[Vt,"by-sequence"];e.attachments&&w.push("attach-store");var _=Jt(s,w,"readonly");if(_.error)return e.complete(_.error);(u=_.txn).onabort=Ut(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Yt(p).then(b):b()},d=u.objectStore("by-sequence"),h=u.objectStore(Vt),f=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),s=new Array(t.length),o=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);h.get(e._id).onsuccess=function(r){i=Zt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(Gt(n),t[c],(function(n,a){s[c]=n,r[c]=a,++o===t.length&&function(){for(var t=[],n=0,o=r.length;n<o&&g!==l;n++){var a=r[n];if(a){var c=s[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),g!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=m(i);return"object"==typeof r?Promise.reject(r):r?(g++,e.return_docs&&p.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,u,(function(){Yt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){sn.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,o()((function(){on()}))}))})),on()}((function(t){!function(e,t,n){var i=t.name,r=null,s=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,n)}}function c(e,t){var n=e.objectStore(Vt);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,s=Ze(r);r.deletedOrLocal=s?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Vt),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var o=s.value,a=o.id,c=Ge(a),l=Be(o);if(c){var u=a+"::"+l,d=a+"::",h=a+"::~",f=r.index("_doc_id_rev"),p=IDBKeyRange.bound(d,h,!1,!1),g=f.openCursor(p);g.onsuccess=function(e){if(g=e.target.result){var t=g.value;t._doc_id_rev===u&&n.put(t),r.delete(g.primaryKey),g.continue()}else i.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,s=n.primaryKey,o=Object.keys(i._attachments||{}),a={},c=0;c<o.length;c++){a[i._attachments[o[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:s,digestSeq:u+"::"+s})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Vt);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,s=(r=i.value).data?Zt(r):(r.deleted="1"===r.deletedOrLocal,r);if(s.winningRev=s.winningRev||Be(s),s.seq)return o();!function(){var e=s.id+"::",n=s.id+"::￿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=r,o();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function o(){var e=$t(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=k((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,s){en(t,n,i,e,r,a(s))},e._get=function(e,t,n){var i,s,o,a=t.ctx;if(!a){var c=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(o,{doc:i,metadata:s,ctx:a})}a.objectStore(Vt).get(e).onsuccess=function(e){if(!(s=Zt(e.target.result)))return o=ne(z,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,s=n.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:o,pos:r,opts:a}),l)for(var d=0,h=u.length;d<h;d++){var f=u[d];if(f.pos+"-"+f.id===e)return r+"-"+o}for(var p=0,g=c.length;p<g;p++)i.push({pos:r+1,ids:c[p],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(n=s.winningRev,Ze(s))return o=ne(z,"deleted"),l();var r=a.objectStore("by-sequence"),c=s.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Gt(i)),!i)return o=ne(z,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,s){var o;if(i.ctx)o=i.ctx;else{var a=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(a.error)return s(a.error);o=a.txn}var c=n.digest,l=n.content_type;o.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){s(null,e)}))}},e._info=function(t){var n,i,s=Jt(r,[zt,"by-sequence"],"readonly");if(s.error)return t(s.error);var o=s.txn;o.objectStore(zt).get(zt).onsuccess=function(e){i=e.target.result.docCount},o.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Jt(r,[Vt],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Vt).get(e).onsuccess=function(e){var n=Zt(e.target.result);n?t(null,n.rev_tree):t(ne(z))}},e._doCompaction=function(e,t,n){var i=Jt(r,[Vt,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var s=i.txn;s.objectStore(Vt).get(e).onsuccess=function(n){var i=Zt(n.target.result);Te(i.rev_tree,(function(e,n,i,r,s){var o=n+"-"+i;-1!==t.indexOf(o)&&(s.status="missing")})),Xt(t,e,s);var r=i.winningRev,o=i.deleted;s.objectStore(Vt).put($t(i,r,o))},s.onabort=Ut(n),s.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Jt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ut(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(z))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,s=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var o,a=t.ctx;if(!a){var c=Jt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ut(n),a.oncomplete=function(){o&&n(null,o)}}var l,u=a.objectStore("local-store");i?(l=u.get(s)).onsuccess=function(r){var s=r.target.result;s&&s._rev===i?u.put(e).onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}:n(ne(H))}:((l=u.add(e)).onerror=function(e){n(ne(H)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,s=t.ctx;if(!s){var o=Jt(r,["local-store"],"readwrite");if(o.error)return n(o.error);(s=o.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=s.objectStore("local-store"),l=c.get(a);l.onerror=Ut(n),l.onsuccess=function(r){var s=r.target.result;s&&s._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(z))}},e._destroy=function(e,t){Qt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),N()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ut(t)};var h=ln.get(i);if(h)return r=h.idb,e._meta=h.global,o()((function(){n(null,e)}));var f=indexedDB.open(i,5);un.set(i,f),f.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Vt,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(zt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},f.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){q("error","Database has a global failure",e.target.error),s=e.target.error,r.close(),ln.delete(i)};var o,a,c,l,u=r.transaction([zt,"detect-blob-support",Vt],"readwrite"),d=!1;function h(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function f(){if(void 0!==a&&void 0!==o){var e=i+"_id";e in o?l=o[e]:o[e]=l=Oe(),o.docCount=a,u.objectStore(zt).put(o)}}u.objectStore(zt).get(zt).onsuccess=function(e){o=e.target.result||{id:zt},f()},function(e,t){e.objectStore(Vt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,f()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,h()})),u.oncomplete=function(){d=!0,h()},u.onabort=Ut(n)},f.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",q("error",t),n(ne(Q,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var hn={};function fn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=_e(t.data,t.content_type)}))}function pn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function gn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){xe(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function mn(e,t){if(function(e){if(!e.prefix)return!1;var t=fe(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=fe(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function wn(t,n){var i=this,r=mn(t.name,t),s=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,s=i.username+":"+i.password,o=ve(unescape(encodeURIComponent(s)));n.headers.set("Authorization","Basic "+o)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(n||i||r)&&s}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,f()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(s).catch((function(e){return e&&e.status&&404===e.status?(F(404,"PouchDB is just detecting if the remote exists."),u(s,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function h(e){return e.split("/").map(encodeURIComponent).join("/")}o()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(fn)})),t(null,n.data)})).catch(t)}function s(){var i=Math.ceil(e.docs.length/50),r=0,s=new Array(i);function o(e){return function(n,o){s[e]=o.results,++r===i&&t(null,{results:se(s)})}}for(var a=0;a<i;a++){var c=I(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),T(n,c,o(a))}}var o=yn(r,""),a=hn[o];"boolean"!=typeof a?i((function(e,n){e?(hn[o]=!1,F(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(hn[o]=!0,t(null,n))})):a?i(t):s()})),i._info=function(e){d().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function s(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,s=0,o=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():h()}function u(){s--,l()}function d(e){s--,r=r||e,l()}function h(){for(;s<t&&o<c;)s++,e[o++]().then(u,d)}h()}))}(i.map((function(i){return function(){return function(i){var s=n[i],o=pn(e._id)+"/"+h(i)+"?rev="+e._rev;return c(vn(r,o)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=s.content_type),e}return new Promise((function(t){xe(e,t)}))})).then((function(e){delete s.stub,delete s.length,s.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=pn(e),u(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return s(e.ok)}))):s(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(s=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var o=s._rev||n.rev;u(vn(r,pn(s._id))+"?rev="+o,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,s){"function"==typeof i&&(s=i,i={});var o,a=i.rev?"?rev="+i.rev:"",l=vn(r,pn(t))+"/"+h(n)+a;c(l,{method:"GET"}).then((function(t){if(o=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=o),s(null,t)})).catch((function(e){s(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(vn(r,pn(e)+"/"+h(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,s,o){"function"==typeof s&&(o=s,s=i,i=n,n=null);var a=pn(e)+"/"+h(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=me(i)}catch(e){return o(ne(W,"Attachment is not a valid base64 string"))}i=l?we(l,s):""}u(c,{headers:new rt({"Content-Type":s}),method:"PUT",body:i},o).catch(o)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(gn))})).then((function(){return u(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return gn(e)})).then((function(){return u(vn(r,pn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},s="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var o=bn(i);void 0!==e.keys&&(s="POST",n={keys:e.keys}),u(vn(r,"_all_docs"+o),{method:s,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(fn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var s=void 0!==e.limit&&e.limit,a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,h="GET";e.doc_ids?(i.filter="_doc_ids",h="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",h="POST",l={selector:e.selector});var f,p=new nt,g=function(n,o){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;var c=vn(r,"_changes"+bn(i)),g={signal:p.signal,method:h,body:JSON.stringify(l)};f=n,e.aborted||d().then((function(){return u(c,g,o)})).catch(o)}},m={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,m.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof m.last_seq&&"number"!=typeof m.last_seq||(l=m.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&fn(t),e.return_docs&&m.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(f=i.last_seq);var u=s&&a<=0||i&&r<t||e.descending;(!e.continuous||s&&a<=0)&&u?e.complete(null,m):o()((function(){g(f,v)}))}};return g(e.since||0,v),{cancel:function(){e.aborted=!0,p.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function _n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function xn(e,t){return t&&e.then((function(e){o()((function(){t(null,e)}))}),(function(e){o()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function kn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function In(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var s=0,o=r.length;s<o;s++){var a=r[s];if("number"!=typeof a)throw Cn("_sum");void 0===t[s]?t.push(a):t[s]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}wn.valid=function(){return!0},g()(_n,Error),g()(En,Error),g()(Sn,Error);var Pn=q.bind(null,"log"),On=Array.isArray,Bn=JSON.parse;function Tn(e,t){return pe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:In,log:Pn,isArray:On,toJSON:Bn})}function Nn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function qn(e,t,n,i,r,s){var o,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(o=e._cachedViews=e._cachedViews||{})[a])return o[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Ie(a));return ge(e,"_local/"+s,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var s={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return s.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return s.seq=e?e.seq:0,o&&s.db.once("destroyed",(function(){delete o[a]})),s}))}))}))}));return o&&(o[a]=c),c}Nn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Nn.prototype.finish=function(){return this.promise};var Dn={},Fn=new Nn;function jn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){q("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),q("error",t)}}var Vn=function(e,t){return In(t)},zn=function(e,t){return t.length},Hn=function(e,t){return{sum:In(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Un=function(e,t,n,s){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=ft(e.key,t.key);return 0!==n?n:ft(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function h(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=_e(n.data,n.content_type)}))}))}(t),t}}function p(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function g(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function m(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ft(e[n],e[i])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new _n('Invalid value for integer: "'+e+'"');if(e<0)return new _n('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,s={_id:r,keys:[]},o=n.get(e),a=o[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o[1])?Promise.resolve(s):t.db.get(r).catch(v(s))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,s=0,o=t.rows.length;s<o;s++){var c=t.rows[s].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=kn(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Dn[t];return n||(n=Dn[t]=new Nn),n}function w(e,n){return Ln(b(e),(function(){return function(e,n){var i,s;var o=t(e.mapFun,(function(e,t){var n={id:s._id,key:pt(e)};null!=t&&(n.value=pt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=kn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=se(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,h={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",h);var f=new Nn;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(g)}function g(t){var h=t.results;if(!h.length)return;var g=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var h=t[u];if("_"!==h.doc._id[0]){i=[],(s=h.doc)._deleted||a(e.sourceDB,o,s),i.sort(l);var f=m(i);n.set(h.doc._id,[f,h.changes])}c=h.seq}return n}(h);f.add(u(g,c)),d+=h.length;let v={view:e.name,last_seq:t.last_seq,results_count:h.length,indexed_docs:d};return e.sourceDB.emit("indexing",v),h.length<n.changes_batch_size?void 0:p()}function m(e){for(var t,n=new r,i=0,s=e.length;i<s;i++){var o=e[i],a=[o.key,o.id];i>0&&0===ft(o.key,t)&&a.push(i),n.set(mt(a),o),t=o.key}return n}return p().then((function(){return f.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function _(e,t){return Ln(b(e),(function(){return function(e,t){var i,s=e.reduceFun&&!1!==t.reduce,o=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var s=vt(e,i);t.push(s.num),i+=s.length;break;case"4":for(var o="";;){var a=e[i];if("\0"===a)break;o+=a,i++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(o);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=s?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,s=n(e.reduceFun),o=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=o[o.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ft(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=o.length;l<d;l++){var h=o[l],f=c(e.sourceDB,s,h.keys,h.values,!1);if(f.error&&f.error instanceof Sn)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:o,rows:a}:{total_rows:i,offset:o,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var h=An(a.map(d));return e.sourceDB.allDocs({keys:h,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var h=t.keys.map((function(e){var n={startkey:mt([e]),endkey:mt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(h).then(se).then(l)}var f,p,g={descending:t.descending};if(t.update_seq&&(g.update_seq=!0),"start_key"in t&&(f=t.start_key),"startkey"in t&&(f=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==f&&(g.startkey=t.descending?mt([f,{}]):mt([f])),void 0!==p){var m=!1!==t.inclusive_end;t.descending&&(m=!m),g.endkey=mt(m?[p,{}]:[p])}if(void 0!==t.key){var v=mt([t.key]),y=mt([t.key,{}]);g.descending?(g.endkey=v,g.startkey=y):(g.startkey=v,g.endkey=y)}return s||("number"==typeof t.limit&&(g.limit=t.limit),g.skip=o),a(g).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,s,o=[],a="GET";if(p("reduce",n,o),p("include_docs",n,o),p("attachments",n,o),p("limit",n,o),p("descending",n,o),p("group",n,o),p("group_level",n,o),p("skip",n,o),p("stale",n,o),p("conflicts",n,o),p("startkey",n,o,!0),p("start_key",n,o,!0),p("endkey",n,o,!0),p("end_key",n,o,!0),p("inclusive_end",n,o),p("key",n,o,!0),p("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=jn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+o,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(h(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+o,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e})).then(h(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return m(i,n),Fn.add((function(){return qn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=w(e,r).then((function(){return _(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Fn.finish();var a=n,c=jn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new En("ddoc "+n._id+" has no view named "+u);return s(n,u),m(i,c),qn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&o()((function(){w(e,r)})),_(e,i)):w(e,r).then((function(){return _(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=g(e.group_level),e.limit=g(e.limit),e.skip=g(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return xn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=jn(e),r="_design/"+t[0],s=t[1],o=n.get(r);o||(o=new i,n.set(r,o)),o.add(s)}));var s={keys:kn(n),include_docs:!0};return t.allDocs(s).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var s=i+"/"+n;e.views[s]||(s=n);var o=Object.keys(e.views[s]),a=t.doc&&t.doc.views&&t.doc.views[n];o.forEach((function(e){r[e]=r[e]||a}))}))}));var s=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(s).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},f()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&xn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Tn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Vn;if(/^_count/.test(e))return zn;if(/^_stats/.test(e))return Hn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Tn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var $n={query:function(e,t,n){return Un.query.call(this,e,t,n)},viewCleanup:function(e){return Un.viewCleanup.call(this,e)}};function Zn(e){return/^1-/.test(e)}function Gn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],s=!0;function o(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Zn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Zn(t[0])}));if(e.length>0)return o(e)})).then((function(){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(o.docs.length)return e.bulkGet(o).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(s=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Gn(t,n)})):Gn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(se(e).filter(Boolean))}))}))})).then((function(){return{ok:s,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||F(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(s){if(!r.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter((function(e){return e.session_id!==i})),s.history.unshift({last_seq:n,session_id:i}),s.history=s.history.slice(0,5),s.version=1,s.replicator="pouchdb",s.session_id=i,s.last_seq=n,e.put(s).catch((function(s){if(409===s.status)return Kn(e,t,n,i,r);throw s}))}))}function Yn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Yn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Yn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Yn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Qn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Xn={undefined:function(e,t){return 0===ft(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),s=n[0],o=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Jn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Jn(s.session_id,r))return{last_seq:s.last_seq,history:o};return e(r,o)}(e.history,t.history)}(t,e).last_seq}};function Jn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Jn(e,i))}function Qn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Yn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Xn?Xn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Qn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ft):"",r=n.filter?n.filter.toString():"",s="",o="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(ft).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(o=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+o+s+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var s,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,h=!1,f=!1,p=0,g=n.continuous||n.live||!1,m=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,w=n.doc_ids,_=n.selector,E=[],S=Oe();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var s={};s=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Yn(e,t,a,i,s)}))}function k(){if(E=[],0!==s.docs.length){var e=s.docs,o={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then((function(t){if(i.cancelled)throw T(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var s=Object.keys(n).length;r.doc_write_failures+=s,r.docs_written+=e.length-s,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(s.error)throw new Error("There was a problem getting docs.");r.last_seq=p=s.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(s.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:s.seq}),d=!1,i.cancelled)throw T(),new Error("cancelled");s=void 0,F()})).catch((function(e){throw R(e),e}))}function I(){return Wn(e,t,s.diffs,i).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],r.docs_read++,s.docs.push(e)}))}))}function P(){var e;i.cancelled||s||(0!==l.length?(s=l.shift(),i.emit("checkpoint",{start_next_batch:s.seq}),(e={},s.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw T(),new Error("cancelled");s.diffs=e}))).then(I).then(k).then(C).then(P).catch((function(e){B("batch processing terminated with error",e)}))):O(!0))}function O(e){0!==u.changes.length?(e||h||u.changes.length>=m)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),P()):0!==l.length||s||((g&&x.live||h)&&(i.state="pending",i.emit("paused")),h&&T())}function B(e,t){f||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},T(t))}function T(s){if(!(f||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=p,f=!0,s){(s=ne(s)).result=r;var o=(s.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(i.emit("error",s),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=D),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,s,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function N(e,t,r){if(i.cancelled)return T();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),o()((function(){O(0===l.length&&x.live)})))}function M(e){if(b=!1,i.cancelled)return T();if(e.results.length>0)x.since=e.results[e.results.length-1].seq,F(),O(!0);else{var t=function(){g?(x.live=!0,F()):h=!0,O(!0)};s||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,S).then((function(){d=!1,r.last_seq=p=e.last_seq,t()})).catch(R))}}function q(e){if(b=!1,i.cancelled)return T();B("changes rejected",e)}function F(){if(!b&&!h&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(x).on("change",N);t.then(s,s),t.then(M).catch(q),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function s(){i.removeListener("cancel",r)}}function j(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){x={since:p=e,limit:m,batch_size:m,style:y,doc_ids:w,selector:_,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),F()}));T()})).catch((function(e){B("getCheckpoint rejected with ",e)}))}function R(e){d=!1,B("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?T():(i._addedListeners||(i.once("cancel",T),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?j():A().then((function(){return d=!0,c.writeCheckpoint(n.since,S)})).then((function(){d=!1,i.cancelled?T():(p=n.since,j())})).catch(R))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(X,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function si(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new oi(e=ii(e,n),t=ii(t,n),n,i)}function oi(e,t,n,i){var r=this;this.canceled=!1;var s=n.push?j({},n,n.push):n,o=n.pull?j({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function h(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function f(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,s),this.pull=ri(t,e,o),this.pushPaused=!0,this.pullPaused=!0;var g={};function m(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===p||n===f))&&(t in g||(g[t]={}),g[t][e]=!0,2===Object.keys(g[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",u),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",p),v(r.push,"active",f)):"paused"===e&&(v(r.pull,"paused",h),v(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",p),r.push.removeListener("active",f)):"paused"===e&&(r.pull.removeListener("paused",h),r.push.removeListener("paused",d))})),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}g()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},g()(oi,v.a),oi.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",wn,!1),e.adapter("https",wn,!1)})).plugin($n).plugin((function(e){e.replicate=ri,e.sync=si,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(29))},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(e,t,n){(function(e,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",E="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",L="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",O="[object Uint16Array]",B="[object Uint32Array]",T=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,F=RegExp(q.source),j=RegExp(D.source),R=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,G=RegExp(Z.source),W=/^\s+/,K=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",ge="["+fe+"]",me="["+he+"]",ve="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+fe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ae="(?:"+be+"|"+we+")",ke="(?:"+Le+"|"+we+")",Ce="(?:"+me+"|"+_e+")"+"?",Ie="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+[Ee,Se,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Pe="(?:"+[ye,Se,xe].join("|")+")"+Ie,Oe="(?:"+[Ee+me+"?",me,Se,xe,pe].join("|")+")",Be=RegExp("['’]","g"),Te=RegExp(me,"g"),Ne=RegExp(_e+"(?="+_e+")|"+Oe+Ie,"g"),Me=RegExp([Le+"?"+be+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ge,Le,"$"].join("|")+")",ke+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ge,Le+Ae,"$"].join("|")+")",Le+"?"+Ae+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Le+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Pe].join("|"),"g"),qe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],je=-1,Re={};Re[L]=Re[A]=Re[k]=Re[C]=Re[I]=Re[P]=Re["[object Uint8ClampedArray]"]=Re[O]=Re[B]=!0,Re[c]=Re[l]=Re[S]=Re[u]=Re[x]=Re[d]=Re[h]=Re[f]=Re[g]=Re[m]=Re[v]=Re[y]=Re[b]=Re[w]=Re[E]=!1;var Ve={};Ve[c]=Ve[l]=Ve[S]=Ve[x]=Ve[u]=Ve[d]=Ve[L]=Ve[A]=Ve[k]=Ve[C]=Ve[I]=Ve[g]=Ve[m]=Ve[v]=Ve[y]=Ve[b]=Ve[w]=Ve[_]=Ve[P]=Ve["[object Uint8ClampedArray]"]=Ve[O]=Ve[B]=!0,Ve[h]=Ve[f]=Ve[E]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ue=parseInt,$e="object"==typeof e&&e&&e.Object===Object&&e,Ze="object"==typeof self&&self&&self.Object===Object&&self,Ge=$e||Ze||Function("return this")(),We=t&&!t.nodeType&&t,Ke=We&&"object"==typeof i&&i&&!i.nodeType&&i,Ye=Ke&&Ke.exports===We,Xe=Ye&&$e.process,Je=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Qe=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,it=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function st(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function at(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function dt(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ft(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function pt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function gt(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function mt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function vt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var yt=Lt("length");function bt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function wt(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function _t(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):wt(e,St,n)}function Et(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function St(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function Lt(e){return function(t){return null==t?void 0:t[e]}}function At(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,i,r){return r(e,(function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)})),n}function Ct(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function It(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Pt(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function Ot(e){return function(t){return e(t)}}function Bt(e,t){return ft(t,(function(t){return e[t]}))}function Tt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,i=e.length;++n<i&&_t(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Dt=At({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ft=At({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function jt(e){return"\\"+ze[e]}function Rt(e){return qe.test(e)}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function zt(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[r++]=n)}return s}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Zt(e){return Rt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function Gt(e){return Rt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=At({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,i=(t=null==t?Ge:Yt.defaults(Ge.Object(),t,Yt.pick(Ge,Fe))).Array,r=t.Date,K=t.Error,he=t.Function,fe=t.Math,pe=t.Object,ge=t.RegExp,me=t.String,ve=t.TypeError,ye=i.prototype,be=he.prototype,we=pe.prototype,_e=t["__core-js_shared__"],Ee=be.toString,Se=we.hasOwnProperty,xe=0,Le=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=we.toString,ke=Ee.call(pe),Ce=Ge._,Ie=ge("^"+Ee.call(Se).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ye?t.Buffer:void 0,Oe=t.Symbol,Ne=t.Uint8Array,qe=Pe?Pe.allocUnsafe:void 0,ze=zt(pe.getPrototypeOf,pe),$e=pe.create,Ze=we.propertyIsEnumerable,We=ye.splice,Ke=Oe?Oe.isConcatSpreadable:void 0,Xe=Oe?Oe.iterator:void 0,Je=Oe?Oe.toStringTag:void 0,yt=function(){try{var e=es(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),At=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Xt=r&&r.now!==Ge.Date.now&&r.now,Jt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Qt=fe.ceil,en=fe.floor,tn=pe.getOwnPropertySymbols,nn=Pe?Pe.isBuffer:void 0,rn=t.isFinite,sn=ye.join,on=zt(pe.keys,pe),an=fe.max,cn=fe.min,ln=r.now,un=t.parseInt,dn=fe.random,hn=ye.reverse,fn=es(t,"DataView"),pn=es(t,"Map"),gn=es(t,"Promise"),mn=es(t,"Set"),vn=es(t,"WeakMap"),yn=es(pe,"create"),bn=vn&&new vn,wn={},_n=ks(fn),En=ks(pn),Sn=ks(gn),xn=ks(mn),Ln=ks(vn),An=Oe?Oe.prototype:void 0,kn=An?An.valueOf:void 0,Cn=An?An.toString:void 0;function In(e){if($o(e)&&!No(e)&&!(e instanceof Tn)){if(e instanceof Bn)return e;if(Se.call(e,"__wrapped__"))return Cs(e)}return new Bn(e)}var Pn=function(){function e(){}return function(t){if(!Uo(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function On(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Mn(e);this.size=t.size}function jn(e,t){var n=No(e),i=!n&&To(e),r=!n&&!i&&Fo(e),s=!n&&!i&&!r&&Qo(e),o=n||i||r||s,a=o?It(e.length,me):[],c=a.length;for(var l in e)!t&&!Se.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||as(l,c))||a.push(l);return a}function Rn(e){var t=e.length;return t?e[Di(0,t-1)]:void 0}function Vn(e,t){return xs(yr(e),Yn(t,0,e.length))}function zn(e){return xs(yr(e))}function Hn(e,t,n){(void 0!==n&&!Po(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function Un(e,t,n){var i=e[t];Se.call(e,t)&&Po(i,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Po(e[n][0],t))return n;return-1}function Zn(e,t,n,i){return ti(e,(function(e,r,s){t(i,e,n(e),s)})),i}function Gn(e,t){return e&&br(t,_a(t),e)}function Wn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,r=t.length,s=i(r),o=null==e;++n<r;)s[n]=o?void 0:ma(e,t[n]);return s}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,r,s){var o,a=1&t,l=2&t,h=4&t;if(n&&(o=r?n(e,i,r,s):n(e)),void 0!==o)return o;if(!Uo(e))return e;var E=No(e);if(E){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return yr(e,o)}else{var T=is(e),N=T==f||T==p;if(Fo(e))return hr(e,a);if(T==v||T==c||N&&!r){if(o=l||N?{}:ss(e),!a)return l?function(e,t){return br(e,ns(e),t)}(e,function(e,t){return e&&br(t,Ea(t),e)}(o,e)):function(e,t){return br(e,ts(e),t)}(e,Gn(o,e))}else{if(!Ve[T])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case S:return fr(e);case u:case d:return new i(+e);case x:return function(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case A:case k:case C:case I:case P:case"[object Uint8ClampedArray]":case O:case B:return pr(e,n);case g:return new i;case m:case w:return new i(e);case y:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case _:return r=e,kn?pe(kn.call(r)):{}}var r}(e,T,a)}}s||(s=new Fn);var M=s.get(e);if(M)return M;s.set(e,o),Yo(e)?e.forEach((function(i){o.add(Xn(i,t,n,i,e,s))})):Zo(e)&&e.forEach((function(i,r){o.set(r,Xn(i,t,n,r,e,s))}));var q=E?void 0:(h?l?Gr:Zr:l?Ea:_a)(e);return at(q||e,(function(i,r){q&&(i=e[r=i]),Un(o,r,Xn(i,t,n,r,e,s))})),o}function Jn(e,t,n){var i=n.length;if(null==e)return!i;for(e=pe(e);i--;){var r=n[i],s=t[r],o=e[r];if(void 0===o&&!(r in e)||!s(o))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ve(s);return ws((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var r=-1,s=dt,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=ft(t,Ot(n))),i?(s=ht,o=!1):t.length>=200&&(s=Tt,o=!1,t=new Dn(t));e:for(;++r<a;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else s(t,d,i)||c.push(u)}return c}In.templateSettings={escape:R,evaluate:V,interpolate:z,variable:"",imports:{_:In}},In.prototype=On.prototype,In.prototype.constructor=In,Bn.prototype=Pn(On.prototype),Bn.prototype.constructor=Bn,Tn.prototype=Pn(On.prototype),Tn.prototype.constructor=Tn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Mn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return $n(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,i=$n(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(pn||Mn),string:new Nn}},qn.prototype.delete=function(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return Jr(this,e).get(e)},qn.prototype.has=function(e){return Jr(this,e).has(e)},qn.prototype.set=function(e,t){var n=Jr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Dn.prototype.add=Dn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var i=n.__data__;if(!pn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(i)}return n.set(e,t),this.size=n.size,this};var ti=Er(li),ni=Er(ui,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ri(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],o=t(s);if(null!=o&&(void 0===a?o==o&&!Jo(o):n(o,a)))var a=o,c=s}return c}function si(e,t){var n=[];return ti(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function oi(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=os),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?oi(a,t-1,n,i,r):pt(r,a):i||(r[r.length]=a)}return r}var ai=Sr(),ci=Sr(!0);function li(e,t){return e&&ai(e,t,_a)}function ui(e,t){return e&&ci(e,t,_a)}function di(e,t){return ut(t,(function(t){return Vo(e[t])}))}function hi(e,t){for(var n=0,i=(t=cr(t,e)).length;null!=e&&n<i;)e=e[As(t[n++])];return n&&n==i?e:void 0}function fi(e,t,n){var i=t(e);return No(e)?i:pt(i,n(e))}function pi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in pe(e)?function(e){var t=Se.call(e,Je),n=e[Je];try{e[Je]=void 0;var i=!0}catch(e){}var r=Ae.call(e);i&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return Ae.call(e)}(e)}function gi(e,t){return e>t}function mi(e,t){return null!=e&&Se.call(e,t)}function vi(e,t){return null!=e&&t in pe(e)}function yi(e,t,n){for(var r=n?ht:dt,s=e[0].length,o=e.length,a=o,c=i(o),l=1/0,u=[];a--;){var d=e[a];a&&t&&(d=ft(d,Ot(t))),l=cn(d.length,l),c[a]=!n&&(t||s>=120&&d.length>=120)?new Dn(a&&d):void 0}d=e[0];var h=-1,f=c[0];e:for(;++h<s&&u.length<l;){var p=d[h],g=t?t(p):p;if(p=n||0!==p?p:0,!(f?Tt(f,g):r(u,g,n))){for(a=o;--a;){var m=c[a];if(!(m?Tt(m,g):r(e[a],g,n)))continue e}f&&f.push(g),u.push(p)}}return u}function bi(e,t,n){var i=null==(e=ms(e,t=cr(t,e)))?e:e[As(js(t))];return null==i?void 0:st(i,e,n)}function wi(e){return $o(e)&&pi(e)==c}function _i(e,t,n,i,r){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var o=No(e),a=No(t),f=o?l:is(e),p=a?l:is(t),E=(f=f==c?v:f)==v,L=(p=p==c?v:p)==v,A=f==p;if(A&&Fo(e)){if(!Fo(t))return!1;o=!0,E=!1}if(A&&!E)return s||(s=new Fn),o||Qo(e)?Ur(e,t,n,i,r,s):function(e,t,n,i,r,s,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new Ne(e),new Ne(t)));case u:case d:case m:return Po(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case g:var a=Vt;case b:var c=1&i;if(a||(a=Ut),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var f=Ur(a(e),a(t),i,r,s,o);return o.delete(e),f;case _:if(kn)return kn.call(e)==kn.call(t)}return!1}(e,t,f,n,i,r,s);if(!(1&n)){var k=E&&Se.call(e,"__wrapped__"),C=L&&Se.call(t,"__wrapped__");if(k||C){var I=k?e.value():e,P=C?t.value():t;return s||(s=new Fn),r(I,P,n,i,s)}}if(!A)return!1;return s||(s=new Fn),function(e,t,n,i,r,s){var o=1&n,a=Zr(e),c=a.length,l=Zr(t).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=a[u];if(!(o?d in t:Se.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);var g=o;for(;++u<c;){d=a[u];var m=e[d],v=t[d];if(i)var y=o?i(v,m,d,t,e,s):i(m,v,d,e,t,s);if(!(void 0===y?m===v||r(m,v,n,i,s):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,i,r,s)}(e,t,n,i,_i,r))}function Ei(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=pe(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var c=(a=n[r])[0],l=e[c],u=a[1];if(o&&a[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Fn;if(i)var h=i(l,u,c,e,t,d);if(!(void 0===h?_i(u,l,3,i,d):h))return!1}}return!0}function Si(e){return!(!Uo(e)||(t=e,Le&&Le in t))&&(Vo(e)?Ie:oe).test(ks(e));var t}function xi(e){return"function"==typeof e?e:null==e?Ga:"object"==typeof e?No(e)?Pi(e[0],e[1]):Ii(e):nc(e)}function Li(e){if(!hs(e))return on(e);var t=[];for(var n in pe(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ai(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=hs(e),n=[];for(var i in e)("constructor"!=i||!t&&Se.call(e,i))&&n.push(i);return n}function ki(e,t){return e<t}function Ci(e,t){var n=-1,r=qo(e)?i(e.length):[];return ti(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Ii(e){var t=Qr(e);return 1==t.length&&t[0][2]?ps(t[0][0],t[0][1]):function(n){return n===e||Ei(n,e,t)}}function Pi(e,t){return ls(e)&&fs(t)?ps(As(e),t):function(n){var i=ma(n,e);return void 0===i&&i===t?va(n,e):_i(t,i,3)}}function Oi(e,t,n,i,r){e!==t&&ai(t,(function(s,o){if(r||(r=new Fn),Uo(s))!function(e,t,n,i,r,s,o){var a=ys(e,n),c=ys(t,n),l=o.get(c);if(l)return void Hn(e,n,l);var u=s?s(a,c,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=No(c),f=!h&&Fo(c),p=!h&&!f&&Qo(c);u=c,h||f||p?No(a)?u=a:Do(a)?u=yr(a):f?(d=!1,u=hr(c,!0)):p?(d=!1,u=pr(c,!0)):u=[]:Wo(c)||To(c)?(u=a,To(a)?u=aa(a):Uo(a)&&!Vo(a)||(u=ss(c))):d=!1}d&&(o.set(c,u),r(u,c,i,s,o),o.delete(c));Hn(e,n,u)}(e,t,o,n,Oi,i,r);else{var a=i?i(ys(e,o),s,o+"",e,t,r):void 0;void 0===a&&(a=s),Hn(e,o,a)}}),Ea)}function Bi(e,t){var n=e.length;if(n)return as(t+=t<0?n:0,n)?e[t]:void 0}function Ti(e,t,n){t=t.length?ft(t,(function(e){return No(e)?function(t){return hi(t,1===e.length?e[0]:e)}:e})):[Ga];var i=-1;return t=ft(t,Ot(Xr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ci(e,(function(e,n,r){return{criteria:ft(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;for(;++i<o;){var c=gr(r[i],s[i]);if(c){if(i>=a)return c;var l=n[i];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Ni(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=hi(e,o);n(a,o)&&zi(s,cr(o,e),a)}return s}function Mi(e,t,n,i){var r=i?Et:_t,s=-1,o=t.length,a=e;for(e===t&&(t=yr(t)),n&&(a=ft(e,Ot(n)));++s<o;)for(var c=0,l=t[s],u=n?n(l):l;(c=r(a,u,c,i))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function qi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;as(r)?We.call(e,r,1):er(e,r)}}return e}function Di(e,t){return e+en(dn()*(t-e+1))}function Fi(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function ji(e,t){return _s(gs(e,t,Ga),e+"")}function Ri(e){return Rn(Pa(e))}function Vi(e,t){var n=Pa(e);return xs(n,Yn(t,0,n.length))}function zi(e,t,n,i){if(!Uo(e))return e;for(var r=-1,s=(t=cr(t,e)).length,o=s-1,a=e;null!=a&&++r<s;){var c=As(t[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=Uo(u)?u:as(t[r+1])?[]:{})}Un(a,c,l),a=a[c]}return e}var Hi=bn?function(e,t){return bn.set(e,t),e}:Ga,Ui=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:Ua(t),writable:!0})}:Ga;function $i(e){return xs(Pa(e))}function Zi(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=i(s);++r<s;)o[r]=e[r+t];return o}function Gi(e,t){var n;return ti(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Wi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!Jo(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return Ki(e,t,Ga,n)}function Ki(e,t,n,i){var r=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,c=Jo(t),l=void 0===t;r<s;){var u=en((r+s)/2),d=n(e[u]),h=void 0!==d,f=null===d,p=d==d,g=Jo(d);if(o)var m=i||p;else m=l?p&&(i||h):a?p&&h&&(i||!f):c?p&&h&&!f&&(i||!g):!f&&!g&&(i?d<=t:d<t);m?r=u+1:s=u}return cn(s,4294967294)}function Yi(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!Po(a,c)){var c=a;s[r++]=0===o?0:o}}return s}function Xi(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Ji(e){if("string"==typeof e)return e;if(No(e))return ft(e,Ji)+"";if(Jo(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e,t,n){var i=-1,r=dt,s=e.length,o=!0,a=[],c=a;if(n)o=!1,r=ht;else if(s>=200){var l=t?null:Fr(e);if(l)return Ut(l);o=!1,r=Tt,c=new Dn}else c=t?[]:a;e:for(;++i<s;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(u)}else r(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function er(e,t){return null==(e=ms(e,t=cr(t,e)))||delete e[As(js(t))]}function tr(e,t,n,i){return zi(e,t,n(hi(e,t)),i)}function nr(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?Zi(e,i?0:s,i?s+1:r):Zi(e,i?s+1:0,i?r:s)}function ir(e,t){var n=e;return n instanceof Tn&&(n=n.value()),gt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function rr(e,t,n){var r=e.length;if(r<2)return r?Qi(e[0]):[];for(var s=-1,o=i(r);++s<r;)for(var a=e[s],c=-1;++c<r;)c!=s&&(o[s]=ei(o[s]||a,e[c],t,n));return Qi(oi(o,1),t,n)}function sr(e,t,n){for(var i=-1,r=e.length,s=t.length,o={};++i<r;){var a=i<s?t[i]:void 0;n(o,e[i],a)}return o}function or(e){return Do(e)?e:[]}function ar(e){return"function"==typeof e?e:Ga}function cr(e,t){return No(e)?e:ls(e,t)?[e]:Ls(ca(e))}var lr=ji;function ur(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Zi(e,t,n)}var dr=At||function(e){return Ge.clearTimeout(e)};function hr(e,t){if(t)return e.slice();var n=e.length,i=qe?qe(n):new e.constructor(n);return e.copy(i),i}function fr(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function pr(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function gr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,s=Jo(e),o=void 0!==t,a=null===t,c=t==t,l=Jo(t);if(!a&&!l&&!s&&e>t||s&&o&&c&&!a&&!l||i&&o&&c||!n&&c||!r)return 1;if(!i&&!s&&!l&&e<t||l&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!c)return-1}return 0}function mr(e,t,n,r){for(var s=-1,o=e.length,a=n.length,c=-1,l=t.length,u=an(o-a,0),d=i(l+u),h=!r;++c<l;)d[c]=t[c];for(;++s<a;)(h||s<o)&&(d[n[s]]=e[s]);for(;u--;)d[c++]=e[s++];return d}function vr(e,t,n,r){for(var s=-1,o=e.length,a=-1,c=n.length,l=-1,u=t.length,d=an(o-c,0),h=i(d+u),f=!r;++s<d;)h[s]=e[s];for(var p=s;++l<u;)h[p+l]=t[l];for(;++a<c;)(f||s<o)&&(h[p+n[a]]=e[s++]);return h}function yr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function br(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=i?i(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),r?Wn(n,a,c):Un(n,a,c)}return n}function wr(e,t){return function(n,i){var r=No(n)?ot:Zn,s=t?t():{};return r(n,e,Xr(i,2),s)}}function _r(e){return ji((function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&cs(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=pe(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t}))}function Er(e,t){return function(n,i){if(null==n)return n;if(!qo(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=pe(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Sr(e){return function(t,n,i){for(var r=-1,s=pe(t),o=i(t),a=o.length;a--;){var c=o[e?a:++r];if(!1===n(s[c],c,s))break}return t}}function xr(e){return function(t){var n=Rt(t=ca(t))?Gt(t):void 0,i=n?n[0]:t.charAt(0),r=n?ur(n,1).join(""):t.slice(1);return i[e]()+r}}function Lr(e){return function(t){return gt(Va(Ta(t).replace(Be,"")),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),i=e.apply(n,t);return Uo(i)?i:n}}function kr(e){return function(t,n,i){var r=pe(t);if(!qo(t)){var s=Xr(n,3);t=_a(t),n=function(e){return s(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[s?t[o]:o]:void 0}}function Cr(e){return $r((function(t){var n=t.length,i=n,r=Bn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ve(s);if(r&&!a&&"wrapper"==Kr(o))var a=new Bn([],!0)}for(i=a?i:n;++i<n;){var c=Kr(o=t[i]),l="wrapper"==c?Wr(o):void 0;a=l&&us(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Kr(l[0])].apply(a,l[3]):1==o.length&&us(o)?a[c]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&No(i))return a.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}}))}function Ir(e,t,n,r,s,o,a,c,l,u){var d=128&t,h=1&t,f=2&t,p=24&t,g=512&t,m=f?void 0:Ar(e);return function v(){for(var y=arguments.length,b=i(y),w=y;w--;)b[w]=arguments[w];if(p)var _=Yr(v),E=qt(b,_);if(r&&(b=mr(b,r,s,p)),o&&(b=vr(b,o,a,p)),y-=E,p&&y<u){var S=Ht(b,_);return qr(e,t,Ir,v.placeholder,n,b,S,c,l,u-y)}var x=h?n:this,L=f?x[e]:e;return y=b.length,c?b=vs(b,c):g&&y>1&&b.reverse(),d&&l<y&&(b.length=l),this&&this!==Ge&&this instanceof v&&(L=m||Ar(L)),L.apply(x,b)}}function Pr(e,t){return function(n,i){return function(e,t,n,i){return li(e,(function(e,r,s){t(i,n(e),r,s)})),i}(n,e,t(i),{})}}function Or(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ji(n),i=Ji(i)):(n=Xi(n),i=Xi(i)),r=e(n,i)}return r}}function Br(e){return $r((function(t){return t=ft(t,Ot(Xr())),ji((function(n){var i=this;return e(t,(function(e){return st(e,i,n)}))}))}))}function Tr(e,t){var n=(t=void 0===t?" ":Ji(t)).length;if(n<2)return n?Fi(t,e):t;var i=Fi(t,Qt(e/Zt(t)));return Rt(t)?ur(Gt(i),0,e).join(""):i.slice(0,e)}function Nr(e){return function(t,n,r){return r&&"number"!=typeof r&&cs(t,n,r)&&(n=r=void 0),t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n,r){for(var s=-1,o=an(Qt((t-e)/(n||1)),0),a=i(o);o--;)a[r?o:++s]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:ia(r),e)}}function Mr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oa(t),n=oa(n)),e(t,n)}}function qr(e,t,n,i,r,s,o,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,r,u?s:void 0,u?o:void 0,u?void 0:s,u?void 0:o,a,c,l],h=n.apply(void 0,d);return us(e)&&bs(h,d),h.placeholder=i,Es(h,e,t)}function Dr(e){var t=fe[e];return function(e,n){if(e=oa(e),(n=null==n?0:cn(ra(n),292))&&rn(e)){var i=(ca(e)+"e").split("e");return+((i=(ca(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Fr=mn&&1/Ut(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Ja;function jr(e){return function(t){var n=is(t);return n==g?Vt(t):n==b?$t(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Rr(e,t,n,r,a,c,l,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ve(s);var h=r?r.length:0;if(h||(t&=-97,r=a=void 0),l=void 0===l?l:an(ra(l),0),u=void 0===u?u:ra(u),h-=a?a.length:0,64&t){var f=r,p=a;r=a=void 0}var g=d?void 0:Wr(e),m=[e,t,n,r,a,f,p,c,l,u];if(g&&function(e,t){var n=e[1],i=t[1],r=n|i,s=r<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?mr(l,c,t[4]):c,e[4]=l?Ht(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?vr(l,c,t[6]):c,e[6]=l?Ht(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&i&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(m,g),e=m[0],t=m[1],n=m[2],r=m[3],a=m[4],!(u=m[9]=void 0===m[9]?d?0:e.length:an(m[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var r=Ar(e);return function s(){for(var o=arguments.length,a=i(o),c=o,l=Yr(s);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:Ht(a,l);if((o-=u.length)<n)return qr(e,t,Ir,s.placeholder,void 0,a,u,void 0,void 0,n-o);var d=this&&this!==Ge&&this instanceof s?r:e;return st(d,this,a)}}(e,t,u):32!=t&&33!=t||a.length?Ir.apply(void 0,m):function(e,t,n,r){var s=1&t,o=Ar(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=r.length,d=i(u+c),h=this&&this!==Ge&&this instanceof t?o:e;++l<u;)d[l]=r[l];for(;c--;)d[l++]=arguments[++a];return st(h,s?n:this,d)}}(e,t,n,r);else var v=function(e,t,n){var i=1&t,r=Ar(e);return function t(){var s=this&&this!==Ge&&this instanceof t?r:e;return s.apply(i?n:this,arguments)}}(e,t,n);return Es((g?Hi:bs)(v,m),e,t)}function Vr(e,t,n,i){return void 0===e||Po(e,we[n])&&!Se.call(i,n)?t:e}function zr(e,t,n,i,r,s){return Uo(e)&&Uo(t)&&(s.set(t,e),Oi(e,t,void 0,zr,s),s.delete(t)),e}function Hr(e){return Wo(e)?void 0:e}function Ur(e,t,n,i,r,s){var o=1&n,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e),u=s.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,f=2&n?new Dn:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var p=e[d],g=t[d];if(i)var m=o?i(g,p,d,t,e,s):i(p,g,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!vt(t,(function(e,t){if(!Tt(f,t)&&(p===e||r(p,e,n,i,s)))return f.push(t)}))){h=!1;break}}else if(p!==g&&!r(p,g,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function $r(e){return _s(gs(e,void 0,Ns),e+"")}function Zr(e){return fi(e,_a,ts)}function Gr(e){return fi(e,Ea,ns)}var Wr=bn?function(e){return bn.get(e)}:Ja;function Kr(e){for(var t=e.name+"",n=wn[t],i=Se.call(wn,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function Yr(e){return(Se.call(In,"placeholder")?In:e).placeholder}function Xr(){var e=In.iteratee||Wa;return e=e===Wa?xi:e,arguments.length?e(arguments[0],arguments[1]):e}function Jr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Qr(e){for(var t=_a(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fs(r)]}return t}function es(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Si(n)?n:void 0}var ts=tn?function(e){return null==e?[]:(e=pe(e),ut(tn(e),(function(t){return Ze.call(e,t)})))}:sc,ns=tn?function(e){for(var t=[];e;)pt(t,ts(e)),e=ze(e);return t}:sc,is=pi;function rs(e,t,n){for(var i=-1,r=(t=cr(t,e)).length,s=!1;++i<r;){var o=As(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&Ho(r)&&as(o,r)&&(No(e)||To(e))}function ss(e){return"function"!=typeof e.constructor||hs(e)?{}:Pn(ze(e))}function os(e){return No(e)||To(e)||!!(Ke&&e&&e[Ke])}function as(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t}function cs(e,t,n){if(!Uo(n))return!1;var i=typeof t;return!!("number"==i?qo(n)&&as(t,n.length):"string"==i&&t in n)&&Po(n[t],e)}function ls(e,t){if(No(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jo(e))||(U.test(e)||!H.test(e)||null!=t&&e in pe(t))}function us(e){var t=Kr(e),n=In[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var i=Wr(n);return!!i&&e===i[0]}(fn&&is(new fn(new ArrayBuffer(1)))!=x||pn&&is(new pn)!=g||gn&&"[object Promise]"!=is(gn.resolve())||mn&&is(new mn)!=b||vn&&is(new vn)!=E)&&(is=function(e){var t=pi(e),n=t==v?e.constructor:void 0,i=n?ks(n):"";if(i)switch(i){case _n:return x;case En:return g;case Sn:return"[object Promise]";case xn:return b;case Ln:return E}return t});var ds=_e?Vo:oc;function hs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fs(e){return e==e&&!Uo(e)}function ps(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in pe(n)))}}function gs(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=an(r.length-t,0),a=i(o);++s<o;)a[s]=r[t+s];s=-1;for(var c=i(t+1);++s<t;)c[s]=r[s];return c[t]=n(a),st(e,this,c)}}function ms(e,t){return t.length<2?e:hi(e,Zi(t,0,-1))}function vs(e,t){for(var n=e.length,i=cn(t.length,n),r=yr(e);i--;){var s=t[i];e[i]=as(s,n)?r[s]:void 0}return e}function ys(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bs=Ss(Hi),ws=Jt||function(e,t){return Ge.setTimeout(e,t)},_s=Ss(Ui);function Es(e,t,n){var i=t+"";return _s(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return at(a,(function(n){var i="_."+n[0];t&n[1]&&!dt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(i),n)))}function Ss(e){var t=0,n=0;return function(){var i=ln(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xs(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var s=Di(n,r),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Ls=function(e){var t=xo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,i,r){t.push(i?r.replace(te,"$1"):n||e)})),t}));function As(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ks(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Cs(e){if(e instanceof Tn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=yr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Is=ji((function(e,t){return Do(e)?ei(e,oi(t,1,Do,!0)):[]})),Ps=ji((function(e,t){var n=js(t);return Do(n)&&(n=void 0),Do(e)?ei(e,oi(t,1,Do,!0),Xr(n,2)):[]})),Os=ji((function(e,t){var n=js(t);return Do(n)&&(n=void 0),Do(e)?ei(e,oi(t,1,Do,!0),void 0,n):[]}));function Bs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),wt(e,Xr(t,3),r)}function Ts(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=ra(n),r=n<0?an(i+r,0):cn(r,i-1)),wt(e,Xr(t,3),r,!0)}function Ns(e){return(null==e?0:e.length)?oi(e,1):[]}function Ms(e){return e&&e.length?e[0]:void 0}var qs=ji((function(e){var t=ft(e,or);return t.length&&t[0]===e[0]?yi(t):[]})),Ds=ji((function(e){var t=js(e),n=ft(e,or);return t===js(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yi(n,Xr(t,2)):[]})),Fs=ji((function(e){var t=js(e),n=ft(e,or);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yi(n,void 0,t):[]}));function js(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Rs=ji(Vs);function Vs(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}var zs=$r((function(e,t){var n=null==e?0:e.length,i=Kn(e,t);return qi(e,ft(t,(function(e){return as(e,n)?+e:e})).sort(gr)),i}));function Hs(e){return null==e?e:hn.call(e)}var Us=ji((function(e){return Qi(oi(e,1,Do,!0))})),$s=ji((function(e){var t=js(e);return Do(t)&&(t=void 0),Qi(oi(e,1,Do,!0),Xr(t,2))})),Zs=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,Qi(oi(e,1,Do,!0),void 0,t)}));function Gs(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Do(e))return t=an(e.length,t),!0})),It(t,(function(t){return ft(e,Lt(t))}))}function Ws(e,t){if(!e||!e.length)return[];var n=Gs(e);return null==t?n:ft(n,(function(e){return st(t,void 0,e)}))}var Ks=ji((function(e,t){return Do(e)?ei(e,t):[]})),Ys=ji((function(e){return rr(ut(e,Do))})),Xs=ji((function(e){var t=js(e);return Do(t)&&(t=void 0),rr(ut(e,Do),Xr(t,2))})),Js=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,rr(ut(e,Do),void 0,t)})),Qs=ji(Gs);var eo=ji((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ws(e,n)}));function to(e){var t=In(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var io=$r((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Tn&&as(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Bn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var ro=wr((function(e,t,n){Se.call(e,n)?++e[n]:Wn(e,n,1)}));var so=kr(Bs),oo=kr(Ts);function ao(e,t){return(No(e)?at:ti)(e,Xr(t,3))}function co(e,t){return(No(e)?ct:ni)(e,Xr(t,3))}var lo=wr((function(e,t,n){Se.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var uo=ji((function(e,t,n){var r=-1,s="function"==typeof t,o=qo(e)?i(e.length):[];return ti(e,(function(e){o[++r]=s?st(t,e,n):bi(e,t,n)})),o})),ho=wr((function(e,t,n){Wn(e,n,t)}));function fo(e,t){return(No(e)?ft:Ci)(e,Xr(t,3))}var po=wr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var go=ji((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cs(e,t[0],t[1])?t=[]:n>2&&cs(t[0],t[1],t[2])&&(t=[t[0]]),Ti(e,oi(t,1),[])})),mo=Xt||function(){return Ge.Date.now()};function vo(e,t,n){return t=n?void 0:t,Rr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var n;if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bo=ji((function(e,t,n){var i=1;if(n.length){var r=Ht(n,Yr(bo));i|=32}return Rr(e,i,t,n,r)})),wo=ji((function(e,t,n){var i=3;if(n.length){var r=Ht(n,Yr(wo));i|=32}return Rr(t,i,e,n,r)}));function _o(e,t,n){var i,r,o,a,c,l,u=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new ve(s);function p(t){var n=i,s=r;return i=r=void 0,u=t,a=e.apply(s,n)}function g(e){return u=e,c=ws(v,t),d?p(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function v(){var e=mo();if(m(e))return y(e);c=ws(v,function(e){var n=t-(e-l);return h?cn(n,o-(e-u)):n}(e))}function y(e){return c=void 0,f&&i?p(e):(i=r=void 0,a)}function b(){var e=mo(),n=m(e);if(i=arguments,r=this,l=e,n){if(void 0===c)return g(l);if(h)return dr(c),c=ws(v,t),p(l)}return void 0===c&&(c=ws(v,t)),a}return t=oa(t)||0,Uo(n)&&(d=!!n.leading,o=(h="maxWait"in n)?an(oa(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&dr(c),u=0,i=l=r=c=void 0},b.flush=function(){return void 0===c?a:y(mo())},b}var Eo=ji((function(e,t){return Qn(e,1,t)})),So=ji((function(e,t,n){return Qn(e,oa(t)||0,n)}));function xo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(s);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(xo.Cache||qn),n}function Lo(e){if("function"!=typeof e)throw new ve(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xo.Cache=qn;var Ao=lr((function(e,t){var n=(t=1==t.length&&No(t[0])?ft(t[0],Ot(Xr())):ft(oi(t,1),Ot(Xr()))).length;return ji((function(i){for(var r=-1,s=cn(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return st(e,this,i)}))})),ko=ji((function(e,t){return Rr(e,32,void 0,t,Ht(t,Yr(ko)))})),Co=ji((function(e,t){return Rr(e,64,void 0,t,Ht(t,Yr(Co)))})),Io=$r((function(e,t){return Rr(e,256,void 0,void 0,void 0,t)}));function Po(e,t){return e===t||e!=e&&t!=t}var Oo=Mr(gi),Bo=Mr((function(e,t){return e>=t})),To=wi(function(){return arguments}())?wi:function(e){return $o(e)&&Se.call(e,"callee")&&!Ze.call(e,"callee")},No=i.isArray,Mo=Qe?Ot(Qe):function(e){return $o(e)&&pi(e)==S};function qo(e){return null!=e&&Ho(e.length)&&!Vo(e)}function Do(e){return $o(e)&&qo(e)}var Fo=nn||oc,jo=et?Ot(et):function(e){return $o(e)&&pi(e)==d};function Ro(e){if(!$o(e))return!1;var t=pi(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function Vo(e){if(!Uo(e))return!1;var t=pi(e);return t==f||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function zo(e){return"number"==typeof e&&e==ra(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var Zo=tt?Ot(tt):function(e){return $o(e)&&is(e)==g};function Go(e){return"number"==typeof e||$o(e)&&pi(e)==m}function Wo(e){if(!$o(e)||pi(e)!=v)return!1;var t=ze(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==ke}var Ko=nt?Ot(nt):function(e){return $o(e)&&pi(e)==y};var Yo=it?Ot(it):function(e){return $o(e)&&is(e)==b};function Xo(e){return"string"==typeof e||!No(e)&&$o(e)&&pi(e)==w}function Jo(e){return"symbol"==typeof e||$o(e)&&pi(e)==_}var Qo=rt?Ot(rt):function(e){return $o(e)&&Ho(e.length)&&!!Re[pi(e)]};var ea=Mr(ki),ta=Mr((function(e,t){return e<=t}));function na(e){if(!e)return[];if(qo(e))return Xo(e)?Gt(e):yr(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=is(e);return(t==g?Vt:t==b?Ut:Pa)(e)}function ia(e){return e?(e=oa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=ia(e),n=t%1;return t==t?n?t-n:t:0}function sa(e){return e?Yn(ra(e),0,4294967295):0}function oa(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pt(e);var n=se.test(e);return n||ae.test(e)?Ue(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return br(e,Ea(e))}function ca(e){return null==e?"":Ji(e)}var la=_r((function(e,t){if(hs(t)||qo(t))br(t,_a(t),e);else for(var n in t)Se.call(t,n)&&Un(e,n,t[n])})),ua=_r((function(e,t){br(t,Ea(t),e)})),da=_r((function(e,t,n,i){br(t,Ea(t),e,i)})),ha=_r((function(e,t,n,i){br(t,_a(t),e,i)})),fa=$r(Kn);var pa=ji((function(e,t){e=pe(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&cs(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],o=Ea(s),a=-1,c=o.length;++a<c;){var l=o[a],u=e[l];(void 0===u||Po(u,we[l])&&!Se.call(e,l))&&(e[l]=s[l])}return e})),ga=ji((function(e){return e.push(void 0,zr),st(xa,void 0,e)}));function ma(e,t,n){var i=null==e?void 0:hi(e,t);return void 0===i?n:i}function va(e,t){return null!=e&&rs(e,t,vi)}var ya=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Ua(Ga)),ba=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),wa=ji(bi);function _a(e){return qo(e)?jn(e):Li(e)}function Ea(e){return qo(e)?jn(e,!0):Ai(e)}var Sa=_r((function(e,t,n){Oi(e,t,n)})),xa=_r((function(e,t,n,i){Oi(e,t,n,i)})),La=$r((function(e,t){var n={};if(null==e)return n;var i=!1;t=ft(t,(function(t){return t=cr(t,e),i||(i=t.length>1),t})),br(e,Gr(e),n),i&&(n=Xn(n,7,Hr));for(var r=t.length;r--;)er(n,t[r]);return n}));var Aa=$r((function(e,t){return null==e?{}:function(e,t){return Ni(e,t,(function(t,n){return va(e,n)}))}(e,t)}));function ka(e,t){if(null==e)return{};var n=ft(Gr(e),(function(e){return[e]}));return t=Xr(t),Ni(e,n,(function(e,n){return t(e,n[0])}))}var Ca=jr(_a),Ia=jr(Ea);function Pa(e){return null==e?[]:Bt(e,_a(e))}var Oa=Lr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Ra(ca(e).toLowerCase())}function Ta(e){return(e=ca(e))&&e.replace(le,Dt).replace(Te,"")}var Na=Lr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ma=Lr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=xr("toLowerCase");var Da=Lr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fa=Lr((function(e,t,n){return e+(n?" ":"")+Ra(t)}));var ja=Lr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ra=xr("toUpperCase");function Va(e,t,n){return e=ca(e),void 0===(t=n?void 0:t)?function(e){return De.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var za=ji((function(e,t){try{return st(e,void 0,t)}catch(e){return Ro(e)?e:new K(e)}})),Ha=$r((function(e,t){return at(t,(function(t){t=As(t),Wn(e,t,bo(e[t],e))})),e}));function Ua(e){return function(){return e}}var $a=Cr(),Za=Cr(!0);function Ga(e){return e}function Wa(e){return xi("function"==typeof e?e:Xn(e,1))}var Ka=ji((function(e,t){return function(n){return bi(n,e,t)}})),Ya=ji((function(e,t){return function(n){return bi(e,n,t)}}));function Xa(e,t,n){var i=_a(t),r=di(t,i);null!=n||Uo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=di(t,_a(t)));var s=!(Uo(n)&&"chain"in n&&!n.chain),o=Vo(e);return at(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),r=n.__actions__=yr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,pt([this.value()],arguments))})})),e}function Ja(){}var Qa=Br(ft),ec=Br(lt),tc=Br(vt);function nc(e){return ls(e)?Lt(As(e)):function(e){return function(t){return hi(t,e)}}(e)}var ic=Nr(),rc=Nr(!0);function sc(){return[]}function oc(){return!1}var ac=Or((function(e,t){return e+t}),0),cc=Dr("ceil"),lc=Or((function(e,t){return e/t}),1),uc=Dr("floor");var dc,hc=Or((function(e,t){return e*t}),1),fc=Dr("round"),pc=Or((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=vo,In.assign=la,In.assignIn=ua,In.assignInWith=da,In.assignWith=ha,In.at=fa,In.before=yo,In.bind=bo,In.bindAll=Ha,In.bindKey=wo,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return No(e)?e:[e]},In.chain=to,In.chunk=function(e,t,n){t=(n?cs(e,t,n):void 0===t)?1:an(ra(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,o=0,a=i(Qt(r/t));s<r;)a[o++]=Zi(e,s,s+=t);return a},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return pt(No(n)?yr(n):[n],oi(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Xr();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ve(s);return[n(e[0]),e[1]]})):[],ji((function(n){for(var i=-1;++i<t;){var r=e[i];if(st(r[0],this,n))return st(r[1],this,n)}}))},In.conforms=function(e){return function(e){var t=_a(e);return function(n){return Jn(n,e,t)}}(Xn(e,1))},In.constant=Ua,In.countBy=ro,In.create=function(e,t){var n=Pn(e);return null==t?n:Gn(n,t)},In.curry=function e(t,n,i){var r=Rr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.curryRight=function e(t,n,i){var r=Rr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.debounce=_o,In.defaults=pa,In.defaultsDeep=ga,In.defer=Eo,In.delay=So,In.difference=Is,In.differenceBy=Ps,In.differenceWith=Os,In.drop=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=n||void 0===t?1:ra(t))<0?0:t,i):[]},In.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,0,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0):[]},In.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&cs(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=ra(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:ra(i))<0&&(i+=r),i=n>i?0:sa(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},In.filter=function(e,t){return(No(e)?ut:si)(e,Xr(t,3))},In.flatMap=function(e,t){return oi(fo(e,t),1)},In.flatMapDeep=function(e,t){return oi(fo(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),oi(fo(e,t),n)},In.flatten=Ns,In.flattenDeep=function(e){return(null==e?0:e.length)?oi(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?oi(e,t=void 0===t?1:ra(t)):[]},In.flip=function(e){return Rr(e,512)},In.flow=$a,In.flowRight=Za,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},In.functions=function(e){return null==e?[]:di(e,_a(e))},In.functionsIn=function(e){return null==e?[]:di(e,Ea(e))},In.groupBy=lo,In.initial=function(e){return(null==e?0:e.length)?Zi(e,0,-1):[]},In.intersection=qs,In.intersectionBy=Ds,In.intersectionWith=Fs,In.invert=ya,In.invertBy=ba,In.invokeMap=uo,In.iteratee=Wa,In.keyBy=ho,In.keys=_a,In.keysIn=Ea,In.map=fo,In.mapKeys=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,t(e,i,r),e)})),n},In.mapValues=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,i,t(e,i,r))})),n},In.matches=function(e){return Ii(Xn(e,1))},In.matchesProperty=function(e,t){return Pi(e,Xn(t,1))},In.memoize=xo,In.merge=Sa,In.mergeWith=xa,In.method=Ka,In.methodOf=Ya,In.mixin=Xa,In.negate=Lo,In.nthArg=function(e){return e=ra(e),ji((function(t){return Bi(t,e)}))},In.omit=La,In.omitBy=function(e,t){return ka(e,Lo(Xr(t)))},In.once=function(e){return yo(2,e)},In.orderBy=function(e,t,n,i){return null==e?[]:(No(t)||(t=null==t?[]:[t]),No(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(e,t,n))},In.over=Qa,In.overArgs=Ao,In.overEvery=ec,In.overSome=tc,In.partial=ko,In.partialRight=Co,In.partition=po,In.pick=Aa,In.pickBy=ka,In.property=nc,In.propertyOf=function(e){return function(t){return null==e?void 0:hi(e,t)}},In.pull=Rs,In.pullAll=Vs,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,Xr(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,void 0,n):e},In.pullAt=zs,In.range=ic,In.rangeRight=rc,In.rearg=Io,In.reject=function(e,t){return(No(e)?ut:si)(e,Lo(Xr(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=Xr(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return qi(e,r),n},In.rest=function(e,t){if("function"!=typeof e)throw new ve(s);return ji(e,t=void 0===t?t:ra(t))},In.reverse=Hs,In.sampleSize=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),(No(e)?Vn:Vi)(e,t)},In.set=function(e,t,n){return null==e?e:zi(e,t,n)},In.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:zi(e,t,n,i)},In.shuffle=function(e){return(No(e)?zn:$i)(e)},In.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&cs(e,t,n)?(t=0,n=i):(t=null==t?0:ra(t),n=void 0===n?i:ra(n)),Zi(e,t,n)):[]},In.sortBy=go,In.sortedUniq=function(e){return e&&e.length?Yi(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Yi(e,Xr(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&cs(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ca(e))&&("string"==typeof t||null!=t&&!Ko(t))&&!(t=Ji(t))&&Rt(e)?ur(Gt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new ve(s);return t=null==t?0:an(ra(t),0),ji((function(n){var i=n[t],r=ur(n,0,t);return i&&pt(r,i),st(e,this,r)}))},In.tail=function(e){var t=null==e?0:e.length;return t?Zi(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?Zi(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},In.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t,i):[]},In.takeRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ve(s);return Uo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_o(e,t,{leading:i,maxWait:t,trailing:r})},In.thru=no,In.toArray=na,In.toPairs=Ca,In.toPairsIn=Ia,In.toPath=function(e){return No(e)?ft(e,As):Jo(e)?[e]:yr(Ls(ca(e)))},In.toPlainObject=aa,In.transform=function(e,t,n){var i=No(e),r=i||Fo(e)||Qo(e);if(t=Xr(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:Uo(e)&&Vo(s)?Pn(ze(e)):{}}return(r?at:li)(e,(function(e,i,r){return t(n,e,i,r)})),n},In.unary=function(e){return vo(e,1)},In.union=Us,In.unionBy=$s,In.unionWith=Zs,In.uniq=function(e){return e&&e.length?Qi(e):[]},In.uniqBy=function(e,t){return e&&e.length?Qi(e,Xr(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qi(e,void 0,t):[]},In.unset=function(e,t){return null==e||er(e,t)},In.unzip=Gs,In.unzipWith=Ws,In.update=function(e,t,n){return null==e?e:tr(e,t,ar(n))},In.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:tr(e,t,ar(n),i)},In.values=Pa,In.valuesIn=function(e){return null==e?[]:Bt(e,Ea(e))},In.without=Ks,In.words=Va,In.wrap=function(e,t){return ko(ar(t),e)},In.xor=Ys,In.xorBy=Xs,In.xorWith=Js,In.zip=Qs,In.zipObject=function(e,t){return sr(e||[],t||[],Un)},In.zipObjectDeep=function(e,t){return sr(e||[],t||[],zi)},In.zipWith=eo,In.entries=Ca,In.entriesIn=Ia,In.extend=ua,In.extendWith=da,Xa(In,In),In.add=ac,In.attempt=za,In.camelCase=Oa,In.capitalize=Ba,In.ceil=cc,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==t&&(t=(t=oa(t))==t?t:0),Yn(oa(e),t,n)},In.clone=function(e){return Xn(e,4)},In.cloneDeep=function(e){return Xn(e,5)},In.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Jn(e,t,_a(t))},In.deburr=Ta,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=lc,In.endsWith=function(e,t,n){e=ca(e),t=Ji(t);var i=e.length,r=n=void 0===n?i:Yn(ra(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},In.eq=Po,In.escape=function(e){return(e=ca(e))&&j.test(e)?e.replace(D,Ft):e},In.escapeRegExp=function(e){return(e=ca(e))&&G.test(e)?e.replace(Z,"\\$&"):e},In.every=function(e,t,n){var i=No(e)?lt:ii;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.find=so,In.findIndex=Bs,In.findKey=function(e,t){return bt(e,Xr(t,3),li)},In.findLast=oo,In.findLastIndex=Ts,In.findLastKey=function(e,t){return bt(e,Xr(t,3),ui)},In.floor=uc,In.forEach=ao,In.forEachRight=co,In.forIn=function(e,t){return null==e?e:ai(e,Xr(t,3),Ea)},In.forInRight=function(e,t){return null==e?e:ci(e,Xr(t,3),Ea)},In.forOwn=function(e,t){return e&&li(e,Xr(t,3))},In.forOwnRight=function(e,t){return e&&ui(e,Xr(t,3))},In.get=ma,In.gt=Oo,In.gte=Bo,In.has=function(e,t){return null!=e&&rs(e,t,mi)},In.hasIn=va,In.head=Ms,In.identity=Ga,In.includes=function(e,t,n,i){e=qo(e)?e:Pa(e),n=n&&!i?ra(n):0;var r=e.length;return n<0&&(n=an(r+n,0)),Xo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&_t(e,t,n)>-1},In.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),_t(e,t,r)},In.inRange=function(e,t,n){return t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n){return e>=cn(t,n)&&e<an(t,n)}(e=oa(e),t,n)},In.invoke=wa,In.isArguments=To,In.isArray=No,In.isArrayBuffer=Mo,In.isArrayLike=qo,In.isArrayLikeObject=Do,In.isBoolean=function(e){return!0===e||!1===e||$o(e)&&pi(e)==u},In.isBuffer=Fo,In.isDate=jo,In.isElement=function(e){return $o(e)&&1===e.nodeType&&!Wo(e)},In.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(No(e)||"string"==typeof e||"function"==typeof e.splice||Fo(e)||Qo(e)||To(e)))return!e.length;var t=is(e);if(t==g||t==b)return!e.size;if(hs(e))return!Li(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},In.isEqual=function(e,t){return _i(e,t)},In.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},In.isError=Ro,In.isFinite=function(e){return"number"==typeof e&&rn(e)},In.isFunction=Vo,In.isInteger=zo,In.isLength=Ho,In.isMap=Zo,In.isMatch=function(e,t){return e===t||Ei(e,t,Qr(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ei(e,t,Qr(t),n)},In.isNaN=function(e){return Go(e)&&e!=+e},In.isNative=function(e){if(ds(e))throw new K("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Go,In.isObject=Uo,In.isObjectLike=$o,In.isPlainObject=Wo,In.isRegExp=Ko,In.isSafeInteger=function(e){return zo(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Yo,In.isString=Xo,In.isSymbol=Jo,In.isTypedArray=Qo,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return $o(e)&&is(e)==E},In.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==pi(e)},In.join=function(e,t){return null==e?"":sn.call(e,t)},In.kebabCase=Na,In.last=js,In.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=ra(n))<0?an(i+r,0):cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):wt(e,St,r,!0)},In.lowerCase=Ma,In.lowerFirst=qa,In.lt=ea,In.lte=ta,In.max=function(e){return e&&e.length?ri(e,Ga,gi):void 0},In.maxBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),gi):void 0},In.mean=function(e){return xt(e,Ga)},In.meanBy=function(e,t){return xt(e,Xr(t,2))},In.min=function(e){return e&&e.length?ri(e,Ga,ki):void 0},In.minBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),ki):void 0},In.stubArray=sc,In.stubFalse=oc,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=hc,In.nth=function(e,t){return e&&e.length?Bi(e,ra(t)):void 0},In.noConflict=function(){return Ge._===this&&(Ge._=Ce),this},In.noop=Ja,In.now=mo,In.pad=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Tr(en(r),n)+e+Tr(Qt(r),n)},In.padEnd=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?e+Tr(t-i,n):e},In.padStart=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?Tr(t-i,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ca(e).replace(W,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&cs(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ia(e),void 0===t?(t=e,e=0):t=ia(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=dn();return cn(e+r*(t-e+He("1e-"+((r+"").length-1))),t)}return Di(e,t)},In.reduce=function(e,t,n){var i=No(e)?gt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ti)},In.reduceRight=function(e,t,n){var i=No(e)?mt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ni)},In.repeat=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),Fi(ca(e),t)},In.replace=function(){var e=arguments,t=ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var i=-1,r=(t=cr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var s=null==e?void 0:e[As(t[i])];void 0===s&&(i=r,s=n),e=Vo(s)?s.call(e):s}return e},In.round=fc,In.runInContext=e,In.sample=function(e){return(No(e)?Rn:Ri)(e)},In.size=function(e){if(null==e)return 0;if(qo(e))return Xo(e)?Zt(e):e.length;var t=is(e);return t==g||t==b?e.size:Li(e).length},In.snakeCase=Da,In.some=function(e,t,n){var i=No(e)?vt:Gi;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.sortedIndex=function(e,t){return Wi(e,t)},In.sortedIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Wi(e,t);if(i<n&&Po(e[i],t))return i}return-1},In.sortedLastIndex=function(e,t){return Wi(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wi(e,t,!0)-1;if(Po(e[n],t))return n}return-1},In.startCase=Fa,In.startsWith=function(e,t,n){return e=ca(e),n=null==n?0:Yn(ra(n),0,e.length),t=Ji(t),e.slice(n,n+t.length)==t},In.subtract=pc,In.sum=function(e){return e&&e.length?Ct(e,Ga):0},In.sumBy=function(e,t){return e&&e.length?Ct(e,Xr(t,2)):0},In.template=function(e,t,n){var i=In.templateSettings;n&&cs(e,t,n)&&(t=void 0),e=ca(e),t=da({},t,i,Vr);var r,s,o=da({},t.imports,i.imports,Vr),a=_a(o),c=Bt(o,a),l=0,u=t.interpolate||ue,d="__p += '",h=ge((t.escape||ue).source+"|"+u.source+"|"+(u===z?ne:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++je+"]")+"\n";e.replace(h,(function(t,n,i,o,a,c){return i||(i=o),d+=e.slice(l,c).replace(de,jt),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var p=Se.call(t,"variable")&&t.variable;if(p){if(ee.test(p))throw new K("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(T,""):d).replace(N,"$1").replace(M,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=za((function(){return he(a,f+"return "+d).apply(void 0,c)}));if(g.source=d,Ro(g))throw g;return g},In.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,i=cn(e,4294967295);e-=4294967295;for(var r=It(i,t=Xr(t));++n<e;)t(n);return r},In.toFinite=ia,In.toInteger=ra,In.toLength=sa,In.toLower=function(e){return ca(e).toLowerCase()},In.toNumber=oa,In.toSafeInteger=function(e){return e?Yn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=ca,In.toUpper=function(e){return ca(e).toUpperCase()},In.trim=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return Pt(e);if(!e||!(t=Ji(t)))return e;var i=Gt(e),r=Gt(t);return ur(i,Nt(i,r),Mt(i,r)+1).join("")},In.trimEnd=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,0,Mt(i,Gt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,Nt(i,Gt(t))).join("")},In.truncate=function(e,t){var n=30,i="...";if(Uo(t)){var r="separator"in t?t.separator:r;n="length"in t?ra(t.length):n,i="omission"in t?Ji(t.omission):i}var s=(e=ca(e)).length;if(Rt(e)){var o=Gt(e);s=o.length}if(n>=s)return e;var a=n-Zt(i);if(a<1)return i;var c=o?ur(o,0,a).join(""):e.slice(0,a);if(void 0===r)return c+i;if(o&&(a+=c.length-a),Ko(r)){if(e.slice(a).search(r)){var l,u=c;for(r.global||(r=ge(r.source,ca(ie.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var d=l.index;c=c.slice(0,void 0===d?a:d)}}else if(e.indexOf(Ji(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+i},In.unescape=function(e){return(e=ca(e))&&F.test(e)?e.replace(q,Kt):e},In.uniqueId=function(e){var t=++xe;return ca(e)+t},In.upperCase=ja,In.upperFirst=Ra,In.each=ao,In.eachRight=co,In.first=Ms,Xa(In,(dc={},li(In,(function(e,t){Se.call(In.prototype,t)||(dc[t]=e)})),dc),{chain:!1}),In.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),at(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=void 0===n?1:an(ra(n),0);var i=this.__filtered__&&!t?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=cn(n,i.__takeCount__):i.__views__.push({size:cn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Ga)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=ji((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return bi(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Lo(Xr(e)))},Tn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},li(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=In[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);r&&(In.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,a=t instanceof Tn,c=o[0],l=a||No(t),u=function(e){var t=r.apply(In,pt([e],o));return i&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=s&&!d,p=a&&!h;if(!s&&l){t=p?t:new Tn(this);var g=e.apply(t,o);return g.__actions__.push({func:no,args:[u],thisArg:void 0}),new Bn(g,d)}return f&&p?e.apply(this,o):(g=this.thru(u),f?i?g.value()[0]:g.value():g)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(No(r)?r:[],e)}return this[n]((function(n){return t.apply(No(n)?n:[],e)}))}})),li(Tn.prototype,(function(e,t){var n=In[t];if(n){var i=n.name+"";Se.call(wn,i)||(wn[i]=[]),wn[i].push({name:t,func:n})}})),wn[Ir(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=yr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yr(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=No(e),i=t<0,r=n?e.length:0,s=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=cn(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,c=a-o,l=i?a:o-1,u=this.__iteratees__,d=u.length,h=0,f=cn(c,this.__takeCount__);if(!n||!i&&r==c&&f==c)return ir(e,this.__actions__);var p=[];e:for(;c--&&h<f;){for(var g=-1,m=e[l+=t];++g<d;){var v=u[g],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[h++]=m}return p},In.prototype.at=io,In.prototype.chain=function(){return to(this)},In.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof On;){var i=Cs(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:no,args:[Hs],thisArg:void 0}),new Bn(t,this.__chain__)}return this.thru(Hs)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,Xe&&(In.prototype[Xe]=function(){return this}),In}();Ge._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,i))||(i.exports=r)}).call(this)}).call(this,n(9),n(50)(e))},function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function s(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,s=!1,o=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[o]+i[c],s=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(s=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],s=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],s||o--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=s?i[c]:l[o++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\//)>-1?a=a+=s?i[c]:l[--o]+i[c]:i[c].search(/\/>/)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[o]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,s=0,o="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?o+=c[s++]+i[a]:/\}/.exec(i[a])?o+=c[--s]+i[a]:(/\*\\/.exec(i[a]),o+=c[s]+i[a]);return o.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),o=i.length,a=[],c=0,l=this.step,u=0,d="",h=0,f=t?n(t):this.shift;for(h=0;h<o;h++)a=h%2?a.concat(i[h]):a.concat(s(i[h],l));for(o=a.length,h=0;h<o;h++){u=r(a[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[h])?d+=f[++c]+a[h]:/\'/.exec(a[h])?(u<1&&c&&c--,d+=a[h]):(d+=f[c]+a[h],u<1&&c&&c--)}return d=d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameHTML=t.newFolderHTML=t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="mei_list">\n              <div class="unpaired_item_container" style="width: 100%; background: #DAEAF1; border-radius: 5px;">\n                <label class="unpaired_item_label">\n                  <input type="radio" class="unpaired_item_radio" name="mei_radio_group" value="create_mei">\n                    <span style="margin-top: auto;margin-left: 3px;">\n                      Create new MEI file\n                    </span>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        <div class="file_sort_name">\n          <div>Name</div>\n          <div class="sort_name arrow_btn">&#x22C0;</div>\n        </div>\n        <div class="folio_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">↻</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="folio_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>',t.newFolderHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Create</button>\n      </div>\n    </div>\n  ',t.renameHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Confirm</button>\n      </div>\n    </div>\n  '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(5),r=n(3),s=n(23),o=n(14);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,o.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new s.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const o=document.getElementById("moreEdit");o&&(o.innerHTML="",o.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(5);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),s=e.document.createTextNode("");return r.observe(s,{characterData:!0}),function(){s.data=i=++i%2}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(9))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},function(e,t,n){"use strict";var i=n(67),r=n(68);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(69);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,n),i}s.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=o.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!v[_])){for(var x,L,A=-1,k=0;k<h.length;k++){-1!==(C=b.indexOf(h[k]))&&(-1===A||C<A)&&(A=C)}-1!==(L=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(x=b.slice(0,L),b=b.slice(L+1),this.auth=decodeURIComponent(x)),A=-1;for(k=0;k<d.length;k++){var C;-1!==(C=b.indexOf(d[k]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),O=(k=0,P.length);k<O;k++){var B=P[k];if(B&&!B.match(f)){for(var T="",N=0,M=B.length;N<M;N++)B.charCodeAt(N)>127?T+="x":T+=B[N];if(!T.match(f)){var q=P.slice(0,k),D=P.slice(k+1),F=B.match(p);F&&(q.push(F[1]),D.unshift(F[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=q.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+j,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[E])for(k=0,O=u.length;k<O;k++){var V=u[k];if(-1!==b.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),b=b.split(V).join(z)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var U=b.indexOf("?");if(-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(r.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||n.host&&e.pathname,E=_,S=n.pathname&&n.pathname.split("/")||[],x=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(x)n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var L=S.slice(-1)[0],A=(n.host||e.host||S.length>1)&&("."===L||".."===L)||""===L,k=0,C=S.length;C>=0;C--)"."===(L=S[C])?S.splice(C,1):".."===L?(S.splice(C,1),k++):k&&(S.splice(C,1),k--);if(!_&&!E)for(;k--;k)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var I,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);x&&(n.hostname=n.host=P?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(_=_||n.host&&S.length)&&!P&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=n(43),r=n(19);function s(e,t){this.id=e,this.ref=t}e.exports.SchemaScanResult=s,e.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var s=i.resolve(e,t.$ref);l[s]=l[s]?l[s]+1:0}else{var u=t.$id||t.id,d=u?i.resolve(e,u):e;if(d){if(d.indexOf("#")<0&&(d+="#"),c[d]){if(!r.deepCompareStrict(c[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return c[d]}c[d]=t,"#"==d[d.length-1]&&(c[d.substring(0,d.length-1)]=t)}o(d+"/items",Array.isArray(t.items)?t.items:[t.items]),o(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),a(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),a(d+"/definitions",t.definitions),a(d+"/patternProperties",t.patternProperties),a(d+"/dependencies",t.dependencies),o(d+"/disallow",t.disallow),o(d+"/allOf",t.allOf),o(d+"/anyOf",t.anyOf),o(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}}function o(e,t){if(Array.isArray(t))for(var i=0;i<t.length;i++)n(e+"/"+i,t[i])}function a(e,t){if(t&&"object"==typeof t)for(var i in t)n(e+"/"+i,t[i])}var c={},l={};return n(e,t),new s(c,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(3),r=n(27),s=n(7),o=n(14);let a,c,l,u,d=7;function h(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function f(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function p(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Tab"!==e.key&&e.shiftKey)return;e.preventDefault();const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if(("ArrowLeft"===e.key||"Tab"===e.key&&e.shiftKey)&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if(("ArrowRight"===e.key||"Tab"===e.key&&!e.shiftKey)&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}const s=document.querySelector(".text-select");s&&s.scrollIntoView({behavior:"smooth"})}function g(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function m(e){e.stopPropagation()}function v(e,t,n){if(g()||"use"===e.tagName){const r=function(e){if(g()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),s=i.children[r-1].children[0];console.assert(s.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===s.closest(".selected")&&e.unshift(s)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),s=n.children[i+1].children[0];console.assert(s.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===s.closest(".selected")&&e.push(s)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,o.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",p),document.body.addEventListener("keydown",p),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",m),e.addEventListener("click",m)})},t.dragSelect=function(e){let t=0,n=0,r=!1,o=!1;const l=s.select(e);s.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const h=s.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==s.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==s.event.sourceEvent.target.nodeName){if(s.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(f=s.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,s=t.lrx,o=t.lry,a=t.rotate;return f[0]>n&&f[0]<s&&f[1]>r+(f[0]-n)*Math.tan(a)&&f[1]<o-(s-f[0])*Math.tan(a)}).length)){(0,i.unselect)(),o=!0;const e=s.mouse(this);t=e[0],n=e[1],a=t,h=n,l.append("rect").attr("x",a).attr("y",h).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else s.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,h,f})).on("drag",(function(){if(!r&&o){const e=s.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){s.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&o){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),h=l.node();let f=new DOMPoint(n,r),p=new DOMPoint(u,d);const m=h.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();f=f.matrixTransform(m),p=p.matrixTransform(m);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):g()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>v(e,f,p));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),s.selectAll("#selectRect").remove(),o=!1}r=!1}));l.call(h),a&&a.resetTo(h)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeColumnLabel=t.checkOutOfBoundsGlyphs=t.convertToVerovio=t.isInvalidBBox=t.getSyllableText=t.convertToNeon=t.zip=void 0;const i=n(16),r=n(32),s=n(5);function o(e,t){for(const n of e.attributes)t.setAttribute(n.name,n.value)}function a(e){var t;const n=null===(t=e.getElementsByTagName("syl")[0])||void 0===t?void 0:t.childNodes[0];let i;return i=n?n.nodeValue:"◊",i}function c(e,t){const n=0===parseInt(t.getAttribute("lrx"))&&0===parseInt(t.getAttribute("lry"))&&0===parseInt(t.getAttribute("ulx"))&&0===parseInt(t.getAttribute("uly")),i=e.querySelector(`*[facs="${"#"+t.getAttribute("xml:id")}"]`);return n||!i?[!0,i]:[!1]}function l(e,t,n){const i=e.getAttribute("precedes").replace("#","");let r;const o=n.find((e,t)=>e.getAttribute("xml:id")===i&&(r=t,!0));if(o)if(o.hasAttribute("follows"))if(o.getAttribute("follows")=="#"+e.getAttribute("xml:id"))if(r===t+1);else{const i=[a(e),...n.slice(t+1,r).map(e=>a(e))].join(" - "),o=e.getAttribute("xml:id");s.queueNotification(`Unexpected syllable(s) inside toggle-linked syllable: ${i}<br/>ID: ${o}`,"error")}else{const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`The 2nd part of the toggle-linked syllable (${t}) links to the wrong syllable<br/>ID: ${n}`,"error")}else{const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`The 2nd part of the toggle-linked syllable (${t}) does not link to any syllable<br/>ID: ${n}`,"error")}else{const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`Missing the 2nd part of the toggle-linked syllable (${t})<br/>ID: ${n}`,"error")}}function u(e,t){const n=e.getAttribute("follows").replace("#",""),i=t.find(e=>e.getAttribute("xml:id")===n);if(i)if(i.hasAttribute("precedes")){if(i.getAttribute("precedes")!="#"+e.getAttribute("xml:id")){const t=a(i),n=e.getAttribute("xml:id");s.queueNotification(`The 1st part of the toggle-linked syllable (${t}) links to the wrong syllable<br/>ID: ${n}`,"error")}}else{const t=a(i),n=e.getAttribute("xml:id");s.queueNotification(`The 1st part of the toggle-linked syllable (${t}) does not link to any syllable<br/>ID: ${n}`,"error")}else{const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`Missing the 1st part of the toggle-linked syllable (${t})<br/>ID: ${n}`,"error")}}function d(e){const t=e.querySelectorAll("nc");let n=0;for(;n<t.length;){if(t[n].getAttribute("ligated")){if(n<t.length-1&&!t[n+1].getAttribute("ligated")||n==t.length-1){const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`The oblique in syllable (${t}) is incomplete!<br/>ID: ${n}`,"error")}n+=2}n+=1}}function h(e,t){for(const n of e.children)n.hasAttribute("facs")&&t.push(n),h(n,t);return t}t.zip=function(e,t){const n=[];for(let i=0;i<(e.length>t.length?t.length:e.length);i++)n.push([e[i],t[i]]);return n},t.convertToNeon=function(e){const t=new DOMParser,n=new XMLSerializer,s=t.parseFromString(e,"text/xml"),o=s.documentElement;let a=0;for(const e of o.getElementsByTagName("section")){const t=s.createElementNS("http://www.music-encoding.org/ns/mei","staff"),n=s.createElementNS("http://www.music-encoding.org/ns/mei","layer");t.setAttribute("n","1"),n.setAttribute("n","1"),t.appendChild(n);const r=o.getElementsByTagName("surface")[0],l=r.getAttribute("xml:id"),u=s.createElementNS("http://www.music-encoding.org/ns/mei","pb");u.setAttribute("xml:id","m-"+(0,i.uuidv4)()),u.setAttribute("facs","#"+l),n.appendChild(u);const d=Array.from(e.getElementsByTagName("staff"));let h=0,f=null;for(const e of d){h+=1;const t=e.getElementsByTagName("layer")[0];if(e.hasAttribute("type")&&e.getAttribute("type")!="column"+a.toString()){a+=1;const e=s.createElementNS("http://www.music-encoding.org/ns/mei","cb");e.setAttribute("n",a.toString()),e.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.setAttribute("facs","#m-"+(0,i.uuidv4)()),n.appendChild(e),f&&c(f,e,r),f=e}const o=s.createElementNS("http://www.music-encoding.org/ns/mei","sb");o.setAttribute("n",h.toString()),o.setAttribute("facs",e.getAttribute("facs")),o.setAttribute("xml:id",e.getAttribute("xml:id"));let l=void 0;for(null!==n.lastElementChild&&"custos"===n.lastElementChild.tagName&&(l=n.removeChild(n.lastElementChild)),void 0!==l&&n.appendChild(l),n.appendChild(o);null!==t.firstElementChild;)n.appendChild(t.firstElementChild);e.remove()}f&&c(f,null,r),e.appendChild(t)}if(a){const e=o.getElementsByTagName("scoreDef")[0],t=s.createElementNS("http://www.music-encoding.org/ns/mei","colLayout");t.setAttribute("xml:id","m-"+(0,i.uuidv4)()),t.setAttribute("n",a.toString()),e.insertAdjacentElement("afterend",t)}return r.xml(n.serializeToString(s));function c(e,t,n){const i=function e(t,n,i=[]){if(t&&t!==n){if(t.hasAttribute("facs")&&i.push(t),t.children.length>0)for(const r of t.children)e(r,n,i);t.nextElementSibling&&e(t.nextElementSibling,n,i)}return i}(e.nextElementSibling,t),r=s.createElementNS("http://www.music-encoding.org/ns/mei","zone"),o=function(e,t){let n=1/0,i=0,r=0,s=1/0;return e.forEach(e=>{const o=Array.from(t.children).find(t=>t.getAttribute("xml:id")===e.getAttribute("facs").slice(1));n=Math.min(n,parseInt(o.getAttribute("lrx"))),i=Math.max(i,parseInt(o.getAttribute("lry"))),r=Math.max(r,parseInt(o.getAttribute("ulx"))),s=Math.min(s,parseInt(o.getAttribute("uly")))}),{lrx:n,lry:i,ulx:r,uly:s}}(i,n);r.setAttribute("lrx",o.lrx.toString()),r.setAttribute("lry",o.lry.toString()),r.setAttribute("ulx",o.ulx.toString()),r.setAttribute("uly",o.uly.toString()),r.setAttribute("xml:id",e.getAttribute("facs").slice(1)),n.insertBefore(r,n.firstElementChild)}},t.getSyllableText=a,t.isInvalidBBox=c,t.convertToVerovio=function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement;let a=!1;const f=n.getElementsByTagName("surface")[0];let p=!1;for(const e of f.getElementsByTagName("zone")){const[t,i]=c(n,e);t&&(i&&i.parentNode.removeChild(i),e.parentNode.removeChild(e),p=!0)}p&&s.queueNotification("Removed invalid zones contained in this file","warning");const g=n.getElementsByTagName("colLayout")[0];g&&(a=!0,g.parentNode.removeChild(g));const m=Array.from(n.getElementsByTagName("pb"));for(const e of m)e.parentNode.removeChild(e);const v=Array.from(n.getElementsByTagName("syllable"));for(const e of v){if(0===e.getElementsByTagName("neume").length){const t=e.getAttribute("xml:id");s.queueNotification("This file contains a syllable without neume!<br/>ID: "+t,"warning")}const n=e.getElementsByTagName("neume");for(const e of n){const n=Array.from(e.getElementsByTagName("nc"));if(0===n.length){const t=e.getAttribute("xml:id");s.queueNotification("This file contains a neume without neume component!<br/>ID: "+t,"warning")}else for(const e of n)if(e.hasAttribute("curve")){const n=t.createElementNS("http://www.music-encoding.org/ns/mei","liquescent");n.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.appendChild(n)}}}for(const e of n.getElementsByTagName("section")){const n=Array.from(e.getElementsByTagName("staff"));for(const r of n){const n=r.getElementsByTagName("layer")[0],s=Array.from(n.getElementsByTagName("sb"));for(const e of s)if("layer"!==e.parentElement.tagName){const n=e.parentElement;let r=!1,s=!1;const o=Array.from(n.children),a=o.indexOf(e);for(const e of n.getElementsByTagName("neume")){const t=o.indexOf(e);t<a?r=!0:t>a&&(s=!0)}if(!r&&s)n.insertAdjacentElement("beforebegin",e);else if(r&&!s)n.insertAdjacentElement("afterend",e);else if(r&&s){const r=t.createElementNS("http://www.music-encoding.org/ns/mei","syllable");r.setAttribute("xml:id","m-"+(0,i.uuidv4)()),r.setAttribute("follows","#"+n.getAttribute("xml:id")),n.setAttribute("precedes","#"+r.getAttribute("xml:id"));const s=o.indexOf(e);for(const e of o){o.indexOf(e)>s&&r.appendChild(e)}n.insertAdjacentElement("afterend",e),e.insertAdjacentElement("afterend",r);for(const e of n.getElementsByTagName("custos"))n.insertAdjacentElement("afterend",e);for(const e of r.getElementsByTagName("clef"))r.insertAdjacentElement("beforebegin",e)}else console.warn("NONE BEHIND NONE AHEAD"),console.debug(n)}const c=Array.from(n.getElementsByTagName("sb")),l=Array.from(n.children);let u=0;for(let s=0;s<c.length;s++){const d=c[s],p=c.length>s+1?c[s+1]:void 0,g=t.createElementNS("http://www.music-encoding.org/ns/mei","staff");o(d,g),g.setAttribute("n","1");const m=l.indexOf(d);if(a){if("cb"===l.at(m-1).tagName){u+=1;const e=l.at(m-1),t=e.getAttribute("facs"),n=Array.from(f.querySelectorAll("zone")).find(e=>e.getAttribute("xml:id")===t.slice(1));e.parentNode.removeChild(e),n.parentNode.removeChild(n)}g.setAttribute("type","column"+u.toString())}const v=t.createElementNS("http://www.music-encoding.org/ns/mei","layer");v.setAttribute("n","1"),v.setAttribute("xml:id","m-"+(0,i.uuidv4)()),g.appendChild(v);const y=Array.from(n.children),b=y.slice(y.indexOf(d)+1,y.indexOf(p));for(const e of b)v.appendChild(e);if(!p){const e=h(y.at(-1),[]),t=Array.from(f.querySelectorAll("zone"));for(const n of e){const e=t.find(e=>e.getAttribute("xml:id")==n.getAttribute("facs").slice(1));e&&e.parentNode.removeChild(e)}}e.insertBefore(g,r)}r.remove()}}const y=Array.from(n.getElementsByTagName("syllable"));for(const e of n.querySelectorAll("syllable")){for(const t of e.querySelectorAll("clef"))e.insertAdjacentElement("beforebegin",t);for(const t of e.querySelectorAll("custos"))e.insertAdjacentElement("afterend",t);d(e);const t=y.indexOf(e);if(e.hasAttribute("precedes")&&e.hasAttribute("follows")){const t=e.getAttribute("xml:id");s.queueNotification("This file contains a syllable that has both @precedes and @follows!<br/>ID: "+t,"error")}else e.hasAttribute("precedes")?l(e,t,y):e.hasAttribute("follows")&&u(e,y)}const b=new XMLSerializer;return r.xml(b.serializeToString(t))},t.checkOutOfBoundsGlyphs=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement,n=Array.from(t.querySelectorAll("zone")),i=t.querySelector("surface"),r=Number(i.getAttribute("lrx")),o=Number(i.getAttribute("lry"));n.some(e=>["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?r:o)}(e,t)))&&s.queueNotification("This folio contains glyph(s) placed out-of-bounds!","warning")},t.removeColumnLabel=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement;for(const e of Array.from(t.getElementsByTagName("staff")))e.hasAttribute("type")&&e.removeAttribute("type");const n=new XMLSerializer;return r.xml(n.serializeToString(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blankPage=t.sendForValidation=t.init=void 0;const i=n(17),r=fetch("/Neon/Neon-gh/assets/mei-all.rng");let s,o,a,c;function l(e){const t=e.data;if(null===t){c.textContent="VALID",c.style.color="#4bc14b";for(const e of c.children)e.remove()}else{let e="";t.forEach(t=>{e+=t+"\n"}),c.textContent="",c.style.color="red";const n=document.createElement("div");n.textContent="INVALID",n.style.cursor="pointer",c.appendChild(n),n.addEventListener("click",u.bind(this,e))}}function u(e){this.modal.setModalWindowView(i.ModalWindowView.VALIDATION_STATUS,e),this.modal.openModalWindow()}t.init=async function(e){const t=document.getElementById("file-status");if(null!==t){const n=document.createElement("div");n.id="mei_version_container";const i=document.createElement("span");i.classList.add("file_status_title"),i.textContent="MEI Version: ";const r=document.createElement("span");r.id="mei_version",r.textContent="unknown",n.appendChild(i),n.appendChild(r),t.appendChild(n),a=document.getElementById("mei_version");const o=document.createElement("div");o.id="validation_status_container";const u=document.createElement("span");u.classList.add("file_status_title"),u.textContent="MEI Status: ";const d=document.createElement("span");d.id="validation_status",d.textContent="unknown",o.appendChild(u),o.appendChild(d),t.appendChild(o),c=document.getElementById("validation_status"),s=new Worker("/Neon/Neon-gh/workers/Worker.js"),s.onmessage=l.bind(e)}},t.sendForValidation=async function(e){if(void 0===c||void 0===a)return;if(void 0===o){const e=await r;o=await e.text()}c.textContent="checking...",c.style.color="gray",s.postMessage({mei:e,schema:o}),a.textContent="checking...",a.style.color="gray",function(e){if(e)switch(e){case"unknown":a.textContent=e,a.style.color="gray";break;default:a.textContent=e,a.style.color="#68A7AD"}}(await async function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement.getAttribute("meiversion");return n||"unknown"}(e))},t.blankPage=function(){if(void 0!==c&&void 0!==a){for(const e of c.children)e.remove();c.textContent="No MEI",c.style.color="color:gray",a.textContent="No MEI",a.style.color="color:gray"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenUnsavedChanges=t.setSavedStatus=void 0;let i=!0;t.setSavedStatus=function(e=!1){i=e,function(){const e=document.querySelector("#file-saved"),t=i?"/Neon/Neon-gh/assets/img/saved-icon.svg":"/Neon/Neon-gh/assets/img/unsaved-icon.svg";e.setAttribute("src",t);const n=i?"Your work is saved":"You have unsaved work";e.setAttribute("alt",n)}()},t.listenUnsavedChanges=function(){window.onbeforeunload=e=>{if(!i)return e.preventDefault(),"You have unsaved changes!"}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(i){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(78)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSelectionButtons=t.initInsertEditControls=t.bindInsertTabs=void 0;const i=n(8),r=n(18),s=n(3),o=n(4);function a(e,t){document.getElementById(e).classList.add("is-active"),document.getElementById(e).classList.contains("insertel")&&(t.insertActive(e),(0,o.setSettings)({insertMode:e}))}function c(e){document.querySelectorAll(e).forEach(e=>{e.classList.remove("is-active"),e.classList.remove("unfocused")})}t.bindInsertTabs=function(e){const t=Array.from(document.getElementsByClassName("insertTab")).map(e=>e.id);document.body.addEventListener("keydown",e=>{if(e.code.match(/^Digit\d$/)&&e.shiftKey)try{const t=Number(e.code[e.code.length-1])-1,n=document.getElementsByClassName("insertel");n[t].click()}catch(e){console.debug(e)}}),t.forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertTab"),a(t,e),(0,o.setSettings)({insertTab:t}),document.getElementById("insert_data").innerHTML=i.insertTabHtml[t],function(e){const t=Array.from(document.getElementsByClassName("insertel"));t.map(e=>e.id).forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertel"),a(t,e)})})}(e),c(".insertel");try{const{insertMode:t}=(0,o.getSettings)();a(t,e)}catch(t){a(document.getElementsByClassName("insertel")[0].id,e)}})})},t.initInsertEditControls=function(){const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu"),n=t.querySelector(".panel-heading-title"),i=document.getElementById("insertContents"),r=t.querySelector("svg > use"),s=document.getElementById("edit_controls"),a=document.getElementById("editMenu"),c=a.querySelector(".panel-heading-title"),l=document.getElementById("editContents"),u=a.querySelector("svg > use");e.addEventListener("click",()=>{c.classList.remove("focused"),n.classList.add("focused"),(0,o.setSettings)({userMode:"insert"}),document.querySelector(".insertel.is-active").click(),s.querySelector(".side-panel-btn.sel-by.is-active").classList.add("unfocused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.remove("unfocused")}),s.addEventListener("click",()=>{n.classList.remove("focused"),c.classList.add("focused"),(0,o.setSettings)({userMode:"edit"}),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),s.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused")}),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),a.addEventListener("click",e=>{e.stopPropagation(),l.classList.contains("closed")?(l.classList.remove("closed"),l.style.padding="0.5em 0.75em",setTimeout(()=>{l.style.overflow="visible"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(l.classList.add("closed"),l.style.overflow="hidden",setTimeout(()=>{l.style.padding="0px"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})},t.initSelectionButtons=function(){const e=document.getElementById("selBySyllable"),t=document.getElementById("selByNeume"),n=document.getElementById("selByNc"),i=document.getElementById("selByStaff"),a=document.getElementById("selByLayerElement");e.addEventListener("click",(function(){if(!e.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selBySyllable"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),e.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("syllable")}catch(e){}}})),t.addEventListener("click",(function(){if(!t.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNeume"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),t.classList.add("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),n.addEventListener("click",(function(){if(!n.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNc"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),n.classList.add("is-active"),t.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),i.addEventListener("click",(function(){if(!i.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByStaff"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),i.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("staff")}catch(e){}}})),a.addEventListener("click",(function(){if(!a.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByLayerElement"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),a.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),e.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("layerElement")}catch(e){}}})),document.body.addEventListener("keydown",r=>{"1"===r.key&&e.click(),"2"===r.key&&t.click(),"3"===r.key&&n.click(),"4"===r.key&&i.click(),"5"===r.key&&a.click()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(14),s=n(5),o=n(4);t.default=class{constructor(e,t){this.firstClick=!0,this.insertDisabled=function(){this.type="",this.removeInsertClickHandlers(),document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetInsertHandler),document.body.removeEventListener("click",this.clickawayHandler),this.firstClick=!0;try{document.getElementById("returnToEditMode").remove()}catch(e){}const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu").querySelector(".panel-heading-title"),n=document.getElementById("edit_controls"),i=document.getElementById("editMenu").querySelector(".panel-heading-title");t.classList.remove("focused"),i.classList.add("focused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),n.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused"),(0,o.setSettings)({userMode:"edit"})}.bind(this),this.clickawayHandler=function(e){const t=e.target;null===t.closest(".active-page")&&null===t.closest("#insert_controls")&&null===t.closest("#svg_group")&&(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler))}.bind(this),this.resetInsertHandler=function(e){"Shift"===e.key&&document.querySelector(this.selector).addEventListener("click","staff"===this.type?this.staffHandler:this.handler)}.bind(this),this.keydownListener=function(e){"Escape"===e.key?(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler)):"Shift"===e.key&&this.removeInsertClickHandlers()}.bind(this),this.handler=function(e){e.stopPropagation();const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("[FAIL] Glyph was placed out of bounds! Insertion failed.","error");const n={action:"insert",param:{elementType:this.type,staffId:"auto",ulx:t.x,uly:t.y}};null!==this.attributes&&(n.param.attributes=this.attributes,"F"===this.attributes.shape&&(n.param.ulx-=50)),this.neonView.edit(n,this.neonView.view.getCurrentPageURI()).then(()=>this.neonView.updateForCurrentPage()).then(()=>{document.querySelector(this.selector).addEventListener("click",this.handler)})}.bind(this),this.staffHandler=function(e){const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("Staff cannot be placed out of bounds!","error");const n=document.querySelector(".active-page > .definition-scale");if(this.firstClick)this.coord=t,i.select(n).append("circle").attr("cx",t.x).attr("cy",t.y).attr("r",10).attr("id","staff-circle").attr("fill","green"),this.firstClick=!1;else{let e,n;t.x<this.coord.x||t.y<this.coord.y?(e=t,n=this.coord):(e=this.coord,n=t),document.getElementById("staff-circle").remove();const i={action:"insert",param:{elementType:"staff",staffId:"auto",ulx:e.x,uly:e.y,lrx:n.x,lry:n.y}};this.neonView.edit(i,this.neonView.view.getCurrentPageURI()).then(()=>{this.neonView.updateForCurrentPage(),this.firstClick=!0})}}.bind(this),this.removeInsertClickHandlers=function(){try{document.querySelector(this.selector).removeEventListener("click",this.staffHandler),document.querySelector(this.selector).removeEventListener("click",this.handler)}catch(e){}}.bind(this),this.neonView=e,this.selector=t}insertActive(e){const t=this.isInsertMode();switch(e){case"punctum":this.type="nc",this.attributes=null;break;case"diamond":this.type="nc",this.attributes={tilt:"se"};break;case"virga":this.type="nc",this.attributes={tilt:"s"};break;case"liquescentA":this.type="nc",this.attributes={curve:"a"};break;case"liquescentC":this.type="nc",this.attributes={curve:"c"};break;case"virgaReversed":this.type="nc",this.attributes={tilt:"n"};break;case"pes":case"clivis":case"scandicus":case"climacus":case"torculus":case"porrectus":case"pressus":const t=this.neonView.info.getContourByValue(e.charAt(0).toUpperCase()+e.slice(1));this.type="grouping",this.attributes={contour:t};break;case"cClef":case"fClef":this.type="clef",this.attributes={shape:e.charAt(0).toUpperCase()};break;case"custos":this.type="custos",this.attributes=null;break;case"divLineMaxima":this.type="divLine",this.attributes={form:"maxima"};break;case"staff":this.type="staff",this.attributes=null;break;case"flat":this.type="accid",this.attributes={accid:"f"};break;case"natural":this.type="accid",this.attributes={accid:"n"};break;default:return this.type="",this.attributes=null,void console.error("Invalid button for insertion: "+e+".")}this.removeInsertClickHandlers();try{"staff"===this.type?document.querySelector(this.selector).addEventListener("click",this.staffHandler):document.querySelector(this.selector).addEventListener("click",this.handler)}catch(e){}if(document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetInsertHandler),!t){const e=document.createElement("button");e.id="returnToEditMode",e.classList.add("side-panel-btn"),e.innerHTML="Return to Edit Mode",document.getElementById("redo").parentNode.appendChild(e),e.addEventListener("click",this.insertDisabled)}document.getElementById("editContents").addEventListener("click",this.clickawayHandler)}isInsertMode(){return""!==this.type}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undoRedoPanel=t.navbarFinalize=t.navbarDropdownMEIActionsMenu=t.navbarDropdownFileMenu=void 0,t.navbarDropdownFileMenu=document.createElement("div"),t.navbarDropdownFileMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const i=document.createElement("div");i.classList.add("navbar-btn"),i.innerHTML="<div>File</div>";const r=document.createElement("div");r.classList.add("navbar-dropdown"),r.id="navbar-dropdown-options";[["save","Save"],["export","Save and Export to File"],["getmei","Download MEI"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],r.appendChild(t)}),t.navbarDropdownFileMenu.appendChild(i),t.navbarDropdownFileMenu.appendChild(r),t.navbarDropdownMEIActionsMenu=document.createElement("div"),t.navbarDropdownMEIActionsMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const s=document.createElement("div");s.classList.add("navbar-btn"),s.innerHTML="<div>MEI Actions</div>";const o=document.createElement("div");o.classList.add("navbar-dropdown"),o.id="navbar-dropdown-options";[["remove-empty-syls","Remove Empty Syllables"],["remove-empty-neumes","Remove Empty Neumes"],["revert","Revert"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],o.appendChild(t)}),t.navbarDropdownMEIActionsMenu.appendChild(s),t.navbarDropdownMEIActionsMenu.appendChild(o),t.navbarFinalize='<a id="finalize" class="navbar-item"> Finalize MEI </a>',t.undoRedoPanel='<button class="side-panel-btn" id="undo">Undo</button>\n  <button class="side-panel-btn" id="redo">Redo</button>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUndoRedoPanel=t.initNavbar=void 0;const i=n(5),r=n(47);t.initNavbar=function(e){const t=document.querySelectorAll(".navbar-item.has-dropdown.is-hoverable");Array.from(t).forEach(e=>{e.addEventListener("mouseover",()=>{})}),document.getElementById("save").addEventListener("click",()=>{e.save().then(()=>{i.queueNotification("Saved","success")})}),document.body.addEventListener("keydown",t=>{"s"===t.key&&e.save().then(()=>{i.queueNotification("Saved","success")})}),document.getElementById("export").addEventListener("click",()=>{e.export().then(t=>{const n=document.createElement("a");n.href=t,n.download=e.name+".jsonld",document.body.appendChild(n),n.click(),n.remove(),i.queueNotification("Saved","success")})}),document.getElementById("getmei").addEventListener("click",()=>{const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n="data:application/mei+xml;base64,"+window.btoa((0,r.convertToNeon)(t));document.getElementById("getmei").setAttribute("href",n),document.getElementById("getmei").setAttribute("download",e.view.getPageName()+".mei")})}),document.getElementById("remove-empty-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("syllable"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("neume").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Syllables","success")):i.queueNotification("Failed to remove empty Syllables","error")})}else i.queueNotification("No empty syllables found","warning")})})),document.getElementById("remove-empty-neumes").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("neume"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("nc").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Neumes","success")):i.queueNotification("Failed to remove empty Neumes","error")})}else i.queueNotification("No empty Neumes found","warning")})})),document.getElementById("remove-out-of-bounds-glyphs").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=r.querySelector("surface"),o=Number(s.getAttribute("lrx")),a=Number(s.getAttribute("lry"));const c=Array.from(r.querySelectorAll("zone")).filter(e=>["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?o:a)}(e,t))),l=new Map(c.map(e=>[e.getAttribute("xml:id"),e])),u=Array.from(r.querySelectorAll("nc, divLine, clef, accid")).filter(e=>{if(e.hasAttribute("facs")){const t=e.getAttribute("facs").slice(1);return l.has(t)}return!1});if(0===u.length)return i.queueNotification("There are no out-of-bound glyphs to remove.","warning");const d={action:"chain",param:u.map(e=>({action:"remove",param:{elementId:e.getAttribute("xml:id")}}))};e.edit(d,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Successfully removed out-of-bounds syllables.","success")):i.queueNotification("Failed to remove out-of-bound syllables.","error")})})})),document.getElementById("untoggle-invalid-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n=(new DOMParser).parseFromString(t,"text/xml").documentElement,r=Array.from(n.getElementsByTagName("syllable"));let s=!1;const o={action:"chain",param:[]},a=new Array;for(const e of r)if(e.hasAttribute("precedes")&&e.hasAttribute("follows")){s=!0;const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1)),n=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));a.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),a.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),a.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),a.push({action:"set",param:{elementId:n.getAttribute("xml:id"),attrType:"precedes",attrValue:""}})}else if(e.hasAttribute("precedes")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1));t&&t.hasAttribute("follows")?t.getAttribute("follows")!="#"+e.getAttribute("xml:id")&&(s=!0,a.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),a.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}})):(s=!0,a.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}))}else if(e.hasAttribute("follows")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));t&&t.hasAttribute("precedes")?t.getAttribute("precedes")!="#"+e.getAttribute("xml:id")&&(s=!0,a.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),a.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"precedes",attrValue:""}})):(s=!0,a.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}))}s?(o.param=a,e.edit(o,e.view.getCurrentPageURI()).then(t=>{t?i.queueNotification("Untoggled invalid syllables","success"):i.queueNotification("Failed to untoggle invalid syllables","error"),e.updateForCurrentPage()})):i.queueNotification("No invalid syllables found","warning")})})),document.getElementById("revert").addEventListener("click",(function(){window.confirm("Reverting will cause all changes to be lost. Press OK to continue.")&&e.deleteDb().then(()=>{window.location.reload()})}))},t.initUndoRedoPanel=function(e){function t(){e.undo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to undo."),console.warn("Failed to undo action"))})}function n(){e.redo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to redo."),console.warn("Failed to redo action"))})}document.getElementById("undo").addEventListener("click",t),document.body.addEventListener("keydown",e=>{"z"===e.key&&(e.ctrlKey||e.metaKey)&&t()}),document.getElementById("redo").addEventListener("click",n),document.body.addEventListener("keydown",e=>{("Z"===e.key||"z"===e.key&&e.shiftKey)&&(e.ctrlKey||e.metaKey)&&n()})}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(59),r=n(74),s=n(75),o=n(80),a=n(82),c=n(83),l=n(84),u=n(85),d=n(86),h=n(28),f=g("manifest"),p=g("storage");if(f){const e=`./samples/manifests/${f}.jsonld`;window.fetch(e).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(async e=>{let t;try{t=JSON.parse(e)}catch(t){return console.error(t),void console.debug(e)}let n;n=(await new Promise((e,n)=>{window.fetch(t.image).then(t=>{e(t.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(n).start()})}else{new h.default("Neon-User-Storage").getAttachment(p,"manifest").then(e=>new window.Response(e).json()).then(async e=>{let t;t=(await new Promise((t,n)=>{window.fetch(e.image).then(e=>{t(e.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(t).start()})}function g(e){let t;return window.location.search.substr(1).split("&").forEach(n=>{const i=n.split("=");i[0]===e&&(t=decodeURIComponent(i[1]))}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(60),r=n(48),s=n(62),o=n(73),a=n(17),c=n(26),l=n(49),u=n(4);t.default=class{constructor(e){(0,s.parseManifest)(e.manifest)||console.error("Unable to parse the manifest"),this.params=e,this.manifest=e.manifest}setupEdit(e){if(void 0!==e.TextView&&(this.textView=new e.TextView(this),void 0!==e.TextEdit&&(this.TextEdit=new e.TextEdit(this))),void 0!==e.NeumeEdit){this.NeumeEdit=new e.NeumeEdit(this),this.textView.updateBBoxVisibility();const{userMode:t,insertMode:n,selectionMode:i}=(0,u.getSettings)();switch(document.getElementById(n).classList.add("is-active"),document.getElementById(i).classList.add("is-active"),t){case"insert":document.getElementById(n).click();break;case"edit":default:document.getElementById(i).click()}}}start(){(0,o.default)(this).then(()=>(this.localSettings=new u.default(this.manifest["@id"]),this.view=new this.params.View(this,this.params.Display,this.manifest.image),this.name=this.manifest.title,this.core=new i.default(this.manifest),this.info=new this.params.Info(this),this.modal=new a.ModalWindow(this),r.init(this),(0,c.initErrorLog)(),(0,l.listenUnsavedChanges)(),this.setupEdit(this.params),this.core.initDb())).then(()=>this.updateForCurrentPage(!0)).then(()=>{this.view.onSVGLoad()})}updateForCurrentPage(e=!1){const t=this.view.getCurrentPage();return this.view.changePage(t,e)}redo(){return(0,l.setSavedStatus)(!1),this.core.redo(this.view.getCurrentPageURI())}undo(){return(0,l.setSavedStatus)(!1),this.core.undo(this.view.getCurrentPageURI())}getUserMode(){const{userMode:e}=(0,u.getSettings)();return e}edit(e,t){return this.core.edit(e,t)}getElementAttr(e,t){return this.core.getElementAttr(e,t)}export(){return new Promise((e,t)=>{this.core.updateDatabase().then(()=>{this.manifest.mei_annotations=this.core.getAnnotations(),this.manifest.timestamp=(new Date).toISOString();const t=new window.Blob([JSON.stringify(this.manifest,null,2)],{type:"application/ld+json"}),n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}).catch(e=>{t(e)})})}save(){return(0,l.setSavedStatus)(!0),this.core.updateDatabase()}deleteDb(){return this.core.deleteDb()}getPageURI(e){return void 0===e&&(e=this.view.getCurrentPageURI()),new Promise(t=>{this.core.getMEI(e).then(e=>{t("data:application/mei+xml;charset=utf-8,"+encodeURIComponent(e))})})}getPageMEI(e){return this.core.getMEI(e)}getPageSVG(e){return this.core.getSVG(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(47),r=n(48),s=n(61),o=n(16),a=n(28),c=n(49);t.default=class{constructor(e){this.verovioWrapper=new s.default,this.undoStacks=new Map,this.redoStacks=new Map,this.neonCache=new Map,this.parser=new DOMParser,this.db=new a.default("Neon"),this.blankPages=[],this.manifest=e,this.annotations=e.mei_annotations,this.lastPageLoaded=""}getAnnotations(){return this.annotations}async initDb(e=!1){return await new Promise((t,n)=>{this.db.get(this.manifest["@id"]).catch(e=>{if("not_found"===e.name){const e={_id:this.manifest["@id"],timestamp:this.manifest.timestamp,image:this.manifest.image,title:this.manifest.title,annotations:[]};return this.annotations.forEach(t=>{e.annotations.push(t.id)}),e}return console.error(e),n(e)}).then(async i=>{const r=/(.+[-+\u2212]\d\d)(\d\d)$/;if(new Date(i.timestamp).getTime()>(r.test(this.manifest.timestamp)?new Date(this.manifest.timestamp.replace(r,"$1:$2")).getTime():new Date(this.manifest.timestamp).getTime())&&!e){this.annotations=[];const e=i.annotations.map(e=>new Promise(t=>{this.db.get(e).then(e=>{this.annotations.push({id:e._id,type:"Annotation",body:e.body,target:e.target}),t("")}).catch(e=>{console.error(e),t("")})}));return await Promise.all(e),t(!1)}for(const e of this.annotations)await this.db.get(e.id).catch(t=>"not_found"===t.name?{_id:e.id}:(console.error(t),n(t))).then(t=>(t.body=e.body,t.target=e.target,this.db.put(t))).catch(e=>{n(e),console.error(e)});return this.db.put(i)}).then(()=>t(!0)).catch(e=>{n(e),console.error(e)})})}loadPage(e){return new Promise((t,n)=>{if(this.lastPageLoaded===e&&this.neonCache.has(e))t(this.neonCache.get(e));else if(this.neonCache.has(e))this.loadData(e,this.neonCache.get(e).mei).then(()=>{t(this.neonCache.get(e))});else if(this.blankPages.includes(e)){r.blankPage();const t=new Error("No MEI file for page "+e);t.name="missing_mei",n(t)}else{const s=this.annotations.find(t=>t.target===e);s?window.fetch(s.body).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(n=>{n.match(/<sb .+>/)&&(n=(0,i.convertToVerovio)(n)),(0,i.checkOutOfBoundsGlyphs)(n),this.loadData(e,n).then(()=>{t(this.neonCache.get(e))})}).catch(e=>{n(e)}):(r.blankPage(),this.blankPages.push(e))}})}loadData(e,t,n=!1){return r.sendForValidation((0,i.removeColumnLabel)(t)),this.lastPageLoaded=e,new Promise(i=>{const r={id:(0,o.uuidv4)(),action:"renderData",mei:t};this.verovioWrapper.addEventListener("message",function s(o){if(o.data.id===r.id){const r=this.parser.parseFromString(o.data.svg,"image/svg+xml").documentElement;this.neonCache.set(e,{svg:r,mei:t,dirty:n}),o.target.removeEventListener("message",s),i()}}.bind(this)),this.verovioWrapper.postMessage(r)})}getSVG(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.svg)}).catch(e=>{n(e)})})}getMEI(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.mei)}).catch(e=>{n(e)})})}getElementAttr(e,t){return new Promise(n=>{this.loadPage(t).then(()=>{const t={id:(0,o.uuidv4)(),action:"getElementAttr",elementId:e};this.verovioWrapper.addEventListener("message",(function e(i){i.data.id===t.id&&(i.target.removeEventListener("message",e),n(i.data.attributes))})),this.verovioWrapper.postMessage(t)})})}edit(e,t){let n;return n=this.lastPageLoaded===t?Promise.resolve(this.neonCache.get(t)):this.loadPage(t),new Promise(i=>{n.then(n=>{n.svg=null;const r=n.mei,s={id:(0,o.uuidv4)(),action:"edit",editorAction:e};this.verovioWrapper.addEventListener("message",function e(n){if(n.data.id===s.id){if(n.data.result){this.undoStacks.has(t)||this.undoStacks.set(t,[]);const e=this.undoStacks.get(t);e.push(r)>10&&this.undoStacks.set(t,e.slice(1)),this.redoStacks.set(t,[])}n.target.removeEventListener("message",e),this.updateCache(t,!0).then(()=>{i(n.data.result)}),(0,c.setSavedStatus)(!1)}}.bind(this)),this.verovioWrapper.postMessage(s)})})}updateCache(e,t){return new Promise(n=>{let s,a;const c=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"getMEI"};this.verovioWrapper.addEventListener("message",(function n(o){o.data.id===t.id&&(s=o.data.mei,o.target.removeEventListener("message",n),r.sendForValidation((0,i.removeColumnLabel)(s)),e(""))})),this.verovioWrapper.postMessage(t)}),l=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"renderToSVG"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(a=i.data.svg,i.target.removeEventListener("message",n),e(""))})),this.verovioWrapper.postMessage(t)});c.then(()=>l).then(()=>{const i=this.parser.parseFromString(a,"image/svg+xml").documentElement;this.neonCache.set(e,{mei:s,svg:i,dirty:t}),n()})})}info(e){let t;return t=this.lastPageLoaded===e?Promise.resolve():this.loadPage(e),new Promise(e=>{t.then(()=>{const t={id:(0,o.uuidv4)(),action:"editInfo"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(i.target.removeEventListener("message",n),e(i.data.info))})),this.verovioWrapper.postMessage(t)})})}undo(e){return new Promise(async t=>{if(!this.undoStacks.has(e))return t(!1);const n=this.undoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.redoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}redo(e){return new Promise(async t=>{if(!this.redoStacks.has(e))return t(!1);const n=this.redoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.undoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}async updateDatabase(){let e=!1;for(const t of this.neonCache){const n=t[0],i=t[1];if(i.dirty){e=!0;const t=this.annotations.findIndex(e=>e.target===n);let r;this.annotations[t].body.match(/^data:/)?r="data:application/mei+xml;base64,"+window.btoa(i.mei):await window.fetch(this.annotations[t].body,{method:"PUT",headers:{"Content-Type":"application/mei+xml"},body:i.mei}).then(e=>{r=e.ok?this.annotations[t].body:"data:application/mei+xml;base64,"+window.btoa(i.mei)}).catch(e=>{console.error(e),console.warn("Falling back to data URI"),r="data:application/mei+xml;base64,"+window.btoa(i.mei)}),this.annotations[t].body=r,await this.db.get(this.annotations[t].id).then(e=>(e.body=r,this.db.put(e))).then(()=>{i.dirty=!1}).catch(e=>{console.error(e)})}}e&&await this.db.get(this.manifest["@id"]).then(e=>(e.timestamp=(new Date).toISOString(),this.db.put(e))).catch(e=>{console.error(e)})}async deleteDb(){const e=await this.db.get(this.manifest["@id"]).then(e=>e.annotations);e.push(this.manifest["@id"]);const t=e.map(e=>new Promise(t=>{this.db.get(e).then(e=>this.db.remove(e)).then(()=>t())}));return Promise.all(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.verovioWorker=new Worker("/Neon/Neon-gh/workers/VerovioWorker.js")}addEventListener(e,t){return this.verovioWorker.addEventListener(e,t)}postMessage(e){return this.verovioWorker.postMessage(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseManifest=void 0;const i=n(63),r=n(64),s=n(65);t.parseManifest=function(e){const t=(0,s.validate)(e,i),n=t.instance;if(t.errors.length>0)return console.error(t.errors),!1;const o=n["@context"];return"https://ddmal.music.mcgill.ca/Neon/contexts/1/manifest.jsonld"===o||(o[0]===r[0]&&o[1].schema===r[1].schema&&o[1].title===r[1].title&&o[1].timestamp===r[1].timestamp&&o[1].image["@id"]===r[1].image["@id"]&&o[1].image["@type"]===r[1].image["@type"]&&o[1].mei_annotations["@id"]===r[1].mei_annotations["@id"]&&o[1].mei_annotations["@type"]===r[1].mei_annotations["@type"]&&o[1].mei_annotations["@container"]===r[1].mei_annotations["@container"]||(console.error("Context mismatch"),console.error(o),console.error(r),!1))}},function(e){e.exports=JSON.parse('{"type":"object","required":["@context","title","timestamp","image","mei_annotations"],"properties":{"@context":{"type":["array","string"]},"title":{"type":"string"},"timestamp":{"type":"string"},"image":{"type":"string"},"mei_annotations":{"type":"array","items":{"type":"object","required":["id","type","body","target"],"properties":{"id":{"type":"string"},"type":{"type":"string"},"body":{"type":"string"},"target":{"type":"string"}}}}}}')},function(e){e.exports=JSON.parse('["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]')},function(e,t,n){"use strict";var i=e.exports.Validator=n(66);e.exports.ValidatorResult=n(19).ValidatorResult,e.exports.ValidatorResultError=n(19).ValidatorResultError,e.exports.ValidationError=n(19).ValidationError,e.exports.SchemaError=n(19).SchemaError,e.exports.SchemaScanResult=n(44).SchemaScanResult,e.exports.scan=n(44).scan,e.exports.validate=function(e,t,n){return(new i).validate(e,t,n)}},function(e,t,n){"use strict";var i=n(43),r=n(72),s=n(19),o=n(44).scan,a=s.ValidatorResult,c=s.ValidatorResultError,l=s.SchemaError,u=s.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(f),this.attributes=Object.create(r.validators)};function h(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var i=o(t||"/",e),r=t||e.$id||e.id;for(var s in i.id)this.schemas[s]=i.id[s];for(var s in i.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[r]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,r){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new l("Expected `schema` to be an object or boolean");n||(n={});var s,d=t.$id||t.id,h=i.resolve(n.base||"/",d||"");if(!r){(r=new u(t,n,[],h,Object.create(this.schemas))).schemas[h]||(r.schemas[h]=t);var f=o(h,t);for(var p in f.id){var g=f.id[p];r.schemas[p]=g}}if(n.required&&void 0===e)return(s=new a(e,t,n,r)).addError("is required, but is undefined"),s;if(!(s=this.validateSchema(e,t,n,r)))throw new Error("Result undefined");if(n.throwAll&&s.errors.length)throw new c(s);return s},d.prototype.validateSchema=function(e,t,n,i){var o=new a(e,t,n,i);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var c={schema:t,ctx:i};t.extends.forEach(this.schemaTraverser.bind(this,c)),t=c.schema,c.schema=null,c.ctx=null,c=null}else t=s.deepMerge(t,this.superResolve(t.extends,i));var d=h(t);if(d){var f=this.resolve(t,d,i),p=new u(f.subschema,n,i.path,f.switchSchema,i.schemas);return this.validateSchema(e,f.subschema,n,p)}var g=n&&n.skipAttributes||[];for(var m in t)if(!r.ignoreProperties[m]&&g.indexOf(m)<0){var v=null,y=this.attributes[m];if(y)v=y.call(this,e,t,n,i);else if(!1===n.allowUnknownAttributes)throw new l("Unsupported attribute: "+m,t);v&&o.importErrors(v)}if("function"==typeof n.rewrite){var b=n.rewrite.call(this,e,t,n,i);o.instance=b}return o},d.prototype.schemaTraverser=function(e,t){e.schema=s.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=h(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=i.parse(t),o=r&&r.hash,a=o&&o.length&&t.substr(0,t.length-o.length);if(!a||!n.schemas[a])throw new l("no such schema <"+t+">",e);var c=s.objectGetPath(n.schemas[a],o.substr(1));if(void 0===c)throw new l("no such schema "+o+" located in <"+a+">",e);return{subschema:c,switchSchema:t}},d.prototype.testType=function(e,t,n,i,r){if(void 0!==r){if(null===r)throw new l('Unexpected null in "type" keyword');if("function"==typeof this.types[r])return this.types[r].call(this,e);if(r&&"object"==typeof r){var s=this.validateSchema(e,r,n,i);return void 0===s||!(s&&s.errors.length)}return!0}};var f=d.prototype.types={};f.string=function(e){return"string"==typeof e},f.number=function(e){return"number"==typeof e&&isFinite(e)},f.integer=function(e){return"number"==typeof e&&e%1==0},f.boolean=function(e){return"boolean"==typeof e},f.array=function(e){return Array.isArray(e)},f.null=function(e){return null===e},f.date=function(e){return e instanceof Date},f.any=function(e){return!0},f.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},function(e,t,n){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof i&&i;o.global!==o&&o.window!==o&&o.self;var a,c=2147483647,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function g(e){throw new RangeError(h[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function E(e){var t,n,i,r,s,o,a,l,u,d,h,p=[],m=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&g("not-basic"),p.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(s=v,o=1,a=36;r>=m&&g("invalid-input"),((l=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>f((c-v)/o))&&g("overflow"),v+=l*o,!(l<(u=a<=w?1:a>=w+26?26:a-w));a+=36)o>f(c/(d=36-u))&&g("overflow"),o*=d;w=_(v-s,t=p.length+1,0==s),f(v/t)>c-y&&g("overflow"),y+=f(v/t),v%=t,p.splice(v++,0,y)}return b(p)}function S(e){var t,n,i,r,s,o,a,l,u,d,h,m,v,b,E,S=[];for(m=(e=y(e)).length,t=128,n=0,s=72,o=0;o<m;++o)(h=e[o])<128&&S.push(p(h));for(i=r=S.length,r&&S.push("-");i<m;){for(a=c,o=0;o<m;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>f((c-n)/(v=i+1))&&g("overflow"),n+=(a-t)*v,t=a,o=0;o<m;++o)if((h=e[o])<t&&++n>c&&g("overflow"),h==t){for(l=n,u=36;!(l<(d=u<=s?1:u>=s+26?26:u-s));u+=36)E=l-d,b=36-d,S.push(p(w(d+E%b,0))),l=f(E/b);S.push(p(w(l,0))),s=_(n,v,i==r),n=0,++i}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:E,encode:S,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(50)(e),n(9))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(70),t.encode=t.stringify=n(71)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,h,f,p,g=e[u].replace(a,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),h=g.substr(m+1)):(d=g,h=""),f=decodeURIComponent(d),p=decodeURIComponent(h),i(o,f)?r(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?s(o(e),(function(o){var a=encodeURIComponent(i(o))+n;return r(e[o])?s(e[o],(function(e){return a+encodeURIComponent(i(e))})).join(t):a+encodeURIComponent(i(e[o]))})).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var i=n(19),r=i.ValidatorResult,s=i.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},a=o.validators={};function c(e,t,n,i,r){var s=t.throwError,o=t.throwAll;t.throwError=!1,t.throwAll=!1;var a=this.validateSchema(e,r,t,n);return t.throwError=s,t.throwAll=o,!a.valid&&i instanceof Function&&i(a),a.valid}function l(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function u(e,t,n,i,r,s){if(this.types.object(e)&&(!t.properties||void 0===t.properties[r]))if(!1===t.additionalProperties)s.addError({name:"additionalProperties",argument:r,message:"is not allowed to have the additional property "+JSON.stringify(r)});else{var o=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,r,o,n,i);var a=this.validateSchema(e[r],o,n,i.makeChild(o,r));a.instance!==s.instance[r]&&(s.instance[r]=a.instance),s.importErrors(a)}}a.type=function(e,t,n,i){if(void 0===e)return null;var s=new r(e,t,n,i),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,i))){var a=o.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));s.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return s},a.anyOf=function(e,t,n,i){if(void 0===e)return null;var o=new r(e,t,n,i),a=new r(e,t,n,i);if(!Array.isArray(t.anyOf))throw new s("anyOf must be an array");if(!t.anyOf.some(c.bind(this,e,n,i,(function(e){a.importErrors(e)})))){var l=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:l,message:"is not any of "+l.join(",")})}return o},a.allOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new s("allOf must be an array");var o=new r(e,t,n,i),a=this;return t.allOf.forEach((function(t,r){var s=a.validateSchema(e,t,n,i);if(!s.valid){var c=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+r+"]";o.addError({name:"allOf",argument:{id:c,length:s.errors.length,valid:s},message:"does not match allOf schema "+c+" with "+s.errors.length+" error[s]:"}),o.importErrors(s)}})),o},a.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new s("oneOf must be an array");var o=new r(e,t,n,i),a=new r(e,t,n,i),l=t.oneOf.filter(c.bind(this,e,n,i,(function(e){a.importErrors(e)}))).length,u=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==l&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:u,message:"is not exactly one from "+u.join(",")})),o},a.if=function(e,t,n,s){if(void 0===e)return null;if(!i.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o,a=c.call(this,e,n,s,null,t.if),l=new r(e,t,n,s);if(a){if(void 0===t.then)return;if(!i.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(e,t.then,n,s.makeChild(t.then)),l.importErrors(o)}else{if(void 0===t.else)return;if(!i.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(e,t.else,n,s.makeChild(t.else)),l.importErrors(o)}return l},a.propertyNames=function(e,t,n,o){if(this.types.object(e)){var a=new r(e,t,n,o),c=void 0!==t.propertyNames?t.propertyNames:{};if(!i.isSchema(c))throw new s('Expected "propertyNames" to be a schema (object or boolean)');for(var u in e)if(void 0!==l(e,u)){var d=this.validateSchema(u,c,n,o.makeChild(c));a.importErrors(d)}return a}},a.properties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.properties||{};for(var c in a){var u=a[c];if(void 0!==u){if(null===u)throw new s('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,u,n,i);var d=l(e,c),h=this.validateSchema(d,u,n,i.makeChild(u,c));h.instance!==o.instance[c]&&(o.instance[c]=h.instance),o.importErrors(h)}}return o}},a.patternProperties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.patternProperties||{};for(var c in e){var l=!0;for(var d in a){var h=a[d];if(void 0!==h){if(null===h)throw new s('Unexpected null, expected schema in "patternProperties"');try{var f=new RegExp(d,"u")}catch(e){f=new RegExp(d)}if(f.test(c)){l=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,h,n,i);var p=this.validateSchema(e[c],h,n,i.makeChild(h,c));p.instance!==o.instance[c]&&(o.instance[c]=p.instance),o.importErrors(p)}}}l&&u.call(this,e,t,n,i,c,o)}return o}},a.additionalProperties=function(e,t,n,i){if(this.types.object(e)){if(t.patternProperties)return null;var s=new r(e,t,n,i);for(var o in e)u.call(this,e,t,n,i,o,s);return s}},a.minProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length>=t.minProperties||s.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),s}},a.maxProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length<=t.maxProperties||s.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),s}},a.items=function(e,t,n,i){var s=this;if(this.types.array(e)&&void 0!==t.items){var o=new r(e,t,n,i);return e.every((function(e,r){if(Array.isArray(t.items))var a=void 0===t.items[r]?t.additionalItems:t.items[r];else a=t.items;if(void 0===a)return!0;if(!1===a)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=s.validateSchema(e,a,n,i.makeChild(a,r));return c.instance!==o.instance[r]&&(o.instance[r]=c.instance),o.importErrors(c),!0})),o}},a.contains=function(e,t,n,s){var o=this;if(this.types.array(e)&&void 0!==t.contains){if(!i.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var a=new r(e,t,n,s);return!1===e.some((function(e,i){return 0===o.validateSchema(e,t.contains,n,s.makeChild(t.contains,i)).errors.length}))&&a.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),a}},a.minimum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),s}},a.maximum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),s}},a.exclusiveMinimum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var s=new r(e,t,n,i);return e>t.exclusiveMinimum||s.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),s}},a.exclusiveMaximum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var s=new r(e,t,n,i);return e<t.exclusiveMaximum||s.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),s}};var d=function(e,t,n,o,a,c){if(this.types.number(e)){var l=t[a];if(0==l)throw new s(a+" cannot be zero");var u=new r(e,t,n,o),d=i.getDecimalPlaces(e),h=i.getDecimalPlaces(l),f=Math.max(d,h),p=Math.pow(10,f);return Math.round(e*p)%Math.round(l*p)!=0&&u.addError({name:a,argument:l,message:c+JSON.stringify(l)}),u}};function h(e,t,n){var r,s=n.length;for(r=t+1;r<s;r++)if(i.deepCompareStrict(e,n[r]))return!1;return!0}a.multipleOf=function(e,t,n,i){return d.call(this,e,t,n,i,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(e,t,n,i){return d.call(this,e,t,n,i,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(e,t,n,i){var s=new r(e,t,n,i);return void 0===e&&!0===t.required?s.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===l(e,t)&&s.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),s},a.pattern=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=t.pattern;try{var a=new RegExp(o,"u")}catch(e){a=new RegExp(o)}return e.match(a)||s.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),s}},a.format=function(e,t,n,s){if(void 0!==e){var o=new r(e,t,n,s);return o.disableFormat||i.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},a.minLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||s.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),s}},a.maxLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||s.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),s}},a.minItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length>=t.minItems||s.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),s}},a.maxItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length<=t.maxItems||s.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),s}},a.uniqueItems=function(e,t,n,i){if(!0===t.uniqueItems&&this.types.array(e)){var s=new r(e,t,n,i);return e.every(h)||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}},a.dependencies=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o],c=i.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){void 0===e[t]&&s.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var l=this.validateSchema(e,a,n,c);s.instance!==l.instance&&(s.instance=l.instance),l&&l.errors.length&&(s.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),s.importErrors(l))}}return s}},a.enum=function(e,t,n,o){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new s("enum expects an array",t);var a=new r(e,t,n,o);return t.enum.some(i.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},a.const=function(e,t,n,s){if(void 0===e)return null;var o=new r(e,t,n,s);return i.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},a.not=a.disallow=function(e,t,n,i){var s=this;if(void 0===e)return null;var o=new r(e,t,n,i),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(r){if(s.testType(e,t,n,i,r)){var a=r&&(r.$id||r.id)||r;o.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),o):null},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(17);t.default=async function(e){const t=await fetch("/Neon/Neon-gh/assets/template.html");document.body.innerHTML=await t.text(),document.getElementById("home-link").href="https://ddmal.music.mcgill.ca/Neon",document.getElementById("neon-version").textContent="9b43a6bd\n",document.getElementById("neon-main-icon").src="/Neon/Neon-gh/assets/img/Neon_Icon_3.svg",Array.from(document.getElementsByClassName("external-link-icon")).forEach(e=>{e.src="/Neon/Neon-gh/assets/img/external-link.svg"}),document.getElementById("filename").innerText=e.manifest.title,document.title=e.manifest.title,document.getElementById("navbar-item-hotkeys").addEventListener("click",(function(){e.modal.setModalWindowView(i.ModalWindowView.HOTKEYS),e.modal.openModalWindow()}));const n=document.querySelector("#file-saved");n.setAttribute("src","/Neon/Neon-gh/assets/img/saved-icon.svg"),n.setAttribute("alt","Your work is saved")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(12),r=n(4);t.default=class{constructor(e,t,n,i){this.view=e,this.meiClass=t,this.background=n,this.zoomHandler=i;document.getElementById("display_controls").innerHTML=function(e){let t='\n    <div class="panel-heading" id="displayHeader">\n      <div class="panel-heading-title">DISPLAY</div>\n      <svg class="icon is-pulled-right">\n        <use id="toggleDisplay" class="panel-dropdown-icon" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n      </svg>\n    </div>\n    <div id="displayContents" class="panel-contents">\n      <div class="panel-content-subsection first-subsection" id="display-slider-section">\n  ';return void 0!==e&&(t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n            <div class="display-slider-title">Zoom</div>\n            <button class="side-panel-btn slider-btn" id="reset-zoom" title="Reset zoom setting">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n            </button>\n            <button class="side-panel-btn slider-btn" id="set-zoom-easy-edit" title="Fit to page">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/expand-icon.svg">\n            </button>\n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="25" max="400" value="100"\n              aria-labelledby="reset-zoom"\n              class="slider is-fullwidth is-large"\n              id="zoomSlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n              disabled="disabled"\n            />\n            <output id="zoomOutput" for="zoomSlider">100</output>\n          </div>\n        </div>'),t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Glyph Opacity</div>\n            <button class="side-panel-btn slider-btn" id="toggle-glyph-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-glyph-opacity"\n              class="slider is-fullwidth is-large"\n              id="opacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="opacityOutput" for="opacitySlider">100</output>\n          </div>\n        </div>\n        \n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Image Opacity</div> \n            <button class="side-panel-btn slider-btn" id="toggle-bg-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-bg-opacity"\n              class="slider is-fullwidth is-large"\n              id="bgOpacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="bgOpacityOutput" for="bgOpacitySlider">100</output>\n          </div>\n        </div>\n      </div>\n      \n      <div class="panel-content-subsection">\n\n        <div id="highlight-options-title" class="panel-sub-title">Highlight Options:</div>\n        <div class="dropdown" id="highlight-dropdown">\n          <div class="dropdown-trigger">\n            <button class="side-panel-btn" id="highlight-button" aria-haspopup="true" aria-controls="highlight-menu" style="width: auto">\n              <span>Highlight</span>\n              <span id="highlight-type">&nbsp;- Off</span>\n              <svg class="icon">\n                <use id="toggleDisplay" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n              </svg>\n            </button>\n          </div>\n          <div class="dropdown-menu" id="highlight-menu" role="menu">\n            <div class="dropdown-content">\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-selection">By Selection Mode</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-column">Column</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-staff">Staff</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-syllable">Syllable</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-neume">Neume</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-layerElement">LayerElement</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-none">None</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="panel-content-subsection">\n        <div id="display-options-container">\n          <div id="display-options-title" class="panel-sub-title">Display Options:</div>\n\n          <div id="display-options-items">\n\n            <div id="checkbox-display-options">\n\n              <div id="display-all-container">\n                <div id="display-options-separator">\n                <div class="side-panel-btn" id="display-all-btn">Display All</div>\n              </div>\n              <div id="display-single-container"></div>\n\n              \n            </div>\n\n          </div>\n\n        </div>\n      </div>\n      \n    </div>',t}(this.zoomHandler),this.loadSettings(),this.view.addUpdateCallback(this.updateVisualization.bind(this))}setDisplayListeners(){this.zoomHandler&&i.setZoomControls(this.zoomHandler),i.initDisplayControls(this.meiClass,this.background)}loadSettings(){const{zoom:e,glyphOpacity:t,imageOpacity:n,highlightMode:i}=(0,r.getSettings)();document.querySelector("#zoomOutput")&&(document.querySelector("#zoomOutput").value=String(e),document.querySelector("#zoomSlider").value=String(e)),document.querySelector("#bgOpacityOutput").value=String(n),document.querySelector("#bgOpacitySlider").value=String(n),document.querySelector("#opacityOutput").value=String(t),document.querySelector("#opacitySlider").value=String(t);const s="none"===i?"Off":i[0].toUpperCase()+i.slice(1);document.querySelector("#highlight-type").textContent=" - "+s}updateVisualization(){i.setGlyphOpacityFromSlider(this.meiClass),i.setBgOpacityFromSlider(this.background),i.updateHighlight()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(98);t.default=class{constructor(e,t,n){this.neonView=e,this.updateCallbacks=[],this.divaReady=!1,this.diva=new i.default("container",{objectData:n}),document.getElementById("container").style.minHeight="100%",this.indexMap=new Map,this.diva.disableDragScrollable(),this.displayPanel=new t(this,"neon-container","diva-viewer-canvas"),this.loadDelay=500,this.initDivaEvents(),document.querySelector(".diva-inner").style.cursor="auto",window.onresize=()=>{const e=window.innerHeight,t=window.innerWidth;window.setTimeout(()=>{e===window.innerHeight&&t===window.innerWidth&&this.changePage(this.getCurrentPage(),!1)},this.loadDelay)}}initDivaEvents(){i.default.Events.subscribe("ManifestDidLoad",this.parseManifest.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ObjectDidLoad",this.didLoad.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ActivePageDidChange",this.changePage.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ZoomLevelDidChange",this.adjustZoom.bind(this),this.diva.settings.ID)}async changePage(e,t=!0){function n(e){if(e===this.getCurrentPage()){const t=this.indexMap.get(e);this.neonView.getPageSVG(t).then(t=>{this.updateSVG(t,e);const n="neon-container-"+e,i=document.getElementById(n);null!==i&&i.classList.add("active-page"),this.updateCallbacks.forEach(e=>e())}).catch(e=>{"not_found"!==e.name&&"missing_mei"!==e.name&&console.error(e)})}}const i=[e];Array.from(document.getElementsByClassName("active-page")).forEach(e=>{e.classList.remove("active-page")});for(const e of i)t?window.setTimeout(n.bind(this),this.loadDelay,e):n.bind(this)(e)}getCurrentPage(){return this.diva.getActivePageIndex()}getCurrentPageURI(){return this.indexMap.get(this.getCurrentPage())}adjustZoom(){new Promise(e=>{Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{e.style.display="none"}),setTimeout(e,this.diva.settings.zoomDuration+100)}).then(()=>{this.changePage(this.diva.getActivePageIndex(),!0),Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{const t=e.firstChild,n=parseInt(e.id.match(/\d+/)[0]);this.updateSVG(t,n),e.style.display=""})})}onSVGLoad(){this.setViewEventHandlers()}updateSVG(e,t){const n=document.getElementById("diva-1-inner"),i=this.diva.getPageDimensionsAtCurrentZoomLevel(t),r=this.diva.settings.viewHandler._viewerCore.getPageRegion(t,{includePadding:!0,incorporateViewport:!0}),s=window.getComputedStyle(n,null).getPropertyValue("margin-left"),o="neon-container-"+t.toString();let a=document.getElementById(o);for(null===a&&(a=document.createElement("div"),a.id=o,a.classList.add("neon-container"),n.appendChild(a));a.firstChild;)a.removeChild(a.firstChild);e.setAttribute("width",i.width.toString()),e.setAttribute("height",i.height.toString()),a.style.position="absolute",a.style.top=r.top+"px",a.style.left=r.left-parseInt(s)+"px",a.appendChild(e)}didLoad(){this.divaReady=!0,this.displayPanel.setDisplayListeners(),document.getElementById("loading").style.display="none"}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility="hidden"}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility=""}})}parseManifest(e){this.indexMap.clear();for(const t of e.sequences)for(const e of t.canvases)this.indexMap.set(t.canvases.indexOf(e),e["@id"])}getPageName(){return this.diva.settings.manifest.itemTitle+" — "+this.diva.settings.manifest.pages[this.getCurrentPage()].l}}},function(e,t){var n,i,r,s;n=window.requestAnimationFrame,i="ontouchend"in document,r=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},(s=function(e,t){return this.settings=r({},s.DEFAULTS,t),this.el=e,this.ACTIVE_CLASS="kinetic-active",this._initElements(),this.el._VanillaKinetic=this,this}).DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,invert:!1,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},s.prototype.start=function(e){this.settings=r(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},s.prototype.end=function(){this.settings.decelerate=!0},s.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,"function"==typeof this.settings.stopped&&this.settings.stopped.call(this)},s.prototype.detach=function(){this._detachListeners(),this.el.classList.remove(this.ACTIVE_CLASS),this.el.style.cursor=""},s.prototype.attach=function(){this.el.classList.contains(this.ACTIVE_CLASS)||(this._attachListeners(),this.el.classList.add(this.ACTIVE_CLASS),this.el.style.cursor=this.settings.cursor)},s.prototype._initElements=function(){this.el.classList.add(this.ACTIVE_CLASS),r(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0;var e=this;this.documentResetHandler=function(){e._resetMouse.apply(e)};var t=document.documentElement;if(t.addEventListener("mouseup",this.documentResetHandler,!1),t.addEventListener("click",this.documentResetHandler,!1),this._initEvents(),this.el.style.cursor=this.settings.cursor,this.settings.triggerHardware)for(var n=["","-ms-","-webkit-","-moz-"],i={transform:"translate3d(0,0,0)",perspective:"1000","backface-visibility":"hidden"},s=0;s<n.length;s++){var o=n[s];for(var a in i)i.hasOwnProperty(a)&&(this.el.style[o+a]=i[a])}},s.prototype._initEvents=function(){var e=this;this.settings.events={touchStart:function(t){var n;e._useTarget(t.target,t)&&(n=t.originalEvent.touches[0],e.threshold=e._threshold(t.target,t),e._start(n.clientX,n.clientY),t.stopPropagation())},touchMove:function(t){var n;e.mouseDown&&(n=t.originalEvent.touches[0],e._inputmove(n.clientX,n.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){e._useTarget(t.target,t)&&(e.threshold=e._threshold(t.target,t),e._start(t.clientX,t.clientY),e.elementFocused=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){e._useTarget(t.target,t)&&(e._end(),e.elementFocused=null,t.preventDefault&&t.preventDefault())},inputMove:function(t){e.mouseDown&&(e._inputmove(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof e.settings.moved&&e.settings.moved.call(e,e.settings),t.preventDefault&&t.preventDefault()},inputClick:function(t){if(Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},dragStart:function(t){if(e._useTarget(t.target,t)&&e.elementFocused)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},selectStart:function(t){return"function"==typeof e.settings.selectStart?e.settings.selectStart.apply(e,arguments):e._useTarget(t.target,t)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1):void 0}},this._attachListeners()},s.prototype._inputmove=function(e,t){if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var n=e-this.xpos,i=t-this.ypos;if(this.settings.invert&&(n*=-1,i*=-1),this.threshold>0){var r=Math.sqrt(n*n+i*i);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(this.elementFocused.blur(),this.elementFocused=null,this.el.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var s=this.scrollLeft(),o=this.scrollTop();this.scrollLeft(this.settings.x?s-n:s),this.scrollTop(this.settings.y?o-i:o),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=t,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),"function"==typeof this.settings.moved&&this.settings.moved.call(this,this.settings)}},s.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity),this.settings.invert&&(this.velocity*=-1,this.velocityY*=-1)},s.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},s.prototype._useTarget=function(e,t){return"function"!=typeof this.settings.filterTarget||!1!==this.settings.filterTarget.call(this,e,t)},s.prototype._threshold=function(e,t){return"function"==typeof this.settings.threshold?this.settings.threshold.call(this,e,t):this.settings.threshold},s.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},s.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},s.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},s.prototype._capVelocity=function(e,t){var n=e;return e>0?e>t&&(n=t):e<0-t&&(n=0-t),n},s.prototype._setMoveClasses=function(e){var t=this.settings,n=this.el;n.classList.remove(t.movingClass.up),n.classList.remove(t.movingClass.down),n.classList.remove(t.movingClass.left),n.classList.remove(t.movingClass.right),n.classList.remove(t.deceleratingClass.up),n.classList.remove(t.deceleratingClass.down),n.classList.remove(t.deceleratingClass.left),n.classList.remove(t.deceleratingClass.right),this.velocity>0&&n.classList.add(e.right),this.velocity<0&&n.classList.add(e.left),this.velocityY>0&&n.classList.add(e.down),this.velocityY<0&&n.classList.add(e.up)},s.prototype._move=function(){var e=this._getScroller(),t=this,i=this.settings;i.x&&e.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=i.decelerate?t._decelerateVelocity(this.velocity,i.slowdown):this.velocity)):this.velocity=0,i.y&&e.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=i.decelerate?t._decelerateVelocity(this.velocityY,i.slowdown):this.velocityY)):this.velocityY=0,t._setMoveClasses(i.deceleratingClass),"function"==typeof i.moved&&i.moved.call(this,i),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,n((function(){t.moving=!1,t._move()}))):t.stop()},s.prototype._getScroller=function(){return this.el},s.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft;t.scrollLeft=e,this.settings.scrollLeft=e},s.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop;t.scrollTop=e,this.settings.scrollTop=e},s.prototype._attachListeners=function(){var e=this.el,t=this.settings;i&&(e.addEventListener("touchstart",t.events.touchStart,!1),e.addEventListener("touchend",t.events.inputEnd,!1),e.addEventListener("touchmove",t.events.touchMove,!1)),e.addEventListener("mousedown",t.events.inputDown,!1),e.addEventListener("mouseup",t.events.inputEnd,!1),e.addEventListener("mousemove",t.events.inputMove,!1),e.addEventListener("click",t.events.inputClick,!1),e.addEventListener("scroll",t.events.scroll,!1),e.addEventListener("selectstart",t.events.selectStart,!1),e.addEventListener("dragstart",t.events.dragStart,!1)},s.prototype._detachListeners=function(){var e=this.el,t=this.settings;i&&(e.removeEventListener("touchstart",t.events.touchStart,!1),e.removeEventListener("touchend",t.events.inputEnd,!1),e.removeEventListener("touchmove",t.events.touchMove,!1)),e.removeEventListener("mousedown",t.events.inputDown,!1),e.removeEventListener("mouseup",t.events.inputEnd,!1),e.removeEventListener("mousemove",t.events.inputMove,!1),e.removeEventListener("click",t.events.inputClick,!1),e.removeEventListener("scroll",t.events.scroll,!1),e.removeEventListener("selectstart",t.events.selectStart,!1),e.removeEventListener("dragstart",t.events.dragStart,!1)},window.VanillaKinetic=s},function(e,t,n){var i,r,s;
/**
 * @fileoverview dragscroll - scroll area by dragging
 * @version 0.0.8
 *
 * @license MIT, see http://github.com/asvd/dragscroll
 * @copyright 2015 asvd <heliosframework@gmail.com>
 */r=[t],void 0===(s="function"==typeof(i=function(e){var t,n,i=window,r=document,s=[],o=function(e,o){for(e=0;e<s.length;)(o=(o=s[e++]).container||o).removeEventListener("mousedown",o.md,0),i.removeEventListener("mouseup",o.mu,0),i.removeEventListener("mousemove",o.mm,0);for(s=[].slice.call(r.getElementsByClassName("dragscroll")),e=0;e<s.length;)!function(e,s,o,a,c,l){(l=e.container||e).addEventListener("mousedown",l.md=function(t){e.hasAttribute("nochilddrag")&&r.elementFromPoint(t.pageX,t.pageY)!==l||(a=1,s=t.clientX,o=t.clientY,t.preventDefault())},0),i.addEventListener("mouseup",l.mu=function(){a=0},0),i.addEventListener("mousemove",l.mm=function(i){a&&((c=e.scroller||e).scrollLeft-=t=-s+(s=i.clientX),c.scrollTop-=n=-o+(o=i.clientY),e===r.body&&((c=r.documentElement).scrollLeft-=t,c.scrollTop-=n))},0)}(s[e++])};"complete"===r.readyState?o():i.addEventListener("load",o,0),e.reset=o,window.resetDragscroll=o})?i.apply(t,r):i)||(e.exports=s)},function(e,t,n){e.exports=function(e){function t(e){let n,r,s,o=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),s=r-(n||r);i.diff=s,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;const s=t.formatters[r];if("function"==typeof s){const t=e[o];n=s.call(i,t),e.splice(o,1),o--}return n}),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(79),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,i=6e4,r=60*i,s=24*r;function o(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*i;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return o(e,t,s,"day");if(t>=r)return o(e,t,r,"hour");if(t>=i)return o(e,t,i,"minute");if(t>=n)return o(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(12),r=n(81),s=n(7),o=n(4);t.default=class{constructor(e,t,n){this.neonView=e,this.container=document.getElementById("container"),this.updateCallbacks=new Array(0),this.group=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.group.id="svg_group",this.group.setAttribute("height",window.innerHeight.toString()),this.group.setAttribute("width","100%"),this.bg=document.createElementNS("http://www.w3.org/2000/svg","image"),this.bg.id="bgimg",this.bg.classList.add("background"),this.bg.setAttribute("x","0"),this.bg.setAttribute("y","0");const i=new FileReader;fetch(n).then(e=>{if(e.ok)return i.addEventListener("load",()=>{this.bg.setAttributeNS("http://www.w3.org/1999/xlink","href",i.result.toString());const e=this.bg.getBBox();if(!this.group.hasAttribute("viewBox")){let{viewBox:t}=(0,o.getSettings)();t||(t="0 0 "+e.width.toString()+" "+e.height.toString()),this.group.setAttribute("viewBox",t)}}),e.blob()}).then(e=>{i.readAsDataURL(e)}),this.svg=document.createElementNS("http://www.w3.org/svg","svg"),this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page"),this.group.appendChild(this.bg),this.group.appendChild(this.svg),this.container.appendChild(this.group),this.zoomHandler=new r.default,this.displayPanel=new t(this,"neon-container","background",this.zoomHandler),this.pageURI=n,document.getElementById("loading").style.display="none"}onSVGLoad(){this.setViewEventHandlers(),this.displayPanel.setDisplayListeners()}updateSVG(e){this.group.replaceChild(e,this.svg),this.svg=e,this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page");const t=parseInt(this.svg.getAttribute("height")),n=parseInt(this.svg.getAttribute("width"));this.bg.setAttribute("height",t.toString()),this.bg.setAttribute("width",n.toString());const{viewBox:r}=(0,o.getSettings)();r?this.group.setAttribute("viewBox",r):this.group.setAttribute("viewBox","0 0 "+n+" "+t),(0,i.updateHighlight)(),this.resetTransformations(),this.updateCallbacks.forEach(e=>e())}async changePage(e,t){const n=await this.neonView.getPageSVG(this.getCurrentPageURI());this.updateSVG(n)}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}resetTransformations(){this.displayPanel.zoomHandler.restoreTransformation(),(0,i.setGlyphOpacityFromSlider)(),(0,i.setBgOpacityFromSlider)()}getCurrentPage(){return 0}getCurrentPageURI(){return this.pageURI}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),s.select("#svg_group").call(s.drag().on("start",this.displayPanel.zoomHandler.startDrag.bind(this.displayPanel.zoomHandler)).on("drag",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)));break;case"h":document.getElementById("mei_output").setAttribute("visibility","hidden")}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),"viewer"!==this.neonView.getUserMode()&&this.neonView.NeumeEdit.setSelectListeners();break;case"h":document.getElementById("mei_output").setAttribute("visibility","visible")}}),s.select("#container").on("touchstart",()=>{2===s.event.touches.length&&(this.displayPanel.zoomHandler.startDrag(),s.select("#container").on("touchmove",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)),s.select("#container").on("touchend",()=>{s.select("#container").on("touchmove",null)}))}),s.select("#container").on("wheel",this.displayPanel.zoomHandler.scrollZoom.bind(this.displayPanel.zoomHandler),!1),window.onresize=()=>{const e=window.innerHeight,t=document.getElementById("container");e>Number(t.getAttribute("height"))&&t.setAttribute("height",e.toString())}}getPageName(){return this.neonView.name}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZoomHandler=t.ViewBox=void 0;const i=n(7),r=n(4);class s{constructor(e,t){this.minX=0,this.minY=0,this.width=e,this.height=t,this.imageWidth=e,this.imageHeight=t}set(e,t,n,i){this.minX=e,this.minY=t,this.width=n,this.height=i}get(){return this.minX.toString()+" "+this.minY.toString()+" "+this.width+" "+this.height}zoomTo(e){const t=this.imageHeight/e,n=this.imageWidth/e;this.width=n,this.height=t}getZoom(){return this.imageWidth/this.width}translate(e,t){this.minX+=e,this.minY+=t}}t.ViewBox=s;class o{resetZoomAndPan(e=!0){const t=document.getElementById("bgimg");this.viewBox=new s(parseInt(t.getAttribute("width")),parseInt(t.getAttribute("height"))),e&&(this.updateSVGViewBox(),(0,r.setSettings)({zoom:100}))}zoomTo(e){this.setViewBox(),this.viewBox.zoomTo(e),this.updateSVGViewBox(),(0,r.setSettings)({zoom:Math.floor(100*e)})}translate(e,t){this.setViewBox(),this.viewBox.translate(e,t),this.updateSVGViewBox()}restoreTransformation(){void 0===this.viewBox?this.resetZoomAndPan(!1):this.updateSVGViewBox()}setViewBox(){if(void 0===this.viewBox){const e=document.getElementById("bgimg");this.viewBox=new s(parseInt(e.getAttribute("width")),parseInt(e.getAttribute("height")))}const e=document.getElementById("svg_group").getAttribute("viewBox").split(" ");this.viewBox.set(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),parseInt(e[3]))}updateSVGViewBox(){const e=this.viewBox.get();document.getElementById("svg_group").setAttribute("viewBox",e),(0,r.setSettings)({viewBox:e})}startDrag(){const e=document.getElementById("svg_group");this.dragCoordinates=e.createSVGPoint(),"touchstart"===i.event.type?(this.dragCoordinates.x=i.event.touches[0].screenX,this.dragCoordinates.y=i.event.touches[0].screenY):(this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y),this.matrix=e.getScreenCTM().inverse()}dragging(){const e=document.getElementById("svg_group"),t=e.createSVGPoint();"touchmove"===i.event.type?(t.x=i.event.touches[0].screenX,t.y=i.event.touches[0].screenY):"wheel"===i.event.type&&!1===i.event.shiftKey?(void 0===this.matrix&&(this.matrix=e.getScreenCTM().inverse()),void 0===this.dragCoordinates&&(this.dragCoordinates=e.createSVGPoint()),this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y,t.x=this.dragCoordinates.x-i.event.deltaX,t.y=this.dragCoordinates.y-i.event.deltaY,i.event.preventDefault()):(t.x=i.event.x,t.y=i.event.y);const n=t.matrixTransform(this.matrix),r=this.dragCoordinates.matrixTransform(this.matrix);this.translate(-n.x+r.x,-n.y+r.y),this.dragCoordinates=t}scrollZoom(){if("wheel"!==i.event.type)return;if(!i.event.shiftKey)return void this.dragging();const e=document.getElementById("zoomSlider");this.setViewBox();let t=this.viewBox.getZoom()-i.event.deltaX/100;t<parseInt(e.getAttribute("min"))/100&&(t=.25),t>parseInt(e.getAttribute("max"))/100&&(t=4),this.zoomTo(t),e.value=(100*t).toString(),document.getElementById("zoomOutput").value=String(Math.round(100*t))}}t.ZoomHandler=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(45),s=n(53),o=n(13),a=n(12),c=n(23),l=n(8),u=n(54),d=n(4);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){document.getElementById("insert_controls").innerHTML+=l.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=l.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=u.undoRedoPanel,this.dragHandler=new c.default(this.neonView,".active-page > svg"),this.insertHandler=new s.default(this.neonView,".active-page > svg"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,d.getSettings)();document.getElementById(e).click(),r.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),o.initNeonView(this.neonView),(0,i.initInsertEditControls)(),r.setSelectStrokeWidth(1),(0,i.initSelectionButtons)(),(0,a.setHighlightSelectionControls)(),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,d.getSettings)();return e}setSelectListeners(){r.clickSelect(".active-page > svg > svg, .active-page > svg > svg use, .active-page > svg > svg rect"),r.dragSelect(".active-page svg")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(12),s=n(55),o=n(45),a=n(53),c=n(13),l=n(23),u=n(8),d=n(54),h=n(55),f=n(4);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){(0,h.initNavbar)(this.neonView),document.getElementById("insert_controls").innerHTML+=u.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=u.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=d.undoRedoPanel,this.dragHandler=new l.default(this.neonView,"#svg_group"),this.insertHandler=new a.default(this.neonView,"#svg_group"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,f.getSettings)();document.getElementById(e).click(),o.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),c.initNeonView(this.neonView),(0,i.initInsertEditControls)(),(0,i.initSelectionButtons)(),(0,s.initUndoRedoPanel)(this.neonView),(0,r.setHighlightOption)("selection"),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,f.getSettings)();return e}setSelectListeners(){o.clickSelect("#svg_group, #svg_group use, #svg_group rect"),o.dragSelect("#svg_group")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(4),r=n(12),s=new Map([["","Punctum"],["u","Pes"],["d","Clivis"],["uu","Scandicus"],["ud","Torculus"],["du","Porrectus"],["s","Distropha"],["ss","Tristopha"],["sd","Pressus"],["dd","Climacus"],["ddu","ClimacusResupinus"],["udu","TorculusResupinus"],["dud","PorrectusFlexus"],["udd","PesSubpunctis"],["uud","ScandicusFlexus"],["uudd","ScandicusSubpunctis"],["dudd","PorrectusSubpunctis"]]);function o(){const e=document.getElementById("element_info"),t=document.getElementById("displayInfo");(0,i.setSettings)({displayInfo:t.checked}),t.checked?e.setAttribute("style",""):e.setAttribute("style","display: none"),(0,r.updateDisplayAllBtn)()}function a(){document.getElementById("element_info").innerHTML='<div class="info-bubble-container">\n      <div class="info-bubble-header">Element Info</div>\n      <div class="info-bubble-body"><i>Hover over any element to see its metadata</i></div>\n    </div>',document.getElementById("element_info").setAttribute("style","display: none"),function(){const{displayInfo:e}=(0,i.getSettings)();document.querySelector("#displayInfo").checked=e}(),o(),document.getElementById("displayInfo").addEventListener("click",o)}t.default=class{constructor(e){this.neonView=e;const t=document.getElementById("display-single-container"),n=document.createElement("label");n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Info";const i=document.createElement("input");i.id="displayInfo",i.classList.add("checkbox"),i.type="checkbox",i.checked=!1,n.appendChild(i),t.prepend(n),this.neonView.view.addUpdateCallback(this.resetInfoListeners.bind(this)),a(),this.resetInfoListeners()}infoListeners(){try{document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.addEventListener("mouseover",t=>{e.classList.contains("staff")||(this.isHoveringChild=!0),this.updateInfo(t)})}),document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine").forEach(e=>{e.addEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}catch(e){}}stopListeners(){document.querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.removeEventListener("mouseover",this.updateInfo.bind(this))}),document.querySelectorAll(".neume, .custos, .clef, .accid, .divLine").forEach(e=>{e.removeEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}resetInfoListeners(){this.stopListeners(),this.infoListeners()}async updateInfo(e){const t=e.currentTarget.id;if(""===t)return Array.from(document.getElementById("element_info").children).forEach(e=>{e.remove()}),void console.log("No id!");const n=document.getElementById(t),i=n.getAttribute("class").match(/neume|clef|custos|staff|accid|divLine/)[0];let r,s="";switch(i){case"neume":{const e=n.querySelectorAll(".nc");if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("a"===t.curve||"c"===t.curve){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Liquescent\r\nPitch(es): "+t;break}}let t=await this.getContour(e);if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("s"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Virga \r\nPitch(es): "+t;break}if("n"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Reversed Virga \r\nPitch(es): "+t;break}}if("Clivis"===t){(await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI())).ligated&&(t="Ligature")}let i=await this.getPitches(e);i=i.trim().toUpperCase(),s="Shape: "+(void 0===t?"Compound":t)+"\r\nPitch(es): "+i;break}case"custos":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="Pitch: "+r.pname.toUpperCase()+r.oct;break;case"accid":{r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());let e="";"F"==r.accid.toUpperCase()?e="Flat":"N"==r.accid.toUpperCase()&&(e="Natural"),s+="Accid Type: "+e;break}case"clef":{const e=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());if(e["dis.place"]&&void 0!==e.dis){s+="Octave Displacement: "+((e,t)=>("above"===e?"+":"-")+String(Math.floor(Number(t)/7)))(e["dis.place"],e.dis)+"\r\n"}else s+="Octave Displacement: None\r\n";s+="Shape: "+e.shape+"\r\nLine: "+e.line;break}case"divLine":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="DivLine Type: "+r.form;break;case"staff":if(this.isHoveringChild)return;r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),r.type&&(s+="Column: "+r.type.replace(/^column/,""));break;default:s+="nothing"}s=`Element Type: ${i.charAt(0).toUpperCase()+i.slice(1)}\n${s}`,this.updateInfoModule(s)}async getPitches(e){let t="";for(const n of e){const e=await this.neonView.getElementAttr(n.id,this.neonView.view.getCurrentPageURI());t+=e.pname+e.oct+" "}return t}async getContour(e){let t="",n=null;for(const i of e){const e=await this.neonView.getElementAttr(i.id,this.neonView.view.getCurrentPageURI());null!==n&&(n.oct>e.oct?t+="d":n.oct<e.oct||this.pitchNameToNum(n.pname)<this.pitchNameToNum(e.pname)?t+="u":this.pitchNameToNum(n.pname)>this.pitchNameToNum(e.pname)?t+="d":t+="s"),n=e}return void 0===s.get(t)&&console.warn("Unknown contour: "+t),s.get(t)}updateInfoModule(e){document.getElementsByClassName("info-bubble-body")[0].innerText=e,document.getElementById("displayInfo").checked&&(document.getElementsByClassName("info-bubble-container")[0].style.display="")}pitchNameToNum(e){switch(e){case"c":return 1;case"d":return 2;case"e":return 3;case"f":return 4;case"g":return 5;case"a":return 6;case"b":return 7;default:console.log("Unknown pitch name")}}getContourByValue(e){for(const[t,n]of s.entries())if(n===e)return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(5),r=n(3),s=n(12),o=n(4);t.default=class{constructor(e){this.neonView=e,this.notificationSent=!1;const t=document.getElementById("display-single-container"),n=document.createElement("label"),i=document.createElement("label"),r=document.createElement("input"),s=document.createElement("input");r.classList.add("checkbox"),s.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),i.classList.add("checkbox-container","side-panel-btn"),n.textContent="Text",i.textContent="BBoxes",r.id="displayText",r.type="checkbox",s.id="displayBBox",s.type="checkbox",r.checked=!1,s.checked=!1,n.appendChild(r),i.appendChild(s),t.prepend(i),t.prepend(n),this.loadSettings(),this.setTextViewControls(),this.neonView.view.addUpdateCallback(this.updateTextViewVisibility.bind(this)),this.neonView.view.addUpdateCallback(this.updateBBoxVisibility.bind(this))}setTextViewControls(){this.updateTextViewVisibility(),this.updateBBoxVisibility(),document.getElementById("displayText").addEventListener("click",()=>{this.updateTextViewVisibility(),(0,s.updateDisplayAllBtn)()}),document.getElementById("displayBBox").addEventListener("click",()=>{this.updateBBoxVisibility(),(0,s.updateDisplayAllBtn)()})}loadSettings(){const{displayText:e,displayBBox:t}=(0,o.getSettings)();document.querySelector("#displayText").checked=e,document.querySelector("#displayBBox").checked=t}updateBBoxVisibility(){var e;const t=document.getElementById("displayBBox");if((0,o.setSettings)({displayBBox:t.checked}),t.checked){if(document.querySelectorAll(".sylTextRect").forEach(e=>{e.classList.add("sylTextRect-display"),e.classList.remove("sylTextRect")}),document.querySelectorAll(".syl.selected .sylTextRect-display").forEach(e=>{e.style.fill="red"}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit){this.neonView.TextEdit.initSelectByBBoxButton(),this.neonView.TextEdit.initBBoxCircleSlider();const{circleSize:e}=(0,o.getSettings)();document.querySelector("#circleOutput").value=String(e),document.querySelector("#circleSlider").value=String(e)}}else{(null===(e=document.getElementById("selByBBox"))||void 0===e?void 0:e.classList.contains("is-active"))&&((0,r.unselect)(),document.getElementById("selByBBox").classList.remove("is-active"),document.getElementById("selBySyllable").classList.add("is-active"),(0,o.setSettings)({selectionMode:"selBySyllable"})),document.querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("sylTextRect"),e.classList.remove("sylTextRect-display")}),document.querySelectorAll(".syl.selected .sylTextRect").forEach(e=>{e.style.fill="none"});try{document.getElementById("selByBBox").style.display="none"}catch(e){}try{document.getElementById("bbox-circle-slider").style.display="none"}catch(e){}}(0,s.updateHighlight)()}updateTextViewVisibility(){const e=document.getElementById("displayText");if((0,o.setSettings)({displayText:e.checked}),e.checked){const e=document.getElementById("syl_text");e.style.display="",e.innerHTML=`<div class="info-bubble-container">\n          <div class="info-bubble-header">Syllables on this page</div>\n          <div class="info-bubble-body">${this.getSylText()}</div>\n        </div>`;e.querySelectorAll("span").forEach(e=>{const t=document.getElementById(e.classList[0]),n=t.querySelector(".syl"),i=n.querySelector("text"),r=n.querySelector("rect");0===i.classList.length&&i.classList.add("text"),e.addEventListener("mouseover",()=>{t.classList.contains("syllable-highlighted")||(t.classList.add("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.add("selected")}),null!==r&&(r.style.fill="#d00"))}),e.addEventListener("mouseleave",()=>{t.classList.contains("syllable-highlighted")||(t.classList.remove("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.remove("selected")}),null!==r&&("rgb(0, 0, 0)"!==t.style.fill?r.style.fill=t.getAttribute("fill"):r.style.fill="blue"))})}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit&&this.neonView.TextEdit.initTextEdit()}else document.getElementById("syl_text").style.display="none"}getSylText(){let e="";return document.querySelectorAll(".active-page .syllable").forEach(t=>{if(null!==t.querySelector(".syl")){const n=t.querySelector(".syl");e+=`<span class="${t.id} syl-text-side-panel">`,""===n.textContent.trim()?e+="&#x25CA; ":Array.from(n.children[0].children[0].children).forEach(t=>{e+=""!==t.textContent?t.textContent:"&#x25CA; "}),e+=" </span>"}}),this.notificationSent||(i.queueNotification("Blank syllables are represented by ◊!"),this.notificationSent=!0),e.replace(/\ue551/g,"-")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(23),s=n(45),o=n(18),a=n(17),c=n(4),l=n(12);function u(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)(),(0,c.setSettings)({selectionMode:"selByBBox"});try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,o.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow()}e.removeEventListener("click",n),e.addEventListener("click",n)}),document.addEventListener("keydown",e=>{if(e.shiftKey&&"T"===e.key){const e=document.querySelector(".text-select");e&&e.scrollIntoView({behavior:"smooth"})}})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",u.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&u.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,s.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,s.clickSelect)("#mei_output, #mei_output rect"),(0,s.dragSelect)("#svg_group")):((0,s.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,s.dragSelect)(".active-page svg"))))}initBBoxCircleSlider(){const e=document.getElementById("bbox-circle-slider");if(e)return void(e.style.display="");const t=document.getElementById("display-slider-section"),n=document.createElement("div");n.classList.add("slider-and-slider-actions-container","display-panel"),n.style.cursor="default",n.id="bbox-circle-slider",n.innerHTML='\n    <div class="slider-actions-container">\n        <div class="display-slider-title">BBox Circle</div>\n        <button class="side-panel-btn slider-btn" id="reset-circle-size" title="Reset circle size">\n            <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n        </button>\n    </div>\n    <div class="slider-container">\n        <input type="range"\n            step="1" min="0" max="25" value="25"\n            aria-labelledby="reset-circle-size"\n            class="slider is-fullwidth is-large"\n            id="circleSlider"\n            style="padding-left: 1rem; padding-right: 1rem;"\n            disabled="disabled"\n        />\n        <output id="circleOutput" for="circleSlider">25</output>\n    </div>',t.appendChild(n),void 0===this.neonView.NeumeEdit&&(n.style.display="none"),(0,l.setCircleSizeControls)()}}},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(76),n(77);function i(e){const t=document.createElement(e),n=Array.prototype.slice.call(arguments,1);for(;n.length;){r(t,n.shift())}return t}function r(e,t){if(null!=t)if("object"!=typeof t&&"function"!=typeof t)e.appendChild(document.createTextNode(t));else if(t instanceof window.Node)e.appendChild(t);else if(t instanceof Array){const n=t.length;for(let i=0;i<n;i++)r(e,t[i])}else s(e,t)}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&("style"===n?o(e,t.style):e.setAttribute(n,t[n]))}function o(e,t){if(t)if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);else e.style.cssText=t}function a(e){this.name="DivaParentElementNotFoundException",this.message=e,this.stack=(new Error).stack}function c(e){this.name="NotAnIIIFManifestException",this.message=e,this.stack=(new Error).stack}function l(e){this.name="ObjectDataNotSuppliedException",this.message=e,this.stack=(new Error).stack}a.prototype=new Error,c.prototype=new Error,l.prototype=new Error;var u={Events:new class{constructor(){this._cache={}}publish(e,t,n){if(this._cache[e]){const i=this._cache[e];if(void 0!==i.global){const e=i.global,r=e.length;for(let i=0;i<r;i++)e[i].apply(n||null,t||[])}if(n&&void 0!==n.getInstanceId){const i=n.getInstanceId();if(this._cache[e][i]){const r=this._cache[e][i],s=r.length;for(let e=0;e<s;e++)r[e].apply(n,t||[])}}}}subscribe(e,t,n){return this._cache[e]||(this._cache[e]={}),"string"==typeof n?(this._cache[e][n]||(this._cache[e][n]=[]),this._cache[e][n].push(t)):(this._cache[e].global||(this._cache[e].global=[]),this._cache[e].global.push(t)),n?[e,t,n]:[e,t]}unsubscribe(e,t){const n=e[0];if(this._cache[n]){let i;const r=3===e.length?e[2]:"global";if(i=this._cache[n][r],!i)return!1;if(t)return delete this._cache[n][r],i.length>0;let s=i.length;for(;s--;)if(i[s]===e[1])return this._cache[n][r].splice(s,1),!0}return!1}unsubscribeAll(e){if(e){const t=Object.keys(this._cache);let n,i=t.length;for(;i--;)n=t[i],void 0!==this._cache[n][e]&&delete this._cache[n][e]}else this._cache={}}}};var d={onDoubleClick:function(e,t){e.addEventListener("dblclick",(function(e){e.ctrlKey||t(e,p(e.currentTarget,e))}));const n=f(500);e.addEventListener("contextmenu",(function(e){e.preventDefault(),e.ctrlKey&&(n.isTriggered()?(n.reset(),t(e,p(e.currentTarget,e))):n.trigger())}))},onPinch:function(e,t){let n=0;e.addEventListener("touchstart",(function(e){e.preventDefault(),2===e.originalEvent.touches.length&&(n=h(e.originalEvent.touches[0].clientX,e.originalEvent.touches[0].clientY,e.originalEvent.touches[1].clientX,e.originalEvent.touches[1].clientY))})),e.addEventListener("touchmove",(function(e){if(e.preventDefault(),2===e.originalEvent.touches.length){const i=e.originalEvent.touches,r=h(i[0].clientX,i[0].clientY,i[1].clientX,i[1].clientY),s=r-n;if(Math.abs(s)>0){const s={pageX:(i[0].clientX+i[1].clientX)/2,pageY:(i[0].clientY+i[1].clientY)/2};t(e,p(e.currentTarget,s),n,r)}}}))},onDoubleTap:function(e,t){const n=f(250);let i=null;e.addEventListener("touchend",e=>{if(e.preventDefault(),n.isTriggered()){n.reset();const r={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY};h(i.pageX,i.pageY,r.pageX,r.pageY)<50&&t(e,p(e.currentTarget,r)),i=null}else i={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY},n.trigger()})}};function h(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function f(e){let t=!1,n=null;return{trigger(){t=!0,i(),n=setTimeout((function(){t=!1,n=null}),e)},isTriggered:()=>t,reset(){t=!1,i()}};function i(){null!==n&&(clearTimeout(n),n=null)}}function p(e,t){const n=e.getBoundingClientRect();return{left:t.pageX-n.left,top:t.pageY-n.top}}var g=n(31);class m{constructor(e,t){this.page=e,this._viewerCore=t,this._innerElement=this._viewerCore.getSettings().innerElement,this._pageToolsElem=null,this.labelWidth=0}mount(){null===this._pageToolsElem&&(this._buttons=this._initializePageToolButtons(),this._pageToolsElem=i("div",{class:"diva-page-tools-wrapper"},i("div",{class:"diva-page-tools"},this._buttons)),this._pageLabelsElem=i("div",{class:"diva-page-labels-wrapper"},i("div",{class:"diva-page-labels"},this._viewerCore.settings.manifest.pages[this.page].l))),this.refresh(),this._innerElement.appendChild(this._pageToolsElem),this._innerElement.appendChild(this._pageLabelsElem)}_initializePageToolButtons(){const e=this._viewerCore.getSettings(),t=this._viewerCore.getPublicInstance(),n=this.page;return this._viewerCore.getPageTools().map(i=>{const r=i.pageToolsIcon.cloneNode(!0);return r.addEventListener("click",r=>{i.handleClick.call(i,r,e,t,n)},!1),r.addEventListener("touchend",r=>{r.preventDefault(),i.handleClick.call(i,r,e,t,n)},!1),r})}unmount(){this._innerElement.removeChild(this._pageToolsElem),this._innerElement.removeChild(this._pageLabelsElem)}refresh(){const e=this._viewerCore.getPageRegion(this.page,{includePadding:!0,incorporateViewport:!0});let t=window.getComputedStyle(this._innerElement,null).getPropertyValue("margin-left");this._pageToolsElem.style.top=e.top+"px",this._pageToolsElem.style.left=e.left-parseInt(t)+"px",this._pageLabelsElem.style.top=e.top+"px",this._pageLabelsElem.style.left=e.right-parseInt(t)-this.labelWidth-5+"px"}}class v{constructor(e){if(this._viewerCore=e,this._viewerState=e.getInternalState(),this._overlays=[],this._viewerCore.getPageTools().length){const t=e.getSettings().numPages;for(let n=0;n<t;n++){const t=new m(n,e);this._overlays.push(t),this._viewerCore.addPageOverlay(t);let i=document.createElement("span");i.innerHTML=e.settings.manifest.pages[n].l,i.classList.add("diva-page-labels"),i.setAttribute("style","display: inline-block;"),document.body.appendChild(i);let r=i.clientWidth;document.body.removeChild(i),t.labelWidth=r}}}onDoubleClick(e,t){const n=this._viewerCore.getSettings(),i=e.ctrlKey?n.zoomLevel-1:n.zoomLevel+1,r=this._viewerCore.getPagePositionAtViewportOffset(t);this._viewerCore.zoom(i,r)}onPinch(e,t,n,i){const r=this._viewerCore.getInternalState(),s=this._viewerCore.getSettings();let o=Math.log(Math.pow(2,s.zoomLevel)*i/(n*Math.log(2)))/Math.log(2);if(o=Math.max(s.minZoomLevel,o),o=Math.min(s.maxZoomLevel,o),o===s.zoomLevel)return;const a=this._viewerCore.getPagePositionAtViewportOffset(t),c=this._viewerCore.getCurrentLayout().getPageToViewportCenterOffset(a.anchorPage,r.viewport),l=1/Math.pow(2,s.zoomLevel-o);this._viewerCore.reload({zoomLevel:o,goDirectlyTo:a.anchorPage,horizontalOffset:c.x-a.offset.left+a.offset.left*l,verticalOffset:c.y-a.offset.top+a.offset.top*l})}onViewWillLoad(){this._viewerCore.publish("DocumentWillLoad",this._viewerCore.getSettings())}onViewDidLoad(){this._handleZoomLevelChange();const e=this._viewerCore.getSettings().activePageIndex,t=this._viewerCore.getPageName(e);this._viewerCore.publish("DocumentDidLoad",e,t)}onViewDidUpdate(e,t){const n=null!==t?t:function(e,t,n){const i=n.top+n.height/2,r=n.left+n.width/2,s=Object(g.maxBy)(e,e=>{const n=t.getPageDimensions(e),s=t.getPageOffset(e,{includePadding:!0}),o=s.left+n.width/2,a=s.top+n.height/2,c=Math.max(Math.abs(r-o)-n.width/2,0),l=Math.max(Math.abs(i-a)-n.height/2,0);return-(c*c+l*l)});return null!=s?s:null}(e,this._viewerCore.getCurrentLayout(),this._viewerCore.getViewport());let i=this._viewerState.viewport.intersectionTolerance;this._viewerState.viewport.intersectionTolerance=0;let r=e.filter(e=>this._viewerState.renderer.isPageVisible(e));this._viewerState.viewport.intersectionTolerance=i,null!==n&&this._viewerCore.setCurrentPages(n,r),null!==t&&this._viewerCore.publish("ViewerDidJump",t),this._handleZoomLevelChange()}_handleZoomLevelChange(){const e=this._viewerState,t=e.options.zoomLevel;e.oldZoomLevel!==t&&e.oldZoomLevel>=0&&(e.oldZoomLevel<t?this._viewerCore.publish("ViewerDidZoomIn",t):this._viewerCore.publish("ViewerDidZoomOut",t),this._viewerCore.publish("ViewerDidZoom",t)),e.oldZoomLevel=t}destroy(){this._overlays.forEach(e=>{this._viewerCore.removePageOverlay(e)},this)}}class y{constructor(e){this._viewerCore=e}onDoubleClick(e,t){const n=this._viewerCore.getPagePositionAtViewportOffset(t),i=this._viewerCore.getCurrentLayout(),r=this._viewerCore.getViewport(),s=i.getPageToViewportCenterOffset(n.anchorPage,r);this._viewerCore.reload({inGrid:!1,goDirectlyTo:n.anchorPage,horizontalOffset:s.x+n.offset.left,verticalOffset:s.y+n.offset.top})}onPinch(){this._viewerCore.reload({inGrid:!1})}onViewWillLoad(){}onViewDidLoad(){}onViewDidUpdate(e,t){if(0===e.length)return;let n=this._viewerCore.viewerState.viewport.intersectionTolerance;this._viewerCore.viewerState.viewport.intersectionTolerance=0;let i=e.filter(e=>this._viewerCore.viewerState.renderer.isPageVisible(e));if(this._viewerCore.viewerState.viewport.intersectionTolerance=n,null!==t)return void this._viewerCore.setCurrentPages(t,i);const r=this._viewerCore.getCurrentLayout(),s=[];e.forEach(e=>{const t=r.getPageInfo(e).group;0!==s.length&&t===s[s.length-1]||s.push(t)});const o=this._viewerCore.getViewport();let a;a=1===s.length||s[0].region.top>=o.top?s[0]:s[1].region.bottom<=o.bottom?s[1]:function(e,t){const n=t.top+t.height/2;return Object(g.maxBy)(e,e=>{const t=e.region.top+e.dimensions.height/2;return-Math.abs(n-t)})}(s,o);const c=this._viewerCore.getSettings().activePageIndex;a.pages.some(e=>e.index===c)||this._viewerCore.setCurrentPages(a.pages[0].index,i)}destroy(){}}class b{constructor(){this._pages={},this._renderedPages=[],this._renderedPageMap={}}addOverlay(e){(this._pages[e.page]||(this._pages[e.page]=[])).push(e),this._renderedPageMap[e.page]&&e.mount()}removeOverlay(e){const t=e.page,n=this._pages[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this._renderedPageMap[t]&&n[i].unmount(),n.splice(i,1),0===n.length&&delete this._pages[t])}updateOverlays(e){const t=this._renderedPages,n={};e.map(e=>{n[e]=!0,this._renderedPageMap[e]||(this._renderedPageMap[e]=!0,this._invokeOnOverlays(e,e=>{e.mount()}))}),t.map(e=>{n[e]?this._invokeOnOverlays(e,e=>{e.refresh()}):(delete this._renderedPageMap[e],this._invokeOnOverlays(e,e=>{e.unmount()}))}),this._renderedPages=e}_invokeOnOverlays(e,t){const n=this._pages[e];n&&n.map(e=>t(e))}}class w{constructor(e,t){this._rows=e,this._cols=t,this._map=new Array(e).fill(null).map(()=>new Array(t).fill(!1))}isLoaded(e,t){return e>=this._rows||t>=this._cols||this._map[e][t]}set(e,t,n){this._map[e][t]=n}}class _{constructor(e){this._levels=e;const t=this._urlsToTiles={};e.forEach(e=>{e.tiles.forEach(n=>{t[n.url]={zoomLevel:e.zoomLevel,row:n.row,col:n.col}})}),this.clear()}clear(){const e=this._loadedByLevel={};this._levels.forEach(t=>{e[t.zoomLevel]=new w(t.rows,t.cols)})}getTiles(e){const t=[],n=this._levels[0].zoomLevel,i=new w(this._levels[0].rows,this._levels[0].cols);let r;if(null===e)r=0;else{const t=Math.ceil(e);r=function(e,t){const n=e.length;for(let i=0;i<n;i++)if(t(e[i],i))return i;return-1}(this._levels,e=>e.zoomLevel<=t)}this._levels.slice(0,r+1).reverse().concat(this._levels.slice(r+1)).forEach(e=>{const r=this._loadedByLevel[e.zoomLevel];let s=e.tiles.filter(e=>r.isLoaded(e.row,e.col));const o=Math.pow(2,n-e.zoomLevel);s=s.filter(e=>{let t=!1;const n=e.row*o,r=e.col*o;for(let e=0;e<o;e++)for(let s=0;s<o;s++)i.isLoaded(n+e,r+s)||(t=!0,i.set(n+e,r+s,!0));return t}),t.push(s)},this),t.reverse();const s=[];return t.forEach(e=>{s.push.apply(s,e)}),s}updateFromCache(e){this.clear(),this._levels.forEach(t=>{const n=this._loadedByLevel[t.zoomLevel];t.tiles.forEach(t=>{e.has(t.url)&&n.set(t.row,t.col,!0)})},this)}updateWithLoadedUrls(e){e.forEach(e=>{const t=this._urlsToTiles[e];this._loadedByLevel[t.zoomLevel].set(t.row,t.col,!0)},this)}}class E{constructor(e,t){const n=function(e,t){const n=null===t?e.pageLayouts:function(e,t){const n=Math.pow(2,t-e.maxZoomLevel);return e.pageLayouts.map(e=>({dimensions:x(e.dimensions,n),pages:e.pages.map(e=>({index:e.index,groupOffset:{top:Math.floor(e.groupOffset.top*n),left:Math.floor(e.groupOffset.left*n)},dimensions:x(e.dimensions,n)}))}))}(e,t),i=function(e,t){let n,i;const r=e.padding.document;e.verticallyOriented?(n="width",i=r.left+r.right):(n="height",i=r.top+r.bottom);return i+t.reduce((e,t)=>Math.max(t.dimensions[n],e),0)}(e,n);let r=e.verticallyOriented?e.padding.document.top:e.padding.document.left;const s=[],o={top:e.padding.page.top,left:e.padding.page.left};let a,c;n.forEach((t,n)=>{let a,c;e.verticallyOriented?(a=r,c=(i-t.dimensions.width)/2):(a=(i-t.dimensions.height)/2,c=r);const l={top:a,bottom:a+o.top+t.dimensions.height,left:c,right:c+o.left+t.dimensions.width};s.push({index:n,dimensions:t.dimensions,pages:t.pages,region:l,padding:o}),r=e.verticallyOriented?l.bottom:l.right}),e.verticallyOriented?(a=r+o.top,c=i):(a=i,c=r+o.left);return{dimensions:{height:a,width:c},pageGroups:s}}(e,t);this.dimensions=n.dimensions,this.pageGroups=n.pageGroups,this._pageLookup=function(e){const t={};return e.forEach(e=>{e.pages.forEach(n=>{t[n.index]={index:n.index,group:e,dimensions:n.dimensions,groupOffset:n.groupOffset}})}),t}(n.pageGroups)}getPageInfo(e){return this._pageLookup[e]||null}getPageDimensions(e){if(!this._pageLookup||!this._pageLookup[e])return null;const t=S(this._pageLookup[e]);return{height:t.bottom-t.top,width:t.right-t.left}}getPageOffset(e,t){const n=this.getPageRegion(e,t);return n?{top:n.top,left:n.left}:null}getPageRegion(e,t){const n=this._pageLookup[e];if(!n)return null;const i=S(n),r=n.group.padding;return t&&t.includePadding?{top:i.top+r.top,left:i.left+r.left,bottom:i.bottom,right:i.right}:{top:i.top,left:i.left,bottom:i.bottom+r.top,right:i.right}}getPageToViewportCenterOffset(e,t){const n=t.left,i=t.right-t.left,r=this.getPageOffset(e),s=n-r.left+parseInt(i/2,10),o=t.top,a=t.bottom-t.top;return{x:s,y:o-r.top+parseInt(a/2,10)}}}function S(e){const t=e.groupOffset.top+e.group.region.top,n=t+e.dimensions.height,i=e.groupOffset.left+e.group.region.left;return{top:t,bottom:n,left:i,right:i+e.dimensions.width}}function x(e,t){return{height:Math.floor(e.height*t),width:Math.floor(e.width*t)}}const L=n(51)("diva:ImageCache");class A{constructor(e){e=e||{maxKeys:100},this.maxKeys=e.maxKeys||100,this._held={},this._urls={},this._lru=[]}get(e){const t=this._urls[e];return t?t.img:null}has(e){return!!this._urls[e]}put(e,t){let n=this._urls[e];n?(n.img=t,this._promote(n)):(n={img:t,url:e},this._urls[e]=n,this._tryEvict(1),this._lru.unshift(n))}_promote(e){const t=this._lru.indexOf(e);this._lru.splice(t,1),this._lru.unshift(e)}_tryEvict(e){const t=this.maxKeys-e;if(this._lru.length<=t)return;let n=this._lru.length-1;for(;;){const e=this._lru[n];if(!this._held[e.url]&&(L("Evicting image %s",e.url),this._lru.splice(n,1),delete this._urls[e.url],this._lru.length<=t))break;if(0===n){L.enabled&&L("Cache overfull by %s (all entries are being held)",this._lru.length-t);break}n--}}acquire(e){this._held[e]=(this._held[e]||0)+1,this._promote(this._urls[e])}release(e){this._held[e]>1?this._held[e]--:delete this._held[e],this._tryEvict(0)}}class k{constructor(e){this._url=e.url,this._callback=e.load,this._errorCallback=e.error,this.timeoutTime=e.timeoutTime||0,this._aborted=this._complete=!1,this._crossOrigin=e.settings.imageCrossOrigin,this.timeout=setTimeout(()=>{this._image=new Image,this._image.crossOrigin=this._crossOrigin,this._image.onload=this._handleLoad.bind(this),this._image.onerror=this._handleError.bind(this),this._image.src=e.url},this.timeoutTime)}abort(){clearTimeout(this.timeout),this._image&&(this._image.onload=this._image.onerror=null,this._image.src=""),this._aborted=!0}_handleLoad(){this._aborted?console.error("ImageRequestHandler invoked on cancelled request for "+this._url):this._complete?console.error("ImageRequestHandler invoked on completed request for "+this._url):(this._complete=!0,this._callback(this._image))}_handleError(){this._errorCallback(this._image)}}var C={animate:function(e){const t=e.duration,n=e.parameters,i=e.onUpdate,r=e.onEnd,s=I(),o=s+t,a={},c={},l=Object.keys(n);l.forEach(e=>{const t=n[e];a[e]=function(e,t,n){return i=>e+(t-e)*n(i)}(t.from,t.to,t.easing||P)});let u=requestAnimationFrame((function e(){const n=I();(function(e){l.forEach(t=>{c[t]=a[t](e)})})(Math.min((n-s)/t,1)),i(c),n<o?u=requestAnimationFrame(e):d({interrupted:!1})}));return{cancel(){null!==u&&(cancelAnimationFrame(u),d({interrupted:!0}))}};function d(e){u=null,r&&r(e)}},easing:{linear:function(e){return e},cubic:P}};let I;function P(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}I="undefined"!=typeof performance&&performance.now?()=>performance.now():()=>Date.now();class O{constructor(e,t){this._viewport=e.viewport,this._outerElement=e.outerElement,this._documentElement=e.innerElement,this._settings=e.settings,this._hooks=t||{},this._canvas=i("canvas",{class:"diva-viewer-canvas"}),this._ctx=this._canvas.getContext("2d"),this.layout=null,this._sourceResolver=null,this._renderedPages=null,this._config=null,this._zoomLevel=null,this._compositeImages=null,this._renderedTiles=null,this._animation=null,this._cache=new A,this._pendingRequests={}}static getCompatibilityErrors(){return"undefined"!=typeof HTMLCanvasElement?null:["Your browser lacks support for the ",i("pre","canvas")," element. Please upgrade your browser."]}load(e,t,n){if(this._clearAnimation(),this._hooks.onViewWillLoad&&this._hooks.onViewWillLoad(),this._sourceResolver=n,this._config=e,this._compositeImages={},this._setLayoutToZoomLevel(t.zoomLevel),!this.layout.getPageInfo(t.anchorPage))throw new Error("invalid page: "+t.anchorPage);this._canvas.width===this._viewport.width&&this._canvas.height===this._viewport.height||(this._canvas.width=this._viewport.width,this._canvas.height=this._viewport.height),this.goto(t.anchorPage,t.verticalOffset,t.horizontalOffset),this._canvas.parentNode!==this._outerElement&&this._outerElement.insertBefore(this._canvas,this._outerElement.firstChild),this._hooks.onViewDidLoad&&this._hooks.onViewDidLoad()}_setViewportPosition(e){if(e.zoomLevel!==this._zoomLevel){if(null===this._zoomLevel)throw new TypeError("The current view is not zoomable");if(null===e.zoomLevel)throw new TypeError("The current view requires a zoom level");this._setLayoutToZoomLevel(e.zoomLevel)}this._goto(e.anchorPage,e.verticalOffset,e.horizontalOffset)}_setLayoutToZoomLevel(e){this.layout=new E(this._config,e),this._zoomLevel=e,s(this._documentElement,{style:{height:this.layout.dimensions.height+"px",width:this.layout.dimensions.width+"px"}}),this._viewport.setInnerDimensions(this.layout.dimensions)}adjust(){this._clearAnimation(),this._render(),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}_render(){const e=[];this.layout.pageGroups.forEach(t=>{if(!this._viewport.intersectsRegion(t.region))return;const n=t.pages.filter((function(e){return this.isPageVisible(e.index)}),this).map(e=>e.index);e.push.apply(e,n)},this),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._paintOutline(e),e.forEach(e=>{if(!this._compositeImages[e]){const t=this.layout.getPageInfo(e),n=this._sourceResolver.getAllZoomLevelsForPage(t),i=new _(n);i.updateFromCache(this._cache),this._compositeImages[e]=i}},this),this._initiateTileRequests(e);const t=T(this._renderedPages||[],e);t.removed.forEach(e=>{delete this._compositeImages[e]},this),this._renderedPages=e,this._paint(),this._hooks.onPageWillLoad&&t.added.forEach(e=>{this._hooks.onPageWillLoad(e)},this)}_paint(){const e=[];this._renderedPages.forEach(t=>{this._compositeImages[t].getTiles(this._zoomLevel).forEach(n=>{const i=B(n,this._zoomLevel);this._isTileVisible(t,i)&&(e.push(n.url),this._drawTile(t,i,this._cache.get(n.url)))})});const t=this._cache,n=T(this._renderedTiles||[],e);n.added.forEach(e=>{t.acquire(e)}),n.removed.forEach(e=>{t.release(e)}),n.removed&&this._renderedPages.forEach(e=>{this._compositeImages[e].updateFromCache(this._cache)},this),this._renderedTiles=e}_paintOutline(e){e.forEach(e=>{let t=this.layout.getPageInfo(e),n=this._getImageOffset(e),i=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),r=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),s=n.left-this._viewport.left+i,o=n.top-this._viewport.top+r,a=s<0?-s:0,c=o<0?-o:0,l=Math.max(0,s),u=Math.max(0,o),d=t.dimensions.width-a,h=t.dimensions.height-c;this._ctx.strokeStyle="#AAA",this._ctx.strokeRect(l+.5,u+.5,d,h)})}_initiateTileRequests(e){const t={},n=(e,n)=>{const i=this._compositeImages[n];t[e.url]=new k({url:e.url,timeoutTime:250,settings:this._settings,load:t=>{delete this._pendingRequests[e.url],this._cache.put(e.url,t),i===this._compositeImages[n]?(i.updateWithLoadedUrls([e.url]),this._isTileForSourceVisible(n,e)&&this._paint()):this._isTileForSourceVisible(n,e)&&this._paint()},error:()=>{delete this._pendingRequests[e.url]}})};for(let i=0;i<e.length;i++){const r=e[i],s=this._sourceResolver.getBestZoomLevelForPage(this.layout.getPageInfo(r)).tiles;for(let e=0;e<s.length;e++){const i=s[e];!this._cache.has(i.url)&&this._isTileForSourceVisible(r,i)&&(this._pendingRequests[i.url]?(t[i.url]=this._pendingRequests[i.url],delete this._pendingRequests[i.url]):n(i,r))}}for(const e in this._pendingRequests)this._pendingRequests[e].abort();this._pendingRequests=t}_drawTile(e,t,n){let i=this._getTileToDocumentOffset(e,t),r=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),s=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),o=i.left-this._viewport.left+r,a=i.top-this._viewport.top+s,c=o<0?-o:0,l=a<0?-a:0,u=Math.max(0,o),d=Math.max(0,a),h=c/t.scaleRatio,f=l/t.scaleRatio,p=Math.min(t.dimensions.width,n.width*t.scaleRatio)-c,g=Math.min(t.dimensions.height,n.height*t.scaleRatio)-l,m=Math.max(1,Math.round(p)),v=Math.max(1,Math.round(g)),y=m/t.scaleRatio,b=v/t.scaleRatio;this._ctx.drawImage(n,h,f,y,b,u,d,m,v)}_isTileForSourceVisible(e,t){return this._isTileVisible(e,B(t,this._zoomLevel))}_isTileVisible(e,t){const n=this._getTileToDocumentOffset(e,t);return this._viewport.intersectsRegion({top:n.top,bottom:n.top+t.dimensions.height,left:n.left,right:n.left+t.dimensions.width})}_getTileToDocumentOffset(e,t){const n=this._getImageOffset(e);return{top:n.top+t.offset.top,left:n.left+t.offset.left}}_getImageOffset(e){return this.layout.getPageOffset(e,{includePadding:!0})}goto(e,t,n){this._clearAnimation(),this._goto(e,t,n),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),e)}_goto(e,t,n){const i=this.layout.getPageOffset(e),r=i.top+t-Math.round(this._viewport.height/2),s=i.left+n-Math.round(this._viewport.width/2);this._viewport.top=r,this._viewport.left=s,this._render()}transitionViewportPosition(e){this._clearAnimation();const t=e.getPosition,n=this._hooks.onViewDidTransition;this._animation=C.animate({duration:e.duration,parameters:e.parameters,onUpdate:e=>{this._setViewportPosition(t(e)),this._hooks.onZoomLevelWillChange(e.zoomLevel),n&&n()},onEnd:t=>{e.onEnd&&e.onEnd(t),this._hooks.onViewDidUpdate&&!t.interrupted&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}})}_clearAnimation(){this._animation&&(this._animation.cancel(),this._animation=null)}isPageVisible(e){if(!this.layout)return!1;return!!this.layout.getPageInfo(e)&&this._viewport.intersectsRegion(this.layout.getPageRegion(e))}getRenderedPages(){return this._renderedPages.slice()}destroy(){this._clearAnimation(),Object.keys(this._pendingRequests).forEach(e=>{const t=this._pendingRequests[e];delete this._pendingRequests[e],t.abort()},this),this._canvas.parentNode.removeChild(this._canvas)}}function B(e,t){let n;return n=null===t?1:Math.pow(2,t-e.zoomLevel),{sourceZoomLevel:e.zoomLevel,scaleRatio:n,row:e.row,col:e.col,dimensions:{width:e.dimensions.width*n,height:e.dimensions.height*n},offset:{left:e.offset.left*n,top:e.offset.top*n},url:e.url}}function T(e,t){if(e===t)return{added:[],removed:[]};const n=e.filter(e=>-1===t.indexOf(e));return{added:t.filter(t=>-1===e.indexOf(t)),removed:n}}function N(e,t){const n=t.getMaxPageDimensions(e);return{width:Math.floor(n.width),height:Math.floor(n.height)}}function M(e){return function(e){const t=e.manifest,n=[];let i=null,r=[];const s=()=>{for(let e=0,t=r.length;e<t;e++)n.push([r[e]]);r=[]};t.pages.forEach((o,a)=>{const c={index:a,dimensions:N(a,t),paged:!t.paged||o.paged};(e.showNonPagedPages||c.paged)&&(c.paged?0===a||o.facingPages?(n.push([c]),s()):null===i?i=c:(n.push([i,c]),i=null,s()):r.push(c))}),null!==i&&(n.push([i]),s());return n}(e).map(t=>function(e,t){const n=e.verticallyOriented;if(2===t.length)return function(e,t,n){const i=e.dimensions,r=t.dimensions,s=Math.max(i.height,r.height);let o,a,c;if(n){const e=Math.max(i.width,r.width);o=2*e,a=e-i.width,c=e}else o=i.width+r.width,a=0,c=i.width;return{dimensions:{height:s,width:o},pages:[{index:e.index,dimensions:i,groupOffset:{top:0,left:a}},{index:t.index,dimensions:r,groupOffset:{top:0,left:c}}]}}(t[0],t[1],n);const i=t[0],r=i.dimensions;let s;s=i.paged?0===i.index&&n?r.width:0:n?r.width/2:0;const o=n&&!e.manifest.pages[i.index].facingPages;return{dimensions:{height:r.height,width:o?2*r.width:r.width},pages:[{index:i.index,groupOffset:{top:0,left:s},dimensions:r}]}}(e,t))}function q(e){const t=e.viewport.width,n=e.manifest,i=e.pagesPerRow,r=e.fixedHeightGrid,s=e.fixedPadding,o=e.showNonPagedPages,a=(t-s*(i+1))/i,c=a,l=r?s+n.minRatio*a:s+n.maxRatio*a,u=[];let d=[];const h={height:l,width:t};return n.pages.forEach((e,t)=>{if(!o&&n.paged&&!e.paged)return;const a=(e=>{const t=e.d[e.d.length-1],n=t.h/t.w;let i,o;return r?(i=(l-s)/n,o=l-s):(i=c,o=i*n),{width:Math.round(i),height:Math.round(o)}})(e);let f=Math.floor(d.length*(s+c)+s);r&&(f+=(c-a.width)/2),d.push({index:t,dimensions:a,groupOffset:{top:0,left:f}}),d.length===i&&(u.push({dimensions:h,pages:d}),d=[])}),d.length>0&&u.push({dimensions:h,pages:d}),u}function D(e){if(e.inGrid)return q(F(e,["manifest","viewport","pagesPerRow","fixedHeightGrid","fixedPadding","showNonPagedPages"]));{const t=F(e,["manifest","verticallyOriented","showNonPagedPages"]);return e.inBookLayout?M(t):function(e){const t=e.manifest,n=[];return t.pages.forEach((i,r)=>{if(!e.showNonPagedPages&&t.paged&&!i.paged)return;const s=N(r,t);n.push({dimensions:s,pages:[{index:r,groupOffset:{top:0,left:0},dimensions:s}]})}),n}(t)}}function F(e,t){const n={};return t.forEach((function(t){n[t]=e[t]})),n}function j(e){const t={};return e.forEach(e=>{!function(e,t){Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{get:()=>t[n],set:()=>{throw new TypeError("Cannot set settings."+n)}})})}(t,e)}),t}class R{constructor(e){this.whitelistedKeys=e.whitelistedKeys||[],this.additionalProperties=e.additionalProperties||[],this.validations=e.validations}isValid(e,t,n){let i=null;if(this.validations.some((t,n)=>t.key===e&&(i=n,!0)),null===i)return!0;const r={};r[e]=t;const s=V(n,r,this);return!this._runValidation(i,t,s)}validate(e){this._validateOptions({},e)}getValidatedOptions(e,t){const n=Object.assign({},t);return this._validateOptions(e,n),n}_validateOptions(e,t){const n=V(e,t,this);this._applyValidations(t,n)}_applyValidations(e,t){this.validations.forEach((n,i)=>{if(!e.hasOwnProperty(n.key))return;const r=e[n.key],s=this._runValidation(i,r,t);s&&(s.warningSuppressed||function(e,t,n){console.warn("Invalid value for "+e+": "+t+". Using "+n+" instead.")}(n.key,r,s.value),e[n.key]=s.value)},this)}_runValidation(e,t,n){const i=this.validations[e];n.index=e;let r=!1;const s={suppressWarning:()=>{r=!0}},o=i.validate(t,n.proxy,s);return void 0===o||o===t?null:{value:o,warningSuppressed:r}}}function V(e,t,n){const i={proxy:{},index:null},r=z.bind(null,e,t),s={};return n.whitelistedKeys.forEach(e=>{s[e]={get:r.bind(null,e)}}),n.additionalProperties.forEach(e=>{s[e.key]={get:e.get}}),n.validations.forEach((e,t)=>{s[e.key]={get:()=>{if(t<i.index)return r(e.key);const s=n.validations[i.index].key;throw new TypeError("Cannot access setting "+e.key+" while validating "+s)}}}),Object.defineProperties(i.proxy,s),i}function z(e,t,n){return n in t?t[n]:e[n]}class H{constructor(e,t){t=t||{},this.intersectionTolerance=t.intersectionTolerance||0,this.outer=e,this._top=this._left=this._width=this._height=this._innerDimensions=null,this.invalidate()}intersectsRegion(e){return this.hasHorizontalOverlap(e)&&this.hasVerticalOverlap(e)}hasVerticalOverlap(e){const t=this.top-this.intersectionTolerance,n=this.bottom+this.intersectionTolerance;return Z(e.top,t,n)||Z(e.bottom,t,n)||e.top<=t&&e.bottom>=n}hasHorizontalOverlap(e){const t=this.left-this.intersectionTolerance,n=this.right+this.intersectionTolerance;return Z(e.left,t,n)||Z(e.right,t,n)||e.left<=t&&e.right>=n}invalidate(){this._width=this.outer.clientWidth,this._height=this.outer.clientHeight,this._top=this.outer.scrollTop,this._left=this.outer.scrollLeft}setInnerDimensions(e){this._innerDimensions=e,e&&(this._top=G(this._top,0,e.height-this._height),this._left=G(this._left,0,e.width-this._width))}}function U(e,t){const n="_"+e,i="scroll"+e.charAt(0).toUpperCase()+e.slice(1);return{get:function(){return this[n]},set:function(e){let r;if(this._innerDimensions){r=G(e,0,this._innerDimensions[t]-this[t])}else r=W(e,0);this[n]=this.outer[i]=r}}}function $(e){return{get:function(){return this["_"+e]}}}function Z(e,t,n){return e>=t&&e<=n}function G(e,t,n){return W(function(e,t){return Math.min(e,t)}(e,n),t)}function W(e,t){return Math.max(e,t)}Object.defineProperties(H.prototype,{top:U("top","height"),left:U("left","width"),width:$("width"),height:$("height"),bottom:{get:function(){return this._top+this._height}},right:{get:function(){return this._left+this._width}}});const K=n(51)("diva:ViewerCore");function Y(){return Y.counter++}Y.counter=1;const X=[{key:"goDirectlyTo",validate:(e,t)=>{if(e<0||e>=t.manifest.pages.length)return 0}},{key:"minPagesPerRow",validate:e=>Math.max(2,e)},{key:"maxPagesPerRow",validate:(e,t)=>Math.max(e,t.minPagesPerRow)},{key:"pagesPerRow",validate:(e,t)=>{if(e<t.minPagesPerRow||e>t.maxPagesPerRow)return t.maxPagesPerRow}},{key:"maxZoomLevel",validate:(e,t,n)=>{if(n.suppressWarning(),e<0||e>t.manifest.maxZoom)return t.manifest.maxZoom}},{key:"minZoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<0||e>t.maxZoomLevel?0:void 0},{key:"zoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<t.minZoomLevel||e>t.maxZoomLevel?t.minZoomLevel:void 0}];class J{constructor(e,t,n){this.parentObject=e,this.publicInstance=n,this.viewerState={currentPageIndices:[0],activePageIndex:0,horizontalOffset:0,horizontalPadding:0,ID:null,initialKeyScroll:!1,initialSpaceScroll:!1,innerElement:null,innerObject:{},isActiveDiva:!0,isScrollable:!0,isZooming:!1,loaded:!1,manifest:null,mobileWebkit:!1,numPages:0,oldZoomLevel:-1,options:t,outerElement:null,outerObject:{},pageOverlays:new b,pageTools:[],parentObject:this.parentObject,pendingManifestRequest:null,pluginInstances:[],renderer:null,resizeTimer:-1,scrollbarWidth:0,selector:"",throbberTimeoutID:-1,toolbar:null,verticalOffset:0,verticalPadding:0,viewHandler:null,viewport:null,viewportElement:null,viewportObject:null,zoomDuration:400},this.settings=j([t,this.viewerState]);const r=Y();this.viewerState.ID="diva-"+r+"-",this.viewerState.selector=this.settings.ID,Object.defineProperties(this.settings,{panelHeight:{get:()=>this.viewerState.viewport.height},panelWidth:{get:()=>this.viewerState.viewport.width}}),this.optionsValidator=new R({additionalProperties:[{key:"manifest",get:()=>this.viewerState.manifest}],validations:X}),this.viewerState.scrollbarWidth=function(){let e=document.createElement("p");e.style.width="100%",e.style.height="200px";let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);let n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),n-i}(),this.viewerState.mobileWebkit=void 0!==window.orientation,null===t.hashParamSuffix&&(t.hashParamSuffix=1===r?"":r+"");const s=i("div",this.elemAttrs("inner",{class:"diva-inner"})),o=i("div",this.elemAttrs("viewport"),s),a=i("div",this.elemAttrs("outer"),o,i("div",this.elemAttrs("throbber"),[i("div",{class:"cube cube1"}),i("div",{class:"cube cube2"}),i("div",{class:"cube cube3"}),i("div",{class:"cube cube4"}),i("div",{class:"cube cube5"}),i("div",{class:"cube cube6"}),i("div",{class:"cube cube7"}),i("div",{class:"cube cube8"}),i("div",{class:"cube cube9"})]));this.viewerState.innerElement=s,this.viewerState.viewportElement=o,this.viewerState.outerElement=a,this.viewerState.innerObject=s,this.viewerState.viewportObject=o,this.viewerState.outerObject=a,this.settings.parentObject.append(a),this.viewerState.viewport=new H(this.viewerState.viewportElement,{intersectionTolerance:this.settings.viewportMargin}),this.boundScrollFunction=this.scrollFunction.bind(this),this.boundEscapeListener=this.escapeListener.bind(this),this.initPlugins(),this.handleEvents(),this.showThrobber()}isValidOption(e,t){return this.optionsValidator.isValid(e,t,this.viewerState.options)}elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}getPageData(e,t){return this.settings.manifest.pages[e].d[this.settings.zoomLevel][t]}clearViewer(){this.viewerState.viewport.top=0,clearTimeout(this.viewerState.resizeTimer)}hasChangedOption(e,t){return t in e&&e[t]!==this.settings[t]}escapeListener(e){27===e.keyCode&&this.publicInstance.leaveFullscreenMode()}reloadViewer(e){const t=[];if(e=this.optionsValidator.getValidatedOptions(this.settings,e),this.hasChangedOption(e,"zoomLevel")&&(this.viewerState.oldZoomLevel=this.settings.zoomLevel,this.viewerState.options.zoomLevel=e.zoomLevel,t.push(["ZoomLevelDidChange",e.zoomLevel])),this.hasChangedOption(e,"pagesPerRow")&&(this.viewerState.options.pagesPerRow=e.pagesPerRow,t.push(["GridRowNumberDidChange",e.pagesPerRow])),this.hasChangedOption(e,"verticallyOriented")&&(this.viewerState.options.verticallyOriented=e.verticallyOriented),this.hasChangedOption(e,"showNonPagedPages")&&(this.viewerState.options.showNonPagedPages=e.showNonPagedPages),"goDirectlyTo"in e?(this.viewerState.options.goDirectlyTo=e.goDirectlyTo,"verticalOffset"in e&&(this.viewerState.verticalOffset=e.verticalOffset),"horizontalOffset"in e&&(this.viewerState.horizontalOffset=e.horizontalOffset)):this.viewerState.options.goDirectlyTo=this.settings.activePageIndex,(this.hasChangedOption(e,"inGrid")||this.hasChangedOption(e,"inBookLayout"))&&("inGrid"in e&&(this.viewerState.options.inGrid=e.inGrid),"inBookLayout"in e&&(this.viewerState.options.inBookLayout=e.inBookLayout),t.push(["ViewDidSwitch",this.settings.inGrid])),this.hasChangedOption(e,"inFullscreen")&&(this.viewerState.options.inFullscreen=e.inFullscreen,this.prepareModeChange(e),t.push(["ModeDidSwitch",this.settings.inFullscreen])),this.clearViewer(),this.updateViewHandlerAndRendering(),this.viewerState.renderer){const e={pageLayouts:D(this.settings),padding:this.getPadding(),maxZoomLevel:this.settings.inGrid?null:this.viewerState.manifest.maxZoom,verticallyOriented:this.settings.verticallyOriented||this.settings.inGrid},t={zoomLevel:this.settings.inGrid?null:this.settings.zoomLevel,anchorPage:this.settings.goDirectlyTo,verticalOffset:this.viewerState.verticalOffset,horizontalOffset:this.viewerState.horizontalOffset},n=this.getCurrentSourceProvider();if(K.enabled){const t=Object.keys(e).filter((function(e){return"pageLayouts"!==e&&"padding"!==e})).map((function(t){const n=e[t];return t+": "+JSON.stringify(n)})).join(", ");K("reload with %s",t)}this.viewerState.renderer.load(e,t,n)}return t.forEach(e=>{this.publish.apply(this,e)}),!0}prepareModeChange(e){const t=e.inFullscreen?"add":"remove";this.viewerState.outerObject.classList[t]("diva-fullscreen"),document.body.classList[t]("diva-hide-scrollbar"),this.settings.parentObject.classList[t]("diva-full-width");const n=this.settings.panelHeight,i=this.settings.panelWidth;if(this.viewerState.viewport.invalidate(),!this.viewerState.loaded&&!this.settings.inGrid&&!("verticalOffset"in e)){const e=this.settings.panelHeight,t=this.settings.panelWidth;this.viewerState.verticalOffset+=(n-e)/2,this.viewerState.horizontalOffset+=(i-t)/2}e.inFullscreen?document.addEventListener("keyup",this.boundEscapeListener):document.removeEventListener("keyup",this.boundEscapeListener)}updateViewHandlerAndRendering(){const e=this.settings.inGrid?y:v;!this.viewerState.viewHandler||this.viewerState.viewHandler instanceof e||(this.viewerState.viewHandler.destroy(),this.viewerState.viewHandler=null),this.viewerState.viewHandler||(this.viewerState.viewHandler=new e(this)),this.viewerState.renderer||this.initializeRenderer()}initializeRenderer(){const e=O.getCompatibilityErrors();if(e)this.showError(e);else{const e={viewport:this.viewerState.viewport,outerElement:this.viewerState.outerElement,innerElement:this.viewerState.innerElement,settings:this.settings},t={onViewWillLoad:()=>{this.viewerState.viewHandler.onViewWillLoad()},onViewDidLoad:()=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidLoad()},onViewDidUpdate:(e,t)=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidUpdate(e,t)},onViewDidTransition:()=>{this.updatePageOverlays()},onPageWillLoad:e=>{this.publish("PageWillLoad",e)},onZoomLevelWillChange:e=>{this.publish("ZoomLevelWillChange",e)}};this.viewerState.renderer=new O(e,t)}}getCurrentSourceProvider(){if(this.settings.inGrid){const e={getAllZoomLevelsForPage:t=>[e.getBestZoomLevelForPage(t)],getBestZoomLevelForPage:e=>({zoomLevel:1,rows:1,cols:1,tiles:[{url:this.settings.manifest.getPageImageURL(e.index,{width:e.dimensions.width}),zoomLevel:1,row:0,col:0,dimensions:e.dimensions,offset:{top:0,left:0}}]})};return e}const e={width:this.settings.tileWidth,height:this.settings.tileHeight};return{getBestZoomLevelForPage:t=>this.settings.manifest.getPageImageTiles(t.index,Math.ceil(this.settings.zoomLevel),e),getAllZoomLevelsForPage:t=>{const n=[],i=this.viewerState.manifest.maxZoom;for(let r=0;r<=i;r++)n.push(this.settings.manifest.getPageImageTiles(t.index,r,e));return n.reverse(),n}}}getPadding(){let e,t,n,i;return this.settings.inGrid?(n=this.settings.fixedPadding,e=t=i=0):(e=this.settings.verticallyOriented?this.viewerState.verticalPadding:0,t=this.settings.verticallyOriented?0:this.viewerState.horizontalPadding,n=this.settings.verticallyOriented?0:this.viewerState.verticalPadding,i=this.settings.verticallyOriented?this.viewerState.horizontalPadding:0),{document:{top:n,bottom:n,left:i,right:i},page:{top:e,bottom:0,left:t,right:0}}}updatePageOverlays(){this.viewerState.pageOverlays.updateOverlays(this.viewerState.renderer.getRenderedPages())}handleZoom(e,t){if(!this.isValidOption("zoomLevel",e))return!1;if(this.viewerState.viewportObject.removeEventListener("scroll",this.boundScrollFunction),!t){const e=this.viewerState.viewport,n=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);t={anchorPage:this.settings.activePageIndex,offset:{left:e.width/2-(n.left-e.left),top:e.height/2-(n.top-e.top)}}}const n=this.viewerState.renderer.layout.getPageRegion(t.anchorPage),i=n.left+t.offset.left-(this.settings.viewport.left+this.settings.viewport.width/2),r=n.top+t.offset.top-(this.settings.viewport.top+this.settings.viewport.height/2),s=(e,n)=>{const s=Math.pow(2,e-n),o=t.offset.left*s-i,a=t.offset.top*s-r;return{zoomLevel:e,anchorPage:t.anchorPage,verticalOffset:a,horizontalOffset:o}};this.viewerState.options.zoomLevel=e;let o=this.viewerState.oldZoomLevel;this.viewerState.oldZoomLevel=this.settings.zoomLevel;const a=s(e,o);this.viewerState.options.goDirectlyTo=a.anchorPage,this.viewerState.verticalOffset=a.verticalOffset,this.viewerState.horizontalOffset=a.horizontalOffset,this.viewerState.renderer.transitionViewportPosition({duration:this.settings.zoomDuration,parameters:{zoomLevel:{from:o,to:e}},getPosition:e=>s(e.zoomLevel,o),onEnd:t=>{this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction),t.interrupted&&(this.viewerState.oldZoomLevel=e)}});let c=document.getElementById(this.settings.selector+"zoom-in-button"),l=document.getElementById(this.settings.selector+"zoom-out-button");return c.disabled=!0,l.disabled=!0,setTimeout(()=>{c.disabled=!1,l.disabled=!1},this.settings.zoomDuration),this.publish("ZoomLevelDidChange",e),!0}getYOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"center"===t||"centre"===t?parseInt(this.getPageData(n,"h")/2,10):"bottom"===t?parseInt(this.getPageData(n,"h")-this.settings.panelHeight/2,10):parseInt(this.settings.panelHeight/2,10)}getXOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"left"===t?parseInt(this.settings.panelWidth/2,10):"right"===t?parseInt(this.getPageData(n,"w")-this.settings.panelWidth/2,10):parseInt(this.getPageData(n,"w")/2,10)}updatePanelSize(){return this.viewerState.viewport.invalidate(),this.viewerState.renderer&&(this.updateOffsets(),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),!0}updateOffsets(){const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e&&(this.viewerState.horizontalOffset=e.x,this.viewerState.verticalOffset=e.y)}bindMouseEvents(){this.viewerState.viewportObject.classList.add("dragscroll"),d.onDoubleClick(this.viewerState.viewportObject,(e,t)=>{K("Double click at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)})}onResize(){this.updatePanelSize(),clearTimeout(this.viewerState.resizeTimer),this.viewerState.resizeTimer=setTimeout(()=>{const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e?this.reloadViewer({goDirectlyTo:this.settings.activePageIndex,verticalOffset:e.y,horizontalOffset:e.x}):this.reloadViewer({goDirectlyTo:this.settings.activePageIndex})},200)}bindTouchEvents(){this.settings.blockMobileMove&&document.body.addEventListener("touchmove",e=>(e.originalEvent.preventDefault(),!1)),d.onPinch(this.viewerState.viewportObject,(function(e,t,n,i){K("Pinch %s at %s, %s",i-n,t.left,t.top),this.viewerState.viewHandler.onPinch(e,t,n,i)})),d.onDoubleTap(this.viewerState.viewportObject,(function(e,t){K("Double tap at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)}))}scrollFunction(){const e=this.viewerState.viewport.top,t=this.viewerState.viewport.left;let n;this.viewerState.viewport.invalidate();const i=this.viewerState.viewport.top,r=this.viewerState.viewport.left;n=this.settings.verticallyOriented||this.settings.inGrid?i-e:r-t,this.viewerState.renderer.adjust();const s=this.settings.verticallyOriented||this.settings.inGrid?i:r;this.publish("ViewerDidScroll",s),n>0?this.publish("ViewerDidScrollDown",s):n<0&&this.publish("ViewerDidScrollUp",s),this.updateOffsets()}handleEvents(){this.viewerState.innerObject.addEventListener("mousedown",()=>{this.viewerState.innerObject.classList.add("diva-grabbing")}),this.viewerState.innerObject.addEventListener("mouseup",()=>{this.viewerState.innerObject.classList.remove("diva-grabbing")}),this.bindMouseEvents(),this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction);document.addEventListener("keydown.diva",e=>{if(!this.viewerState.isActiveDiva)return!0;if(this.settings.enableSpaceScroll&&!e.shiftKey&&32===e.keyCode||this.settings.enableKeyScroll&&34===e.keyCode)return this.viewerState.viewport.top+=this.settings.panelHeight,!1;if(this.settings.enableSpaceScroll||32!==e.keyCode||e.preventDefault(),this.settings.enableKeyScroll){if(e.shiftKey||e.ctrlKey||e.metaKey)return!0;switch(e.keyCode){case 33:return this.viewerState.viewport.top-=this.settings.panelHeight,!1;case 38:return this.viewerState.viewport.top-=this.settings.arrowScrollAmount,!1;case 40:return this.viewerState.viewport.top+=this.settings.arrowScrollAmount,!1;case 37:return this.viewerState.viewport.left-=this.settings.arrowScrollAmount,!1;case 39:return this.viewerState.viewport.left+=this.settings.arrowScrollAmount,!1;case 36:return this.viewerState.viewport.top=0,!1;case 35:return this.settings.verticallyOriented?this.viewerState.viewport.top=1/0:this.viewerState.viewport.left=1/0,!1;default:return!0}}return!0}),u.Events.subscribe("ViewerDidTerminate",(function(){document.removeEventListener("keydown.diva")}),this.settings.ID),window.addEventListener("resize",this.onResize.bind(this),!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("resize",this.onResize,!1)}),this.settings.ID),"onorientationchange"in window&&(window.addEventListener("orientationchange",this.onResize,!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("orientationchange",this.onResize,!1)}),this.settings.ID)),u.Events.subscribe("PanelSizeDidChange",this.updatePanelSize,this.settings.ID),u.Events.subscribe("ViewerDidTerminate",()=>{this.viewerState.renderer&&this.viewerState.renderer.destroy(),clearTimeout(this.viewerState.resizeTimer)},this.settings.ID)}initPlugins(){if(!this.settings.hasOwnProperty("plugins"))return null;this.viewerState.pluginInstances=this.settings.plugins.map(e=>{const t=new e(this);return t.isPageTool&&this.viewerState.pageTools.push(t),t})}showThrobber(){this.hideThrobber(),this.viewerState.throbberTimeoutID=setTimeout(()=>{let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="block")},this.settings.throbberTimeout)}hideThrobber(){clearTimeout(this.viewerState.throbberTimeoutID);let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="none")}showError(e){const t=i("div",this.elemAttrs("error"),[i("button",this.elemAttrs("error-close",{"aria-label":"Close dialog"})),i("p",i("strong","Error")),i("div",e)]);this.viewerState.outerObject.appendChild(t),document.getElementById(this.settings.selector+"error-close").addEventListener("click",()=>{t.parentNode.removeChild(t)})}setManifest(e,t){if(this.viewerState.manifest=e,this.hideThrobber(),this.viewerState.numPages=this.settings.manifest.pages.length,this.optionsValidator.validate(this.viewerState.options),this.publish("NumberOfPagesDidChange",this.settings.numPages),this.settings.adaptivePadding>0){const e=Math.floor((this.settings.minZoomLevel+this.settings.maxZoomLevel)/2);this.viewerState.horizontalPadding=parseInt(this.settings.manifest.getAverageWidth(e)*this.settings.adaptivePadding,10),this.viewerState.verticalPadding=parseInt(this.settings.manifest.getAverageHeight(e)*this.settings.adaptivePadding,10)}else this.viewerState.horizontalPadding=this.settings.fixedPadding,this.viewerState.verticalPadding=this.settings.fixedPadding;let n,r;this.viewerState.pageTools.length&&(this.viewerState.verticalPadding=Math.max(40,this.viewerState.verticalPadding)),this.settings.manifest.paged&&(this.viewerState.options.inBookLayout=!0),this.publish("ObjectDidLoad",this.settings),this.updatePanelSize();let s=!1,o=!1;if(null==t.goDirectlyTo?(t.goDirectlyTo=this.settings.goDirectlyTo,n=r=!0):(n=null==t.horizontalOffset||isNaN(t.horizontalOffset),r=null==t.verticalOffset||isNaN(t.verticalOffset)),n&&(0===t.goDirectlyTo&&this.settings.inBookLayout&&this.settings.verticallyOriented?t.horizontalOffset=this.viewerState.horizontalPadding:(o=!0,t.horizontalOffset=this.getXOffset(t.goDirectlyTo,"center"))),r&&(s=!0,t.verticalOffset=this.getYOffset(t.goDirectlyTo,"top")),this.reloadViewer(t),this.updatePanelSize(),this.settings.enableAutoTitle){let e=document.getElementById(this.settings.selector+"title");e?e.innerHTML=this.settings.manifest.itemTitle:this.settings.parentObject.insertBefore(i("div",this.elemAttrs("title"),[this.settings.manifest.itemTitle]),this.settings.parentObject.firstChild)}this.settings.verticallyOriented?this.viewerState.innerElement.style.minWidth=this.settings.panelWidth+"px":this.viewerState.innerElement.style.minHeight=this.settings.panelHeight+"px",(s||o)&&(s&&(this.viewerState.verticalOffset=this.getYOffset(this.settings.activePageIndex,"top")),o&&(this.viewerState.horizontalOffset=this.getXOffset(this.settings.activePageIndex,"center")),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),this.viewerState.loaded=!0,this.publish("ViewerDidLoad",this.settings)}publish(e){const t=Array.prototype.slice.call(arguments,1);u.Events.publish(e,t,this.publicInstance)}getSettings(){return this.settings}getInternalState(){return this.viewerState}getPublicInstance(){return this.publicInstance}getPageTools(){return this.viewerState.pageTools}getCurrentLayout(){return this.viewerState.renderer?this.viewerState.renderer.layout:null}getViewport(){const e=this.viewerState.viewport;return{top:e.top,left:e.left,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}addPageOverlay(e){this.viewerState.pageOverlays.addOverlay(e)}removePageOverlay(e){this.viewerState.pageOverlays.removeOverlay(e)}getPageRegion(e,t){const n=this.viewerState.renderer.layout,i=n.getPageRegion(e,t);if(t&&t.incorporateViewport){const e=this.settings.verticallyOriented?"width":"height";if(this.viewerState.viewport[e]>n.dimensions[e]){const t=(this.viewerState.viewport[e]-n.dimensions[e])/2;return this.settings.verticallyOriented?{top:i.top,bottom:i.bottom,left:i.left+t,right:i.right+t}:{top:i.top+t,bottom:i.bottom+t,left:i.left,right:i.right}}}return i}getPagePositionAtViewportOffset(e){const t=e.left+this.viewerState.viewport.left,n=e.top+this.viewerState.viewport.top,i=this.viewerState.renderer.getRenderedPages(),r=i.length;for(let e=0;e<r;e++){const r=i[e],s=this.viewerState.renderer.layout.getPageRegion(r);if(s.left<=t&&s.right>=t&&s.top<=n&&s.bottom>=n)return{anchorPage:r,offset:{left:t-s.left,top:n-s.top}}}const s=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);return{anchorPage:this.settings.activePageIndex,offset:{left:t-s.left,top:n-s.top}}}setCurrentPages(e,t){!function(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}(this.viewerState.currentPageIndices,t)?(this.viewerState.currentPageIndices=t,this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e)),this.publish("VisiblePageDidChange",t),this.viewerState.manifest.pages[e].otherImages.length>0&&this.publish("VisiblePageHasAlternateViews",e)):this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e))}getPageName(e){return this.viewerState.manifest.pages[e].f}reload(e){this.reloadViewer(e)}zoom(e,t){return this.handleZoom(e,t)}enableScrollable(){this.viewerState.isScrollable||(this.bindMouseEvents(),this.enableDragScrollable(),this.viewerState.options.enableKeyScroll=this.viewerState.initialKeyScroll,this.viewerState.options.enableSpaceScroll=this.viewerState.initialSpaceScroll,this.viewerState.viewportElement.style.overflow="auto",this.viewerState.isScrollable=!0)}enableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")&&this.viewerState.viewportObject.removeAttribute("nochilddrag")}disableScrollable(){this.viewerState.isScrollable&&(this.disableDragScrollable(),this.viewerState.outerObject.dblclick=null,this.viewerState.outerObject.contextmenu=null,this.viewerState.viewportElement.style.overflow="hidden",this.viewerState.initialKeyScroll=this.settings.enableKeyScroll,this.viewerState.initialSpaceScroll=this.settings.enableSpaceScroll,this.viewerState.options.enableKeyScroll=!1,this.viewerState.options.enableSpaceScroll=!1,this.viewerState.isScrollable=!1)}disableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")||this.viewerState.viewportObject.setAttribute("nochilddrag","")}clear(){this.clearViewer()}setPendingManifestRequest(e){this.viewerState.pendingManifestRequest=e}destroy(){this.publish("ViewerWillTerminate",this.settings),this.settings.pendingManifestRequest&&this.settings.pendingManifestRequest.abort(),document.body.removeClass("diva-hide-scrollbar"),this.settings.parentObject.parent().empty().removeData("diva"),this.settings.parentObject.parent().removeAttr("style").removeAttr("class"),this.publish("ViewerDidTerminate",this.settings),u.Events.unsubscribeAll(this.settings.ID)}}function Q(e){let t,n=e.label,i="object"==typeof n?n[Object.keys(n)[0]][0]:n,r=e.value;return t=Array.isArray(r)?r.map(e=>e[Object.keys(e)[0]]):"object"==typeof r?r[Object.keys(r)[0]]:r,Array.isArray(t)&&(t=t.join(", ")),{label:i,value:t}}const ee=(e,t)=>{const n=Math.max(e,t);return n<128?0:Math.ceil(Math.log((n+1)/257)/Math.log(2))},te=(e,t)=>e/Math.pow(2,t),ne=(e,t)=>e.map(e=>{const n=e.width,i=e.height,r=re(e),s="/"!==r.url.slice(-1)?r.url+"/":r.url,o=new Array(t+1);for(let e=0;e<t+1;e++)o[e]={h:Math.floor(te(i,t-e)),w:Math.floor(te(n,t-e))};return{f:r.url,url:s,il:e.label||"",d:o}});function ie(e){let t=e["@context"];if(!t)return console.error("Invalid IIIF Manifest; No @context found."),null;const n=(e=>"http://iiif.io/api/presentation/2/context.json"===e||Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/2/context.json")?2:Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/3/context.json")?3:2)(t),i=e.sequences?e.sequences[0]:null,r=i?i.canvases:e.items,s=r.length,o=new Array(r.length);let a,c,l,u,d,h,f,p,g,m,v,y,b,w,_,E,S,x=[],L=100,A=0,k=100;for(let e=0;e<s;e++){const t=r[e],n=t.width,i=t.height,s=ee(n,i),o=i/n;A=Math.max(o,A),k=Math.min(o,k),L=Math.min(L,s)}const C=new Array(L+1).fill(0),I=new Array(L+1).fill(0),P=new Array(L+1).fill(0),O=new Array(L+1).fill(0);for(let e=0;e<s;e++){if(a=r[e],y=a["@id"]||a.id,b=a.label,c=a.images?a.images[0].resource:a.items[0].items[0].body,x=[],"oa:Choice"===c["@type"]||"Choice"===c.type?(l=c.default||c.items[0],u=c.item||c.items.slice(1),x=ne(u,L)):l=c,g=a.width||l.width,m=a.height||l.height,g<=0||m<=0){console.warn("Invalid width or height for canvas "+b+". Skipping");continue}v=ee(g,m),w=l.label||null,f=re(l),h="/"!==f.url.slice(-1)?f.url+"/":f.url,d=l.service["@context"]||l.service.type,p="http://iiif.io/api/image/2/context.json"===d||"ImageService2"===d?2:"http://library.stanford.edu/iiif/image-api/1.1/context.json"===d?1.1:1,_=new Array(L+1);for(let e=0;e<L+1;e++)E=Math.floor(te(g,L-e)),S=Math.floor(te(m,L-e)),_[e]={h:S,w:E},C[e]+=E,I[e]+=S,P[e]=Math.max(E,P[e]),O[e]=Math.max(S,O[e]);let t="non-paged"!==a.viewingHint||!!a.behavior&&"non-paged"!==a.behavior[0],n="facing-pages"===a.viewingHint||!!a.behavior&&"facing-pages"===a.behavior[0];o[e]={d:_,m:v,l:b,il:w,f:f.url,url:h,api:p,paged:t,facingPages:n,canvas:y,otherImages:x,xoffset:f.x||null,yoffset:f.y||null}}const B=new Array(L+1),T=new Array(L+1);for(let e=0;e<L+1;e++)B[e]=C[e]/s,T[e]=I[e]/s;const N={a_wid:B,a_hei:T,max_w:P,max_h:O,max_ratio:A,min_ratio:k,t_hei:I,t_wid:C};return{version:n,item_title:Q(e).label,metadata:e.metadata||null,dims:N,max_zoom:L,pgs:o,paged:"paged"===e.viewingHint||!!e.behaviour&&"paged"===e.behaviour[0]||!!i&&"paged"===i.viewingHint}}function re(e){let t=e["@id"]||e.id;const n=/#xywh=([0-9]+,[0-9]+,[0-9]+,[0-9]+)/;let i="",r=!0;if(/\/([0-9]+,[0-9]+,[0-9]+,[0-9]+)\//.test(t)){const e=t.split("/");i=e[e.length-4]}else if(n.test(t)){i=n.exec(t)[1]}else e.service&&(e.service["@id"]||e.service.id)&&(t=e.service["@id"]||e.service.id,r=!1);r&&(t=t.split("/").slice(0,-4).join("/"));const s={url:t};if(i.length){const e=i.split(",");s.x=parseInt(e[0],10),s.y=parseInt(e[1],10),s.w=parseInt(e[2],10),s.h=parseInt(e[3],10)}return s}class se{getPageImageURL(e,t,n){let i;i=!n||null==n.width&&null==n.height?"full":(null==n.width?"":n.width)+","+(null==n.height?"":n.height);const r=e.pages[t],s=r.api>1.1?"default":"native";return encodeURI(r.url+"full/"+i+"/0/"+s+".jpg")}getTileImageURL(e,t,n){const i=e.pages[t];let r,s;r=n.row===n.rowCount-1?i.d[n.zoomLevel].h-(n.rowCount-1)*n.tileDimensions.height:n.tileDimensions.height,s=n.col===n.colCount-1?i.d[n.zoomLevel].w-(n.colCount-1)*n.tileDimensions.width:n.tileDimensions.width;const o=Math.pow(2,e.maxZoom-n.zoomLevel);let a=n.col*n.tileDimensions.width*o,c=n.row*n.tileDimensions.height*o;i.hasOwnProperty("xoffset")&&(a+=i.xoffset,c+=i.yoffset);const l=[a,c,s*o,r*o].join(","),u=i.api>1.1?"default":"native";return encodeURI(i.url+l+"/"+s+","+r+"/0/"+u+".jpg")}}class oe{constructor(e,t){this.pages=e.pgs,this.maxZoom=e.max_zoom,this.maxRatio=e.dims.max_ratio,this.minRatio=e.dims.min_ratio,this.itemTitle=e.item_title,this.metadata=e.metadata,this.paged=!!e.paged,this._maxWidths=e.dims.max_w,this._maxHeights=e.dims.max_h,this._averageWidths=e.dims.a_wid,this._averageHeights=e.dims.a_hei,this._totalHeights=e.dims.t_hei,this._totalWidths=e.dims.t_wid,this._urlAdapter=t}static fromIIIF(e){const t=ie(e);return new oe(t,new se)}isPageValid(e,t){return!(!t&&this.paged&&!this.pages[e].paged)&&(e>=0&&e<this.pages.length)}getMaxPageDimensions(e){const t=this.pages[e].d[this.maxZoom];return{height:t.h,width:t.w}}getPageDimensionsAtZoomLevel(e,t){const n=this.pages[e].d[this.maxZoom],i=(r=this.maxZoom,s=t,1/Math.pow(2,r-s));var r,s;return{height:n.h*i,width:n.w*i}}getPageImageURL(e,t){return this._urlAdapter.getPageImageURL(this,e,t)}getPageImageTiles(e,t,n){const i=this.pages[e];if(!isFinite(t)||t%1!=0)throw new TypeError("Zoom level must be an integer: "+t);const r=Math.ceil(i.d[t].h/n.height),s=Math.ceil(i.d[t].w/n.width),o=[];let a,c,l;for(a=0;a<r;a++)for(c=0;c<s;c++)l=this._urlAdapter.getTileImageURL(this,e,{row:a,col:c,rowCount:r,colCount:s,zoomLevel:t,tileDimensions:n}),o.push({row:a,col:c,zoomLevel:t,dimensions:{height:n.height,width:n.width},offset:{top:a*n.height,left:c*n.width},url:l});return{zoomLevel:t,rows:r,cols:s,tiles:o}}}function ae(e){return function(t){return this[e][t]}}oe.prototype.getMaxWidth=ae("_maxWidths"),oe.prototype.getMaxHeight=ae("_maxHeights"),oe.prototype.getAverageWidth=ae("_averageWidths"),oe.prototype.getAverageHeight=ae("_averageHeights"),oe.prototype.getTotalWidth=ae("_totalWidths"),oe.prototype.getTotalHeight=ae("_totalHeights");class ce{constructor(e){this.viewer=e,this.settings=e.settings}_elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}_subscribe(e,t){u.Events.subscribe(e,t,this.settings.ID)}createButton(e,t,n,r){const s=i("button",{type:"button",id:this.settings.ID+e,class:"diva-"+e+" diva-button",title:t,"aria-label":t});return r&&s.appendChild(r),n&&s.addEventListener("click",n),s}createLabel(e,t,n,r,s){return i("div",{id:this.settings.ID+t,class:e+" diva-label"},[n,i("span",{id:this.settings.ID+r},s)])}createZoomButtons(){let e=this._createZoomOutIcon(),t=this._createZoomInIcon(),n=[this.createButton("zoom-out-button","Zoom Out",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel-1)},e),this.createButton("zoom-in-button","Zoom In",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel+1)},t),this.createLabel("diva-zoom-label","zoom-label","Zoom level: ","zoom-level",this.settings.zoomLevel+1)],r=function(){document.getElementById(this.settings.ID+"zoom-level").textContent=this.settings.zoomLevel+1};return this._subscribe("ZoomLevelDidChange",r),this._subscribe("ViewerDidLoad",r),i("div",{id:this.settings.ID+"zoom-controls",style:"display: none"},n)}createGridControls(){let e=this._createGridMoreIcon(),t=this._createGridFewerIcon(),n=[this.createButton("grid-out-button","Fewer",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow-1)},t),this.createButton("grid-in-button","More",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow+1)},e),this.createLabel("diva-grid-label","grid-label","Pages per row: ","pages-per-row",this.settings.pagesPerRow)];return this._subscribe("GridRowNumberDidChange",(function(){document.getElementById(this.settings.ID+"pages-per-row").textContent=this.settings.pagesPerRow})),i("div",{id:this.settings.ID+"grid-controls",style:"display:none"},n)}createPageLabel(){const e=i("span",{id:this.settings.ID+"current-page"}),t=()=>{let t=this.viewer.getCurrentPageIndices(),n=t[0],i=t[t.length-1],r=this.settings.manifest.pages[n].l,s=this.settings.manifest.pages[i].l;n!==i?this.settings.enableIndexAsLabel?e.textContent=n+" - "+i:e.textContent=r+" - "+s:this.settings.enableIndexAsLabel?e.textContent=n:e.textContent=r};return this._subscribe("VisiblePageDidChange",t),this._subscribe("ViewerDidLoad",t),this._subscribe("ViewDidSwitch",t),i("span",{class:"diva-page-label diva-label"},e)}createGotoPageForm(){const e=i("input",{id:this.settings.ID+"goto-page-input",class:"diva-input diva-goto-page-input",autocomplete:"off",type:"text","aria-label":"Page Input"}),t=i("input",{id:this.settings.ID+"goto-page-submit",class:"diva-button diva-button-text",type:"submit",value:"Go"}),n=i("div",{id:this.settings.ID+"input-suggestions",class:"diva-input-suggestions"}),r=i("form",{id:this.settings.ID+"goto-page",class:"diva-goto-form"},e,t,n);var s,o,a;return r.addEventListener("submit",t=>{t.preventDefault();const i=e.value;if(this.settings.onGotoSubmit&&"function"==typeof this.settings.onGotoSubmit){const e=this.settings.onGotoSubmit(i);this.viewer.gotoPageByIndex(e)||window.alert("No page could be found with that label or page number")}else this.viewer.gotoPageByLabel(i)||window.alert("No page could be found with that label or page number");return n.style.display="none",!1}),["input","focus"].forEach(t=>{e.addEventListener(t,()=>{n.innerHTML="";const t=e.value;let r=0;if(this.settings.enableGotoSuggestions&&t){const e=this.settings.manifest.pages;for(let s=0,o=e.length;s<o&&r<10;s++)if(e[s].l.toLowerCase().indexOf(t.toLowerCase())>-1){const t=i("div",{class:"diva-input-suggestion"},e[s].l);n.appendChild(t),r++}r>0&&(n.style.display="block")}else n.style.display="none"})}),e.addEventListener("keydown",t=>{let n;if(13===t.keyCode){const t=document.getElementsByClassName("active")[0];void 0!==t&&(e.value=t.innerText)}if(38===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.previousSibling:void 0;if(void 0!==e)n.classList.remove("active"),null!==e&&e.classList.add("active");else{let e=document.getElementsByClassName("diva-input-suggestion").length-1;document.getElementsByClassName("diva-input-suggestion")[e].classList.add("active")}}else if(40===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.nextSibling:void 0;void 0!==e?(n.classList.remove("active"),null!==e&&e.classList.add("active")):document.getElementsByClassName("diva-input-suggestion")[0].classList.add("active")}}),s="mousedown",o=".diva-input-suggestion",a=function(){e.value=this.textContent,n.style.display="none";let t=new Event("submit",{cancelable:!0});r.dispatchEvent(t)},n.addEventListener(s,(function(e){for(var t=e.target;t&&t!==this;)t.matches(o)&&a.call(t,e),t=t.parentNode})),e.addEventListener("blur",()=>{n.style.display="none"}),r}createViewMenu(){const e=i("div",this._elemAttrs("view-options")),t=this._createGridViewIcon(),n=this._createBookViewIcon(),r=this._createPageViewIcon(),s=this.createButton("view-icon","Change view",()=>{e.style.display="none"===e.style.display?"block":"none"}),o=t=>{this.viewer.changeView(t),e.style.display="none"},a=()=>{this.settings.inGrid?(s.appendChild(t),s.className="diva-grid-icon diva-view-icon diva-button"):this.settings.inBookLayout?(s.appendChild(n),s.className="diva-book-icon diva-view-icon diva-button"):(s.appendChild(r),s.className="diva-document-icon diva-view-icon diva-button");const i=document.createDocumentFragment();for((this.settings.inGrid||this.settings.inBookLayout)&&i.appendChild(this.createButton("document-icon","Document View",o.bind(null,"document"),r)),!this.settings.inGrid&&this.settings.inBookLayout||i.appendChild(this.createButton("book-icon","Book View",o.bind(null,"book"),n)),this.settings.inGrid||i.appendChild(this.createButton("grid-icon","Grid View",o.bind(null,"grid"),t));e.firstChild;)e.removeChild(e.firstChild);e.appendChild(i)};return document.addEventListener("mouseup",t=>{e!==t.target&&(e.style.display="none")}),this._subscribe("ViewDidSwitch",a),this._subscribe("ObjectDidLoad",a),i("div",this._elemAttrs("view-menu"),s,e)}createFullscreenButton(){let e=this._createFullscreenIcon();return this.createButton("fullscreen-icon","Toggle fullscreen mode",()=>{this.viewer.toggleFullscreenMode()},e)}toggleZoomGridControls(){this.settings.inGrid?(document.getElementById(this.settings.ID+"zoom-controls").style.display="none",document.getElementById(this.settings.ID+"grid-controls").style.display="block"):(document.getElementById(this.settings.ID+"zoom-controls").style.display="block",document.getElementById(this.settings.ID+"grid-controls").style.display="none")}render(){this._subscribe("ViewDidSwitch",this.toggleZoomGridControls),this._subscribe("ObjectDidLoad",this.toggleZoomGridControls);let e=[this.createZoomButtons(),this.createGridControls()],t=[this.createPageLabel(),this.createViewMenu()];this.settings.enableFullscreen&&t.push(this.createFullscreenButton()),this.settings.enableGotoPage&&t.splice(1,0,this.createGotoPageForm());let n=this.viewer.viewerState.pluginInstances;for(let i=0,s=n.length;i<s;i++){let s=n[i];s.toolbarSide&&(s.toolbarIcon=s.createIcon(),s.toolbarIcon&&("right"===s.toolbarSide?t.splice(2,0,s.toolbarIcon):"left"===s.toolbarSide&&e.splice(2,0,s.toolbarIcon),s.toolbarIcon.addEventListener("click",r.bind(this,s))))}function r(e){e.handleClick(this.viewer)}const s=i("div",this._elemAttrs("tools"),i("div",this._elemAttrs("tools-left"),e),i("div",this._elemAttrs("tools-right"),t));this.settings.toolbarParentObject.insertBefore(s,this.settings.toolbarParentObject.firstChild)}_createToolbarIcon(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"viewBox","0 0 25 25"),t.setAttributeNS(null,"x","0px"),t.setAttributeNS(null,"y","0px"),t.setAttributeNS(null,"style","enable-background:new 0 0 48 48;");let n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttributeNS(null,"transform","matrix(1, 0, 0, 1, -12, -12)"),e.forEach(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttributeNS(null,"d",e),n.appendChild(t)}),t.appendChild(n),t}_createZoomOutIcon(){return this._createToolbarIcon(["M19.5,23c-0.275,0-0.5-0.225-0.5-0.5v-1c0-0.275,0.225-0.5,0.5-0.5h7c0.275,0,0.5,0.225,0.5,0.5v1c0,0.275-0.225,0.5-0.5,0.5H19.5z","M37.219,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.422,33.722,37.422,34.054,37.219,34.257z M29.568,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.555,28.818,29.568,25.805,29.568,22.099z"])}_createZoomInIcon(){return this._createToolbarIcon(["M37.469,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.672,33.722,37.672,34.054,37.469,34.257z M29.818,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.805,28.818,29.818,25.805,29.818,22.099z M26.5,21H24v-2.5c0-0.275-0.225-0.5-0.5-0.5h-1c-0.275,0-0.5,0.225-0.5,0.5V21h-2.5c-0.275,0-0.5,0.225-0.5,0.5v1c0,0.275,0.225,0.5,0.5,0.5H22v2.5c0,0.275,0.225,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5V23h2.5c0.275,0,0.5-0.225,0.5-0.5v-1C27,21.225,26.775,21,26.5,21z"])}_createGridMoreIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createGridFewerIcon(){return this._createToolbarIcon(["M25.5,35c-0.275,0-0.5-0.225-0.5-0.5v-9c0-0.275,0.225-0.5,0.5-0.5h9c0.275,0,0.5,0.225,0.5,0.5v9c0,0.275-0.225,0.5-0.5,0.5H25.5z M22.5,35c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z M34.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H34.5z M22.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z"])}_createGridViewIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createBookViewIcon(){return this._createToolbarIcon(["M35,16.8v-1.323c0,0-2.292-1.328-5.74-1.328c-3.448,0-5.26,1.25-5.26,1.25s-1.813-1.25-5.26-1.25c-3.448,0-5.74,1.328-5.74,1.328V16.8l-1,0.531v0.021v15.687c0,0,4.531-1.578,6.999-1.578c2.468,0,5.001,0.885,5.001,0.885s2.532-0.885,5-0.885c0.306,0,0.643,0.024,1,0.066v4.325l1.531-2.016L33,35.852v-3.72c2,0.43,3,0.906,3,0.906V17.352v-0.021L35,16.8z M23,29.03c-1-0.292-2.584-0.679-3.981-0.679c-2.246,0-3.019,0.404-4.019,0.699V16.634c0,0,1.125-0.699,4.019-0.699c1.694,0,2.981,0.417,3.981,1.126V29.03z M33,29.051c-1-0.295-1.773-0.699-4.02-0.699c-1.396,0-2.981,0.387-3.98,0.679V17.06c1-0.709,2.286-1.126,3.98-1.126c2.895,0,4.02,0.699,4.02,0.699V29.051z"])}_createPageViewIcon(){return this._createToolbarIcon(["M29.425,29h4.47L29,33.934v-4.47C29,29.19,29.151,29,29.425,29z M34,14.563V28h-5.569C28.157,28,28,28.196,28,28.47V34H14.497C14.223,34,14,33.71,14,33.437V14.563C14,14.29,14.223,14,14.497,14h18.9C33.672,14,34,14.29,34,14.563z M25.497,26.497C25.497,26.223,25.275,26,25,26h-7c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,27.777,17.725,28,18,28h7c0.275,0,0.497-0.223,0.497-0.497V26.497z M30.497,22.497C30.497,22.223,30.275,22,30,22H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,23.777,17.725,24,18,24h12c0.275,0,0.497-0.223,0.497-0.497V22.497z M30.497,18.497C30.497,18.223,30.275,18,30,18H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,19.777,17.725,20,18,20h12c0.275,0,0.497-0.223,0.497-0.497V18.497z"])}_createFullscreenIcon(){return this._createToolbarIcon(["M35,12H13c-0.55,0-1,0.45-1,1v22c0,0.55,0.45,1,1,1h22c0.55,0,1-0.45,1-1V13C36,12.45,35.55,12,35,12z M34,34H14V14h20V34z","M17,21.75v-4.5c0-0.138,0.112-0.25,0.25-0.25h4.5c0.138,0,0.17,0.08,0.073,0.177l-1.616,1.616l1.823,1.823c0.097,0.097,0.097,0.256,0,0.354l-1.061,1.06c-0.097,0.097-0.256,0.097-0.354,0l-1.823-1.823l-1.616,1.616C17.08,21.92,17,21.888,17,21.75z M20.97,25.97c-0.097-0.097-0.256-0.097-0.354,0l-1.823,1.823l-1.616-1.616C17.08,26.08,17,26.112,17,26.25v4.5c0,0.138,0.112,0.25,0.25,0.25h4.5c0.138,0,0.17-0.08,0.073-0.177l-1.616-1.616l1.823-1.823c0.097-0.097,0.097-0.256,0-0.354L20.97,25.97z M30.75,17h-4.5c-0.138,0-0.17,0.08-0.073,0.177l1.616,1.616l-1.823,1.823c-0.097,0.097-0.097,0.256,0,0.354l1.061,1.06c0.097,0.097,0.256,0.097,0.354,0l1.823-1.823l1.616,1.616C30.92,21.92,31,21.888,31,21.75v-4.5C31,17.112,30.888,17,30.75,17z M30.823,26.177l-1.616,1.616l-1.823-1.823c-0.097-0.097-0.256-0.097-0.354,0l-1.061,1.06c-0.097,0.097-0.097,0.256,0,0.354l1.823,1.823l-1.616,1.616C26.08,30.92,26.112,31,26.25,31h4.5c0.138,0,0.25-0.112,0.25-0.25v-4.5C31,26.112,30.92,26.08,30.823,26.177z M26,22.5c0-0.275-0.225-0.5-0.5-0.5h-3c-0.275,0-0.5,0.225-0.5,0.5v3c0,0.275,0.225,0.5,0.5,0.5h3c0.275,0,0.5-0.225,0.5-0.5V22.5z"])}}var le={get:ue,update:function(e,t){const n=ue(e),i=window.location.hash;if(n!==t)if("string"==typeof n){const r=i.indexOf("&"+e+"=")>0?i.indexOf("&"+e+"="):i.indexOf("#"+e+"="),s=r+e.length+2+n.length,o=0===r?"#":"&";window.location.replace(i.substring(0,r)+o+e+"="+t+i.substring(s))}else 0===i.length?window.location.replace("#"+e+"="+t):window.location.replace(i+"&"+e+"="+t)}};function ue(e){const t=window.location.hash;if(""!==t){let n=t.indexOf("&"+e+"=")>0?t.indexOf("&"+e+"="):t.indexOf("#"+e+"=");if(n>=0){n+=e.length+2;const i=t.indexOf("&",n);return i>n?decodeURIComponent(t.substring(n,i)):i<0?decodeURIComponent(t.substring(n)):""}return!1}return!1}class de{constructor(e,t){if(!(e instanceof HTMLElement)&&(this.element=document.getElementById(e),null===this.element))throw new a;if(!t.objectData)throw new l("You must supply either a URL or a literal object to the `objectData` key.");this.options=Object.assign({adaptivePadding:.05,arrowScrollAmount:40,blockMobileMove:!1,objectData:"",enableAutoTitle:!0,enableFilename:!0,enableFullscreen:!0,enableGotoPage:!0,enableGotoSuggestions:!0,enableGridIcon:!0,enableGridControls:"buttons",enableImageTitles:!0,enableIndexAsLabel:!1,enableKeyScroll:!0,enableLinkIcon:!0,enableNonPagedVisibilityIcon:!0,enableSpaceScroll:!1,enableToolbar:!0,enableZoomControls:"buttons",fillParentHeight:!0,fixedPadding:10,fixedHeightGrid:!0,goDirectlyTo:0,hashParamSuffix:null,imageCrossOrigin:"anonymous",inFullscreen:!1,inBookLayout:!1,inGrid:!1,maxPagesPerRow:8,maxZoomLevel:-1,minPagesPerRow:2,minZoomLevel:0,onGotoSubmit:null,pageAliases:{},pageAliasFunction:function(){return!1},pageLoadTimeout:200,pagesPerRow:5,requestHeaders:{Accept:"application/json"},showNonPagedPages:!1,throbberTimeout:100,tileHeight:256,tileWidth:256,toolbarParentObject:null,verticallyOriented:!0,viewportMargin:200,zoomLevel:2},t);const n=i("div",{class:"diva-wrapper"+(this.options.fillParentHeight?" diva-wrapper-flexbox":"")});this.element.appendChild(n),this.options.toolbarParentObject=this.options.toolbarParentObject||n;const r=new J(n,this.options,this);this.viewerState=r.getInternalState(),this.settings=r.getSettings(),this.toolbar=this.settings.enableToolbar?new ce(this):null,n.id=this.settings.ID+"wrapper",this.divaState={viewerCore:r,toolbar:this.toolbar};let s=u.Events.subscribe("ObjectDidLoad",()=>{null!==this.toolbar&&this.toolbar.render(),u.Events.unsubscribe(s)});this.hashState=this._getHashParamState(),this._loadOrFetchObjectData()}_loadOrFetchObjectData(){if("object"==typeof this.settings.objectData)setTimeout(()=>{this._loadObjectData(this.settings.objectData,this.hashState)},0);else{const e=fetch(this.settings.objectData,{headers:this.settings.requestHeaders}).then(e=>{if(!e.ok){u.Events.publish("ManifestFetchError",[e],this),this._ajaxError(e);let t=new Error(e.statusText);throw t.response=e,t}return e.json()}).then(e=>{this._loadObjectData(e,this.hashState)});this.divaState.viewerCore.setPendingManifestRequest(e)}}_showError(e){this.divaState.viewerCore.showError(e)}_ajaxError(e){const t=["Invalid objectData setting. Error code: "+e.status+" "+e.statusText];if(0===this.settings.objectData.lastIndexOf("http",0)){const e=this.settings.objectData.replace(/https?:\/\//i,"").split(/[/?#]/)[0];window.location.hostname!==e&&t.push(i("p","Attempted to access cross-origin data without CORS."),i("p","You may need to update your server configuration to support CORS. For help, see the ",i("a",{href:"https://github.com/DDMAL/diva.js/wiki/Installation#a-note-about-cross-site-requests",target:"_blank"},"cross-site request documentation.")))}this._showError(t)}_loadObjectData(e,t){let n;if(!e.hasOwnProperty("@context")&&(-1===e["@context"].indexOf("iiif")||-1===e["@context"].indexOf("shared-canvas")))throw new c("This does not appear to be a IIIF Manifest.");u.Events.publish("ManifestDidLoad",[e],this),n=oe.fromIIIF(e);const i=t?this._getLoadOptionsForState(t,n):{};this.divaState.viewerCore.setManifest(n,i)}_getHashParamState(){const e={};return["f","v","z","n","i","p","y","x"].forEach(t=>{const n=le.get(t+this.settings.hashParamSuffix);!1!==n&&(e[t]=n)}),"true"===e.f?e.f=!0:"false"===e.f&&(e.f=!1),["z","n","p","x","y"].forEach(t=>{t in e&&(e[t]=parseInt(e[t],10))}),e}_getLoadOptionsForState(e,t){t=t||this.settings.manifest;const n="v"in e?this._getViewState(e.v):{};"f"in e&&(n.inFullscreen=e.f),"z"in e&&(n.zoomLevel=e.z),"n"in e&&(n.pagesPerRow=e.n);let i=this._getPageIndexForManifest(t,e.i);if(i>=0&&i<t.pages.length||(i=e.p-1,i>=0&&i<t.pages.length||(i=null)),null!==i){const t=parseInt(e.x,10),r=parseInt(e.y,10);n.goDirectlyTo=i,n.horizontalOffset=t,n.verticalOffset=r}return n}_getViewState(e){switch(e){case"d":return{inGrid:!1,inBookLayout:!1};case"b":return{inGrid:!1,inBookLayout:!0};case"g":return{inGrid:!0,inBookLayout:!1};default:return{}}}_getPageIndexForManifest(e,t){let n;const i=e.pages.length;for(n=0;n<i;n++)if(e.pages[n].f===t)return n;return-1}_getState(){let e;e=this.settings.inGrid?"g":this.settings.inBookLayout?"b":"d";const t=this.divaState.viewerCore.getCurrentLayout().getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);return{f:this.settings.inFullscreen,v:e,z:this.settings.zoomLevel,n:this.settings.pagesPerRow,i:!!this.settings.enableFilename&&this.settings.manifest.pages[this.settings.activePageIndex].f,p:!this.settings.enableFilename&&this.settings.activePageIndex+1,y:!!t&&t.y,x:!!t&&t.x}}_getURLHash(){const e=this._getState(),t=[];let n;for(n in e)!1!==e[n]&&t.push(n+this.settings.hashParamSuffix+"="+encodeURIComponent(e[n]));return t.join("&")}_getPageIndex(e){return this._getPageIndexForManifest(this.settings.manifest,e)}_checkLoaded(){return!!this.viewerState.loaded||(console.warn("The viewer is not completely initialized. This is likely because it is still downloading data. To fix this, only call this function if the isReady() method returns true."),!1)}_toggleFullscreen(){let e;this._reloadViewer({inFullscreen:!this.settings.inFullscreen});let t=!1,n=document.getElementById(this.settings.selector+"tools");function i(){n.style.opacity=1,clearTimeout(e),!t&&this.settings.inFullscreen&&(e=setTimeout((function(){n.style.opacity=0}),2e3))}this.settings.inFullscreen?(n.classList.add("diva-fullscreen-tools"),document.addEventListener("mousemove",i.bind(this)),document.getElementsByClassName("diva-viewport")[0].addEventListener("scroll",i.bind(this)),n.addEventListener("mouseenter",(function(){t=!0})),n.addEventListener("mouseleave",(function(){t=!1}))):n.classList.remove("diva-fullscreen-tools")}_togglePageLayoutOrientation(){const e=!this.settings.verticallyOriented;return this._reloadViewer({inGrid:!1,verticallyOriented:e,goDirectlyTo:this.settings.activePageIndex,verticalOffset:this.divaState.viewerCore.getYOffset(),horizontalOffset:this.divaState.viewerCore.getXOffset()}),e}_changeView(e){switch(e){case"document":return this._reloadViewer({inGrid:!1,inBookLayout:!1});case"book":return this._reloadViewer({inGrid:!1,inBookLayout:!0});case"grid":return this._reloadViewer({inGrid:!0});default:return!1}}_gotoPageByIndex(e,t,n){let i=parseInt(e,10);if(this._isPageIndexValid(i)){const e=this.divaState.viewerCore.getXOffset(i,t),r=this.divaState.viewerCore.getYOffset(i,n);return this.viewerState.renderer.goto(i,r,e),!0}return!1}_isPageIndexValid(e){return this.settings.manifest.isPageValid(e,this.settings.showNonPagedPages)}_getPageIndexForPageXYValues(e,t){const n=this.viewerState.outerElement.getBoundingClientRect(),i=n.top,r=n.left,s=n.bottom,o=n.right;if(e<r||e>o)return-1;if(t<i||t>s)return-1;const a=document.getElementsByClassName("diva-page");let c=a.length;for(;c--;){const n=a[c],i=n.getBoundingClientRect();if(!(e<i.left||e>i.right)&&!(t<i.top||t>i.bottom))return n.getAttribute("data-index")}return-1}_reloadViewer(e){return this.divaState.viewerCore.reload(e)}_getCurrentURL(){return location.protocol+"//"+location.host+location.pathname+location.search+"#"+this._getURLHash()}activate(){this.viewerState.isActiveDiva=!0}changeObject(e){this.viewerState.loaded=!1,this.divaState.viewerCore.clear(),this.viewerState.renderer&&this.viewerState.renderer.destroy(),this.viewerState.options.objectData=e,this._loadOrFetchObjectData()}changeView(e){this._changeView(e)}deactivate(){this.viewerState.isActiveDiva=!1}destroy(){this.divaState.viewerCore.destroy()}disableScrollable(){this.divaState.viewerCore.disableScrollable()}enableScrollable(){this.divaState.viewerCore.enableScrollable()}disableDragScrollable(){this.divaState.viewerCore.disableDragScrollable()}enableDragScrollable(){this.divaState.viewerCore.enableDragScrollable()}enterFullscreenMode(){return!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}enterGridView(){return!this.settings.inGrid&&(this._changeView("grid"),!0)}getAllPageURIs(){return this.settings.manifest.pages.map(e=>e.f)}getCurrentCanvas(){return this.settings.manifest.pages[this.settings.activePageIndex].canvas}getCurrentPageDimensionsAtCurrentZoomLevel(){return this.getPageDimensionsAtCurrentZoomLevel(this.settings.activePageIndex)}getCurrentPageFilename(){return console.warn("This method will be deprecated in the next version of Diva. Please use getCurrentPageURI instead."),this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentPageIndices(){return this.settings.currentPageIndices}getActivePageIndex(){return this.settings.activePageIndex}getCurrentPageOffset(){return this.getPageOffset(this.settings.activePageIndex)}getCurrentPageURI(){return this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentURL(){return this._getCurrentURL()}getFilenames(){return console.warn("This will be removed in the next version of Diva. Use getAllPageURIs instead."),this.settings.manifest.pages.map(e=>e.f)}getGridPagesPerRow(){return this.settings.pagesPerRow}getInstanceId(){return this.settings.ID}getInstanceSelector(){return this.divaState.viewerCore.selector}getItemTitle(){return this.settings.manifest.itemTitle}getMaxZoomLevel(){return this.settings.maxZoomLevel}getMaxZoomLevelForPage(e){return!!this._checkLoaded()&&this.settings.manifest.pages[e].m}getMinZoomLevel(){return this.settings.minZoomLevel}getNumberOfPages(){return!!this._checkLoaded()&&this.settings.numPages}getOtherImages(e){return this.settings.manifest.pages[e].otherImages}getPageDimensions(e){return this._checkLoaded()?this.divaState.viewerCore.getCurrentLayout().getPageDimensions(e):null}getPageDimensionsAtCurrentZoomLevel(e){let t=parseInt(e,10);if(!this._isPageIndexValid(t))throw new Error("Invalid Page Index");return this.divaState.viewerCore.getCurrentLayout().getPageDimensions(t)}getPageDimensionsAtZoomLevel(e,t){if(!this._checkLoaded())return!1;t>this.settings.maxZoomLevel&&(t=this.settings.maxZoomLevel);const n=this.settings.manifest.pages[parseInt(e,10)].d[parseInt(t,10)];return{width:n.w,height:n.h}}getPageImageURL(e,t){return this.settings.manifest.getPageImageURL(e,t)}getPageIndexForPageXYValues(e,t){return this._getPageIndexForPageXYValues(e,t)}getPageOffset(e,t){const n=this.divaState.viewerCore.getPageRegion(e,t);return{top:n.top,left:n.left}}getSettings(){return this.settings}getState(){return this._getState()}getZoomLevel(){return this.settings.zoomLevel}gotoPageByIndex(e,t,n){return this._gotoPageByIndex(e,t,n)}gotoPageByLabel(e,t,n){const i=this.settings.manifest.pages;let r=e.toLowerCase();for(let e=0,s=i.length;e<s;e++)if(i[e].l.toLowerCase().indexOf(r)>-1)return this._gotoPageByIndex(e,t,n);const s=parseInt(e,10)-1;return this._gotoPageByIndex(s,t,n)}gotoPageByName(e,t,n){console.warn("This method will be removed in the next version of Diva.js. Use gotoPageByURI instead.");const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}gotoPageByURI(e,t,n){const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}hasOtherImages(e){return!0===this.settings.manifest.pages[e].otherImages}hideNonPagedPages(){this._reloadViewer({showNonPagedPages:!1})}isInFullscreen(){return this.settings.inFullscreen}isPageIndexValid(e){return this._isPageIndexValid(e)}isPageInViewport(e){return this.viewerState.renderer.isPageVisible(e)}isReady(){return this.viewerState.loaded}isRegionInViewport(e,t,n,i,r){const s=this.divaState.viewerCore.getCurrentLayout();if(!s)return!1;const o=s.getPageOffset(e),a=o.top+n,c=o.left+t;return this.viewerState.viewport.intersectsRegion({top:a,bottom:a+r,left:c,right:c+i})}isVerticallyOriented(){return this.settings.verticallyOriented}leaveFullscreenMode(){return!!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}leaveGridView(){return!!this.settings.inGrid&&(this._reloadViewer({inGrid:!1}),!0)}setGridPagesPerRow(e){return!!this.divaState.viewerCore.isValidOption("pagesPerRow",e)&&this._reloadViewer({inGrid:!0,pagesPerRow:e})}setState(e){this._reloadViewer(this._getLoadOptionsForState(e))}setZoomLevel(e){return this.settings.inGrid&&this._reloadViewer({inGrid:!1}),this.divaState.viewerCore.zoom(e)}showNonPagedPages(){this._reloadViewer({showNonPagedPages:!0})}toggleFullscreenMode(){this._toggleFullscreen()}toggleNonPagedPagesVisibility(){this._reloadViewer({showNonPagedPages:!this.settings.showNonPagedPages})}toggleOrientation(){return this._togglePageLayoutOrientation()}translateFromMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return e/Math.pow(2,t)}translateToMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return 0===t?e:e*Math.pow(2,t)}zoomIn(){return this.setZoomLevel(this.settings.zoomLevel+1)}zoomOut(){return this.setZoomLevel(this.settings.zoomLevel-1)}}de.Events=u.Events;var he;t.default=de;"undefined"!=typeof window&&((he=window).Diva=he.Diva||de)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Mb2NhbFNldHRpbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L0NvbnRlbnRzLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0Nvb3JkaW5hdGVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yYW5kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL01vZGFsV2luZG93LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnV2dXplbGEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRHJhZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0Vycm9yTG9nLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9SZXNpemUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvdWNoZGIvbGliL2luZGV4LWJyb3dzZXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmtiZWF1dGlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1dhcm5pbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1N0YWZmVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvTmV1bWVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9xdWV1ZU1pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tZXNzYWdlQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9zdGF0ZUNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi90aW1lb3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9zY2FuLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0NvbnZlcnRNZWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Vuc2F2ZWQudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvSW5zZXJ0SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRWRpdENvbnRlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FZGl0Q29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vZGVwbG95bWVudC9zY3JpcHRzL2VkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTmVvblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05lb25Db3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9WZXJvdmlvV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTmVvbk1hbmlmZXN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvdmFsaWRhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb25zY2hlbWEvbGliL2F0dHJpYnV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RpdmFWaWV3LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy91dGlscy92YW5pbGxhLmtpbmV0aWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2RyYWdzY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU2luZ2xlVmlldy9TaW5nbGVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9TaW5nbGVWaWV3L1pvb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvRGl2YUVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1NpbmdsZUVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9JbmZvTW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXh0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dEVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy91dGlscy9lbHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2V4Y2VwdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2RpdmEtZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy91dGlscy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2dlc3R1cmUtZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLXRvb2xzLW92ZXJsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2RvY3VtZW50LWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2dyaWQtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1vdmVybGF5LW1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3RpbGUtY292ZXJhZ2UtbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9jb21wb3NpdGUtaW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2RvY3VtZW50LWxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvaW1hZ2UtY2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2ltYWdlLXJlcXVlc3QtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvaW50ZXJwb2xhdGUtYW5pbWF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1sYXlvdXRzL3BhZ2UtZGltZW5zaW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1sYXlvdXRzL2Jvb2stbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvZ3JpZC1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtbGF5b3V0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1sYXlvdXRzL3NpbmdsZXMtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9zZXR0aW5ncy12aWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy92YWxpZGF0aW9uLXJ1bm5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdmlld3BvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3ZpZXdlci1jb3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy91dGlscy9nZXQtc2Nyb2xsYmFyLXdpZHRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy91dGlscy9wYXJzZS1sYWJlbC12YWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFyc2UtaWlpZi1tYW5pZmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvaWlpZi1zb3VyY2UtYWRhcHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvaW1hZ2UtbWFuaWZlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3Rvb2xiYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2hhc2gtcGFyYW1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9kaXZhLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVmbGVjdE93bktleXMiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsImFwcGx5IiwidGFyZ2V0IiwicmVjZWl2ZXIiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbmNhdCIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJFdmVudEVtaXR0ZXIiLCJpbml0IiwidGhpcyIsIm9uY2UiLCJlbWl0dGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvckxpc3RlbmVyIiwiZXJyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZXNvbHZlciIsInNsaWNlIiwiYXJndW1lbnRzIiwiZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyIiwiaGFuZGxlciIsImZsYWdzIiwib24iLCJhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlciIsIl9ldmVudHMiLCJ1bmRlZmluZWQiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIlR5cGVFcnJvciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsInByZXBlbmQiLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJuZXdMaXN0ZW5lciIsImVtaXQiLCJ1bnNoaWZ0IiwicHVzaCIsImxlbmd0aCIsIndhcm5lZCIsInciLCJFcnJvciIsIlN0cmluZyIsImNvdW50IiwiY29uc29sZSIsIndhcm4iLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJhcnIiLCJyZXQiLCJBcnJheSIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJsaXN0ZW5lckNvdW50IiwiY29weSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3cmFwTGlzdGVuZXIiLCJhcmciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0IiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJtZXNzYWdlIiwiY29udGV4dCIsImxlbiIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzaGlmdCIsImluZGV4IiwicG9wIiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwia2V5cyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJzY2hlZHVsZURyYWluIiwidHlwZXMiLCJxdWV1ZUluZGV4IiwicXVldWUiLCJzY2hlZHVsZWQiLCJjbGVhblVwTmV4dFRpY2siLCJuZXh0VGljayIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicnVuIiwiY2xlYXJUaW1lb3V0IiwidGVzdCIsImluc3RhbGwiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJ0YXNrIiwiZ2V0U2VsZWN0aW9uVHlwZSIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpZCIsInVuc2VsZWN0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZWxlY3RlZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNvbnRhaW5zIiwicmVtb3ZlQXR0cmlidXRlIiwiQ29sb3IiLCJ1bmhpZ2hsaWdodCIsInN0eWxlIiwiZmlsbCIsImZyb20iLCJkaXZMaW5lIiwic3Ryb2tlIiwic2V0QXR0cmlidXRlIiwibmV1bWUiLCJzeWxSZWN0IiwicGFyZW50RWxlbWVudCIsImFkZCIsImQzIiwic2VsZWN0QWxsIiwiZWwiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJnZXRFbGVtZW50QnlJZCIsIlNlbGVjdE9wdGlvbnMiLCJlbmRPcHRpb25zU2VsZWN0aW9uIiwiR3JvdXBpbmciLCJlbmRHcm91cGluZ1NlbGVjdGlvbiIsImlubmVySFRNTCIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJlbGVtIiwiY2xvc2VzdCIsInNwYW4iLCJhc3luYyIsImlzTGlnYXR1cmUiLCJuYyIsIm5lb25WaWV3IiwiYXR0cmlidXRlcyIsImdldEVsZW1lbnRBdHRyIiwidmlldyIsImdldEN1cnJlbnRQYWdlVVJJIiwiQm9vbGVhbiIsImxpZ2F0ZWQiLCJlbGVtZW50c0hhdmVDb3JyZWN0VHlwZSIsInNlbGVjdGlvblR5cGUiLCJlbGVtZW50cyIsInNoYXJlZFNlY29uZExldmVsUGFyZW50IiwidGVtcEVsZW1lbnRzIiwic2Vjb25kUGFyZW50Iiwic2VsZWN0QkJveCIsImJib3giLCJzeWwiLCJyZXNpemUiLCJxdWVyeVNlbGVjdG9yIiwidHJpZ2dlckJCb3hBY3Rpb25zIiwicGFyZW50IiwicHJldk5jIiwicHJldmlvdXNTaWJsaW5nIiwibmV4dE5jIiwibmV4dFNpYmxpbmciLCJ0cmlnZ2VyR3JvdXBpbmciLCJ0cmlnZ2VyTmNBY3Rpb25zIiwiYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUiLCJzb3J0ZWRFbGVtZW50cyIsImoiLCJpc1NhbWVOb2RlIiwiZmlyc3RFbGVtIiwic2Vjb25kRWxlbSIsImluZGV4MSIsImluZGV4T2YiLCJpbmRleDIiLCJNYXRoIiwiYWJzIiwiZmlsdGVyIiwicmVmZXJlbmNlUGFyZW50U3RhZmYiLCJyZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSIsImVsZW1lbnRzQXJyYXkiLCJhbm90aGVyU3RhZmYiLCJ1bHgiLCJ1bHkiLCJscngiLCJscnkiLCJyb3RhdGUiLCJwYXRoIiwiY29vcmRpbmF0ZXMiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaCIsIm1hcCIsImF0YW4iLCJtaW4iLCJtYXgiLCJub3ROZXVtZXMiLCJubiIsInNlbGVjdGlvbkNsYXNzIiwiY29udGFpbnNMYXllckVsZW1lbnRzIiwiY29udGFpbnNOYyIsImdyb3Vwc1RvU2VsZWN0IiwiU2V0IiwiZ3JvdXBpbmciLCJmb2xsb3dzIiwicHJlY2VkZXMiLCJncm91cCIsImdyb3VwcyIsInZhbHVlcyIsInRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucyIsInNpemUiLCJ0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyIsInRyaWdnZXJEZWZhdWx0QWN0aW9ucyIsInRyaWdnZXJTeWxsYWJsZUFjdGlvbnMiLCJpc0xpbmthYmxlIiwiaXNHcm91cGFibGUiLCJ0cmlnZ2VyTmV1bWVBY3Rpb25zIiwiY2hpbGRyZW4iLCJmaXJzdE5DIiwic2Vjb25kTkMiLCJmaXJzdE5DWCIsIngiLCJiYXNlVmFsIiwic2Vjb25kTkNYIiwiZmlyc3ROQ1kiLCJ5Iiwic2Vjb25kTkNZIiwiZyIsInRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyIsImxvY2FsU2V0dGluZ3MiLCJERUZBVUxUX1NFVFRJTkdTIiwiem9vbSIsImdseXBoT3BhY2l0eSIsImltYWdlT3BhY2l0eSIsImNpcmNsZVNpemUiLCJoaWdobGlnaHRNb2RlIiwidXNlck1vZGUiLCJpbnNlcnRNb2RlIiwiaW5zZXJ0VGFiIiwic2VsZWN0aW9uTW9kZSIsImRpc3BsYXlCQm94IiwiZGlzcGxheVRleHQiLCJkaXNwbGF5SW5mbyIsImRpc3BsYXlFcnJMb2ciLCJ2aWV3Qm94Iiwic2V0dGluZ3MiLCJwYXJhbXMiLCJmb2xpb0lkIiwibG9hZCIsInN0b3JlZCIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzeW5jIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIm5vdGlmaWNhdGlvbnMiLCJjdXJyZW50TW9kZU1lc3NhZ2UiLCJub3RpZmljYXRpb25JY29uIiwiZGVmYXVsdCIsInN1Y2Nlc3MiLCJOb3RpZmljYXRpb24iLCJkaXNwbGF5ZWQiLCJ1dWlkdjQiLCJpc01vZGVNZXNzYWdlIiwic2VhcmNoIiwidGltZW91dElEIiwiY2xlYXJOb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJzdGFydE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsImdldElkIiwibm90aWZpY2F0aW9uQ29udGVudCIsIm5ld05vdGlmaWNhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJkaXNwbGF5IiwiZGlzcGxheU5vdGlmaWNhdGlvbiIsInNldFRpbWVvdXRJZCIsInF1ZXVlTm90aWZpY2F0aW9uIiwicmVjb3JkTm90aWZpY2F0aW9uIiwiaW5zZXJ0VGFiSHRtbCIsInByaW1pdGl2ZVRhYiIsImdyb3VwaW5nVGFiIiwic3lzdGVtVGFiIiwiaW5zZXJ0Q29udHJvbHNQYW5lbCIsImVkaXRDb250cm9sc1BhbmVsIiwibmNBY3Rpb25Db250ZW50cyIsImRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzIiwibmV1bWVBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyIsInN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyIsImNvbHVtbkFjdGlvbkNvbnRlbnRzIiwiY2xlZkFjdGlvbkNvbnRlbnRzIiwiZGl2TGluZUFjdGlvbkNvbnRlbnRzIiwiYmJveEFjdGlvbkNvbnRlbnRzIiwiZ3JvdXBpbmdNZW51IiwibGlnYXR1cmVOYyIsImxpZ2F0dXJlIiwic3BsaXRTeWxsYWJsZSIsImVkaXRUZXh0TW9kYWwiLCJob3RrZXlzTW9kYWwiLCJzeWxsYWJsZUFjdGlvbnNDb250ZW50IiwiZXJyb3JMb2dzUGFuZWxDb250ZW50cyIsImUiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5IiwibGFzdENpcmNsZVNpemUiLCJzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIiwibWVpQ2xhc3NOYW1lIiwib3BhY2l0eU91dHB1dCIsInNldFNldHRpbmdzIiwiaGlkZUdseXBoSW1nIiwib3BhY2l0eSIsInNldEJnT3BhY2l0eUZyb21TbGlkZXIiLCJiYWNrZ3JvdW5kIiwiYmdPcGFjaXR5T3V0cHV0IiwiaGlkZUJnSW1nIiwiYmciLCJ1cGRhdGVIaWdobGlnaHRPcHRpb24iLCJvcHRpb24iLCJkcm9wZG93biIsImhpZ2hsaWdodFR5cGUiLCJ0ZXh0Q29udGVudCIsInVuc2V0R3JvdXBpbmdIaWdobGlnaHQiLCJ0b1VwcGVyQ2FzZSIsInNldEdyb3VwaW5nSGlnaGxpZ2h0Iiwic2V0SGlnaGxpZ2h0T3B0aW9uIiwiaGlnaGxpZ2h0Q2xpY2thd2F5IiwiYm9keSIsInNldEhpZ2hsaWdodENvbnRyb2xzIiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwibG9hZEhpZ2hsaWdodFNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ6b29tSGFuZGxlciIsInpvb21TbGlkZXIiLCJ6b29tT3V0cHV0Iiwiem9vbVRvIiwicmVzZXRab29tQW5kUGFuIiwiZGlzYWJsZWQiLCJjdXJyZW50Wm9vbSIsInBhcnNlSW50IiwicHJldmVudERlZmF1bHQiLCJuZXdab29tIiwiY2lyY2xlU2xpZGVyIiwiY2lyY2xlT3V0cHV0IiwiY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciIsInJlc2l6ZVBvaW50cyIsImVtcHR5IiwiYXR0ciIsImhpZ2hsaWdodFNlbGVjdGlvbiIsImhpZ2hsaWdodElkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJjaGVja2VkIiwib3BhY2l0eVNsaWRlciIsImlucHV0Q2hhbmdlT3BhY2l0eSIsInRvZ2dsZU9wYWNpdHlCdG4iLCJuZXdPcGFjaXR5Iiwicm91bmQiLCJzZXRHbHlwaE9wYWNpdHlDb250cm9scyIsImJnT3BhY2l0eVNsaWRlciIsImJnSW5wdXRDaGFuZ2VIYW5kbGVyIiwidG9nZ2xlQmdPcGFjaXR5QnRuIiwic2V0QmdPcGFjaXR5Q29udHJvbHMiLCJtZXRhS2V5Iiwic2VsZWN0QWxsQnRuIiwib3B0aW9ucyIsImNsaWNrIiwic2V0RGlzcGxheUFsbExpc3RlbmVyIiwiZGlzcGxheUNvbnRlbnRzIiwidG9nZ2xlRGlzcGxheSIsInBhZGRpbmciLCJvdmVyZmxvdyIsInVuc2V0SW5jbGluYXR1bUFjdGlvbiIsImFjdGlvbiIsInBhcmFtIiwiZWxlbWVudElkIiwiYXR0clR5cGUiLCJhdHRyVmFsdWUiLCJ1bnNldFZpcmdhQWN0aW9uIiwidW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiIsImN1cnZlIiwiZGVsZXRlQnV0dG9uSGFuZGxlciIsInJlbW92ZUhhbmRsZXIiLCJtb3JlRWRpdCIsImV4dHJhRWRpdCIsInRvUmVtb3ZlIiwiY2hhaW5BY3Rpb24iLCJlZGl0IiwidGhlbiIsInVwZGF0ZUZvckN1cnJlbnRQYWdlIiwiY2hhbmdlU3RhZmZIYW5kbGVyIiwidG9DaGFuZ2UiLCJpbnNlcnRUb1N5bGxhYmxlSGFuZGxlciIsInRvSW5zZXJ0IiwicmVzdWx0IiwibW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIiLCJ0b01vdmUiLCJtYXRjaEhlaWdodEhhbmRsZXIiLCJhZGREZWxldGVMaXN0ZW5lciIsImRlbCIsImFkZENoYW5nZVN0YWZmTGlzdGVuZXIiLCJjaGFuZ2VTdGFmZiIsInVwZGF0ZUNvbHVtbkluZm8iLCJjb2xJbnB1dCIsInN0YXZlcyIsImNvbEluZm8iLCJoYXNDb2x1bW4iLCJqb2luIiwic3RhZmZDb2wiLCJpbm5lclRleHQiLCJhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIiLCJkZWNyZW1lbnRCdXR0b24iLCJpbmNyZW1lbnRCdXR0b24iLCJjb25maXJtQnV0dG9uIiwidXBkYXRlTnVtYmVyIiwiY2hhbmdlIiwiY3VycmVudFZhbHVlIiwidG9TZXRDb2x1bW4iLCJzZXRFZGl0Q29udHJvbHMiLCJlZGl0VHlwZSIsImNvbnRlbnRzIiwicmVwbGFjZSIsInBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24iLCJ0cmlnZ2VyU3RhZmZTcGxpdE1vZGUiLCJTcGxpdFN0YWZmSGFuZGxlciIsInN0YXJ0U3BsaXQiLCJpbml0T3B0aW9uc0xpc3RlbmVycyIsImRyb3AiLCJvcHRpb25zQ2xpY2thd2F5Iiwib3RoZXIiLCJpbml0TmVvblZpZXciLCJDb250ZW50cyIsInVuc2V0SW5jbGluYXR1bSIsInVuc2V0VmlyZ2EiLCJ1bnNldFZpcmdhUmV2ZXJzZWQiLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwic2V0SW5jbGluYXR1bSIsInNldFZpcmdhIiwic2V0VmlyZ2FSZXZlcnNlZCIsInNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInRyaWdnZXJDaGFuZ2VHcm91cCIsImNvbnRvdXIiLCJjaGFuZ2VHcm91cGluZ0FjdGlvbiIsIlNwbGl0TmV1bWVIYW5kbGVyIiwiaW5mbyIsImdldENvbnRvdXJCeVZhbHVlIiwiZXh0cmFBY3Rpb25zSFRNTCIsImFjY2lkT3B0aW9uc0xpc3RlbmVyIiwiaW5jcmVtZW50T2N0YXZlIiwiZGlyZWN0aW9uIiwic2hhcGUiLCJjbGVmT3B0aW9uc0xpc3RlbmVyIiwiZGl2TGluZU9wdGlvbnNMaXN0ZW5lciIsIm1lcmdlU3RhdmVzIiwicG9pbnRzIiwiZ2V0U3RhZmZCQm94IiwieV9jaGFuZ2UiLCJ0YW4iLCJlZGl0b3JBY3Rpb24iLCJnZXRTVkdSZWxDb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInB0IiwiRE9NUG9pbnQiLCJzeXN0ZW0iLCJtYXRyaXhUcmFuc2Zvcm0iLCJnZXRTY3JlZW5DVE0iLCJpbnZlcnNlIiwiZ2V0U3RhZmZJZEJ5Q29vcmRzIiwic3RhZmZCQm94ZXMiLCJmaW5kIiwic3RhZmZJZCIsImJnSW1nIiwicmVjdCIsInRhZ05hbWUiLCJnZXRCQm94IiwicGFyZW50Tm9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiaGV4X2NociIsIm1kNWN5Y2xlIiwiayIsImEiLCJiIiwibWQ1YmxrIiwibWQ1YmxrcyIsImNoYXJDb2RlQXQiLCJtZDVibGtfYXJyYXkiLCJtZDUxIiwidGFpbCIsInRtcCIsImxvIiwiaGkiLCJzdWJzdHJpbmciLCJyaGV4IiwiaGV4IiwidG9VdGY4Iiwic3RyIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJoZXhUb0JpbmFyeVN0cmluZyIsImJ5dGVzIiwiZnJvbUNoYXJDb2RlIiwiU3BhcmtNRDUiLCJyZXNldCIsIkFycmF5QnVmZmVyIiwiY2xhbXAiLCJ2YWwiLCJ0byIsIm51bSIsInRhcmdldEFycmF5Iiwic291cmNlQXJyYXkiLCJieXRlTGVuZ3RoIiwiYmVnaW4iLCJlbmQiLCJVaW50OEFycmF5IiwiYXBwZW5kQmluYXJ5IiwiX2J1ZmYiLCJfbGVuZ3RoIiwiX2hhc2giLCJyYXciLCJidWZmIiwiX2ZpbmlzaCIsImdldFN0YXRlIiwiaGFzaCIsInNldFN0YXRlIiwiZGVzdHJveSIsImhhc2hCaW5hcnkiLCJjb250ZW50IiwiZmlyc3QiLCJzZWNvbmQiLCJyZXR1cm5VSW50OEFycmF5IiwiYnVmZmVyIiwic3ViYXJyYXkiLCJ1dGY4U3RyMkFycmF5QnVmZmVyIiwibWQ1MV9hcnJheSIsImZhY3RvcnkiLCJ1aW50OFRvVXVpZCIsImRhdGEiLCJjYiIsInByZXZpb3VzIiwiY3VycmVudCIsInBhZFN0YXJ0IiwicmVkdWNlIiwiY3J5cHRvIiwib2N0ZXRzIiwibW9kaWZpZXJzIiwiZ2V0UmFuZG9tVmFsdWVzIiwiTW9kYWxXaW5kb3dWaWV3IiwiTW9kYWxXaW5kb3dTdGF0ZSIsIm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93IiwiaGlkZU1vZGFsV2luZG93IiwidXBkYXRlU3lsVGV4dCIsImZvY3VzTW9kYWxXaW5kb3ciLCJvcmlnIiwidHJpbSIsInVwZGF0ZWRTeWxUZXh0IiwiZW50cmllcyIsImNsYXNzTmFtZSIsInRleHQiLCJyZXNwb25zZSIsInVwZGF0ZVNlbGVjdGVkQkJveCIsImtleWRvd25MaXN0ZW5lciIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm1vZGFsV2luZG93VmlldyIsIkVESVRfVEVYVCIsIkRPQ1VNRU5UX1VQTE9BRCIsIk5FV19GT0xERVIiLCJSRU5BTUUiLCJmb2N1cyIsIm1vZGFsV2luZG93U3RhdGUiLCJDTE9TRUQiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic2V0TW9kYWxXaW5kb3dDb250ZW50IiwiSE9US0VZUyIsIk1PVkVfVE8iLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJPUEVOIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJjb250YWluZXIiLCJ0aXRsZSIsInJlbW92ZVN5bWJvbCIsIlZBTElEQVRJT05fU1RBVFVTIiwidXBsb2FkQXJlYUhUTUwiLCJuZXdGb2xkZXJIVE1MIiwicmVuYW1lSFRNTCIsImJib3hJZCIsImRpc3BsYXlSZWN0IiwiQ29sb3JQYWxldHRlIiwicmVjdHMiLCJ1bnNldFN0YWZmSGlnaGxpZ2h0IiwiY2hpbGQiLCJjY2hpbGQiLCJzZXRTdGFmZkhpZ2hsaWdodCIsInN0YWZmQ29sb3IiLCJjb2x1bW5OdW0iLCJjb2x1bW4iLCJzZXRDb2x1bW5IaWdobGlnaHQiLCJncm91cENvbG9yIiwiZGl2TGluZUNoaWxkcmVuIiwidXJpIiwiVmFsaWRhdGlvbkVycm9yIiwiaW5zdGFuY2UiLCJzY2hlbWEiLCJhcmd1bWVudCIsImlzQXJyYXkiLCJzdW0iLCJpdGVtIiwibWFrZVN1ZmZpeCIsIiRpZCIsInN0YWNrIiwiVmFsaWRhdG9yUmVzdWx0IiwiY3R4IiwicHJvcGVydHlQYXRoIiwiZXJyb3JzIiwidGhyb3dFcnJvciIsInRocm93Rmlyc3QiLCJ0aHJvd0FsbCIsImRpc2FibGVGb3JtYXQiLCJzdHJpbmdpemVyIiwidiIsIlZhbGlkYXRvclJlc3VsdEVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJhZGRFcnJvciIsImRldGFpbCIsImltcG9ydEVycm9ycyIsInJlcyIsInZhbGlkYXRvclR5cGUiLCJTY2hlbWFFcnJvciIsIm1zZyIsIlNjaGVtYUNvbnRleHQiLCJiYXNlIiwic2NoZW1hcyIsIm1ha2VDaGlsZCIsInByb3BlcnR5TmFtZSIsIkZPUk1BVF9SRUdFWFBTIiwiaW5wdXQiLCJwYXJzZUZsb2F0IiwiUmVnRXhwIiwicmVnZXhwIiwicmVnZXgiLCJwYXR0ZXJuIiwiaXB2NCIsImlzRm9ybWF0IiwiZm9ybWF0IiwidmFsaWRhdG9yIiwiY3VzdG9tRm9ybWF0cyIsImRlZXBNZXJnZXIiLCJkc3QiLCJkZWVwTWVyZ2UiLCJjb3B5aXN0Iiwic3JjIiwiY29weWlzdFdpdGhEZWVwTWVyZ2UiLCJwYXRoRW5jb2RlciIsImRlZXBDb21wYXJlU3RyaWN0IiwiZXZlcnkiLCJhS2V5cyIsImJLZXlzIiwib2JqZWN0R2V0UGF0aCIsInBhcnRzIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVQYXRoIiwiZ2V0RGVjaW1hbFBsYWNlcyIsIm51bWJlciIsImRlY2ltYWxQbGFjZXMiLCJkZWNpbWFsUGFydHMiLCJpc1NjaGVtYSIsInJuZHM4Iiwicm5nIiwibXNDcnlwdG8iLCJvYmoiLCJtZXRhU3RhY2siLCJsYXN0TWV0YUVsZW1lbnQiLCJsYXN0RWxlbWVudEluZGV4IiwibmV4dCIsImFycmF5UHJlZml4Iiwib2JqUHJlZml4IiwicHJlZml4IiwiY29sbGF0aW9uSW5kZXgiLCJwYXJzZWROdW0iLCJudW1DaGFyIiwicGFyc2VkU3RyaW5nIiwibGFzdENoIiwibnVtQ29uc2VjdXRpdmVTbGFzaGVzIiwiY2giLCJhcnJheUVsZW1lbnQiLCJvYmpFbGVtZW50IiwiYnVmIiwicm5kcyIsInJhbmRvbSIsInNlbGVjdG9yIiwiZHJhZ1N0YXJ0Q29vcmRzIiwiZHJhZ0JlaGF2aW91ciIsImRyYWciLCJldmVudCIsImR4IiwiZHkiLCJzb3VyY2VFdmVudCIsImRyYWdnaW5nIiwiZHJhZ0VuZGVkIiwic2VsZWN0aW9uIiwibm9Nb3ZlUHJlY2VkZXMiLCJoYXNBdHRyaWJ1dGUiLCJtb3ZlRWxlbWVudHMiLCJiYm94ZXMiLCJ4RGlmZiIsInlEaWZmIiwiaXNDdXJzb3JPdXRPZkJvdW5kcyIsImlzRHJhZ091dE9mQm91bmRzIiwicmV0dXJuRWxlbWVudHMiLCJwYXJhbUFycmF5IiwiZHJhZ0FjdGlvbiIsInRvUmVzZWxlY3QiLCJyZXNlbGVjdCIsInJlc2VsZWN0ZWQiLCJyZXNldFRvQWN0aW9uIiwiZW5kWCIsImVuZFkiLCJpc091dE9mU1ZHQm91bmRzIiwiZ2x5cGhTZWxlY3RvciIsInNlbGVjdGlvbkJCb3giLCJhY2MiLCJnZXRHbHlwaEJCb3giLCJjdXJyIiwiTUFYX1ZBTFVFIiwiTUlOX1ZBTFVFIiwiU2VsZWN0VG9vbHMiLCJzaGFyZWRMb2dpY2FsUGFyZW50IiwiYXJlQWRqYWNlbnQiLCJjb250YWluc0xpbmtlZCIsImlzTGlua2VkIiwiaXNNdWx0aVN0YXZlU2VsZWN0aW9uIiwic3RhZmYwIiwic3RhZmYxIiwic3RhZmZDaGlsZHJlbiIsImZpcnN0U3RhZmYiLCJzZWNvbmRTdGFmZiIsImZpcnN0TGF5ZXIiLCJzZWNvbmRMYXllciIsImZpcnN0U3lsbGFibGVDaGlsZHJlbiIsInNlY29uZFN5bGxhYmxlQ2hpbGRyZW4iLCJsYXN0U3lsbGFibGUiLCJmaXJzdFN5bGxhYmxlIiwic3lzdGVtcyIsImVsZW1lbnRJZHMiLCJncm91cGluZ0FjdGlvbiIsImdldENoaWxkcmVuSWRzIiwiZ2V0SWRzIiwidG9nZ2xlTGlua2VkU3lsbGFibGVzIiwiZ3JvdXBUeXBlIiwibmV1bWVQYXJlbnQiLCJuY3MiLCJnZXRDb250b3VyIiwiV2FybmluZ3MiLCJncm91cGluZ05vdFJlY29nbml6ZWQiLCJzeWxsYWJsZTAiLCJzeWxsYWJsZTEiLCJzZWNvbmRTeWxsYWJsZSIsImlkcyIsImNoaWxkcmVuSWRzIiwiaW5pdEVycm9yTG9nQ29udHJvbHMiLCJlcnJvclBhbmVsIiwiaGVhZGluZyIsImRyb3Bkb3duSWNvbiIsImluaXREaXNwbGF5TGlzdGVuZXIiLCJub3RpZlBhbmVsIiwiY2hlY2tib3hlc0NvbnRhaW5lciIsImVycm9yc0xhYmVsIiwiZXJvcnJzQnRuIiwiYXBwZW5kQ2hpbGQiLCJub3RpZiIsIm5vdGlmRGl2Iiwib25jbGljayIsImNyZWF0ZUxvZ01lc3NhZ2UiLCJQb2ludE5hbWVzIiwiVG9wTGVmdCIsIlRvcCIsIlRvcFJpZ2h0IiwiUmlnaHQiLCJCb3R0b21SaWdodCIsIkJvdHRvbSIsIkJvdHRvbUxlZnQiLCJMZWZ0IiwiZ2V0UG9pbnRzIiwic2luIiwiaW5pdGlhbFVseCIsImluaXRpYWxMcngiLCJpbml0aWFsUG9pbnQiLCJpbml0aWFsVWx5IiwiaW5pdGlhbExyeSIsImluaXRpYWxZIiwiaW5pdGlhbFJlY3RZIiwicG9seUxlbiIsImluaXRpYWxSb3RhdGUiLCJyZWRyYXciLCJwb2ludFN0cmluZyIsIl9lbGVtIiwidGV4dFJlY3QiLCJwb2ludE5hbWUiLCJwb2ludCIsInBvaW50U3RyaW5nUmlnaHQiLCJwb2ludFN0cmluZ0xlZnQiLCJkcmF3SW5pdGlhbFJlY3QiLCJ3aGljaFBvaW50IiwiXyIsInZpZXdwb3J0RWxlbWVudCIsInJlc2l6ZVN0YXJ0IiwicmVzaXplRHJhZyIsInJlc2l6ZUVuZCIsInJvdGF0ZVN0YXJ0IiwidGVtcCIsIm1vdXNlIiwidGVtcFJvdGF0ZSIsInJvdGF0ZUVuZCIsImN1cnJlbnRQb2ludCIsIndoaWNoIiwiUEkiLCJFeHBvcnRlZFNldCIsIkV4cG9ydGVkTWFwIiwibWFuZ2xlIiwidW5tYW5nbGUiLCJNYXAkMSIsIl9zdG9yZSIsIlNldCQxIiwiY2xvbmVCaW5hcnlPYmplY3QiLCJjbG9uZUFycmF5QnVmZmVyIiwid2Via2l0U2xpY2UiLCJtYW5nbGVkIiwiaGFzIiwiZGVsZXRlIiwiTWFwIiwicHJvcCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInNwZWNpZXMiLCJzdXBwb3J0c01hcEFuZFNldCIsImZ1bmNUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJjbG9uZSIsIm5ld09iamVjdCIsIkRhdGUiLCJpc0Zpbml0ZSIsInRvSVNPU3RyaW5nIiwiQmxvYiIsImlzQmluYXJ5T2JqZWN0IiwicHJvdG8iLCJDdG9yIiwiaXNQbGFpbk9iamVjdCIsImNhbGxlZCIsInRvUHJvbWlzZSIsImZ1bmMiLCJzZWxmIiwidXNlZENCIiwicHJvbWlzZSIsImZ1bGZpbGwiLCJyZXNwIiwiY2FsbGJhY2siLCJtZXNnIiwiYWRhcHRlckZ1biIsIl9jbG9zZWQiLCJfZGVzdHJveWVkIiwibG9nQXJncyIsIm9yaWdDYWxsYmFjayIsInJlc3BvbnNlQXJncyIsImxvZ0FwaUNhbGwiLCJ0YXNrcXVldWUiLCJpc1JlYWR5IiwiYWRkVGFzayIsImZhaWxlZCIsInBpY2siLCJoYXNMb2NhbCIsImlkZW50aXR5RnVuY3Rpb24iLCJmb3JtYXRSZXN1bHRGb3JPcGVuUmV2c0dldCIsIm9rIiwiYnVsa0dldCIsImRiIiwib3B0cyIsInJlcXVlc3RzIiwiZG9jcyIsInJlcXVlc3RzQnlJZCIsInJlcXVlc3QiLCJudW1Eb2NzIiwibnVtRG9uZSIsInBlckRvY1Jlc3VsdHMiLCJjaGVja0RvbmUiLCJyZXN1bHRzIiwiYWxsUmVxdWVzdHMiLCJuZXh0QmF0Y2giLCJ1cFRvIiwiYmF0Y2giLCJkb2NJZCIsImRvY0lkeCIsImRvY1JlcXVlc3RzIiwiZG9jT3B0cyIsIm9wZW5fcmV2cyIsInJldiIsImZvcm1hdFJlc3VsdCIsInByb2Nlc3NCYXRjaCIsImhhc0xvY2FsU3RvcmFnZSIsIkNoYW5nZXMiLCJhdHRhY2hCcm93c2VyRXZlbnRzIiwiZ3VhcmRlZENvbnNvbGUiLCJtZXRob2QiLCJkZWZhdWx0QmFja09mZiIsIm1heFRpbWVvdXQiLCJyYW5kb21OdW1iZXIiLCJleHBsYWluRXJyb3IiLCJzdGF0dXMiLCJkYk5hbWUiLCJpbnByb2dyZXNzIiwiZXZlbnRGdW5jdGlvbiIsImNoYW5nZXNPcHRzIiwiY2hhbmdlcyIsInNlcSIsInNpbmNlIiwiY2FuY2VsbGVkIiwib25DaGFuZ2UiLCJub3RpZnlMb2NhbFdpbmRvd3MiLCJub3RpZnkiLCIkaW5qZWN0X09iamVjdF9hc3NpZ24iLCJhc3NpZ24iLCJuZXh0U291cmNlIiwibmV4dEtleSIsIlBvdWNoRXJyb3IiLCJyZWFzb24iLCJNSVNTSU5HX0JVTEtfRE9DUyIsIk1JU1NJTkdfRE9DIiwiUkVWX0NPTkZMSUNUIiwiSU5WQUxJRF9JRCIsIk1JU1NJTkdfSUQiLCJSRVNFUlZFRF9JRCIsIlVOS05PV05fRVJST1IiLCJCQURfQVJHIiwiUVVFUllfUEFSU0VfRVJST1IiLCJET0NfVkFMSURBVElPTiIsIkJBRF9SRVFVRVNUIiwiTk9UX0FOX09CSkVDVCIsIklEQl9FUlJPUiIsIklOVkFMSURfUkVWIiwiTUlTU0lOR19TVFVCIiwiY3JlYXRlRXJyb3IiLCJDdXN0b21Qb3VjaEVycm9yIiwibmFtZXMiLCJnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlIiwiZmlsdGVyQ2hhbmdlIiwicmVxIiwiaGFzRmlsdGVyIiwicXVlcnkiLCJxdWVyeV9wYXJhbXMiLCJkb2MiLCJmaWx0ZXJSZXR1cm4iLCJ0cnlGaWx0ZXIiLCJpbmNsdWRlX2RvY3MiLCJhdHRhY2htZW50cyIsImF0dCIsIl9hdHRhY2htZW50cyIsInN0dWIiLCJmbGF0dGVuIiwiYXJycyIsImludmFsaWRJZEVycm9yIiwiaXNSZW1vdGUiLCJfcmVtb3RlIiwicGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUiLCJub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUiLCJub3JtYWxpemVkIiwicVBhcnNlciIsInBhcnNlciIsInBhcnNlVXJpIiwiZXhlYyIsImVuY29kZWQiLCIkMCIsIiQxIiwiJDIiLCJzY29wZUV2YWwiLCJzb3VyY2UiLCJzY29wZSIsInVwc2VydCIsImRpZmZGdW4iLCJjYXRjaCIsImRvY1JldiIsIl9yZXYiLCJuZXdEb2MiLCJfaWQiLCJwdXQiLCJ1cGRhdGVkIiwidHJ5QW5kUHV0IiwidGhpc0F0b2IiLCJhdG9iIiwidGhpc0J0b2EiLCJidG9hIiwiY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJidWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImdldEJsb2IiLCJiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYmluU3RyaW5nVG9CbHVmZmVyIiwiYmluU3RyaW5nIiwiYjY0VG9CbHVmZmVyIiwiYjY0IiwicmVhZEFzQmluYXJ5U3RyaW5nIiwiYmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJoYXNCaW5hcnlTdHJpbmciLCJvbmxvYWRlbmQiLCJiaW5hcnkiLCJhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJibG9iVG9CaW5hcnlTdHJpbmciLCJibG9iT3JCdWZmZXIiLCJibG9iVG9CYXNlNjQiLCJiYXNlNjQiLCJzZXRJbW1lZGlhdGVTaGltIiwic2V0SW1tZWRpYXRlIiwiYXBwZW5kQmxvYiIsInN0YXJ0Iiwic2xpY2VCbG9iIiwiYXJyYXlCdWZmZXIiLCJhcHBlbmRTdHJpbmciLCJzdHJpbmciLCJiaW5hcnlNZDUiLCJpbnB1dElzU3RyaW5nIiwiY2h1bmtTaXplIiwiY2h1bmtzIiwiY2VpbCIsImN1cnJlbnRDaHVuayIsImxvYWROZXh0Q2h1bmsiLCJkb25lIiwicmF3VG9CYXNlNjQiLCJzdHJpbmdNZDUiLCJyZXYkJDEiLCJkZXRlcm1pbmlzdGljX3JldnMiLCJtdXRhdGVhYmxlRG9jIiwiX3Jldl90cmVlIiwid2lubmluZ1JldiIsIm1ldGFkYXRhIiwid2lubmluZ0lkIiwid2lubmluZ1BvcyIsIndpbm5pbmdEZWxldGVkIiwibm9kZSIsInRvVmlzaXQiLCJyZXZfdHJlZSIsInRyZWUiLCJicmFuY2hlcyIsInBvcyIsImRlbGV0ZWQiLCJ0cmF2ZXJzZVJldlRyZWUiLCJyZXZzIiwibmV3Q3R4Iiwic29ydEJ5UG9zIiwiY29sbGVjdExlYXZlcyIsImxlYXZlcyIsImlzTGVhZiIsInNvcnQiLCJyZXZlcnNlIiwiY29sbGVjdENvbmZsaWN0cyIsIndpbiIsImNvbmZsaWN0cyIsImxlYWYiLCJyb290VG9MZWFmIiwicGF0aHMiLCJoaXN0b3J5Iiwic29ydEJ5UG9zJDEiLCJpbnNlcnRTb3J0ZWQiLCJjb21wYXJhdG9yIiwiaWR4IiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJkb2NGaWVsZFZhbHVlIiwic29tZSIsIm9yTWF0Y2hlcnMiLCJtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yIiwibWF0Y2hTZWxlY3RvciIsIm1heWJlVXNlck9wZXJhdG9yIiwidXNlclZhbHVlIiwic3ViUGFyc2VkRmllbGQiLCJzdWJEb2NGaWVsZFZhbHVlIiwidXNlck9wZXJhdG9yIiwibWF0Y2hlcnMiLCJmaWVsZEV4aXN0cyIsImZpZWxkSXNOb3RVbmRlZmluZWQiLCJhcnJheUNvbnRhaW5zVmFsdWUiLCJkb2NGaWVsZFZhbHVlSXRlbSIsIm1vZEZpZWxkIiwibmVWYWx1ZSIsImFycmF5U2l6ZSIsImFycmF5Q29udGFpbnNBbGxWYWx1ZXMiLCJyZWdleFZhbHVlIiwicmVnZXhNYXRjaCIsInR5cGVNYXRjaCIsImZpbHRlck5hbWUiLCJjaGFuZ2VzSGFuZGxlciIsImRvY19pZHMiLCJ2aWV3TmFtZSIsImRkb2MiLCJtYXBGdW4iLCJ2aWV3cyIsInJvd3NNYXRjaGVkIiwibWF0Y2hlc1NlbGVjdG9yIiwiZmlsdGVyRnVuIiwiZmlsdGVycyIsInRvT2JqZWN0IiwidmVyc2lvbiIsInJlc2VydmVkV29yZHMiLCJkYXRhV29yZHMiLCJwYXJzZVJldmlzaW9uSW5mbyIsInBhcnNlRG9jIiwibmV3RWRpdHMiLCJkYk9wdHMiLCJuUmV2TnVtIiwicmV2SW5mbyIsInJldmlzaW9ucyIsInJldmlzaW9uSWRzIiwibWFrZVJldlRyZWVGcm9tUmV2aXNpb25zIiwic3BlY2lhbEtleSIsInByZXByb2Nlc3NTdHJpbmciLCJibG9iVHlwZSIsImFzQmluYXJ5IiwicGFyc2VCYXNlNjQiLCJkaWdlc3QiLCJwcmVwcm9jZXNzQXR0YWNobWVudCIsIm1kNSIsInByZXByb2Nlc3NCbG9iIiwidXBkYXRlRG9jIiwicmV2TGltaXQiLCJwcmV2IiwiZG9jSW5mbyIsIndyaXRlRG9jIiwic3BsaXRSZXYiLCJ0YXJnZXRQb3MiLCJ0YXJnZXRJZCIsInJldkV4aXN0cyIsInByZXZpb3VzV2lubmluZ1JldiIsInByZXZpb3VzbHlEZWxldGVkIiwiaXNSb290IiwibmV3UmV2IiwicmV2X21hcCIsIndpbm5pbmdSZXYkJDEiLCJ3aW5uaW5nUmV2SXNEZWxldGVkIiwiZGVsdGEiLCJwcm9jZXNzRG9jcyIsImRvY0luZm9zIiwiZmV0Y2hlZERvY3MiLCJ0eCIsIm92ZXJhbGxDYWxsYmFjayIsImlkc1RvRG9jcyIsImRvY3NEb25lIiwiZG9jc1RvRG8iLCJjaGVja0FsbERvY3NEb25lIiwiY3VycmVudERvYyIsInJlc3VsdHNJZHgiLCJkb2NXcml0dGVuIiwibmV4dERvYyIsInJvb3RJc01pc3NpbmciLCJpbnNlcnREb2MiLCJET0NfU1RPUkUiLCJNRVRBX1NUT1JFIiwic2FmZUpzb25TdHJpbmdpZnkiLCJqc29uIiwiaWRiRXJyb3IiLCJlbmNvZGVNZXRhZGF0YSIsImRlbGV0ZWRPckxvY2FsIiwiZGVjb2RlTWV0YWRhdGEiLCJzdG9yZWRPYmplY3QiLCJzYWZlSnNvblBhcnNlIiwiZGVjb2RlRG9jIiwiX2RvY19pZF9yZXYiLCJsYXN0SW5kZXhPZiIsInJlYWRCbG9iRGF0YSIsImFzQmxvYiIsImZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSIsInR4biIsImF0dE9iaiIsIm9iamVjdFN0b3JlIiwib25zdWNjZXNzIiwiZmV0Y2hBdHRhY2htZW50IiwicG9zdFByb2Nlc3NBdHRhY2htZW50cyIsImF0dE5hbWVzIiwiY29tcGFjdFJldnMiLCJwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyIsInNlcVN0b3JlIiwiYXR0U3RvcmUiLCJhdHRBbmRTZXFTdG9yZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzIiwib3BlbkN1cnNvciIsIm9ubHkiLCJjdXJzb3IiLCJkaWdlc3RTZXEiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJvcGVuVHJhbnNhY3Rpb25TYWZlbHkiLCJpZGIiLCJzdG9yZXMiLCJ0cmFuc2FjdGlvbiIsImlkYkJ1bGtEb2NzIiwiZG9jU3RvcmUiLCJieVNlcVN0b3JlIiwiYXR0YWNoU3RvcmUiLCJhdHRhY2hBbmRTZXFTdG9yZSIsIm1ldGFTdG9yZSIsImRvY0luZm9FcnJvciIsIm1ldGFEb2MiLCJhbGxEb2NzUHJvY2Vzc2VkIiwiZG9jQ291bnREZWx0YSIsInByZWNvbmRpdGlvbkVycm9yZWQiLCJfbWV0YSIsImJsb2JTdXBwb3J0Iiwib25BbGxEb2NzUHJvY2Vzc2VkIiwidXBkYXRlRG9jQ291bnRJZlJlYWR5IiwiZG9jQ291bnQiLCJuZXdSZXZJc0RlbGV0ZWQiLCJpc1VwZGF0ZSIsImNvbGxlY3RSZXN1bHRzIiwiZmluaXNoRG9jIiwiYXR0YWNobWVudFNhdmVkIiwibmV3QXR0Iiwic2F2ZUF0dGFjaG1lbnQiLCJ3cml0ZUF0dGFjaG1lbnRzIiwiYWZ0ZXJQdXREb2MiLCJyZXZzVG9EZWxldGUiLCJjb21wYWN0VHJlZSIsIm1ldGFkYXRhVG9TdG9yZSIsImFmdGVyUHV0TWV0YWRhdGEiLCJhdHRzQWRkZWQiLCJhdHRzVG9BZGQiLCJvbmVycm9yIiwiaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzIiwicHV0UmVxIiwib3ZlcmFsbEVyciIsImRvY3YiLCJyZWN2IiwicHJvY2Vzc2VkQXR0YWNobWVudCIsInByZXByb2Nlc3NBdHRhY2htZW50cyIsInR4blJlc3VsdCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbmNvbXBsZXRlIiwiZmluaXNoIiwiZGlnZXN0cyIsImZpbGVuYW1lIiwidmVyaWZ5QXR0YWNobWVudCIsImF0dEVyciIsInZlcmlmeUF0dGFjaG1lbnRzIiwibnVtRmV0Y2hlZCIsInJldnNfbGltaXQiLCJyZWFkTWV0YWRhdGEiLCJmZXRjaEV4aXN0aW5nRG9jcyIsInN0YXJ0VHJhbnNhY3Rpb24iLCJydW5CYXRjaGVkQ3Vyc29yIiwia2V5UmFuZ2UiLCJiYXRjaFNpemUiLCJvbkJhdGNoIiwia2V5c0JhdGNoIiwidmFsdWVzQmF0Y2giLCJwc2V1ZG9DdXJzb3IiLCJvbkdldEFsbCIsIm9uR2V0QWxsS2V5cyIsIm9uQ3Vyc29yIiwiZ2V0QWxsIiwiZ2V0QWxsS2V5cyIsIm5ld0tleVJhbmdlIiwibGFzdEtleSIsInVwcGVyIiwidXBwZXJPcGVuIiwiY29kZSIsImxvd2VyQm91bmQiLCJpZGJBbGxEb2NzIiwia2V5UmFuZ2VFcnJvciIsImluY2x1c2l2ZUVuZCIsImluY2x1c2l2ZV9lbmQiLCJ1cHBlckJvdW5kIiwiY3JlYXRlS2V5UmFuZ2UiLCJvblJlc3VsdHNSZWFkeSIsInVwZGF0ZVNlcSIsIm9uU3VjY2VzcyIsImRvY0lkUmV2SW5kZXgiLCJhbGxEb2NzSW5uZXIiLCJmZXRjaERvY0FzeW5jaHJvbm91c2x5IiwiYmF0Y2hWYWx1ZXMiLCJiYXRjaFZhbHVlIiwiYmF0Y2hLZXlzIiwicmV0dXJuVmFsIiwidG90YWxfcm93cyIsIm1heEtleSIsImFsbERvY3NLZXlzIiwicnVubmluZyIsImFwcGx5TmV4dCIsImRvY0lkcyIsIm51bVJlc3VsdHMiLCJkb2NJZHNUb01ldGFkYXRhIiwib25HZXRNZXRhZGF0YSIsImRvY0lkUmV2Iiwib2JqZWN0U3RvcmVzIiwid2lubmluZ0RvY3MiLCJtZXRhZGF0YXMiLCJmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YSIsIndpbm5pbmdEb2MiLCJwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jIiwib25CYXRjaERvbmUiLCJmaWx0ZXJlZCIsImJsb2JTdXBwb3J0UHJvbWlzZSIsImNhY2hlZERCcyIsIm9wZW5SZXFMaXN0IiwiSWRiUG91Y2giLCJ0cnlDb2RlIiwiZW5xdWV1ZVRhc2siLCJ0aGlzQ2FsbGJhY2siLCJpZGJHbG9iYWxGYWlsdXJlRXJyb3IiLCJlbnJpY2hDYWxsYmFja0Vycm9yIiwiYWRkRGVsZXRlZE9yTG9jYWxJbmRleCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwibWlncmF0ZUxvY2FsU3RvcmUiLCJsb2NhbFN0b3JlIiwibG9jYWwiLCJyYW5nZSIsInNlcUN1cnNvciIsIm1pZ3JhdGVBdHRzQW5kU2VxcyIsImRpZ2VzdE1hcCIsIm1pZ3JhdGVNZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGFTZXEiLCJtZXRhZGF0YVNlcSIsImZldGNoTWV0YWRhdGFTZXEiLCJpbnN0YW5jZUlkIiwicmVxT3B0cyIsImhpc3RvcnlOb2RlIiwiYXR0YWNoSWQiLCJhdHRhY2htZW50IiwiYmxvYkRhdGEiLCJkb2NfY291bnQiLCJpZGJfYXR0YWNobWVudF9mb3JtYXQiLCJvbGRSZXYiLCJvU3RvcmUiLCJvbGREb2MiLCJvcGVuUmVxIiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVTY2hlbWEiLCJjdXJyZW50VGFyZ2V0IiwiY3JlYXRlTG9jYWxTdG9yZVNjaGVtYSIsImFkZEF0dGFjaEFuZFNlcVN0b3JlIiwibWlncmF0aW9ucyIsIm1pZ3JhdGlvbiIsIm9udmVyc2lvbmNoYW5nZSIsInN0b3JlZE1ldGFEb2MiLCJjb21wbGV0ZVNldHVwIiwic3RvcmVNZXRhRG9jSWZSZWFkeSIsImluc3RhbmNlS2V5IiwiY291bnREb2NzIiwiYmxvYiQkMSIsIm1hdGNoZWRDaHJvbWUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaGVkRWRnZSIsImNoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0J1bGtHZXRNYXAiLCJyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlciIsImVuY29kZURvY0lkIiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEiLCJnZXRIb3N0IiwicHJvdG9jb2wiLCJoYXNVcmxQcmVmaXgiLCJ1c2VyIiwicGFzc3dvcmQiLCJhdXRoIiwidXNlcm5hbWUiLCJnZW5EQlVybCIsImdlblVybCIsInBhdGhEZWwiLCJob3N0IiwicG9ydCIsInBhcmFtc1RvU3RyIiwiSHR0cFBvdWNoIiwiZGJVcmwiLCJzZXR1cFByb21pc2UiLCJvdXJGZXRjaCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsIm5BdXRoIiwidG9rZW4iLCJ1YSIsImlzSUUiLCJpc1RyaWRlbnQiLCJpc0VkZ2UiLCJpc0dFVCIsInNob3VsZENhY2hlQnVzdCIsIm5vdyIsImFkYXB0ZXJGdW4kJDEiLCJzZXR1cCIsImZldGNoSlNPTiIsInNraXBfc2V0dXAiLCJlbmNvZGVBdHRhY2htZW50SWQiLCJ1dWlkJCQxIiwicGluZyIsImNvbXBhY3RfcnVubmluZyIsImludGVydmFsIiwiZG9CdWxrR2V0IiwiZG9CdWxrR2V0U2hpbSIsIm51bUJhdGNoZXMiLCJvblJlc3VsdCIsImJhdGNoTnVtIiwic3ViT3B0cyIsInN1cHBvcnRzQnVsa0dldCIsImZldGNoQXR0YWNobWVudHMiLCJmaWxlbmFtZXMiLCJwcm9taXNlRmFjdG9yaWVzIiwiZG9OZXh0IiwicnVuTmV4dEJhdGNoIiwib25FcnJvciIsInRoaXNFcnIiLCJwb29sIiwidHlwZUZpZWxkRGVzY3JpcHRvciIsIl9fcHJvdG9fXyIsImZldGNoRGF0YSIsImRvY09yRG9jcyIsImNvbnRlbnRUeXBlIiwicHJvY2VzcyIsImJyb3dzZXIiLCJwYXJhbVN0ciIsImJhdGNoX3NpemUiLCJoZWFydGJlYXQiLCJyZXF1ZXN0VGltZW91dCIsImxlZnRUb0ZldGNoIiwiZmVlZCIsInNlcV9pbnRlcnZhbCIsInBhcmFtX25hbWUiLCJsYXN0RmV0Y2hlZFNlcSIsImNvbnRyb2xsZXIiLCJhYm9ydGVkIiwiZmV0Y2hPcHRzIiwic2lnbmFsIiwiZmV0Y2hlZCIsInJhd19yZXN1bHRzX2xlbmd0aCIsImZpbmlzaGVkIiwiUXVlcnlQYXJzZUVycm9yIiwiTm90Rm91bmRFcnJvciIsIkJ1aWx0SW5FcnJvciIsInByb21pc2VkQ2FsbGJhY2siLCJzZXF1ZW50aWFsaXplIiwicHJvbWlzZUZhY3RvcnkiLCJ1bmlxIiwidGhlU2V0IiwibWFwVG9LZXlzQXJyYXkiLCJjcmVhdGVCdWlsdEluRXJyb3IiLCJqTGVuIiwiak51bSIsImxvZyIsImV2YWxGdW5jdGlvbldpdGhFdmFsIiwiVGFza1F1ZXVlJDEiLCJjcmVhdGVWaWV3Iiwic291cmNlREIiLCJyZWR1Y2VGdW4iLCJ0ZW1wb3JhcnkiLCJsb2NhbERvY05hbWUiLCJjYWNoZWRWaWV3cyIsInZpZXdTaWduYXR1cmUiLCJjcmVhdGVWaWV3U2lnbmF0dXJlIiwiX2NhY2hlZFZpZXdzIiwicHJvbWlzZUZvclZpZXciLCJkZXBEYk5hbWUiLCJmdWxsVmlld05hbWUiLCJkZXBEYnMiLCJsYXN0U2VxRG9jIiwicGVyc2lzdGVudFF1ZXVlcyIsInRlbXBWaWV3UXVldWUiLCJwYXJzZVZpZXdOYW1lIiwiZW1pdEVycm9yIiwiYnVpbHRJblJlZHVjZSIsInN1bXNxciIsIl9zdW1zcXIiLCJhYnN0cmFjdCIsIm1hcHBlciIsInJlZHVjZXIiLCJkZG9jVmFsaWRhdG9yIiwidHJ5TWFwIiwidHJ5UmVkdWNlIiwicmVyZWR1Y2UiLCJvdXRwdXQiLCJzb3J0QnlLZXlUaGVuVmFsdWUiLCJrZXlDb21wYXJlIiwic2xpY2VSZXN1bHRzIiwicm93VG9Eb2NJZCIsInBvc3Rwcm9jZXNzQXR0YWNobWVudHMiLCJhZGRIdHRwUGFyYW0iLCJwYXJhbU5hbWUiLCJhc0pzb24iLCJjb2VyY2VJbnRlZ2VyIiwiaW50ZWdlckNhbmRpZGF0ZSIsImFzTnVtYmVyIiwiY2hlY2tRdWVyeVBhcnNlRXJyb3IiLCJzdGFydGtleU5hbWUiLCJlbmRrZXlOYW1lIiwiZ3JvdXBfbGV2ZWwiLCJvcHRpb25OYW1lIiwiY2hlY2tQb3NpdGl2ZUludGVnZXIiLCJkZWZhdWx0c1RvIiwiZ2V0RG9jc1RvUGVyc2lzdCIsImRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwibWV0YURvY0lkIiwiZGVmYXVsdE1ldGFEb2MiLCJkb2NEYXRhIiwiaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiaXNHZW5PbmUiLCJnZXRLZXlWYWx1ZURvY3MiLCJrdkRvY3NSZXMiLCJrdkRvY3MiLCJvbGRLZXlzIiwia2V5VmFsdWUiLCJuZXdLZXlzIiwia3ZEb2MiLCJwcm9jZXNzS2V5VmFsdWVEb2NzIiwiZ2V0UXVldWUiLCJ1cGRhdGVWaWV3IiwibWFwUmVzdWx0cyIsImN1cnJlbnRTZXEiLCJsaXN0T2ZEb2NzVG9QZXJzaXN0IiwiZG9jc1RvUGVyc2lzdCIsInNhdmVLZXlWYWx1ZXMiLCJpbmRleGVkX2RvY3MiLCJwcm9ncmVzcyIsInByb2Nlc3NOZXh0QmF0Y2giLCJjaGFuZ2VzX2JhdGNoX3NpemUiLCJjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsInJlc3VsdHNfY291bnQiLCJlbWl0dGVkS2V5VmFsdWUiLCJjb21wbGV4S2V5IiwidXBkYXRlVmlld0luUXVldWUiLCJxdWVyeVZpZXciLCJ0b3RhbFJvd3MiLCJzaG91bGRSZWR1Y2UiLCJmZXRjaEZyb21WaWV3Iiwidmlld09wdHMiLCJleHBlY3RlZEtleXMiLCJwYXJzZWRLZXlBbmREb2NJZCIsInBhcnNlZFN0ciIsInBhcnNlSW5kZXhhYmxlU3RyaW5nIiwib25NYXBSZXN1bHRzUmVhZHkiLCJmaW5hbFJlc3VsdHMiLCJzaG91bGRHcm91cCIsImx2bCIsIlBPU0lUSVZFX0lORklOSVRZIiwibGFzdCIsImdyb3VwS2V5IiwicmVkdWNlVHJ5IiwicmVkdWNlVmlldyIsImFsbERvY3NSZXMiLCJkb2NJZHNUb0RvY3MiLCJmZXRjaFByb21pc2VzIiwia2V5U3RhcnQiLCJrZXlFbmQiLCJxdWVyeVZpZXdJblF1ZXVlIiwicXVlcnlQcm9taXNlZCIsIl9xdWVyeSIsImN1c3RvbVF1ZXJ5Iiwia2V5c0FzU3RyaW5nIiwiaHR0cFF1ZXJ5IiwidXBkYXRlVmlld09wdHMiLCJ2aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUiLCJmaW5hbFByb21pc2VGYWN0b3J5IiwiZGVzaWduRG9jTmFtZSIsInN0YWxlIiwiY29lcmNlT3B0aW9ucyIsInZpZXdDbGVhbnVwIiwiX3ZpZXdDbGVhbnVwIiwiY3VzdG9tVmlld0NsZWFudXAiLCJodHRwVmlld0NsZWFudXAiLCJkb2NzVG9WaWV3cyIsInZpZXdzVG9TdGF0dXMiLCJkZG9jTmFtZSIsInZpZXdEQk5hbWVzIiwic3RhdHVzSXNHb29kIiwidmlld0RCTmFtZSIsImRlc3Ryb3lQcm9taXNlcyIsImxvY2FsVmlld0NsZWFudXAiLCJjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZSIsIm9yaWdNYXAiLCJyZWR1Y2VGdW5TdHJpbmciLCJidWlsdEluIiwiZ2V0QnVpbHRJbiIsIm1hcHJlZHVjZSIsImlzR2VuT25lJDEiLCJnZXREb2NBdHRhY2htZW50cyIsImdldERvY3MiLCJkaWZmcyIsInJlc3VsdERvY3MiLCJmZXRjaFJldmlzaW9uT25lRG9jcyIsImhhc0NvbmZsaWN0cyIsImJ1bGtHZXRPcHRzIiwibWlzc2luZ1JldiIsImNyZWF0ZUJ1bGtHZXRPcHRzIiwiYnVsa0dldFJlc3BvbnNlIiwiYnVsa0dldEluZm8iLCJyZW1vdGVEb2MiLCJkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyIsImZpbGVIYXNDaGFuZ2VkIiwiZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UiLCJ1cGRhdGVDaGVja3BvaW50IiwiY2hlY2twb2ludCIsInNlc3Npb24iLCJyZXR1cm5WYWx1ZSIsInNlc3Npb25faWQiLCJyZXBsaWNhdG9yIiwiQ2hlY2twb2ludGVyIiwid3JpdGVDaGVja3BvaW50IiwidXBkYXRlVGFyZ2V0IiwidXBkYXRlU291cmNlIiwid3JpdGVUYXJnZXRDaGVja3BvaW50Iiwid3JpdGVTb3VyY2VDaGVja3BvaW50IiwiaXNGb3JiaWRkZW5FcnJvciIsImNvbXBhcmlzb25zIiwidGFyZ2V0RG9jIiwic291cmNlRG9jIiwic3JjRG9jIiwidGd0RG9jIiwiY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeSIsInNvdXJjZUhpc3RvcnkiLCJ0YXJnZXRIaXN0b3J5IiwiUyIsInNvdXJjZVJlc3QiLCJUIiwidGFyZ2V0UmVzdCIsImhhc1Nlc3Npb25JZCIsImNvbXBhcmVSZXBsaWNhdGlvbkxvZ3MiLCJzZXNzaW9uSWQiLCJwcm9wcyIsInJlc3QiLCJmbG9vciIsImdldENoZWNrcG9pbnQiLCJnZW5lcmF0ZVJlcGxpY2F0aW9uSWQiLCJxdWVyeVBhcmFtcyIsImZpbHRlclZpZXdOYW1lIiwic29ydE9iamVjdFByb3BlcnRpZXNCeUtleSIsInF1ZXJ5RGF0YSIsIm1kNXN1bSIsInJlcGxpY2F0ZSIsImN1cnJlbnRCYXRjaCIsInJlcElkIiwiY2hlY2twb2ludGVyIiwiYmF0Y2hlcyIsInBlbmRpbmdCYXRjaCIsIndyaXRpbmdDaGVja3BvaW50IiwiY2hhbmdlc0NvbXBsZXRlZCIsInJlcGxpY2F0aW9uQ29tcGxldGVkIiwiYmF0Y2hlc19saW1pdCIsImNoYW5nZXNQZW5kaW5nIiwiY2hhbmdlZERvY3MiLCJzdGFydF90aW1lIiwiZG9jc19yZWFkIiwiZG9jc193cml0dGVuIiwiZG9jX3dyaXRlX2ZhaWx1cmVzIiwiaW5pdENoZWNrcG9pbnRlciIsImNoZWNrcG9pbnRPcHRzIiwid3JpdGVEb2NzIiwiYnVsa09wdHMiLCJjb21wbGV0ZVJlcGxpY2F0aW9uIiwiZXJyb3JzQnlJZCIsImVycm9yc05vIiwiZXJyb3JOYW1lIiwiZmluaXNoQmF0Y2giLCJvdXRSZXN1bHQiLCJnZXRDaGFuZ2VzIiwib25DaGVja3BvaW50RXJyb3IiLCJnZXRCYXRjaERvY3MiLCJnb3QiLCJzdGFydE5leHRCYXRjaCIsImFib3J0UmVwbGljYXRpb24iLCJwcm9jZXNzUGVuZGluZ0JhdGNoIiwiaW1tZWRpYXRlJCQxIiwiZmF0YWxFcnJvciIsImVuZF90aW1lIiwicmV0cnkiLCJiYWNrX29mZl9mdW5jdGlvbiIsImJhY2tPZmZTZXQiLCJjdXJyZW50X2JhY2tfb2ZmIiwiYmFja09mZiIsIm9uQ2hhbmdlc0NvbXBsZXRlIiwib25DaGFuZ2VzRXJyb3IiLCJfYWJvcnRDaGFuZ2VzIiwiYWJvcnRDaGFuZ2VzIiwic3RhcnRDaGFuZ2VzIiwiX2FkZGVkTGlzdGVuZXJzIiwiUmVwbGljYXRpb24iLCJ0b1BvdWNoIiwiUG91Y2hDb25zdHJ1Y3RvciIsInJlcGxpY2F0ZVdyYXBwZXIiLCJyZXBsaWNhdGVSZXQiLCJTeW5jIiwiY2FuY2VsZWQiLCJvcHRzUHVzaCIsIm9wdHNQdWxsIiwicHVsbCIsInB1bGxDaGFuZ2UiLCJwdXNoQ2hhbmdlIiwicHVzaERlbmllZCIsInB1bGxEZW5pZWQiLCJwdXNoUGF1c2VkIiwicHVsbFBhdXNlZCIsInB1c2hBY3RpdmUiLCJwdWxsQWN0aXZlIiwicmVtb3ZlZCIsInJlbW92ZUFsbCIsImFkZE9uZUxpc3RlbmVyIiwib3V0IiwiY2xlYW51cCIsIl9yZWFkeUNhbGxlZCIsInJlcGxpY2F0ZU1ldGhvZHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIm5vb3AiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIkZVTkNfRVJST1JfVEVYVCIsIlBMQUNFSE9MREVSIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJzeW1ib2xUYWciLCJ3ZWFrTWFwVGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltU3RhcnQiLCJyZVdoaXRlc3BhY2UiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJlT3B0TW9kIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwic3RyaW5nRXNjYXBlcyIsImZyZWVQYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJub2RlVXRpbCIsInJlcXVpcmUiLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsInRoaXNBcmciLCJhcnJheUFnZ3JlZ2F0b3IiLCJzZXR0ZXIiLCJpdGVyYXRlZSIsImFjY3VtdWxhdG9yIiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiYmFzZVRpbWVzIiwiYmFzZVRyaW0iLCJ0cmltbWVkRW5kSW5kZXgiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0VG9QYWlycyIsInN0cmluZ1NpemUiLCJsYXN0SW5kZXgiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsImFzY2lpVG9BcnJheSIsInVuZXNjYXBlSHRtbENoYXIiLCJydW5JbkNvbnRleHQiLCJ1aWQiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsImFsbG9jVW5zYWZlIiwiZ2V0UHJvdG90eXBlIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY3R4Tm93IiwiY3R4U2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJuYXRpdmVGbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm5hdGl2ZU1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsIkRhdGFWaWV3IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJzeW1ib2xUb1N0cmluZyIsImxvZGFzaCIsImlzT2JqZWN0TGlrZSIsIkxhenlXcmFwcGVyIiwiTG9kYXNoV3JhcHBlciIsIndyYXBwZXJDbG9uZSIsImJhc2VDcmVhdGUiLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImNsZWFyIiwiZW50cnkiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwiX19kYXRhX18iLCJTdGFjayIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsImlzSW5kZXgiLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImNvcHlBcnJheSIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJiYXNlQXQiLCJsb3dlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwiaXNEZWVwIiwiaXNGbGF0IiwiaXNGdWxsIiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJkYXRhVmlldyIsImJ5dGVPZmZzZXQiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwiY2xvbmVSZWdFeHAiLCJzeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImJhc2VDb25mb3Jtc1RvIiwiYmFzZURlbGF5Iiwid2FpdCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwiY29tcHV0ZWQiLCJ2YWx1ZXNJbmRleCIsInRlbXBsYXRlU2V0dGluZ3MiLCJnZXRNYXBEYXRhIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJzZWVuIiwiYmFzZUludm9rZSIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvYmpTdGFja2VkIiwib3RoU3RhY2tlZCIsInNraXBDdG9yIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTWF0Y2giLCJtYXRjaERhdGEiLCJub0N1c3RvbWl6ZXIiLCJzcmNWYWx1ZSIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiYmFzZUlzTmF0aXZlIiwiYmFzZUl0ZXJhdGVlIiwiaWRlbnRpdHkiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwiTUFYX0FSUkFZX0xFTkdUSCIsImJhc2VTb3J0ZWRJbmRleEJ5IiwidmFsSXNOYU4iLCJ2YWxJc051bGwiLCJ2YWxJc1N5bWJvbCIsInZhbElzVW5kZWZpbmVkIiwib3RoSXNEZWZpbmVkIiwib3RoSXNOdWxsIiwib3RoSXNSZWZsZXhpdmUiLCJvdGhJc1N5bWJvbCIsInNldExvdyIsImJhc2VTb3J0ZWRVbmlxIiwiYmFzZVRvTnVtYmVyIiwiYmFzZVRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImJhc2VXcmFwcGVyVmFsdWUiLCJhY3Rpb25zIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsIndvcmRzIiwiZGVidXJyIiwiY3JlYXRlQ3RvciIsInRoaXNCaW5kaW5nIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsInRocnUiLCJ3cmFwcGVyIiwiZ2V0RnVuY05hbWUiLCJmdW5jTmFtZSIsImdldERhdGEiLCJpc0xhemlhYmxlIiwicGxhbnQiLCJjcmVhdGVIeWJyaWQiLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiYXJpdHkiLCJpc0FyeSIsImlzQmluZCIsImlzQmluZEtleSIsImlzRmxpcCIsImdldEhvbGRlciIsImhvbGRlcnNDb3VudCIsIm5ld0hvbGRlcnMiLCJjcmVhdGVSZWN1cnJ5IiwiZm4iLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyU3RhY2tlZCIsImFyclZhbHVlIiwib3RoZXJGdW5jIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJvbGRBcnJheSIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsQWxsIiwicHVsbEF0IiwidW5pb24iLCJ1bmlvbkJ5IiwidW5pb25XaXRoIiwidW56aXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZExhc3QiLCJmb3JFYWNoUmlnaHQiLCJncm91cEJ5IiwiaW52b2tlTWFwIiwia2V5QnkiLCJwYXJ0aXRpb24iLCJzb3J0QnkiLCJiZWZvcmUiLCJiaW5kS2V5IiwiV1JBUF9CSU5EX0ZMQUciLCJkZWJvdW5jZSIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsImludm9rZUZ1bmMiLCJ0aW1lIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJvbWl0IiwiQ0xPTkVfREVFUF9GTEFHIiwiYmFzZVBpY2siLCJwaWNrQnkiLCJ0b1BhaXJzIiwidG9QYWlyc0luIiwiY2FtZWxDYXNlIiwid29yZCIsImNhcGl0YWxpemUiLCJ1cHBlckZpcnN0Iiwia2ViYWJDYXNlIiwibG93ZXJDYXNlIiwibG93ZXJGaXJzdCIsInNuYWtlQ2FzZSIsInN0YXJ0Q2FzZSIsInVwcGVyQ2FzZSIsImhhc1VuaWNvZGVXb3JkIiwidW5pY29kZVdvcmRzIiwiYXNjaWlXb3JkcyIsImF0dGVtcHQiLCJiaW5kQWxsIiwibWV0aG9kTmFtZXMiLCJmbG93IiwiZmxvd1JpZ2h0IiwibWV0aG9kT2YiLCJtaXhpbiIsIm92ZXIiLCJvdmVyRXZlcnkiLCJvdmVyU29tZSIsImJhc2VQcm9wZXJ0eURlZXAiLCJyYW5nZVJpZ2h0IiwiYXVnZW5kIiwiYWRkZW5kIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwibXVsdGlwbHkiLCJtdWx0aXBsaWVyIiwibXVsdGlwbGljYW5kIiwic3VidHJhY3QiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJjdXJyeSIsImN1cnJ5UmlnaHQiLCJkcm9wUmlnaHQiLCJkcm9wUmlnaHRXaGlsZSIsImRyb3BXaGlsZSIsImJhc2VGaWxsIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmbGlwIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zIiwiZnVuY3Rpb25zSW4iLCJpbml0aWFsIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1hdGNoZXMiLCJtYXRjaGVzUHJvcGVydHkiLCJudGhBcmciLCJvbWl0QnkiLCJvcmRlckJ5IiwicHJvcGVydHlPZiIsInB1bGxBbGxCeSIsInB1bGxBbGxXaXRoIiwic2FtcGxlU2l6ZSIsInNldFdpdGgiLCJzaHVmZmxlIiwic29ydGVkVW5pcSIsInNvcnRlZFVuaXFCeSIsInNlcGFyYXRvciIsInNwcmVhZCIsInRha2UiLCJ0YWtlUmlnaHQiLCJ0YWtlUmlnaHRXaGlsZSIsInRha2VXaGlsZSIsInRhcCIsInRocm90dGxlIiwidG9QYXRoIiwiaXNBcnJMaWtlIiwidW5hcnkiLCJ1bmlxQnkiLCJ1bmlxV2l0aCIsInVuc2V0IiwidXBkYXRlIiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwid3JhcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJlbnRyaWVzSW4iLCJleHRlbmQiLCJleHRlbmRXaXRoIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNsb25lV2l0aCIsImNvbmZvcm1zVG8iLCJkZWZhdWx0VG8iLCJlbmRzV2l0aCIsImVzY2FwZSIsImVzY2FwZVJlZ0V4cCIsImZpbmRLZXkiLCJmaW5kTGFzdEtleSIsImZvckluIiwiZm9ySW5SaWdodCIsImZvck93biIsImZvck93blJpZ2h0IiwiaW5SYW5nZSIsImJhc2VJblJhbmdlIiwiaXNCb29sZWFuIiwiaXNFbGVtZW50IiwiaXNFbXB0eSIsImlzRXF1YWwiLCJpc0VxdWFsV2l0aCIsImlzTWF0Y2giLCJpc01hdGNoV2l0aCIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc051bGwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJzdHJpY3RMYXN0SW5kZXhPZiIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsIm5vQ29uZmxpY3QiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJyYWRpeCIsImZsb2F0aW5nIiwicmVkdWNlUmlnaHQiLCJyZXBlYXQiLCJzYW1wbGUiLCJzb3J0ZWRJbmRleCIsInNvcnRlZEluZGV4QnkiLCJzb3J0ZWRJbmRleE9mIiwic29ydGVkTGFzdEluZGV4Iiwic29ydGVkTGFzdEluZGV4QnkiLCJzb3J0ZWRMYXN0SW5kZXhPZiIsInN0YXJ0c1dpdGgiLCJzdW1CeSIsInRlbXBsYXRlIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHMiLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJpbnRlcnBvbGF0ZSIsInJlRGVsaW1pdGVycyIsImV2YWx1YXRlIiwic291cmNlVVJMIiwiZXNjYXBlVmFsdWUiLCJpbnRlcnBvbGF0ZVZhbHVlIiwiZXNUZW1wbGF0ZVZhbHVlIiwiZXZhbHVhdGVWYWx1ZSIsInZhcmlhYmxlIiwidGltZXMiLCJ0b0xvd2VyIiwidG9TYWZlSW50ZWdlciIsInRvVXBwZXIiLCJ0cmltRW5kIiwidHJpbVN0YXJ0IiwidHJ1bmNhdGUiLCJvbWlzc2lvbiIsIm5ld0VuZCIsInVuaXF1ZUlkIiwiZWFjaCIsImVhY2hSaWdodCIsIlZFUlNJT04iLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiaXNSaWdodCIsImdldFZpZXciLCJpdGVyTGVuZ3RoIiwidGFrZUNvdW50IiwiaXRlckluZGV4IiwiY29tbWl0IiwiY3JlYXRlU2hpZnRBcnIiLCJzcGFjZSIsIml4IiwidmtiZWF1dGlmeSIsImlzU3VicXVlcnkiLCJwYXJlbnRoZXNpc0xldmVsIiwic3BsaXRfc3FsIiwidGFiIiwieG1sIiwiYXIiLCJpbkNvbW1lbnQiLCJkZWVwIiwiY3NzIiwic3FsIiwiYXJfYnlfcXVvdGUiLCJ4bWxtaW4iLCJwcmVzZXJ2ZUNvbW1lbnRzIiwianNvbm1pbiIsImNzc21pbiIsInNxbG1pbiIsImNvbmZpcm0iLCJzcGxpdERpc2FibGUiLCJjYXB0dXJlIiwiY2xpY2thd2F5SGFuZGxlciIsInJlc2V0SGFuZGxlciIsIm5jSWQiLCJxdWV1ZU1pY3JvdGFzayIsIk11dGF0aW9uIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJoYW5kbGUiLCJvYnNlcnZlciIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJzY3JpcHRFbCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiZG9jdW1lbnRFbGVtZW50IiwicHVueWNvZGUiLCJ1dGlsIiwiVXJsIiwic2xhc2hlcyIsImhvc3RuYW1lIiwicGF0aG5hbWUiLCJocmVmIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsInF1ZXJ5c3RyaW5nIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwidSIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInNpbXBsZVBhdGgiLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJxbSIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImhhc1RyYWlsaW5nU2xhc2giLCJ1cCIsImlzQWJzb2x1dGUiLCJ1cmlsaWIiLCJoZWxwZXJzIiwiU2NoZW1hU2NhblJlc3VsdCIsImZvdW5kIiwicmVmIiwic2NhbiIsInNjYW5TY2hlbWEiLCJiYXNldXJpIiwiJHJlZiIsInJlc29sdmVkVXJpIiwib3VyQmFzZSIsInNjYW5BcnJheSIsIml0ZW1zIiwiZXh0ZW5kcyIsImFkZGl0aW9uYWxJdGVtcyIsInNjYW5PYmplY3QiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsImRlZmluaXRpb25zIiwicGF0dGVyblByb3BlcnRpZXMiLCJkZXBlbmRlbmNpZXMiLCJkaXNhbGxvdyIsImFsbE9mIiwiYW55T2YiLCJvbmVPZiIsIm5vdCIsInN0cm9rZVdpZHRoIiwiZXNjYXBlS2V5TGlzdGVuZXIiLCJpbmZvTGlzdGVuZXJzIiwiZW50ZXJLZXlMaXN0ZW5lciIsImFycm93S2V5TGlzdGVuZXIiLCJzaGlmdEtleSIsImJib3hTeWxsYWJsZXMiLCJpbmQiLCJzZWxlY3RlZFN5bFRleHQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaXNTZWxCeUJCb3giLCJzZWxCeUJCb3giLCJzdG9wUHJvcEhhbmRsZXIiLCJpc0VsZW1lbnRJblJlY3QiLCJ1bCIsImxyIiwiZ2V0QkJveENvb3JkcyIsImJveCIsImNsaWNrSGFuZGxlciIsImdldFVzZXJNb2RlIiwiZmlyc3RMaWdhdHVyZUhhbGYiLCJzZWNvbmRMaWdhdHVyZUhhbGYiLCJuY0luZGV4IiwiZmlyc3RVc2UiLCJhc3NlcnQiLCJzZWNvbmRVc2UiLCJpc011bHRpU2VsZWN0Iiwic2VsZWN0ZWRDbGFzcyIsInNlbEJ5U3RhZmYiLCJzZWxCeU5ldW1lIiwic2VsQnlOYyIsInNlbEJ5TGF5ZXJFbGVtZW50IiwiZ2V0U3RhZmZCeUNvb3JkcyIsImRpc3BhdGNoRXZlbnQiLCJNb3VzZUV2ZW50Iiwic2NyZWVuWCIsInNjcmVlblkiLCJjdHJsS2V5IiwiYWx0S2V5IiwibnYiLCJkaCIsInNlbCIsImluaXRpYWxYIiwicGFubmluZyIsImRyYWdTZWxlY3RpbmciLCJjYW52YXMiLCJkcmFnU2VsZWN0QWN0aW9uIiwibm9kZU5hbWUiLCJzdGFydERyYWciLCJpbml0aWFsUCIsImN1cnJlbnRQdCIsImN1clgiLCJjdXJZIiwibmV3WCIsIm5ld1kiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwidXBkYXRlUmVjdCIsInNlbGVjdFJlY3QiLCJyeCIsInJ5IiwibHgiLCJseSIsInNlbGVjdGVkRWxlbWVudHMiLCJnZXRFbGVtZW50c0J5U2VsZWN0b3IiLCJyZXNldFRvIiwiY29weUF0dHJpYnV0ZXMiLCJnZXRTeWxsYWJsZVRleHQiLCJzeWxsYWJsZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY2hpbGROb2RlcyIsInN5bFRleHQiLCJub2RlVmFsdWUiLCJpc0ludmFsaWRCQm94IiwibWVpIiwiem9uZSIsImlzQWxsWmVybyIsImNoZWNrUHJlY2VkZXNTeWxsYWJsZSIsInN5bGxhYmxlcyIsIm5leHRTeWxsYWJsZUlkIiwibmV4dFN5bGxhYmxlSWR4IiwibmV4dFN5bGxhYmxlIiwic3lsc1RleHQiLCJjaGVja0ZvbGxvd3NTeWxsYWJsZSIsInByZXZTeWxsYWJsZUlkIiwicHJldlN5bGxhYmxlIiwiY2hlY2tPYmxpcXVlIiwibmNJZHgiLCJjb2xsZWN0RmFjc0NoaWxkcmVuIiwiYXJyYXkxIiwiYXJyYXkyIiwic3RhZmZCYXNlZE1laSIsIkRPTVBhcnNlciIsInNlcmlhbGl6ZXIiLCJYTUxTZXJpYWxpemVyIiwibWVpRG9jIiwicGFyc2VGcm9tU3RyaW5nIiwibkNvbCIsInNlY3Rpb24iLCJuZXdTdGFmZiIsImNyZWF0ZUVsZW1lbnROUyIsIm5ld0xheWVyIiwic3VyZmFjZSIsInN1cmZhY2VJZCIsInBiIiwiblN0YWZmIiwibGFzdENiIiwibGF5ZXIiLCJjYWxjdWxhdGVBbmRBZGRab25lIiwic2IiLCJjdXN0b3MiLCJsYXN0RWxlbWVudENoaWxkIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzY29yZURlZiIsImNvbExheW91dCIsImluc2VydEFkamFjZW50RWxlbWVudCIsInNlcmlhbGl6ZVRvU3RyaW5nIiwic3RhcnRFbGVtZW50IiwiZW5kRWxlbWVudCIsImVsZW1lbnRzQmV0d2VlbiIsImNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiQkJveCIsImNhbGN1bGF0ZUJCb3giLCJpbnNlcnRCZWZvcmUiLCJzYkJhc2VkTWVpIiwiaGFzQ29scyIsImhhc0ludmFsaWRCQm94IiwiaXNJbnZhbGlkIiwicGFnZUJlZ2lucyIsIm5ldW1lcyIsImxpcSIsIm9yaWdpbmFsU3RhdmVzIiwic2JBcnJheSIsIm9yaWdTeWxsYWJsZSIsIm5ldW1lQmVoaW5kIiwibmV1bWVBaGVhZCIsImNoaWxkQXJyYXkiLCJzYkluZGV4IiwibmV3U3lsbGFibGUiLCJjbGVmIiwiZGVidWciLCJzYnMiLCJsYXllckNoaWxkcmVuIiwiY3VycmVudFNiIiwibmV4dFNiIiwiY3VycmVudElkeCIsImNiRmFjcyIsImNiWm9uZSIsImNoaWxkcmVuQXJyYXkiLCJmYWNzQ2hpbGRyZW4iLCJ6b25lcyIsInoiLCJuZXdTeWxsYWJsZXMiLCJzeWxsYWJsZUlkeCIsIm1laVN0cmluZyIsImRpbWVuc2lvbnMiLCJtZWlMcngiLCJtZWlMcnkiLCJjb29yZCIsImlzQXR0ck91dE9mQm91bmRzIiwibWVpRm9yVmFsaWRhdGlvbiIsInNjaGVtYVJlc3BvbnNlIiwid29ya2VyIiwidmVyc2lvbkZpZWxkIiwic3RhdHVzRmllbGQiLCJ1cGRhdGVTdGF0dXNVSSIsImxpbmUiLCJzdGF0dXNPbkNsaWNrIiwibW9kYWwiLCJzZXRNb2RhbFdpbmRvd1ZpZXciLCJvcGVuTW9kYWxXaW5kb3ciLCJmaWxlU3RhdHVzRGl2IiwibWVpVmVyc2lvbkRpdiIsIm1laVZlcnNpb25UaXRsZSIsIm1laVN0YXR1c0RpdiIsIm1laVN0YXR1c1RpdGxlIiwiV29ya2VyIiwibWVpRGF0YSIsInVwZGF0ZVZlcnNpb25VSSIsIm1laVZlcnNpb24iLCJnZXRNZWlWZXJzaW9uIiwic2F2ZWQiLCJpbmRpY2F0b3IiLCJhbHRNZXNzYWdlIiwidXBkYXRlSW5kaWNhdG9yIiwib25iZWZvcmV1bmxvYWQiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJmb3JtYXRBcmdzIiwidXNlQ29sb3JzIiwibmFtZXNwYWNlIiwiaHVtYW5pemUiLCJsYXN0QyIsInNhdmUiLCJuYW1lc3BhY2VzIiwic3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJERUJVRyIsIl9fbndqcyIsIldlYmtpdEFwcGVhcmFuY2UiLCJmaXJlYnVnIiwiZXhjZXB0aW9uIiwidGFibGUiLCJsb2NhbHN0b3JhZ2UiLCJjb2xvcnMiLCJmb3JtYXR0ZXJzIiwiYWN0aXZhdGUiLCJpbnNlcnRIYW5kbGVyIiwiaW5zZXJ0QWN0aXZlIiwiZGVhY3RpdmF0ZSIsInRhYklkcyIsImluc2VydE9wdGlvbnMiLCJpbnNlcnRFbGVtZW50cyIsImJpbmRFbGVtZW50cyIsImluc2VydFBhbmVsIiwiaW5zZXJ0SGVhZGluZyIsImluc2VydEhlYWRpbmdUaXRsZSIsImluc2VydENvbnRlbnRzIiwiaW5zZXJ0RHJvcGRvd25JY29uIiwiZWRpdFBhbmVsIiwiZWRpdEhlYWRpbmciLCJkaXNwbGF5SGVhZGluZ1RpdGxlIiwiZWRpdENvbnRlbnRzIiwiZWRpdERyb3Bkb3duSWNvbiIsInNlbEJ5U3lsbGFibGUiLCJmaXJzdENsaWNrIiwiaW5zZXJ0RGlzYWJsZWQiLCJyZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzIiwicmVzZXRJbnNlcnRIYW5kbGVyIiwic3RhZmZIYW5kbGVyIiwiZWxlbWVudFR5cGUiLCJidXR0b25JZCIsImFscmVhZHlJbkluc2VydE1vZGUiLCJpc0luc2VydE1vZGUiLCJ0aWx0IiwiZm9ybSIsImFjY2lkIiwiZWRpdE1vZGVCdXR0b24iLCJuYXZiYXJEcm9wZG93bkZpbGVNZW51IiwiZmlsZURyb3Bkb3duQnRuIiwiZmlsZU5hdmJhckNvbnRlbnRzIiwibmF2YmFyRHJvcGRvd25NRUlBY3Rpb25zTWVudSIsIm1laUFjdGlvbnNEcm9wZG93bkJ0biIsIm1laUFjdGlvbnNOYXZiYXJDb250ZW50cyIsIm5hdmJhckZpbmFsaXplIiwidW5kb1JlZG9QYW5lbCIsIm5hdmJhckRyb3Bkb3ducyIsImRyb3BEb3duIiwiZXhwb3J0IiwibWFuaWZlc3QiLCJsaW5rIiwiZG93bmxvYWQiLCJnZXRQYWdlTUVJIiwiY29udmVydFRvTmVvbiIsImdldFBhZ2VOYW1lIiwiaGFzRW1wdHlTeWxsYWJsZXMiLCJyZW1vdmVTeWxsYWJsZUFjdGlvbnMiLCJjaGFpblJlbW92ZUFjdGlvbiIsImhhc0VtcHR5TmV1bWVzIiwicmVtb3ZlTmV1bWVBY3Rpb25zIiwib3V0T2ZCb3VuZFpvbmVzIiwiem9uZU1hcCIsIm91dE9mQm91bmRHbHlwaHMiLCJnbHlwaCIsImZhY3NJZCIsImhhc0ludmFsaWRTeWxsYWJsZXMiLCJwcmVjZWRlc1N5bGxhYmxlIiwiZm9sbG93c1N5bGxhYmxlIiwiZGVsZXRlRGIiLCJsb2NhdGlvbiIsInJlbG9hZCIsInVuZG9IYW5kbGVyIiwidW5kbyIsInJlZG9IYW5kbGVyIiwicmVkbyIsImdldEdldFBhcmFtIiwibWFuaWZlc3RMb2NhdGlvbiIsInN0YXR1c1RleHQiLCJpbWFnZSIsIkRpc3BsYXkiLCJJbmZvIiwiVGV4dFZpZXciLCJUZXh0RWRpdCIsIlZpZXciLCJOZXVtZUVkaXQiLCJSZXNwb25zZSIsInBhcnNlTWFuaWZlc3QiLCJ0ZXh0VmlldyIsInVwZGF0ZUJCb3hWaXNpYmlsaXR5IiwiY29yZSIsIk1vZGFsV2luZG93IiwiVmFsaWRhdGlvbiIsImluaXRFcnJvckxvZyIsImxpc3RlblVuc2F2ZWRDaGFuZ2VzIiwic2V0dXBFZGl0IiwiaW5pdERiIiwib25TVkdMb2FkIiwicGFnZU5vIiwiZ2V0Q3VycmVudFBhZ2UiLCJjaGFuZ2VQYWdlIiwic2V0U2F2ZWRTdGF0dXMiLCJwYWdlVVJJIiwiZWxlbWVudElEIiwidXBkYXRlRGF0YWJhc2UiLCJnZXRBbm5vdGF0aW9ucyIsInRpbWVzdGFtcCIsInJlYWRBc0RhdGFVUkwiLCJnZXRNRUkiLCJnZXRTVkciLCJ2ZXJvdmlvV3JhcHBlciIsInVuZG9TdGFja3MiLCJyZWRvU3RhY2tzIiwibmVvbkNhY2hlIiwiYmxhbmtQYWdlcyIsImFubm90YXRpb25zIiwibWVpX2Fubm90YXRpb25zIiwibGFzdFBhZ2VMb2FkZWQiLCJhbm5vdGF0aW9uIiwidGltZVpvbmVSZWdleHAiLCJnZXRUaW1lIiwibmV3QW5ub3RhdGlvbiIsImxvYWREYXRhIiwiYmxhbmtQYWdlIiwiY29udmVydFRvVmVyb3ZpbyIsImNoZWNrT3V0T2ZCb3VuZHNHbHlwaHMiLCJkaXJ0eSIsInNlbmRGb3JWYWxpZGF0aW9uIiwicmVtb3ZlQ29sdW1uTGFiZWwiLCJzdmciLCJsb2FkUGFnZSIsImN1cnJlbnRNRUkiLCJ1bmRvU3RhY2siLCJ1cGRhdGVDYWNoZSIsInN2Z1RleHQiLCJtZWlQcm9taXNlIiwic3ZnUHJvbWlzZSIsInVwZGF0ZVRpbWVzdGFtcCIsInZlcm92aW9Xb3JrZXIiLCJOZW9uU2NoZW1hIiwiTmVvbkNvbnRleHQiLCJtYW5pZmVzdFN0cmluZyIsIlZhbGlkYXRvciIsImF0dHJpYnV0ZSIsInVucmVzb2x2ZWRSZWZzIiwidmFsaWRhdG9ycyIsInNob3VsZFJlc29sdmUiLCJhZGRTY2hlbWEiLCJvdXJVcmkiLCJhZGRTdWJTY2hlbWFBcnJheSIsImFkZFN1YlNjaGVtYSIsImFkZFN1YlNjaGVtYU9iamVjdCIsInNldFNjaGVtYXMiLCJnZXRTY2hlbWEiLCJ1cm4iLCJzY2giLCJyZXF1aXJlZCIsInZhbGlkYXRlU2NoZW1hIiwic2NoZW1hb2JqIiwic2NoZW1hVHJhdmVyc2VyIiwic3VwZXJSZXNvbHZlIiwic3dpdGNoU2NoZW1hIiwicmVzb2x2ZWQiLCJzdWJjdHgiLCJzdWJzY2hlbWEiLCJza2lwQXR0cmlidXRlcyIsImlnbm9yZVByb3BlcnRpZXMiLCJ2YWxpZGF0b3JFcnIiLCJhbGxvd1Vua25vd25BdHRyaWJ1dGVzIiwicmV3cml0ZSIsInBhcnNlZCIsImZyYWdtZW50IiwidGVzdFR5cGUiLCJpbnRlZ2VyIiwiYm9vbGVhbiIsImRhdGUiLCJhbnkiLCJtYXhJbnQiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsInN0cmluZ0Zyb21DaGFyQ29kZSIsIm1hcERvbWFpbiIsInVjczJkZWNvZGUiLCJleHRyYSIsImNvdW50ZXIiLCJ1Y3MyZW5jb2RlIiwiZGlnaXRUb0Jhc2ljIiwiZGlnaXQiLCJmbGFnIiwiYWRhcHQiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJiYXNlTWludXNUTWluIiwiZGVjb2RlIiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImVuY29kZSIsImhhbmRsZWRDUENvdW50IiwiYmFzaWNMZW5ndGgiLCJxIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsInFzIiwic2VwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwieHMiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJvYmplY3RLZXlzIiwia3MiLCJmIiwidGVzdFNjaGVtYU5vVGhyb3ciLCJnZXRFbnVtZXJhYmxlUHJvcGVydHkiLCJ0ZXN0QWRkaXRpb25hbFByb3BlcnR5IiwicHJlVmFsaWRhdGVQcm9wZXJ0eSIsImlubmVyIiwibmVzdGVkRXJyb3JzIiwiaWYiLCJpZlZhbGlkIiwiZWxzZSIsInByb3BlcnR5TmFtZXMiLCJfZSIsIm1pblByb3BlcnRpZXMiLCJtYXhQcm9wZXJ0aWVzIiwibWluaW11bSIsImV4Y2x1c2l2ZU1pbmltdW0iLCJtYXhpbXVtIiwiZXhjbHVzaXZlTWF4aW11bSIsInZhbGlkYXRlTXVsdGlwbGVPZk9yRGl2aXNibGVCeSIsInZhbGlkYXRpb25UeXBlIiwiZXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbkFyZ3VtZW50IiwiaW5zdGFuY2VEZWNpbWFscyIsImRpdmlzb3JEZWNpbWFscyIsIm1heERlY2ltYWxzIiwicG93IiwidGVzdEFycmF5cyIsIm11bHRpcGxlT2YiLCJkaXZpc2libGVCeSIsIm1pbkxlbmd0aCIsImhzcCIsIm1pbkl0ZW1zIiwibWF4SXRlbXMiLCJ1bmlxdWVJdGVtcyIsImRlcCIsImNoaWxkQ29udGV4dCIsIm5vdFR5cGVzIiwic2NoZW1hSWQiLCJtZWlDbGFzcyIsImhhbmRsZVpvb20iLCJkaXNwbGF5Q29udHJvbHNQYW5lbCIsImxvYWRTZXR0aW5ncyIsImFkZFVwZGF0ZUNhbGxiYWNrIiwidXBkYXRlVmlzdWFsaXphdGlvbiIsIkRpc3BsYXlDb250cm9scyIsInNldFpvb21Db250cm9scyIsImluaXREaXNwbGF5Q29udHJvbHMiLCJ1cGRhdGVDYWxsYmFja3MiLCJkaXZhUmVhZHkiLCJkaXZhIiwib2JqZWN0RGF0YSIsIm1pbkhlaWdodCIsImluZGV4TWFwIiwiZGlzYWJsZURyYWdTY3JvbGxhYmxlIiwiZGlzcGxheVBhbmVsIiwibG9hZERlbGF5IiwiaW5pdERpdmFFdmVudHMiLCJvbnJlc2l6ZSIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsIkV2ZW50cyIsInN1YnNjcmliZSIsIklEIiwiZGlkTG9hZCIsImFkanVzdFpvb20iLCJwYWdlSW5kZXgiLCJjaGVja0FuZExvYWQiLCJwYWdlIiwiZ2V0UGFnZVNWRyIsInVwZGF0ZVNWRyIsImNvbnRhaW5lcklkIiwicGFnZUluZGV4ZXMiLCJnZXRBY3RpdmVQYWdlSW5kZXgiLCJ6b29tRHVyYXRpb24iLCJmaXJzdENoaWxkIiwic2V0Vmlld0V2ZW50SGFuZGxlcnMiLCJnZXRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbCIsInZpZXdIYW5kbGVyIiwiX3ZpZXdlckNvcmUiLCJnZXRQYWdlUmVnaW9uIiwiaW5jbHVkZVBhZGRpbmciLCJpbmNvcnBvcmF0ZVZpZXdwb3J0IiwibWFyZ2luTGVmdCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwidG9wIiwic2V0RGlzcGxheUxpc3RlbmVycyIsInZpc2liaWxpdHkiLCJzZXF1ZW5jZSIsInNlcXVlbmNlcyIsImNhbnZhc2VzIiwiaXRlbVRpdGxlIiwicGFnZXMiLCJfcmFmIiwiX2lzVG91Y2giLCJfZXh0ZW5kIiwiVmFuaWxsYUtpbmV0aWMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJERUZBVUxUUyIsIkFDVElWRV9DTEFTUyIsIl9pbml0RWxlbWVudHMiLCJfVmFuaWxsYUtpbmV0aWMiLCJkZWNlbGVyYXRlIiwidHJpZ2dlckhhcmR3YXJlIiwidGhyZXNob2xkIiwic2xvd2Rvd24iLCJtYXh2ZWxvY2l0eSIsInRocm90dGxlRlBTIiwibW92aW5nQ2xhc3MiLCJkb3duIiwiZGVjZWxlcmF0aW5nQ2xhc3MiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WSIsIl9tb3ZlIiwic3RvcCIsInN0b3BwZWQiLCJkZXRhY2giLCJfZGV0YWNoTGlzdGVuZXJzIiwiYXR0YWNoIiwiX2F0dGFjaExpc3RlbmVycyIsInhwb3MiLCJwcmV2WFBvcyIsInlwb3MiLCJwcmV2WVBvcyIsIm1vdXNlRG93biIsInRocm90dGxlVGltZW91dCIsImxhc3RNb3ZlIiwiZWxlbWVudEZvY3VzZWQiLCJkb2N1bWVudFJlc2V0SGFuZGxlciIsIl9yZXNldE1vdXNlIiwiaHRtbCIsIl9pbml0RXZlbnRzIiwicHJlZml4ZXMiLCJzdHlsZXMiLCJ0b3VjaFN0YXJ0IiwidG91Y2giLCJfdXNlVGFyZ2V0Iiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJfdGhyZXNob2xkIiwiX3N0YXJ0IiwidG91Y2hNb3ZlIiwiX2lucHV0bW92ZSIsImlucHV0RG93biIsImlucHV0RW5kIiwiX2VuZCIsImlucHV0TW92ZSIsInNjcm9sbCIsIm1vdmVkIiwiaW5wdXRDbGljayIsImRyYWdTdGFydCIsInNlbGVjdFN0YXJ0IiwibW92ZWRYIiwibW92ZWRZIiwic3FydCIsImJsdXIiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiX2NhbGN1bGF0ZVZlbG9jaXRpZXMiLCJfc2V0TW92ZUNsYXNzZXMiLCJfY2FwVmVsb2NpdHkiLCJmaWx0ZXJUYXJnZXQiLCJfZGVjZWxlcmF0ZVZlbG9jaXR5IiwibmV3VmVsb2NpdHkiLCJjbGFzc2VzIiwic2Nyb2xsZXIiLCJfZ2V0U2Nyb2xsZXIiLCJzY3JvbGxXaWR0aCIsInNjcm9sbEhlaWdodCIsIm1vdmluZyIsIm5ld1Njcm9sbFgiLCJuZXdTY3JvbGxZIiwiX3dpbmRvdyIsIl9kb2N1bWVudCIsImRyYWdnZWQiLCJtZCIsIm11IiwibW0iLCJsYXN0Q2xpZW50WCIsImxhc3RDbGllbnRZIiwicHVzaGVkIiwiY29udCIsImVsZW1lbnRGcm9tUG9pbnQiLCJwYWdlWCIsInBhZ2VZIiwicmVhZHlTdGF0ZSIsInJlc2V0RHJhZ3Njcm9sbCIsImNyZWF0ZURlYnVnIiwicHJldlRpbWUiLCJuYW1lc3BhY2VzQ2FjaGUiLCJlbmFibGVkQ2FjaGUiLCJlbmFibGVPdmVycmlkZSIsImVuYWJsZWQiLCJtcyIsImNvZXJjZSIsImZvcm1hdHRlciIsInNlbGVjdENvbG9yIiwiZGVsaW1pdGVyIiwibmV3RGVidWciLCJ0b05hbWVzcGFjZSIsImRpc2FibGUiLCJza2lwcyIsImVuYWJsZSIsInBsdXJhbCIsIm1zQWJzIiwiaXNQbHVyYWwiLCJsb25nIiwiZm10TG9uZyIsImZtdFNob3J0IiwicGFuZWwiLCJzZXRBdHRyaWJ1dGVOUyIsInJlcGxhY2VDaGlsZCIsInJlc2V0VHJhbnNmb3JtYXRpb25zIiwiX3BhZ2UiLCJfZGVsYXkiLCJyZXN0b3JlVHJhbnNmb3JtYXRpb24iLCJzZXRTZWxlY3RMaXN0ZW5lcnMiLCJzY3JvbGxab29tIiwibmV3SGVpZ2h0IiwiVmlld0JveCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsIm1pblgiLCJtaW5ZIiwiem9vbUhlaWdodCIsInpvb21XaWR0aCIsIlpvb21IYW5kbGVyIiwicmVzZXRTZXR0aW5ncyIsImJnaW1nIiwidXBkYXRlU1ZHVmlld0JveCIsInNldFZpZXdCb3giLCJ0cmFuc2xhdGUiLCJyYXdWaWV3Qm94Iiwidmlld0JveFN0cmluZyIsImRyYWdDb29yZGluYXRlcyIsImNyZWF0ZVNWR1BvaW50IiwibWF0cml4IiwibmV3Q29vcmRpbmF0ZXMiLCJkZWx0YVgiLCJkZWx0YVkiLCJuZXdUcmFuc2Zvcm0iLCJkcmFnVHJhbnNmb3JtIiwic2xpZGVyIiwibmV3SyIsImdldFpvb20iLCJpbml0RWRpdE1vZGUiLCJiaW5kSW5zZXJ0VGFicyIsIlNlbGVjdCIsInNldFNlbGVjdEhlbHBlck9iamVjdHMiLCJpbml0SW5zZXJ0RWRpdENvbnRyb2xzIiwic2V0U2VsZWN0U3Ryb2tlV2lkdGgiLCJpbml0U2VsZWN0aW9uQnV0dG9ucyIsInNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzIiwiY2xpY2tTZWxlY3QiLCJkcmFnU2VsZWN0IiwiaW5pdE5hdmJhciIsImluaXRVbmRvUmVkb1BhbmVsIiwibmV1bWVHcm91cHMiLCJ1cGRhdGVJbmZvVmlzaWJpbGl0eSIsImVsZW1lbnRJbmZvIiwidXBkYXRlRGlzcGxheUFsbEJ0biIsInNldEluZm9Db250cm9scyIsImxhYmVsIiwicmVzZXRJbmZvTGlzdGVuZXJzIiwiaXNIb3ZlcmluZ0NoaWxkIiwidXBkYXRlSW5mbyIsInN0b3BMaXN0ZW5lcnMiLCJlbGVtZW50Q2xhc3MiLCJwaXRjaGVzIiwiZ2V0UGl0Y2hlcyIsImRpcyIsImRpc3BsYWNlIiwidXBkYXRlSW5mb01vZHVsZSIsInBpdGNoTmFtZVRvTnVtIiwicG5hbWUiLCJub3RpZmljYXRpb25TZW50IiwidGV4dExhYmVsIiwiYmJveExhYmVsIiwidGV4dEJ1dHRvbiIsImJib3hCdXR0b24iLCJzZXRUZXh0Vmlld0NvbnRyb2xzIiwidXBkYXRlVGV4dFZpZXdWaXNpYmlsaXR5IiwiaW5pdFNlbGVjdEJ5QkJveEJ1dHRvbiIsImluaXRCQm94Q2lyY2xlU2xpZGVyIiwiZ2V0U3lsVGV4dCIsImluaXRUZXh0RWRpdCIsImx5cmljcyIsInNlbEJ5QkJveExpc3RlbmVyIiwiYWRkQkJveExpc3RlbmVycyIsInNwYW5zIiwic2VsZWN0U3lsVGV4dCIsImJsb2NrIiwiYnV0dG9uIiwic2xpZGVyU2VjdGlvbiIsImNpcmNsZVNsaWRlckNvbnRhaW5lciIsInNldENpcmNsZVNpemVDb250cm9scyIsImVsdCIsImhhbmRsZUVsdENvbnN0cnVjdG9yQXJnIiwiTm9kZSIsImNoaWxkQ291bnQiLCJzZXRET01BdHRyaWJ1dGVzIiwic2V0U3R5bGUiLCJjc3NQcm9wIiwiY3NzVGV4dCIsIkRpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24iLCJOb3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbiIsIk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbiIsIl9jYWNoZSIsInRvcGljIiwidGhpc1RvcGljIiwidGhpc1RvcGljR2xvYmFsIiwiZ2xvYmFsQ291bnQiLCJnZXRJbnN0YW5jZUlkIiwiaW5zdGFuY2VJRCIsInRoaXNUb3BpY0luc3RhbmNlIiwic2NvcGVkQ291bnQiLCJjb21wbGV0ZWx5IiwidG9waWNBcnJheSIsInRvcGljcyIsIm9uRG91YmxlQ2xpY2siLCJnZXRSZWxhdGl2ZU9mZnNldCIsInRyYWNrZXIiLCJjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIiLCJpc1RyaWdnZXJlZCIsInRyaWdnZXIiLCJvblBpbmNoIiwic3RhcnREaXN0YW5jZSIsImRpc3RhbmNlIiwibW92ZURpc3RhbmNlIiwiem9vbURlbHRhIiwidG91Y2hDZW50ZXIiLCJvbkRvdWJsZVRhcCIsImZpcnN0VGFwIiwic2Vjb25kVGFwIiwiY2hhbmdlZFRvdWNoZXMiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInRpbWVvdXREdXJhdGlvbiIsInRyaWdnZXJlZCIsInRpbWVvdXRJZCIsInJlc2V0VGltZW91dCIsInBhZ2VDb29yZHMiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ2aWV3ZXJDb3JlIiwiX2lubmVyRWxlbWVudCIsImlubmVyRWxlbWVudCIsIl9wYWdlVG9vbHNFbGVtIiwibGFiZWxXaWR0aCIsIl9idXR0b25zIiwiX2luaXRpYWxpemVQYWdlVG9vbEJ1dHRvbnMiLCJjbGFzcyIsIl9wYWdlTGFiZWxzRWxlbSIsInJlZnJlc2giLCJwdWJsaWNJbnN0YW5jZSIsImdldFB1YmxpY0luc3RhbmNlIiwiZ2V0UGFnZVRvb2xzIiwicGFnZVRvb2xzSWNvbiIsImNsb25lTm9kZSIsImhhbmRsZUNsaWNrIiwiX3ZpZXdlclN0YXRlIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsIl9vdmVybGF5cyIsIm51bVBhZ2VzIiwib3ZlcmxheSIsImFkZFBhZ2VPdmVybGF5IiwiZHVtbXlMYWJlbCIsImNsaWVudFdpZHRoIiwiY29vcmRzIiwibmV3Wm9vbUxldmVsIiwiem9vbUxldmVsIiwiZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldCIsImVuZERpc3RhbmNlIiwidmlld2VyU3RhdGUiLCJtaW5ab29tTGV2ZWwiLCJtYXhab29tTGV2ZWwiLCJjZW50ZXJPZmZzZXQiLCJnZXRDdXJyZW50TGF5b3V0IiwiZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQiLCJhbmNob3JQYWdlIiwidmlld3BvcnQiLCJzY2FsZVJhdGlvIiwiZ29EaXJlY3RseVRvIiwiaG9yaXpvbnRhbE9mZnNldCIsInZlcnRpY2FsT2Zmc2V0IiwicHVibGlzaCIsIl9oYW5kbGVab29tTGV2ZWxDaGFuZ2UiLCJjdXJyZW50UGFnZUluZGV4IiwiYWN0aXZlUGFnZUluZGV4IiwiZmlsZU5hbWUiLCJyZW5kZXJlZFBhZ2VzIiwidGFyZ2V0UGFnZSIsImN1cnJlbnRQYWdlIiwibGF5b3V0IiwiY2VudGVyWSIsImNlbnRlclgiLCJjZW50ZXJQYWdlIiwiZGltcyIsImdldFBhZ2VEaW1lbnNpb25zIiwiaW1hZ2VPZmZzZXQiLCJnZXRQYWdlT2Zmc2V0IiwibWlkWCIsIm1pZFkiLCJnZXRDZW50ZXJtb3N0UGFnZSIsImdldFZpZXdwb3J0IiwiaW50ZXJzZWN0aW9uVG9sZXJhbmNlIiwidmlzaWJsZVBhZ2VzIiwicmVuZGVyZXIiLCJpc1BhZ2VWaXNpYmxlIiwic2V0Q3VycmVudFBhZ2VzIiwib2xkWm9vbUxldmVsIiwicmVtb3ZlUGFnZU92ZXJsYXkiLCJHcmlkSGFuZGxlciIsInBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0IiwiaW5HcmlkIiwiZ2V0UGFnZUluZm8iLCJjaG9zZW5Hcm91cCIsInJlZ2lvbiIsImJvdHRvbSIsInZpZXdwb3J0TWlkZGxlIiwiZ3JvdXBNaWRkbGUiLCJnZXRDZW50ZXJtb3N0R3JvdXAiLCJQYWdlT3ZlcmxheU1hbmFnZXIiLCJfcGFnZXMiLCJfcmVuZGVyZWRQYWdlcyIsIl9yZW5kZXJlZFBhZ2VNYXAiLCJtb3VudCIsIm92ZXJsYXlzQnlQYWdlIiwib3ZlcmxheUluZGV4IiwidW5tb3VudCIsInByZXZpb3VzbHlSZW5kZXJlZCIsIm5ld1JlbmRlcmVkTWFwIiwiX2ludm9rZU9uT3ZlcmxheXMiLCJvdmVybGF5cyIsIlRpbGVDb3ZlcmFnZU1hcCIsImNvbHMiLCJfcm93cyIsIl9jb2xzIiwiX21hcCIsImNvbCIsImxldmVscyIsIl9sZXZlbHMiLCJ1cmxzVG9UaWxlcyIsIl91cmxzVG9UaWxlcyIsImxldmVsIiwidGlsZXMiLCJ0aWxlIiwibG9hZGVkQnlMZXZlbCIsIl9sb2FkZWRCeUxldmVsIiwiYmFzZVpvb21MZXZlbCIsInRvUmVuZGVyQnlMZXZlbCIsImhpZ2hlc3Rab29tTGV2ZWwiLCJjb3ZlcmVkIiwiYmVzdExldmVsSW5kZXgiLCJjZWlsTGV2ZWwiLCJsb2FkZWQiLCJhZGRpdGlvbmFsVGlsZXMiLCJpc0xvYWRlZCIsImlzTmVlZGVkIiwiaGlnaFJlc1JvdyIsImhpZ2hSZXNDb2wiLCJieUxldmVsIiwidXJscyIsIkRvY3VtZW50TGF5b3V0IiwiY29uZmlnIiwiY29tcHV0ZWRMYXlvdXQiLCJzY2FsZWRMYXlvdXRzIiwicGFnZUxheW91dHMiLCJzY2FsZURpbWVuc2lvbnMiLCJncm91cE9mZnNldCIsImdldFNjYWxlZFBhZ2VMYXlvdXRzIiwiZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQiLCJzZWNvbmRhcnlEaW0iLCJzZWNvbmRhcnlQYWRkaW5nIiwiZG9jUGFkZGluZyIsInZlcnRpY2FsbHlPcmllbnRlZCIsIm1heERpbSIsImdldEV4dGVudEFsb25nU2Vjb25kYXJ5QXhpcyIsInByaW1hcnlEb2NQb3NpdGlvbiIsInBhZ2VHcm91cHMiLCJwYWdlUGFkZGluZyIsImdldENvbXB1dGVkTGF5b3V0IiwiX3BhZ2VMb29rdXAiLCJwYWdlTG9va3VwIiwiZ2V0UGFnZUxvb2t1cCIsImdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8iLCJwYWdlSW5mbyIsImVsZW1lbnRXaWR0aCIsImVsZW1lbnRIZWlnaHQiLCJJbWFnZUNhY2hlIiwiX2hlbGQiLCJfdXJscyIsIl9scnUiLCJyZWNvcmQiLCJpbWciLCJfcHJvbW90ZSIsIl90cnlFdmljdCIsImV4dHJhQ2FwYWNpdHkiLCJhbGxvd2VkRW50cnlDb3VudCIsImV2aWN0aW9uSW5kZXgiLCJJbWFnZVJlcXVlc3RIYW5kbGVyIiwiX3VybCIsIl9jYWxsYmFjayIsIl9lcnJvckNhbGxiYWNrIiwidGltZW91dFRpbWUiLCJfYWJvcnRlZCIsIl9jb21wbGV0ZSIsIl9jcm9zc09yaWdpbiIsImltYWdlQ3Jvc3NPcmlnaW4iLCJfaW1hZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwib25sb2FkIiwiX2hhbmRsZUxvYWQiLCJfaGFuZGxlRXJyb3IiLCJhbmltYXRlIiwiZHVyYXRpb25NcyIsImR1cmF0aW9uIiwicGFyYW1ldGVycyIsIm9uVXBkYXRlIiwib25FbmQiLCJ0d2VlbkZucyIsInBhcmFtS2V5cyIsImVhc2luZyIsImVsYXBzZWQiLCJpbk91dEN1YmljRWFzaW5nIiwicmVxdWVzdElkIiwidXBkYXRlVmFsdWVzIiwiaGFuZGxlQW5pbWF0aW9uQ29tcGxldGlvbiIsImludGVycnVwdGVkIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJsaW5lYXIiLCJjdWJpYyIsInBlcmZvcm1hbmNlIiwiaG9va3MiLCJfdmlld3BvcnQiLCJfb3V0ZXJFbGVtZW50Iiwib3V0ZXJFbGVtZW50IiwiX2RvY3VtZW50RWxlbWVudCIsIl9zZXR0aW5ncyIsIl9ob29rcyIsIl9jYW52YXMiLCJfY3R4IiwiZ2V0Q29udGV4dCIsIl9zb3VyY2VSZXNvbHZlciIsIl9jb25maWciLCJfem9vbUxldmVsIiwiX2NvbXBvc2l0ZUltYWdlcyIsIl9yZW5kZXJlZFRpbGVzIiwiX2FuaW1hdGlvbiIsIl9wZW5kaW5nUmVxdWVzdHMiLCJIVE1MQ2FudmFzRWxlbWVudCIsInZpZXdwb3J0UG9zaXRpb24iLCJzb3VyY2VSZXNvbHZlciIsIl9jbGVhckFuaW1hdGlvbiIsIm9uVmlld1dpbGxMb2FkIiwiX3NldExheW91dFRvWm9vbUxldmVsIiwiZ290byIsIm9uVmlld0RpZExvYWQiLCJfZ290byIsInNldElubmVyRGltZW5zaW9ucyIsIl9yZW5kZXIiLCJvblZpZXdEaWRVcGRhdGUiLCJuZXdSZW5kZXJlZFBhZ2VzIiwiaW50ZXJzZWN0c1JlZ2lvbiIsImNsZWFyUmVjdCIsIl9wYWludE91dGxpbmUiLCJ6b29tTGV2ZWxzIiwiZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2UiLCJjb21wb3NpdGUiLCJ1cGRhdGVGcm9tQ2FjaGUiLCJfaW5pdGlhdGVUaWxlUmVxdWVzdHMiLCJmaW5kQ2hhbmdlcyIsIl9wYWludCIsIm9uUGFnZVdpbGxMb2FkIiwiYWRkZWQiLCJyZW5kZXJlZFRpbGVzIiwiZ2V0VGlsZXMiLCJzY2FsZWQiLCJnZXRTY2FsZWRUaWxlUmVjb3JkIiwiX2lzVGlsZVZpc2libGUiLCJfZHJhd1RpbGUiLCJhY3F1aXJlIiwicmVsZWFzZSIsInBhZ2VPZmZzZXQiLCJfZ2V0SW1hZ2VPZmZzZXQiLCJ2aWV3cG9ydFBhZGRpbmdYIiwidmlld3BvcnRQYWRkaW5nWSIsInZpZXdwb3J0T2Zmc2V0WCIsInZpZXdwb3J0T2Zmc2V0WSIsImRlc3RYT2Zmc2V0IiwiZGVzdFlPZmZzZXQiLCJjYW52YXNYIiwiY2FudmFzWSIsImRlc3RXaWR0aCIsImRlc3RIZWlnaHQiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJuZXdQZW5kaW5nUmVxdWVzdHMiLCJpbml0aWF0ZVJlcXVlc3QiLCJ1cGRhdGVXaXRoTG9hZGVkVXJscyIsIl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlIiwiZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2UiLCJzY2FsZWRUaWxlIiwidGlsZU9mZnNldCIsIl9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldCIsInNvdXJjZVhPZmZzZXQiLCJzb3VyY2VZT2Zmc2V0IiwiZGVzdEltZ1dpZHRoIiwiZGVzdEltZ0hlaWdodCIsInNvdXJjZVdpZHRoIiwic291cmNlSGVpZ2h0IiwiZHJhd0ltYWdlIiwidGlsZVNvdXJjZSIsImdldFBvc2l0aW9uIiwib25WaWV3RGlkVHJhbnNpdGlvbiIsIl9zZXRWaWV3cG9ydFBvc2l0aW9uIiwib25ab29tTGV2ZWxXaWxsQ2hhbmdlIiwic2NhbGVGYWN0b3IiLCJzb3VyY2Vab29tTGV2ZWwiLCJuZXdBcnJheSIsIm9sZEVudHJ5IiwibmV3RW50cnkiLCJnZXRNYXhQYWdlRGltZW5zaW9ucyIsImdldEJvb2tMYXlvdXRHcm91cHMiLCJ2aWV3ZXJDb25maWciLCJwYWdlc0J5R3JvdXAiLCJsZWZ0UGFnZSIsIm5vblBhZ2VkUGFnZXMiLCJfYWRkTm9uUGFnZWRQYWdlcyIsIm5sZW4iLCJwYWdlUmVjb3JkIiwicGFnZWQiLCJzaG93Tm9uUGFnZWRQYWdlcyIsImZhY2luZ1BhZ2VzIiwiZ2V0R3JvdXBpbmdzIiwicmlnaHRQYWdlIiwibGVmdERpbXMiLCJyaWdodERpbXMiLCJmaXJzdExlZnRPZmZzZXQiLCJzZWNvbmRMZWZ0T2Zmc2V0IiwibWlkV2lkdGgiLCJnZXRGYWNpbmdQYWdlR3JvdXAiLCJwYWdlRGltcyIsImxlZnRPZmZzZXQiLCJzaG91bGRCZUhvcml6b250YWxseUFkanVzdGVkIiwiZ2V0R3JvdXBMYXlvdXRzRnJvbVBhZ2VHcm91cGluZyIsImdldEdyaWRMYXlvdXRHcm91cHMiLCJ2aWV3cG9ydFdpZHRoIiwicGFnZXNQZXJSb3ciLCJmaXhlZEhlaWdodEdyaWQiLCJmaXhlZFBhZGRpbmciLCJwYWdlV2lkdGgiLCJncmlkUGFnZVdpZHRoIiwicm93SGVpZ2h0IiwibWluUmF0aW8iLCJtYXhSYXRpbyIsImN1cnJlbnRQYWdlcyIsInJvd0RpbWVuc2lvbnMiLCJwYWdlRGltZW5zIiwicGFnZURhdGEiLCJwYWdlRGltZW5EYXRhIiwiaGVpZ2h0VG9XaWR0aFJhdGlvIiwicGFnZUhlaWdodCIsImdldEdyaWRQYWdlRGltZW5zaW9ucyIsImdldFBhZ2VMYXlvdXRzIiwicGx1Y2siLCJpbkJvb2tMYXlvdXQiLCJnZXRTaW5nbGVzTGF5b3V0R3JvdXBzIiwiY3JlYXRlU2V0dGluZ3NWaWV3IiwicmVnaXN0ZXJNaXhpbiIsIlZhbGlkYXRpb25SdW5uZXIiLCJ3aGl0ZWxpc3RlZEtleXMiLCJ2YWxpZGF0aW9ucyIsInZhbGlkYXRpb25JbmRleCIsInZhbGlkYXRpb24iLCJkdW1teUNoYW5nZXMiLCJwcm94aWVyIiwiY3JlYXRlU2V0dGluZ3NQcm94aWVyIiwiX3J1blZhbGlkYXRpb24iLCJfdmFsaWRhdGVPcHRpb25zIiwiY2xvbmVkIiwic2V0dGluZ3NQcm94aWVyIiwiX2FwcGx5VmFsaWRhdGlvbnMiLCJjb3JyZWN0ZWQiLCJ3YXJuaW5nU3VwcHJlc3NlZCIsIm9yaWdpbmFsIiwiZW1pdFdhcm5pbmciLCJzdXBwcmVzc1dhcm5pbmciLCJvdXRwdXRWYWx1ZSIsInByb3h5IiwicnVubmVyIiwibG9va3VwIiwibG9va3VwVmFsdWUiLCJ3aGl0ZWxpc3RlZCIsImFkZGl0aW9uYWwiLCJjdXJyZW50S2V5IiwiZGVmaW5lUHJvcGVydGllcyIsImV4dGVuc2lvbiIsIlZpZXdwb3J0IiwiX3RvcCIsIl9sZWZ0IiwiX3dpZHRoIiwiX2hlaWdodCIsIl9pbm5lckRpbWVuc2lvbnMiLCJpbnZhbGlkYXRlIiwiaGFzSG9yaXpvbnRhbE92ZXJsYXAiLCJoYXNWZXJ0aWNhbE92ZXJsYXAiLCJmYWxsc0JldHdlZW4iLCJjbGllbnRIZWlnaHQiLCJnZXRDb29yZGluYXRlRGVzY3JpcHRvciIsImFzc29jaWF0ZWREaW1lbnNpb24iLCJwcml2YXRlUHJvcCIsImNsYW1wTWluIiwiZ2V0RGltZW5zaW9uRGVzY3JpcHRvciIsImRpbWVuIiwiY2xhbXBNYXgiLCJnZW5lcmF0ZUlkIiwib3B0aW9uc1ZhbGlkYXRpb25zIiwibWluUGFnZXNQZXJSb3ciLCJtYXhQYWdlc1BlclJvdyIsIm1heFpvb20iLCJwYXJlbnRPYmplY3QiLCJjdXJyZW50UGFnZUluZGljZXMiLCJob3Jpem9udGFsUGFkZGluZyIsImluaXRpYWxLZXlTY3JvbGwiLCJpbml0aWFsU3BhY2VTY3JvbGwiLCJpbm5lck9iamVjdCIsImlzQWN0aXZlRGl2YSIsImlzU2Nyb2xsYWJsZSIsImlzWm9vbWluZyIsIm1vYmlsZVdlYmtpdCIsIm91dGVyT2JqZWN0IiwicGFnZU92ZXJsYXlzIiwicGFnZVRvb2xzIiwicGVuZGluZ01hbmlmZXN0UmVxdWVzdCIsInBsdWdpbkluc3RhbmNlcyIsInJlc2l6ZVRpbWVyIiwic2Nyb2xsYmFyV2lkdGgiLCJ0aHJvYmJlclRpbWVvdXRJRCIsInRvb2xiYXIiLCJ2ZXJ0aWNhbFBhZGRpbmciLCJ2aWV3cG9ydE9iamVjdCIsImlkTnVtYmVyIiwicGFuZWxIZWlnaHQiLCJwYW5lbFdpZHRoIiwib3B0aW9uc1ZhbGlkYXRvciIsIncxIiwib2Zmc2V0V2lkdGgiLCJ3MiIsImdldFNjcm9sbGJhcldpZHRoIiwib3JpZW50YXRpb24iLCJoYXNoUGFyYW1TdWZmaXgiLCJpbm5lckVsZW0iLCJlbGVtQXR0cnMiLCJ2aWV3cG9ydEVsZW0iLCJvdXRlckVsZW0iLCJ2aWV3cG9ydE1hcmdpbiIsImJvdW5kU2Nyb2xsRnVuY3Rpb24iLCJzY3JvbGxGdW5jdGlvbiIsImJvdW5kRXNjYXBlTGlzdGVuZXIiLCJlc2NhcGVMaXN0ZW5lciIsImluaXRQbHVnaW5zIiwiaGFuZGxlRXZlbnRzIiwic2hvd1Rocm9iYmVyIiwiaXNWYWxpZCIsImlkZW50IiwiYXR0cnMiLCJrZXlDb2RlIiwibGVhdmVGdWxsc2NyZWVuTW9kZSIsIm5ld09wdGlvbnMiLCJxdWV1ZWRFdmVudHMiLCJnZXRWYWxpZGF0ZWRPcHRpb25zIiwiaGFzQ2hhbmdlZE9wdGlvbiIsImluRnVsbHNjcmVlbiIsInByZXBhcmVNb2RlQ2hhbmdlIiwiY2xlYXJWaWV3ZXIiLCJ1cGRhdGVWaWV3SGFuZGxlckFuZFJlbmRlcmluZyIsInJlbmRlcmVyQ29uZmlnIiwiZ2V0UGFkZGluZyIsInNvdXJjZVByb3ZpZGVyIiwiZ2V0Q3VycmVudFNvdXJjZVByb3ZpZGVyIiwic2VyaWFsaXplZCIsImNoYW5nZUNsYXNzIiwic3RvcmVkSGVpZ2h0Iiwic3RvcmVkV2lkdGgiLCJuZXdXaWR0aCIsIkhhbmRsZXIiLCJpbml0aWFsaXplUmVuZGVyZXIiLCJjb21wYXRFcnJvcnMiLCJnZXRDb21wYXRpYmlsaXR5RXJyb3JzIiwic2hvd0Vycm9yIiwidXBkYXRlUGFnZU92ZXJsYXlzIiwiZ3JpZFNvdXJjZVByb3ZpZGVyIiwiZ2V0UGFnZUltYWdlVVJMIiwidGlsZURpbWVuc2lvbnMiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwiZ2V0UGFnZUltYWdlVGlsZXMiLCJsZXZlbENvdW50IiwidG9wUGFkZGluZyIsImxlZnRQYWRkaW5nIiwiZG9jVlBhZGRpbmciLCJkb2NIUGFkZGluZyIsInVwZGF0ZU92ZXJsYXlzIiwiZ2V0UmVuZGVyZWRQYWdlcyIsImZvY2FsUG9pbnQiLCJpc1ZhbGlkT3B0aW9uIiwiY3VycmVudFJlZ2lvbiIsInBhZ2VSZWdpb24iLCJmb2NhbFhUb0NlbnRlciIsImZvY2FsWVRvQ2VudGVyIiwiZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwiLCJpbml0Wm9vbSIsInpvb21SYXRpbyIsImluaXRpYWxab29tTGV2ZWwiLCJlbmRQb3NpdGlvbiIsInRyYW5zaXRpb25WaWV3cG9ydFBvc2l0aW9uIiwiem9vbUluQnV0dG9uIiwiem9vbU91dEJ1dHRvbiIsImFuY2hvciIsInBpZHgiLCJnZXRQYWdlRGF0YSIsInVwZGF0ZU9mZnNldHMiLCJ1cGRhdGVQYW5lbFNpemUiLCJyZWxvYWRWaWV3ZXIiLCJibG9ja01vYmlsZU1vdmUiLCJwcmV2aW91c1RvcFNjcm9sbCIsInByZXZpb3VzTGVmdFNjcm9sbCIsIm5ld1Njcm9sbFRvcCIsIm5ld1Njcm9sbExlZnQiLCJhZGp1c3QiLCJwcmltYXJ5U2Nyb2xsIiwiYmluZE1vdXNlRXZlbnRzIiwiZW5hYmxlU3BhY2VTY3JvbGwiLCJlbmFibGVLZXlTY3JvbGwiLCJhcnJvd1Njcm9sbEFtb3VudCIsIm9uUmVzaXplIiwicGx1Z2lucyIsImlzUGFnZVRvb2wiLCJoaWRlVGhyb2JiZXIiLCJ0aGIiLCJ0aHJvYmJlclRpbWVvdXQiLCJlcnJvckVsZW1lbnQiLCJsb2FkT3B0aW9ucyIsImFkYXB0aXZlUGFkZGluZyIsImdldEF2ZXJhZ2VXaWR0aCIsImdldEF2ZXJhZ2VIZWlnaHQiLCJuZWVkc1hDb29yZCIsIm5lZWRzWUNvb3JkIiwiYW5jaG9yZWRWZXJ0aWNhbGx5IiwiYW5jaG9yZWRIb3Jpem9udGFsbHkiLCJnZXRYT2Zmc2V0IiwiZ2V0WU9mZnNldCIsImVuYWJsZUF1dG9UaXRsZSIsIm1pbldpZHRoIiwiYWRkT3ZlcmxheSIsInJlbW92ZU92ZXJsYXkiLCJkb2NPZmZzZXQiLCJkb2NDb29yZHMiLCJwYWdlQ291bnQiLCJhY3RpdmVQYWdlIiwiYXJyYXlzRXF1YWwiLCJvdGhlckltYWdlcyIsImVuYWJsZURyYWdTY3JvbGxhYmxlIiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSIsInJlbW92ZUNsYXNzIiwicmVtb3ZlRGF0YSIsInJlbW92ZUF0dHIiLCJ1bnN1YnNjcmliZUFsbCIsInBhcnNlTGFiZWxWYWx1ZSIsImdldE1heFpvb21MZXZlbCIsImxhcmdlc3REaW1lbnNpb24iLCJpbmNvcnBvcmF0ZVpvb20iLCJpbWFnZURpbWVuc2lvbiIsInpvb21EaWZmZXJlbmNlIiwiZ2V0T3RoZXJJbWFnZURhdGEiLCJsb3dlc3RNYXhab29tIiwiaXRtIiwicGFyc2VJbWFnZUluZm8iLCJpbCIsInBhcnNlSUlJRk1hbmlmZXN0IiwiZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24iLCJudW1DYW52YXNlcyIsInRoaXNDYW52YXMiLCJ0aGlzUmVzb3VyY2UiLCJ0aGlzSW1hZ2UiLCJzZWNvbmRhcnlJbWFnZXMiLCJpbWFnZUFQSVZlcnNpb24iLCJpbWFnZUxhYmVsIiwiem9vbURpbWVuc2lvbnMiLCJ3aWR0aEF0Q3VycmVudFpvb21MZXZlbCIsImhlaWdodEF0Q3VycmVudFpvb21MZXZlbCIsIm16IiwicmF0aW8iLCJ0b3RhbFdpZHRocyIsInRvdGFsSGVpZ2h0cyIsIm1heFdpZHRocyIsIm1heEhlaWdodHMiLCJpbWFnZXMiLCJyZXNvdXJjZSIsInNlcnZpY2UiLCJpc1BhZ2VkIiwidmlld2luZ0hpbnQiLCJpc0ZhY2luZyIsInhvZmZzZXQiLCJ5b2Zmc2V0IiwiYXZlcmFnZVdpZHRocyIsImF2ZXJhZ2VIZWlnaHRzIiwiYV93aWQiLCJhX2hlaSIsIm1heF93IiwibWF4X2giLCJtYXhfcmF0aW8iLCJtaW5fcmF0aW8iLCJ0X2hlaSIsInRfd2lkIiwiaXRlbV90aXRsZSIsIm1heF96b29tIiwicGdzIiwiYmVoYXZpb3VyIiwiZnJhZ21lbnRSZWdleCIsInh5d2giLCJzdHJpcFVSTCIsInVybEFycmF5IiwiaW1hZ2VJbmZvIiwiSUlJRlNvdXJjZUFkYXB0ZXIiLCJkaW1lbnMiLCJxdWFsaXR5IiwiZW5jb2RlVVJJIiwicm93Q291bnQiLCJjb2xDb3VudCIsInVybEFkYXB0ZXIiLCJfbWF4V2lkdGhzIiwiX21heEhlaWdodHMiLCJfYXZlcmFnZVdpZHRocyIsIl9hdmVyYWdlSGVpZ2h0cyIsIl90b3RhbEhlaWdodHMiLCJfdG90YWxXaWR0aHMiLCJfdXJsQWRhcHRlciIsImlpaWZNYW5pZmVzdCIsIm1heERpbXMiLCJ0YXJnZXRab29tTGV2ZWwiLCJnZXRUaWxlSW1hZ2VVUkwiLCJ6b29tZWRQcm9wZXJ0eUdldHRlciIsInByaXZhdGVOYW1lIiwiZ2V0TWF4V2lkdGgiLCJnZXRNYXhIZWlnaHQiLCJnZXRUb3RhbFdpZHRoIiwiZ2V0VG90YWxIZWlnaHQiLCJ2aWV3ZXIiLCJpY29uIiwiaW5uZXJOYW1lIiwiaW5uZXJWYWx1ZSIsInpvb21PdXRJY29uIiwiX2NyZWF0ZVpvb21PdXRJY29uIiwiem9vbUluSWNvbiIsIl9jcmVhdGVab29tSW5JY29uIiwiem9vbUJ1dHRvbnMiLCJjcmVhdGVCdXR0b24iLCJzZXRab29tTGV2ZWwiLCJjcmVhdGVMYWJlbCIsIl9zdWJzY3JpYmUiLCJncmlkTW9yZUljb24iLCJfY3JlYXRlR3JpZE1vcmVJY29uIiwiZ3JpZEZld2VySWNvbiIsIl9jcmVhdGVHcmlkRmV3ZXJJY29uIiwiZ3JpZEJ1dHRvbnMiLCJzZXRHcmlkUGFnZXNQZXJSb3ciLCJ1cGRhdGVDdXJyZW50UGFnZSIsImluZGljZXMiLCJnZXRDdXJyZW50UGFnZUluZGljZXMiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJzdGFydExhYmVsIiwiZW5kTGFiZWwiLCJlbmFibGVJbmRleEFzTGFiZWwiLCJnb3RvUGFnZUlucHV0IiwiYXV0b2NvbXBsZXRlIiwiZ290b1BhZ2VTdWJtaXQiLCJpbnB1dFN1Z2dlc3Rpb25zIiwiZ290b0Zvcm0iLCJkZXNpcmVkUGFnZUxhYmVsIiwib25Hb3RvU3VibWl0IiwiZ290b1BhZ2VCeUluZGV4IiwiYWxlcnQiLCJnb3RvUGFnZUJ5TGFiZWwiLCJudW1TdWdnZXN0aW9ucyIsImVuYWJsZUdvdG9TdWdnZXN0aW9ucyIsIm5ld0lucHV0U3VnZ2VzdGlvbiIsImFjdGl2ZSIsInByZXZFbCIsIm5leHRFbCIsInN1Ym1pdEV2ZW50IiwiRXZlbnQiLCJjYW5jZWxhYmxlIiwidmlld09wdGlvbnNMaXN0IiwiX2VsZW1BdHRycyIsImdyaWRWaWV3SWNvbiIsIl9jcmVhdGVHcmlkVmlld0ljb24iLCJib29rVmlld0ljb24iLCJfY3JlYXRlQm9va1ZpZXdJY29uIiwicGFnZVZpZXdJY29uIiwiX2NyZWF0ZVBhZ2VWaWV3SWNvbiIsImNoYW5nZVZpZXdCdXR0b24iLCJzZWxlY3RWaWV3IiwiY2hhbmdlVmlldyIsInVwZGF0ZVZpZXdNZW51Iiwidmlld09wdGlvbnMiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZnVsbHNjcmVlbkljb24iLCJfY3JlYXRlRnVsbHNjcmVlbkljb24iLCJ0b2dnbGVGdWxsc2NyZWVuTW9kZSIsInRvZ2dsZVpvb21HcmlkQ29udHJvbHMiLCJsZWZ0VG9vbHMiLCJjcmVhdGVab29tQnV0dG9ucyIsImNyZWF0ZUdyaWRDb250cm9scyIsInJpZ2h0VG9vbHMiLCJjcmVhdGVQYWdlTGFiZWwiLCJjcmVhdGVWaWV3TWVudSIsImVuYWJsZUZ1bGxzY3JlZW4iLCJjcmVhdGVGdWxsc2NyZWVuQnV0dG9uIiwiZW5hYmxlR290b1BhZ2UiLCJjcmVhdGVHb3RvUGFnZUZvcm0iLCJ0b29sYmFyU2lkZSIsInRvb2xiYXJJY29uIiwiY3JlYXRlSWNvbiIsImhhbmRsZVBsdWdpbkNsaWNrIiwidG9vbHMiLCJ0b29sYmFyUGFyZW50T2JqZWN0IiwicEVsIiwiX2NyZWF0ZVRvb2xiYXJJY29uIiwiZ2V0SGFzaFBhcmFtIiwib3JpZ2luYWxWYWx1ZSIsInN0YXJ0VGhpbmciLCJIVE1MRWxlbWVudCIsImVuYWJsZUZpbGVuYW1lIiwiZW5hYmxlR3JpZEljb24iLCJlbmFibGVHcmlkQ29udHJvbHMiLCJlbmFibGVJbWFnZVRpdGxlcyIsImVuYWJsZUxpbmtJY29uIiwiZW5hYmxlTm9uUGFnZWRWaXNpYmlsaXR5SWNvbiIsImVuYWJsZVRvb2xiYXIiLCJlbmFibGVab29tQ29udHJvbHMiLCJmaWxsUGFyZW50SGVpZ2h0IiwicGFnZUFsaWFzZXMiLCJwYWdlQWxpYXNGdW5jdGlvbiIsInBhZ2VMb2FkVGltZW91dCIsInJlcXVlc3RIZWFkZXJzIiwid3JhcHBlckVsZW1lbnQiLCJkaXZhU3RhdGUiLCJyZW5kZXIiLCJ1bnN1YnNjcmliZSIsImhhc2hTdGF0ZSIsIl9nZXRIYXNoUGFyYW1TdGF0ZSIsIl9sb2FkT3JGZXRjaE9iamVjdERhdGEiLCJfbG9hZE9iamVjdERhdGEiLCJfYWpheEVycm9yIiwic2V0UGVuZGluZ01hbmlmZXN0UmVxdWVzdCIsImpzb25Ib3N0IiwiX3Nob3dFcnJvciIsInJlc3BvbnNlRGF0YSIsImZyb21JSUlGIiwiX2dldExvYWRPcHRpb25zRm9yU3RhdGUiLCJzZXRNYW5pZmVzdCIsIl9nZXRWaWV3U3RhdGUiLCJfZ2V0UGFnZUluZGV4Rm9yTWFuaWZlc3QiLCJucCIsImhhc2hQYXJhbXMiLCJfZ2V0U3RhdGUiLCJoYXNoU3RyaW5nQnVpbGRlciIsIl9yZWxvYWRWaWV3ZXIiLCJob3ZlciIsInRvZ2dsZU9wYWNpdHkiLCJkZXN0aW5hdGlvblZpZXciLCJ4QW5jaG9yIiwieUFuY2hvciIsIl9pc1BhZ2VJbmRleFZhbGlkIiwieE9mZnNldCIsInlPZmZzZXQiLCJpc1BhZ2VWYWxpZCIsIm91dGVyT2Zmc2V0Iiwib3V0ZXJUb3AiLCJvdXRlckxlZnQiLCJvdXRlckJvdHRvbSIsIm91dGVyUmlnaHQiLCJjdXJQYWdlSWR4IiwiY3VyUGFnZSIsImN1ck9mZnNldCIsIl9nZXRVUkxIYXNoIiwiX2NoYW5nZVZpZXciLCJkaXNhYmxlU2Nyb2xsYWJsZSIsImVuYWJsZVNjcm9sbGFibGUiLCJfdG9nZ2xlRnVsbHNjcmVlbiIsInBnIiwiX2dldEN1cnJlbnRVUkwiLCJwYWdlSWR4IiwiX2NoZWNrTG9hZGVkIiwicGdBdFpvb20iLCJfZ2V0UGFnZUluZGV4Rm9yUGFnZVhZVmFsdWVzIiwiX2dvdG9QYWdlQnlJbmRleCIsImxsYyIsIl9nZXRQYWdlSW5kZXgiLCJ0b3BPZmZzZXQiLCJfdG9nZ2xlUGFnZUxheW91dE9yaWVudGF0aW9uIiwiRGl2YSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVB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SUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFB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UixTQUFTbWtILFVBSWxFLE9BQXVCLElBQW5CMGYsRUFDT2p3SSxFQUVKQSxFQUFXK0gsS0FBSzZ5RyxJQUFJLEVBQUdxMUIsR0FTbEMsU0FFSSxPQUFPbDFJLEtBQUt1NkksYUFBYXY2SSxLQUFLcVIsU0FBU21rSCxVQUFZLEdBT3ZELFVBRUksT0FBT3gxSCxLQUFLdTZJLGFBQWF2NkksS0FBS3FSLFNBQVNta0gsVUFBWSxJQUkzRCxHQUFLeFQsT0FBUyxFQUFLQSxPQUVKLElBTUE5NEQsR0FOQSxhQUtPLG9CQUFYdDNDLFVBQ0lzM0MsR0FHUnQzQyxRQURRNHhJLEtBQU90NkYsR0FBT3M2RixNQUFRIiwiZmlsZSI6ImVkaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1OCk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHR5cGVzID0gW1xuICByZXF1aXJlKCcuL25leHRUaWNrJyksXG4gIHJlcXVpcmUoJy4vcXVldWVNaWNyb3Rhc2snKSxcbiAgcmVxdWlyZSgnLi9tdXRhdGlvbi5qcycpLFxuICByZXF1aXJlKCcuL21lc3NhZ2VDaGFubmVsJyksXG4gIHJlcXVpcmUoJy4vc3RhdGVDaGFuZ2UnKSxcbiAgcmVxdWlyZSgnLi90aW1lb3V0Jylcbl07XG52YXIgZHJhaW5pbmc7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgfVxuICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgbmV4dFRpY2soKTtcbiAgfVxufVxuXG4vL25hbWVkIG5leHRUaWNrIGZvciBsZXNzIGNvbmZ1c2luZyBzdGFjayB0cmFjZXNcbmZ1bmN0aW9uIG5leHRUaWNrKCkge1xuICBpZiAoZHJhaW5pbmcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NoZWR1bGVkID0gZmFsc2U7XG4gIGRyYWluaW5nID0gdHJ1ZTtcbiAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gIHdoaWxlIChsZW4pIHtcbiAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICBxdWV1ZSA9IFtdO1xuICAgIHdoaWxlIChjdXJyZW50UXVldWUgJiYgKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgfVxuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIH1cbiAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgcXVldWVJbmRleCA9IC0xO1xuICBkcmFpbmluZyA9IGZhbHNlO1xuICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG52YXIgc2NoZWR1bGVEcmFpbjtcbnZhciBpID0gLTE7XG52YXIgbGVuID0gdHlwZXMubGVuZ3RoO1xud2hpbGUgKCsraSA8IGxlbikge1xuICBpZiAodHlwZXNbaV0gJiYgdHlwZXNbaV0udGVzdCAmJiB0eXBlc1tpXS50ZXN0KCkpIHtcbiAgICBzY2hlZHVsZURyYWluID0gdHlwZXNbaV0uaW5zdGFsbChuZXh0VGljayk7XG4gICAgYnJlYWs7XG4gIH1cbn1cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICB0aGlzLmZ1biA9IGZ1bjtcbiAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZnVuID0gdGhpcy5mdW47XG4gIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7XG4gIHN3aXRjaCAoYXJyYXkubGVuZ3RoKSB7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gZnVuKCk7XG4gIGNhc2UgMTpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdKTtcbiAgY2FzZSAyOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdKTtcbiAgY2FzZSAzOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdLCBhcnJheVsyXSk7XG4gIGRlZmF1bHQ6XG4gICAgcmV0dXJuIGZ1bi5hcHBseShudWxsLCBhcnJheSk7XG4gIH1cblxufTtcbm1vZHVsZS5leHBvcnRzID0gaW1tZWRpYXRlO1xuZnVuY3Rpb24gaW1tZWRpYXRlKHRhc2spIHtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICB9XG4gIHF1ZXVlLnB1c2gobmV3IEl0ZW0odGFzaywgYXJncykpO1xuICBpZiAoIXNjaGVkdWxlZCAmJiAhZHJhaW5pbmcpIHtcbiAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgIHNjaGVkdWxlRHJhaW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi9Db2xvcic7XG5pbXBvcnQgeyB1cGRhdGVIaWdobGlnaHQsIGdldEhpZ2hsaWdodFR5cGUgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCAqIGFzIEdyb3VwaW5nIGZyb20gJy4uL1NxdWFyZUVkaXQvR3JvdXBpbmcnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IHsgQXR0cmlidXRlcywgU2VsZWN0aW9uVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbi8qKlxuICogQHJldHVybnMgVGhlIHNlbGVjdGlvbiBtb2RlIGNob3NlbiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblR5cGUgKCk6IFNlbGVjdGlvblR5cGUge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsLWJ5IGlzLWFjdGl2ZScpO1xuICBpZiAoZWxlbWVudC5sZW5ndGggIT09IDApIHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5pZCBhcyBTZWxlY3Rpb25UeXBlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVW5zZWxlY3QgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFuZCBydW4gdW5kbyBhbnkgZXh0cmFcbiAqIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdCAoKTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uby1tb3ZpbmcnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IFxuICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ25vLW1vdmluZycpKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykuZm9yRWFjaCgoc2VsZWN0ZWQ6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBpZiAoc2VsZWN0ZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBzZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBDb2xvci51bmhpZ2hsaWdodChzZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHNlbGVjdGVkLnN0eWxlLmZpbGwgPSAnJztcbiAgICB9XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goKGRpdkxpbmU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBkaXZMaW5lLnN0eWxlLnN0cm9rZSA9ICcnO1xuICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgfSk7XG4gIFxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgbmV1bWUuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH0pO1xuICBcbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goKHN5bFJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBzeWxSZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpIHtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuc3R5bGUuZmlsbCA9ICcnO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICAgICAgXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaCgoZGl2TGluZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9KTtcbiAgICBcbiAgICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKSkuZm9yRWFjaCgobmV1bWU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG4gIFxuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXh0LXNlbGVjdCcpKS5mb3JFYWNoKChlbDogU1ZHRWxlbWVudCkgPT4ge1xuICAgIGVsLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgZWwuc3R5bGUuZm9udFdlaWdodCA9ICcnO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2VsZWN0Jyk7XG4gIH0pO1xuICBcbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICBHcm91cGluZy5lbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhIHN0YWZmIGVsZW1lbnQuXG4gKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdGFmZiAoc3RhZmY6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzdGFmZi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KHN0YWZmKTtcbiAgICBDb2xvci5oaWdobGlnaHQoc3RhZmYsICcjZDAwJyk7XG4gICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhIGxheWVyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbGF5ZXJFbGVtZW50IC0gVGhlIGxheWVyIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0TGF5ZXJFbGVtZW50IChsYXllckVsZW1lbnQ6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFsYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQobGF5ZXJFbGVtZW50KTtcbiAgICBDb2xvci5oaWdobGlnaHQobGF5ZXJFbGVtZW50LCAnI2QwMCcpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIHNlbGVjdCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBlbCAtIEVsZW1lbnQgdG8gc2VsZWN0LlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gT25seSB1c2VkIGZvciBzdGF2ZXMuXG4gKiBAcGFyYW0gbmVlZHNIaWdobGlnaHRVcGRhdGUgLSBXaGV0aGVyIGFsbCB0aGUgZ3JvdXAncyBoaWdobGlnaHRzIHNob3VsZCBiZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIGRyYWdIYW5kbGVyPzogRHJhZ0hhbmRsZXIsIG5lZWRzSGlnaGxpZ2h0VXBkYXRlID0gdHJ1ZSk6IHZvaWQge1xuICAvLyBJZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0LCBleGl0XG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdFN0YWZmKGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgIHJldHVybiBzZWxlY3RMYXllckVsZW1lbnQoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0JykgJiZcbiAgICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0LWRpc3BsYXknKSkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgLy8gc2V0IGZpbGwgdG8gcmVkXG4gICAgLy8gc2V0IHN0cm9rZSB0byByZWQgb25seSBpZiBzZWxlY3RlZCBlbGVtIGlzIGEgZGl2TGluZVxuICAgIGVsLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgZWwuc3R5bGUuc3Ryb2tlID0gKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKT8gJyNkMDAnIDogJ2JsYWNrJztcblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCBjb2xvciBvZiB0aGUgY29ycmVzcG9uZGluZyB0ZXh0IGluIHRoZSB0ZXh0IHBhbmVsIHRvIHJlZFxuICAgIGxldCBzeWxJZDtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBzeWxJZCA9IGVsLmlkO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgIHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgfVxuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChuZWVkc0hpZ2hsaWdodFVwZGF0ZSkge1xuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG59XG4gICAgXG5cbi8qKlxuICogU2VsZWN0IGFuIG5jLlxuICogQHBhcmFtIGVsIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdE5jcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFlbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZWxlY3QocGFyZW50KTtcbiAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwYXJlbnQsIG5lb25WaWV3KSkge1xuICAgICAgY29uc3QgcHJldk5jID0gcGFyZW50LnByZXZpb3VzU2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHByZXZOYywgbmVvblZpZXcpKSB7XG4gICAgICAgIHNlbGVjdChwcmV2TmMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dE5jID0gcGFyZW50Lm5leHRTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShuZXh0TmMsIG5lb25WaWV3KSkge1xuICAgICAgICAgIHNlbGVjdChuZXh0TmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IE5laXRoZXIgcHJldiBvciBuZXh0IG5jIGFyZSBsaWdhdHVyZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmMnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gYWN0aW9uIHRyaWdnZXJlZCEnKTtcbiAgICB9XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBuYyAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgW1tOZW9uVmlld11dIGZvciB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbmV1bWUgY29tcG9uZW50IGlzIHBhcnQgb2YgYSBsaWdhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTGlnYXR1cmUgKG5jOiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgbmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gIHJldHVybiBCb29sZWFuKGF0dHJpYnV0ZXMubGlnYXRlZCk7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBsaXN0IG9mIGVsZW1lbnRzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBsb2dpY2FsbHkgYWRqYWNlbnQgdG8gZWFjaCBvdGhlci5cbiAqIEluY2x1ZGVzIGVsZW1lbnRzIHRoYXQgYXJlIG9uIHNlcGFyYXRlIHN0YXZlcyBidXQgd291bGQgb3RoZXJ3aXNlIGJlIG5leHQgdG8gZWFjaCBvdGhlci5cbiAqIENhbiBub3QgYXBwbHkgdG8gZWxlbWVudHMgb2YgdHlwZSBuZXVtZSBjb21wb25lbnQuXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHVzZXIgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgb2YgaW50ZXJlc3RcbiAqIEByZXR1cm5zIHRydWUgaWYgZWxlbWVudHMgYXJlIGFkamFjZW50LCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZUFkamFjZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIC8vIDIgZWxlbWVudHMgY2Fubm90IGJlIGFkamFjZW50IGlmIHRoZXJlIGlzIG9ubHkgMSBlbGVtZW50XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gZ2V0IGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFzIHNlbGVjdGlvblR5cGVcbiAgbGV0IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlOiBIVE1MRWxlbWVudFtdO1xuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBXZSBhdXRvbWF0aWNhbGx5IHJldHVybiAndHJ1ZScgZm9yIG5ldW1lcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHVzZXIgdG8gYmUgXG4gICAgICAvLyBhbGxvd2VkIHRvIGdyb3VwIHR3byBuZXVtZXMgaW4gc2VwYXJhdGUgc3lsbGFiZXMgd2l0aG91dCBoYXZpbmcgdG8gcGFyZm9ybSBvdGhlclxuICAgICAgLy8gc3RlcHMgZmlyc3QuIFllcywgdGhlcmUgaXMgYSB0cmFkZS1vZmYgLSB0aGlzIGFsbG93cyB1c2VycyB0byB0cnkgYW5kIGdyb3VwIGFueSBcbiAgICAgIC8vIHR3byBub24tYWRqYWNlbnQgbmV1bWVzLCBidXQgaXQgd2FzIGRlY2lkZWQgdGhhdCB0aGUgYmVuZWZpdHMgKHNwZWVkIGFuZCBlZmZpY2llbmN5KVxuICAgICAgLy8gb3V0d2VpZ2ggdGhlIGNvc3RzICh1c2VyIHRyeWluZyBhbiBpbGxlZ2FsIGVkaXQpLlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gU29ydCBTRUxFQ1RFRCBlbGVtZW50cyBpbiBvcmRlciBvZiBhcHBlYXJhbmNlIGJ5IFxuICAvLyBtYXRjaGluZyB0byBvcmRlciBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaT0wOyBpPGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaj0wOyBqPGVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoYWxsRWxlbXNPZlNlbGVjdGlvblR5cGVbaV0uaXNTYW1lTm9kZShlbGVtZW50c1tqXSkpIHtcbiAgICAgICAgc29ydGVkRWxlbWVudHMucHVzaChlbGVtZW50c1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IGNoZWNrIGlmIFNFTEVDVEVEIGVsZW1lbnRzIGFyZSBhbGwgYWRqYWNlbnQgKGluIGEgcm93KSBieSBcbiAgLy8gZmluZGluZyBhbmQgY29tcGFyaW5nIHRoZWlyIGluZGVjZXMgaW4gdGhlIGFycmF5IG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBmb3IgKGxldCBpPTA7IGk8c29ydGVkRWxlbWVudHMubGVuZ3RoLTE7IGkrKykge1xuICAgIGNvbnN0IGZpcnN0RWxlbSA9IHNvcnRlZEVsZW1lbnRzW2ldO1xuICAgIGNvbnN0IHNlY29uZEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpKzFdO1xuXG4gICAgY29uc3QgaW5kZXgxID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihmaXJzdEVsZW0pO1xuICAgIGNvbnN0IGluZGV4MiA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2Yoc2Vjb25kRWxlbSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoaW5kZXgxIC0gaW5kZXgyKSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIGFycmF5IG9mIGVsZW1lbnRzIGFsbCBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudC5cbiAqIEZvciBleGFtcGxlOiBJZiBhbGwgbmV1bWVzIGFyZSBpbiB0aGUgc2FtZSBzeWxsYWJsZS5cbiAqIFxuICogTm90ZSEhIFRoZXJlIGlzIGN1cnJlbnRseSBubyBsb2dpYyBmb3IgdHJlYXRpbmcgbGF5ZXIgZWxlbWVudHMgYW5kIGJib3hlcyFcbiAqIE5vdGUhISBGdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBmb3Igc3RhdmUgZWxlbWVudHMuIChTaG91bGQgaXQ/Pz8pXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHRoZSBjdXJyZW50IE5lb24gc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgaW4gcXVlc3Rpb25cbiAqIEByZXR1cm5zIHRydWUgaWYgYWxsIGVsZW1lbnRzIHNoYXJlIHRoZSBzYW1lIGxvZ2ljYWwgcGFyZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsZW0gPT4gIShlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpKTtcblxuICBpZiAoIWVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTdGFmZiA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3RhZmYpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgY29uc3QgcmVmZXJlbmNlUGFyZW50U3lsbGFibGUgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICAgIGZvciAobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN5bGxhYmxlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBcbiAqIEZvciBleGFtcGxlLCBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIG9mIHR5cGUgbmV1bWUsIG9yIHN5bGxhYmxlLCBldGMuXG4gKiBcbiAqIE5vdGUhISBUaGVyZSBpcyBubyBsb2dpYyBjdXJyZW50bHkgaW1wbGVtZW50ZWQgZm9yIGxheWVyIGVsZW1lbnRzIG9yIGJib3hlcy5cbiAqIFxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgbWF0Y2ggc2VsZWN0aW9uIG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byBjb21wYXJlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSBwYXJlbnQgdXAgdHdvIGxldmVscywgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQgKGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCB0ZW1wRWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcbiAgY29uc3QgZmlyc3RFbGVtZW50ID0gdGVtcEVsZW1lbnRzLnBvcCgpO1xuICBjb25zdCBzZWNvbmRQYXJlbnQgPSBmaXJzdEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGVtcEVsZW1lbnRzKSB7XG4gICAgY29uc3Qgc2VjUGFyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHNlY1Bhci5pZCAhPT0gc2Vjb25kUGFyZW50LmlkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHVzZXIgc2VsZWN0ZWQgZWxlbWVudHMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgdXNlci1zZWxlY3RlZCBlbGVtZW50c1xuICogQHJldHVybnMgdHJ1ZSBpZiBzZWxlY3Rpb24gaXMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aVN0YXZlU2VsZWN0aW9uKGVsZW1lbnRzOiBTVkdFbGVtZW50W10pOiBib29sZWFuIHtcbiAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuXG4gIGZvciAobGV0IGk9MDsgaTxlbGVtZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmYgPSBlbGVtZW50c0FycmF5W2ldLmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgZm9yIChsZXQgaj1pOyBqPGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGFub3RoZXJTdGFmZiA9IGVsZW1lbnRzQXJyYXlbal0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAvLyBjb21wYXJlIHdpdGggb3RoZXIgc3RhdmVzXG4gICAgICBpZiAoIXN0YWZmLmlzU2FtZU5vZGUoYW5vdGhlclN0YWZmKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQm91bmRpbmcgYm94IG9iamVjdCBpbnRlcmZhY2UgZm9yIGdldFN0YWZmQkJveCgpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZmZCQm94IHtcbiAgaWQ6IHN0cmluZztcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG4gIHJvdGF0ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYm91bmRpbmcgYm94IG9mIGEgc3RhZmYgYmFzZWQgb24gaXRzIHN0YWZmIGxpbmVzLlxuICogUm90YXRlIGlzIGluY2x1ZGVkIGluIHJhZGlhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZkJCb3ggKHN0YWZmOiBTVkdHRWxlbWVudCk6IFN0YWZmQkJveCB7XG4gIGxldCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZTtcbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLmZvckVhY2gocGF0aCA9PiB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICBpZiAocm90YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGlmICh1bHkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pIDwgdWx5KSB7XG4gICAgICB1bHkgPSBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAodWx4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMF0gPCB1bHgpIHtcbiAgICAgIHVseCA9IGNvb3JkaW5hdGVzWzBdO1xuICAgIH1cbiAgICBpZiAobHJ5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA+IGxyeSkge1xuICAgICAgbHJ5ID0gTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKGxyeCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzJdID4gbHJ4KSB7XG4gICAgICBscnggPSBjb29yZGluYXRlc1syXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGlkOiBzdGFmZi5pZCwgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUsIH07XG59XG5cbi8qKlxuICogc2VsZWN0IGEgYm91bmRpbmdib3ggZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGJib3ggKHN5bFRleHRSZWN0KSBlbGVtZW50IGluIHRoZSBET01cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIHRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RCQm94IChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBjb25zdCBiYm94ID0gZWw7XG4gIGNvbnN0IHN5bCA9IGJib3guY2xvc2VzdCgnLnN5bCcpO1xuICBpZiAoIXN5bC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzeWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBiYm94LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY29uc3QgY2xvc2VzdCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb3Nlc3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjbG9zZXN0LmNsYXNzTGlzdC5hZGQoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gICAgaWYoY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICAgIGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChuZW9uVmlldyAhPT0gdW5kZWZpbmVkICl7XG4gICAgICByZXNpemUoc3lsIGFzIFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICB9XG4gICAgaWYgKGRyYWdIYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgfVxuICAgIGNvbnN0IHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgaWYgKHN5bElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNwYW46IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBub3QgbmV1bWUgZWxlbWVudHMuXG4gKiBAcGFyYW0gbm90TmV1bWVzIC0gQW4gYXJyYXkgb2Ygbm90IG5ldW1lcyBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE5uIChub3ROZXVtZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGlmIChub3ROZXVtZXMubGVuZ3RoID4gMCkge1xuICAgIG5vdE5ldW1lcy5mb3JFYWNoKG5uID0+IHsgc2VsZWN0KG5uKTsgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHNlbGVjdGluZyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGwgKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZWxlY3Rpb25UeXBlID0gZ2V0U2VsZWN0aW9uVHlwZSgpO1xuICB1bnNlbGVjdCgpO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZWxlY3Rpb25DbGFzcztcbiAgbGV0IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGZhbHNlO1xuICBsZXQgY29udGFpbnNOYyA9IGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bGxhYmxlJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5ldW1lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5jJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN0YWZmJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsVGV4dFJlY3QtZGlzcGxheSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZSc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZSAnICsgc2VsZWN0aW9uVHlwZSk7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBHZXQgdGhlIGdyb3VwaW5ncyBzcGVjaWZpZWQgYnkgc2VsZWN0aW9uQ2xhc3NcbiAgLy8gdGhhdCBjb250YWluIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBzZWxlY3QuXG4gIGNvbnN0IGdyb3Vwc1RvU2VsZWN0ID0gbmV3IFNldDxTVkdHRWxlbWVudD4oKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgbGV0IGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0PFNWR0dFbGVtZW50PihzZWxlY3Rpb25DbGFzcyk7XG4gICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBjbGljay1zZWxlY3RlZCBhIGNsZWYgb3IgYSBjdXN0b3Mgb3IgYW4gYWNjaWQgb3IgYSBkaXZMaW5lXG4gICAgICBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdCgnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnKTtcbiAgICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIGVsZW1lbnQuaWQgKyAnIGlzIG5vdCBwYXJ0IG9mIHNwZWNpZmllZCBncm91cCBhbmQgaXMgbm90IGEgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZS4nKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb250YWluc0xheWVyRWxlbWVudHMgPSBjb250YWluc0xheWVyRWxlbWVudHMgfHwgdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbnNOYyA9IGNvbnRhaW5zTmMgfHwgdHJ1ZTtcbiAgICB9XG4gICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGdyb3VwaW5nKTtcblxuICAgIC8vIENoZWNrIGZvciBwcmVjZWRlcy9mb2xsb3dzXG4gICAgY29uc3QgZm9sbG93cyA9IGdyb3VwaW5nLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKTtcbiAgICBpZiAoZm9sbG93cykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBmb2xsb3dzLnNsaWNlKDEpKS5jbGFzc0xpc3QuYWRkKCduby1tb3ZpbmcnKTtcbiAgICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGZvbGxvd3Muc2xpY2UoMSkpKTtcbiAgICB9XG4gICAgY29uc3QgcHJlY2VkZXMgPSBncm91cGluZy5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpO1xuICAgIGlmIChwcmVjZWRlcykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkuY2xhc3NMaXN0LmFkZCgnbm8tbW92aW5nJyk7XG4gICAgICBncm91cHNUb1NlbGVjdC5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkpO1xuICAgIH1cbiAgfVxuICAvLyBTZWxlY3QgdGhlIGVsZW1lbnRzXG4gIGdyb3Vwc1RvU2VsZWN0LmZvckVhY2goKGdyb3VwOiBTVkdHcmFwaGljc0VsZW1lbnQpID0+IHNlbGVjdChncm91cCwgZHJhZ0hhbmRsZXIsIGZhbHNlKSk7XG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBjb250ZXh0IG1lbnUgdG8gZGlzcGxheSAoaWYgYW55KSAqL1xuXG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZ3JvdXBzVG9TZWxlY3QudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIC8vIEhhbmRsZSBvY2N1cmFuY2Ugb2YgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZVxuICBpZiAoY29udGFpbnNMYXllckVsZW1lbnRzICYmICFjb250YWluc05jKSB7XG4gICAgLy8gQSBjb250ZXh0IG1lbnUgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBpZiB0aGVyZSBpcyBhIHNpbmdsZSBjbGVmXG4gICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgfWVsc2Uge1xuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgcmVzaXplKGdyb3Vwc1swXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuXG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5ldW1lL25jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnc2luZ2xlU2VsZWN0Jyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBsaW5rZWQgc3lsbGFibGUgc3BsaXQgYnkgYSBzdGFmZiBicmVha1xuICAgICAgICAgIC8vIGlmIHRoZXkgYXJlIGxpbmthYmxlLCB1c2VyIGNhbiB0b2dnbGUgbGlua2VkLXN5bGxzXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzTGlua2FibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7IFxuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdsaW5rYWJsZVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbXVsdGlTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2RlZmF1bHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBzeWxsYWJsZXMgYXJlIGFsbCBsb2NhdGVkIG9uIG9uZSBzdGF2ZSwgdGhleSBzaG91bGQgYmUgZ3JvdXBhYmxlXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzeWxscyBhcmUgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5ldW1lQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlOZXVtZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmV1bWUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNlbGVjdGlvbiBpcyBhIGxpZ2F0dXJlIG9yIGNhbiBiZSBhIGxpZ2F0dXJlXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBuZXVtZSBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHRoZSBzYW1lIG5ldW1lXG4gICAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQgPT09IGdyb3Vwc1sxXS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShncm91cHNbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IG5ldW1lIGNvbXBvbmVudHMgYXJlIGFkamFjZW50XG4gICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1swXSkgLSBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1sxXSkpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBzZWNvbmQgbmV1bWUgY29tcG9uZW50IGlzIGxvd2VyIHRoYW4gZmlyc3QuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBvcmRlciBpbiB0aGUgbGlzdCBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIGJ5IHgtcG9zaXRpb24uXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkMgPSAoZ3JvdXBzWzBdLmNoaWxkcmVuWzBdIGFzIFNWR1VzZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQyA9IChncm91cHNbMV0uY2hpbGRyZW5bMF0gYXMgU1ZHVXNlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1ggID0gZmlyc3ROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWCA9IHNlY29uZE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1kgID0gZmlyc3ROQy55LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWSA9IHNlY29uZE5DLnkuYmFzZVZhbC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIG5jJ3MgYnkgeCBjb29yZCAobGVmdCB0byByaWdodClcbiAgICAgICAgICAgICAgICBpZiAoIChmaXJzdE5DWCA+IHNlY29uZE5DWCkgXG4gICAgICAgICAgICAgICAgICB8fCAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCAmJiBmaXJzdE5DWSA8IHNlY29uZE5DWSkpIHtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DLCBzZWNvbmROQ10gPSBbc2Vjb25kTkMsIGZpcnN0TkNdO1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkNYLCBmaXJzdE5DWSwgc2Vjb25kTkNYLCBzZWNvbmROQ1ldID0gW3NlY29uZE5DWCwgc2Vjb25kTkNZLCBmaXJzdE5DWCwgZmlyc3ROQ1ldO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHN0YWNrZWQgbmMncy9saWdhdHVyZSAoaWRlbnRpY2FsIHgpLCBvciBkZXNjZW5kaW5nIG5jJ3MgKHkgZGVzY2VuZHMpXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0TkNYID09PSBzZWNvbmROQ1ggfHwgZmlyc3ROQ1kgPCBzZWNvbmROQ1kpIHtcbiAgICAgICAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbGlnYXR1cmUnKTsgXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzZWxlY3RCQm94KGdyb3Vwc1swXSwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGcgPT4gc2VsZWN0QkJveChnLCBkcmFnSGFuZGxlciwgdW5kZWZpbmVkKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gIH1cbiAgXG4gIC8vIGZ1bmN0aW9uIGNoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIC8vIHRyeSB7XG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpXG4gIC8vIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFNlbGVjdE9wdGlvbnMuY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgLy8gfSBjYXRjaCAoZSkge2NvbnNvbGUuZGVidWcoZSk7fVxuICAvLyB9XG59XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUsIFNlbGVjdGlvblR5cGUsIFVzZXJUeXBlLCBJbnNlcnRUeXBlLCBJbnNlcnRUYWJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFRoZSBvbmUgaW5zdGFuY2Ugb2YgTG9jYWxTZXR0aW5ncyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhbmRcbiAqIHVzZWQgYnkgdGhlIGVkaXRvci5cbiAqIFxuICogVXNlIHRoZSBmdW5jdGlvbnMgYGdldFNldHRpbmdzKClgIGFuZCBgc2V0U2V0dGluZ3MoKWBcbiAqIHRvIGFjY2VzcyB0aGlzIGluc3RhbmNlLlxuICovXG5sZXQgbG9jYWxTZXR0aW5nczogTG9jYWxTZXR0aW5ncyA9IG51bGw7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgc2V0dGluZ3MgZm9yIGVhY2ggZm9saW9cbiAqIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UuXG4gKlxuICogRXZlcnkga2V5IGlzIG9wdGlvbmFsIHNvIHRoYXQgdGhpcyBzYW1lIHR5cGluZ1xuICogY2FuIGJlIHVzZWQgZm9yIGBzZXRTZXR0aW5ncygpYCAvIGBMb2NhbFNldHRpbmdzLnNldCgpYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5ncyB7XG4gIHpvb206IG51bWJlcjtcbiAgZ2x5cGhPcGFjaXR5OiBudW1iZXI7XG4gIGltYWdlT3BhY2l0eTogbnVtYmVyO1xuICBjaXJjbGVTaXplOiBudW1iZXI7XG4gIGhpZ2hsaWdodE1vZGU6IEdyb3VwaW5nVHlwZTtcbiAgdXNlck1vZGU6IFVzZXJUeXBlO1xuICBpbnNlcnRNb2RlOiBJbnNlcnRUeXBlO1xuICBpbnNlcnRUYWI6IEluc2VydFRhYlR5cGU7XG4gIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvblR5cGU7XG4gIGRpc3BsYXlCQm94OiBib29sZWFuO1xuICBkaXNwbGF5VGV4dDogYm9vbGVhbjtcbiAgZGlzcGxheUluZm86IGJvb2xlYW47XG4gIGRpc3BsYXlFcnJMb2c6IGJvb2xlYW47XG4gIHZpZXdCb3g6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHNldHRpbmdzLCB3aGljaCBzaG91bGQgYmUgc2V0IGZvciBhIGZvbGlvIHdpdGggbm9cbiAqIGxvY2FsU3RvcmFnZSB2YWx1ZS5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSB1cGRhdGVkIGFsb25nc2lkZSB0aGUgaW50ZXJmYWNlIGBTZXR0aW5nc2BcbiAqIGFueSB0aW1lIHdlIHdhbnQgdG8gYWRkIGEgbmV3IHNldHRpbmcgdG8gc3RvcmUgaW4gbG9jYWxTdG9yYWdlLlxuICovXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBTZXR0aW5ncyA9IHtcbiAgem9vbTogMTAwLFxuICBnbHlwaE9wYWNpdHk6IDEwMCxcbiAgaW1hZ2VPcGFjaXR5OiAxMDAsXG4gIGNpcmNsZVNpemU6IDI1LFxuICBoaWdobGlnaHRNb2RlOiAnbm9uZScsXG4gIHVzZXJNb2RlOiAnZWRpdCcsXG4gIGluc2VydE1vZGU6ICdwdW5jdHVtJyxcbiAgaW5zZXJ0VGFiOiAncHJpbWl0aXZlVGFiJyxcbiAgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5U3lsbGFibGUnLFxuICBkaXNwbGF5QkJveDogZmFsc2UsXG4gIGRpc3BsYXlUZXh0OiBmYWxzZSxcbiAgZGlzcGxheUluZm86IGZhbHNlLFxuICBkaXNwbGF5RXJyTG9nOiBmYWxzZSxcbiAgdmlld0JveDogbnVsbFxufTtcblxuY2xhc3MgTG9jYWxTZXR0aW5ncyB7XG4gIGlkOiBzdHJpbmc7XG4gIHNldHRpbmdzOiBTZXR0aW5ncztcblxuICBjb25zdHJ1Y3RvciAoZm9saW9JZDogc3RyaW5nKSB7XG4gICAgbG9jYWxTZXR0aW5ncyA9IHRoaXM7XG4gICAgdGhpcy5pZCA9IGZvbGlvSWQ7XG4gICAgdGhpcy5sb2FkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSwgYW5kIHN5bmMgbG9hZGVkIHNldHRpbmdzIHdpdGhcbiAgICogbmV3IGZpZWxkcyB0aGF0IG1heSBub3QgYmUgaW4gbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgbG9hZCAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4gPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmlkKSk7XG4gICAgICB0aGlzLnN5bmMoc3RvcmVkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgbG9jYWxTdG9yYWdlIHZhbHVlIGlzIG5vdCBhIEpTT04gb2JqZWN0IChmb3IgaW5zdGFuY2UsIGFuIGVtcHR5IHN0cmluZyksXG4gICAgICAvLyBhIFN5bnRheEVycm9yIHdpbGwgYmUgdGhyb3duLiBXZSBtdXN0IGhhbmRsZSBpdCBieSBjYWxsaW5nIHN5bmMoKVxuICAgICAgLy8gd2l0aCBhbiBlbXB0eSBKU09OIG9iamVjdC5cbiAgICAgIHRoaXMuc3luYyh7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBuZXcgZmllbGRzIGluIGxvY2FsU3RvcmFnZSwgYXMgYSBcInVuaW9uXCIgb2Ygb2xkIGFuZCBuZXcgc2V0dGluZ3MuXG4gICAqL1xuICBzZXQgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi50aGlzLnNldHRpbmdzLCAuLi5wYXJhbXMgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgc2V0dGluZ3MgdGhhdCBtYXkgbm90IGJlIGluY2x1ZGVkIGluIHVzZXIncyBsb2NhbFN0b3JhZ2UsXG4gICAqIHN1Y2ggYXMgZmllbGRzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIGxvY2FsU3RvcmFnZSBpbiBhIG5ld1xuICAgKiB1cGRhdGUgb2YgTmVvbi5cbiAgICovXG4gIHN5bmMgKHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi5ERUZBVUxUX1NFVFRJTkdTLCAuLi5zdG9yZWQgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0dGluZ3MgKCk6IFNldHRpbmdzIHtcbiAgcmV0dXJuIGxvY2FsU2V0dGluZ3Muc2V0dGluZ3M7XG59XG5cbi8qKlxuICogU2V0IHNwZWNpZmljIGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2V0dGluZ3MgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgbG9jYWxTZXR0aW5ncy5zZXQocGFyYW1zKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxTZXR0aW5ncztcbiIsImltcG9ydCB7IHJlY29yZE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vRXJyb3JMb2cnO1xuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi9yYW5kb20nO1xuXG50eXBlIE5vdGlmaWNhdGlvblR5cGUgPSAnZGVmYXVsdCcgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ3N1Y2Nlc3MnO1xuXG5jb25zdCBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSA9IG5ldyBBcnJheSgwKTtcbmxldCBjdXJyZW50TW9kZU1lc3NhZ2U6IE5vdGlmaWNhdGlvbiA9IG51bGw7XG5cbi8qKlxuICogTnVtYmVyIG9mIG5vdGlmaWNhdGlvbnMgdG8gZGlzcGxheSBhdCBhIHRpbWUuXG4gKi9cbmNvbnN0IE5VTUJFUl9UT19ESVNQTEFZID0gMztcblxuLyoqXG4gKiBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyB0byBkaXNwbGF5IGF0IGEgdGltZS5cbiAqL1xuY29uc3QgVElNRU9VVCA9IDUwMDA7XG5cbmNvbnN0IG5vdGlmaWNhdGlvbkljb246IFJlY29yZDxOb3RpZmljYXRpb25UeXBlLCBzdHJpbmc+ID0ge1xuICBkZWZhdWx0OiAnJyxcbiAgd2FybmluZzogJ+KaoO+4jyAnLFxuICBlcnJvcjogJ/CflLQgJyxcbiAgc3VjY2VzczogJ+KchSAnLFxufTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIG1hbmFnZSBOZW9uIG5vdGlmaWNhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb24ge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGRpc3BsYXllZDogYm9vbGVhbjtcbiAgaWQ6IHN0cmluZztcbiAgaXNNb2RlTWVzc2FnZTogYm9vbGVhbjtcbiAgdGltZW91dElEOiBudW1iZXI7XG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGU7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG5vdGlmaWNhdGlvbkljb25bdHlwZV0gKyBtZXNzYWdlO1xuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuaXNNb2RlTWVzc2FnZSA9IG1lc3NhZ2Uuc2VhcmNoKCdNb2RlJykgIT09IC0xO1xuICAgIHRoaXMudGltZW91dElEID0gLTE7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIElEIGZyb20gc2V0VGltZW91dC4gKi9cbiAgc2V0VGltZW91dElkIChpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lb3V0SUQgPSBNYXRoLm1heChpZCwgLTEpO1xuICB9XG5cbiAgLyoqIERpc3BsYXkgdGhlIE5vdGlmaWNhdGlvbi4gKi9cbiAgZGlzcGxheSAoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBVVUlEIGZvciB0aGlzIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGdldElkICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIG5vdGlmaWNhdGlvblxuICogQHBhcmFtIGN1cnJlbnRJZCAtIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIGJlIGNsZWFyZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyTm90aWZpY2F0aW9uIChjdXJyZW50SWQ6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRJZCkucmVtb3ZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgbm90aWZpY2F0aW9uLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiB0byBkaXNwbGF5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICAvLyBOb3Qgc3VyZSB3aGF0IGl0IGRvZXMsIG1heWJlIHJlbGF0ZWQgdG8gcm9kYW4vbmVvblxuICBpZiAobm90aWZpY2F0aW9uLmlzTW9kZU1lc3NhZ2UpIHtcbiAgICBpZiAoY3VycmVudE1vZGVNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICBjdXJyZW50TW9kZU1lc3NhZ2UgPSBub3RpZmljYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY3VycmVudE1vZGVNZXNzYWdlLnRpbWVvdXRJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIHRoZSB0b3Agbm90aWZpY2F0aW9uIGlmIGV4Y2VlZHMgbWF4bWltdW1cbiAgbm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IE5VTUJFUl9UT19ESVNQTEFZKSB7XG4gICAgY29uc3QgdG9SZW1vdmUgPSBub3RpZmljYXRpb25zLnNoaWZ0KCk7XG4gICAgY2xlYXJOb3RpZmljYXRpb24odG9SZW1vdmUuZ2V0SWQoKSk7XG4gIH1cbiAgY29uc3Qgbm90aWZpY2F0aW9uQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpO1xuICBjb25zdCBuZXdOb3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ25lb24tbm90aWZpY2F0aW9uJyk7XG4gIG5ld05vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKGBuZW9uLW5vdGlmaWNhdGlvbi0ke25vdGlmaWNhdGlvbi50eXBlfWApO1xuICBuZXdOb3RpZmljYXRpb24uaWQgPSBub3RpZmljYXRpb24uZ2V0SWQoKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG5vdGlmaWNhdGlvbi5tZXNzYWdlO1xuICBub3RpZmljYXRpb25Db250ZW50LmFwcGVuZChuZXdOb3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb25Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgbm90aWZpY2F0aW9uLmRpc3BsYXkoKTtcbn1cblxuLyoqXG4gKiBTdGFydCBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbnMuIENhbGxlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5mdW5jdGlvbiBzdGFydE5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgZGlzcGxheU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb24uc2V0VGltZW91dElkKFxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNsZWFyTm90aWZpY2F0aW9uLCBUSU1FT1VULCBub3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgKTtcbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQobm90aWZpY2F0aW9uLmdldElkKCkpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChub3RpZmljYXRpb24udGltZW91dElEKTtcbiAgICAgIGNsZWFyTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5nZXRJZCgpKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBZGQgYSBub3RpZmljYXRpb24gdG8gdGhlIHF1ZXVlLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWVOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbkNvbnRlbnQ6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0Jyk6IHZvaWQge1xuICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbkNvbnRlbnQsIHR5cGUpO1xuXG4gIGlmIChub3RpZmljYXRpb24udHlwZSA9PSAnZXJyb3InIHx8IG5vdGlmaWNhdGlvbi50eXBlID09ICd3YXJuaW5nJykge1xuICAgIHJlY29yZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICB9XG5cbiAgc3RhcnROb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFyZ3NBcnJheTtcblxuZnVuY3Rpb24gYXJnc0FycmF5KGZ1bikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChsZW4pIHtcbiAgICAgIHZhciBhcmdzID0gW107XG4gICAgICB2YXIgaSA9IC0xO1xuICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bi5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgW10pO1xuICAgIH1cbiAgfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGQzOyIsIi8qKlxuICogSFRNTCBmb3IgZWFjaCBpbnNlcnQgdGFiIChuZXVtZSwgZ3JvdXBpbmcsIGNsZWYsIHN5c3RlbSwgYW5kIGRpdmlzaW9uKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydFRhYkh0bWw6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIHByaW1pdGl2ZVRhYjogXG4gICAgICAgIGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInB1bmN0dW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHVuY3R1bVwiIHRpdGxlPVwicHVuY3R1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHVuY3R1bS5wbmdcIiBjbGFzcz1cImltYWdlXCIvPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwidmlyZ2FcIiB0aXRsZT1cInZpcmdhXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy92aXJnYS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aXJnYVJldmVyc2VkXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIlJldmVyc2VkIFZpcmdhXCIgdGl0bGU9XCJSZXZlcnNlZCBWaXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2FfcmV2ZXJzZWQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGlhbW9uZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJpbmNsaW5hdHVtXCIgdGl0bGU9XCJpbmNsaW5hdHVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaWFtb25kLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImN1c3Rvc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjdXN0b3NcIiB0aXRsZT1cImN1c3Rvc1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY3VzdG9zLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkMgQ2xlZlwiIHRpdGxlPVwiIEMgQ2xlZlwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY0NsZWYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZkNsZWZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRiBDbGVmXCIgdGl0bGU9XCJGIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ZDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImxpcXVlc2NlbnRBXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkxpcXVlc2NlbnQgQVwiIHRpdGxlPVwiTGlxdWVzY2VudCBBXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9saXF1ZXNjZW50QS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50Q1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IENcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQ1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZmxhdFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJGbGF0XCIgdGl0bGU9XCJGbGF0XCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZEZsYXQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibmF0dXJhbFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJOYXR1cmFsXCIgdGl0bGU9XCJOYXR1cmFsXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZE5hdHVyYWwucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+IFxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicGVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInBlc1wiIHRpdGxlPVwicGVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wZXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpdmlzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImNsaXZpc1wiIHRpdGxlPVwiY2xpdmlzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGl2aXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2NhbmRpY3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInNjYW5kaWN1c1wiIHRpdGxlPVwic2NhbmRpY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zY2FuZGljdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpbWFjdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpbWFjdXNcIiB0aXRsZT1cImNsaW1hY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGltYWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ0b3JjdWx1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJ0b2N1bHVzXCIgdGl0bGU9XCJ0b2N1bHVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy90b3JjdWx1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwb3JyZWN0dXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicG9ycmVjdHVzXCIgdGl0bGU9XCJwb3JyZWN0dXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3BvcnJlY3R1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzc3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInByZXNzdXNcIiB0aXRsZT1cInByZXNzdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ByZXNzdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+YCxcbiAgc3lzdGVtVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic3RhZmZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIGxvbmdlbFwiIGFyaWEtbGFiZWw9XCJzeXN0ZW1cIiB0aXRsZT1cInN5c3RlbVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc3RhZmYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPkNsaWNrIHVwcGVyIGxlZnQgYW5kIGxvd2VyIHJpZ2h0IGNvcm5lcnMgb2YgbmV3IHN0YWZmLjwvcD5gXG4gIC8vIGRpdmlzaW9uVGFiOiBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICsgICAgXG4gIC8vIFwiPGJ1dHRvbiBpZD0nc21hbGxEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9zbWFsbGRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyAgICAgXCI8YnV0dG9uIGlkPSdtaW5vckRpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL21pbm9yZGl2LnBuZ1wiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyAgICAgXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vIFwiPGJ1dHRvbiBpZD0nbWFqb3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9tYWpvcmRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J2ZpbmFsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvZmluYWxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCJcbn07XG5cbi8qKlxuICogU3RydWN0dXJlIG9mIGluc2VydCBwYW5lbCB3aXRoIGJhc2ljIGdyb3VwaW5nIHRhYnMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRDb250cm9sc1BhbmVsID1cbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImluc2VydE1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5JTlNFUlQ8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb24gaXMtcHVsbGVkLXJpZ2h0XCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlSW5zZXJ0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBpZD1cImluc2VydENvbnRlbnRzXCIgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3cteTogaGlkZGVuO1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJwYW5lbC10YWJzXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJwcmltaXRpdmVUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPlByaW1pdGl2ZSBFbGVtZW50czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cImdyb3VwaW5nVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5Hcm91cGluZzwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInN5c3RlbVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+U3lzdGVtPC9hPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBpZD1cImluc2VydF9kYXRhXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZWRpdCBwYW5lbCB3aXRoIGJ1dHRvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0Q29udHJvbHNQYW5lbCA9XG4gICAgYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5U3lsbGFibGVcIj5TeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOZXVtZVwiPk5ldW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeU5jXCI+TmV1bWUgQ29tcG9uZW50PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN0YWZmXCI+U3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TGF5ZXJFbGVtZW50XCI+TGF5ZXIgRWxlbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1zbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibW9yZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXh0cmFFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwhLS1cbiAgICAgICAgICAgICAgICAgICAgKiBUaGUgZXh0cmFFZGl0IHBhbmVsIGlzIGFkZGVkIGZvciBlZGl0IG9wdGlvbnMgdGhhdCBoYXZlIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgICogTGlrZSB0aGUgTmV1bWUgYW5kIENsZWYgbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIGRvbmUgYmVjYXVzZSB0aGUgbW9yZUVkaXQgbWVudSBuZWVkcyB0byBoYXZlIG92ZXJmbG93IGZvciBjYXNlcyB3aGVyZSBpdCBoYXMgbG90cyBvZiBidXR0b25zXG4gICAgICAgICAgICAgICAgICAgICogQnV0IG92ZXJmbG93IHJ1aW5zIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJuZXVtZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bmRvUmVkb19jb250cm9sc1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkNoYW5nZSBIZWFkIFNoYXBlOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWQgU2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlB1bmN0dW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5QdW5jdHVtPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVmlyZ2FcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJnYTwvYT4gXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInNwbGl0LW5ldW1lXCI+U3BsaXQgTmV1bWVzPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBuZXVtZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+R3JvdXBpbmcgT3B0aW9uczo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Hcm91cGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnQgc2Nyb2xsYWJsZS1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaW1hY3VzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpbWFjdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpdmlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpdmlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBlcyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlByZXNzdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QcmVzc3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJUb3JjdWx1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlRvcmN1bHVzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOY3NcIj5Vbmdyb3VwPC9idXR0b24+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEFjdGlvbkNvbnRlbnRzID0gXG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51IHdoZW4gc2VsZWN0aW5nIGJ5IHN5bGxhYmxlXG4gKiBTYW1lIGFzIGFib3ZlIGV4Y2VwdCBpbmNsdWRlcyByZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuICAgIFxuLyoqXG4gKiBDb250ZW50cyBvZiBjdXN0b3MgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b3NBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaW5zZXJ0VG9TeWxsYWJsZVwiPkluc2VydCB0byBuZWFyZXN0IHN5bGxhYmxlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAoaW5zaWRlIHN5bGxhYmxlKSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1vdmVPdXRzaWRlU3lsbGFibGVcIj5Nb3ZlIG91dHNpZGUgc3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBhY2NpZCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjY2lkQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzdGFmZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXY+U3BsaXQgU3lzdGVtOjwvZGl2PlxuICAgIDxkaXYgaWQ9XCJzcGxpdC1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInNwbGl0LXN5c3RlbVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5TcGxpdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwicmVzZXQtcm90YXRlXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPlJlc2V0IFJvdGF0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgc3RhZmYgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFmZk1lcmdlQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+TWVyZ2UgU3lzdGVtczo8L2xhYmVsPlxuICAgIDxkaXYgaWQ9XCJtZXJnZS1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cIm1lcmdlLXN5c3RlbXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+TWVyZ2U8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY29sdW1uQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwiY29sLWVkaXQtY29udGFpbmVyXCI+XG4gICAgICAgIEVkaXQgQ29sdW1uIEluZm9ybWF0aW9uOiBcbiAgICAgICAgPGRpdiBpZD1cImNvbC1zdGVwcGVyLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWRlY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+4oCTPC9idXR0b24+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImNvbC1pbnB1dFwiIGNsYXNzPVwic2lkZS1wYW5lbC1zdGVwcGVyLWlucHV0XCIgdmFsdWU9XCIwXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWluY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+KzwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNvbC1jb25maXJtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzaWRlLXBhbmVsLWNvbmZpcm0tYnRuXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj5Db25maXJtPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiY29sLXdhcm5pbmdcIiBjbGFzcz1cInNpZGUtcGFuZWwtd2FybmluZ1wiPjwvZGl2PiBcbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBjbGVmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY2xlZkFjdGlvbkNvbnRlbnRzID1cbiAgICBgXG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkRpc3BsYWNlIE9jdGF2ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJpbmNyZW1lbnQtb2N0YXZlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+KzEgT2N0YXZlPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImRlY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4tMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIiBvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2UgQ2xlZiBTaGFwZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJDQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkMgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJGQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkYgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRpdkxpbmUgdHlwZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRpdkxpbmVBY3Rpb25Db250ZW50cyA9XG5gPGxhYmVsPkNoYW5nZSBEaXZMaW5lOjwvbGFiZWw+XG48ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwib3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9DYWVzdXJhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+Q2Flc3VyYTwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GaW5hbGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmluYWxpczwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NaW5pbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NaW5pbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWFpb3JcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYWlvcjwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NYXhpbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYXhpbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvVmlyZ3VsYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPlZpcmd1bGE8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBiYm94IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYmJveEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtYXRjaEhlaWdodFwiPk1hdGNoIEhlaWdodCBmb3IgRW50aXJlIFJvdzwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogSFRNTCBmb3IgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cGluZ01lbnUgPSB7XG4gIG5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBtb3JlLWVkaXQtYnRuXCIgaWQ9XCJncm91cE5jc1wiPkdyb3VwIE5ldW1lIENvbXBvbmVudHM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIG5ldW1lOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOZXVtZXNcIj5Hcm91cCBOZXVtZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIHN5bDogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblx0XHQ8L2Rpdj5gLFxuICBsaWdhdHVyZU5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PmAsXG4gIGxpZ2F0dXJlOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmAsXG4gIHNwbGl0U3lsbGFibGU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YFxufTtcblxuXG5cbi8qIEJHSU5OSU5HIE9GIE1PREFMIFdJTkRPVyBDT05URU5UIFNFQ1RJT04gKi9cblxuLyoqXG4gKiBIVE1MIGZvciBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0VGV4dE1vZGFsID0gXG4gICAgYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlXCI+U2F2ZTwvZGl2PiAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cblxuLyoqXG4gKiBIVE1MIGZvciBIb3RrZXlzIG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgaG90a2V5c01vZGFsID0gYFxuICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXNcIj5cbiAgICAgICAgPCEtLSBcIkRpc3BsYXlcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkRpc3BsYXk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+KzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIEluPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+LTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIE91dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gUmVzZXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+aDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5IaWRlIEdseXBoPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+VDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5TY3JvbGwgVG8gU3lsbGFibGUgVGV4dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJFZGl0XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5FZGl0PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlVuZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+UmVkbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5xL3cvZS9yL3QveTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgSGlnaGxpZ2h0IGJ5IFN0YWZmL1N5bGxhYmxlL05ldW1lL0xheWVyRWxlbWVudC9TZWxlY3Rpb24vT2ZmXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPjEvMi8zLzQvNS82PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgYnkgU3lsbGFibGUvTmV1bWUvTmV1bWUgQ29tcG9uZW50L1N0YWZmL0xheWVyIEVsZW1lbnQvQkJveFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPk51bWJlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgQmVnaW4gSW5zZXJ0IGZvciB0aGUgPGk+bnRoPC9pPiBvcHRpb24gaW4gdGhlIHNlbGVjdGVkIHRhYlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJPdGhlclwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+T3RoZXI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2F2ZSBGaWxlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkVzYzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZXR1cm4gdG8gRWRpdCBNb2RlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IHN5bGxhYmxlQWN0aW9uc0NvbnRlbnQgPSBgXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgZXJyb3JMb2dzUGFuZWxDb250ZW50cyA9IFxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZXJyb3JMb2dIZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RXJyb3IgTG9nPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRXJyb3JMb2dcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIGlkPVwiZXJyb3JMb2dDb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3c6IHNjcm9sbDsgcGFkZGluZzogMC41ZW0gMC43NWVtOyBtYXgtaGVpZ2h0OiAzMDBweDtcIj48ZGl2PmA7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxudmFyIGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyKSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiLyoqIEBtb2R1bGUgRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyAqL1xuXG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tICcuLi91dGlscy9Db2xvcic7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi4vU2luZ2xlVmlldy9ab29tJztcbmltcG9ydCB7IEdyb3VwaW5nVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG5sZXQgbGFzdEdseXBoT3BhY2l0eTogbnVtYmVyLCBsYXN0SW1hZ2VPcGFjaXR5OiBudW1iZXIsIGxhc3RDaXJjbGVTaXplOiBudW1iZXI7XG5cbi8qKlxuICogU2V0IHpvb20gY29udHJvbCBsaXN0ZW5lciBmb3IgYnV0dG9uIGFuZCBzbGlkZXJcbiAqIEBwYXJhbSB6b29tSGFuZGxlciAtIEEgW1tab29tSGFuZGxlcl1dIGlzIG9ubHkgbmVjZXNzYXJ5IGluIFNpbmdsZSBQYWdlIG1vZGUgYXMgZGl2YS5qcyBoYW5kbGVzIHpvb21pbmcgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Wm9vbUNvbnRyb2xzICh6b29tSGFuZGxlcj86IFpvb21IYW5kbGVyKTogdm9pZCB7XG4gIGlmICh6b29tSGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHpvb21TbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IHpvb21PdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgem9vbSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbUhhbmRsZXIuem9vbVRvKHpvb20gLyAxMDAuMCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC16b29tJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICB6b29tSGFuZGxlci5yZXNldFpvb21BbmRQYW4oKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NldC16b29tLWVhc3ktZWRpdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTgwJztcbiAgICB6b29tU2xpZGVyLnZhbHVlID0gJzE4MCc7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKDE4MC8xMDApO1xuICB9KTtcblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSB6b29tU2xpZGVyLnZhbHVlO1xuICAgIHpvb21IYW5kbGVyLnpvb21UbyhOdW1iZXIoem9vbU91dHB1dC52YWx1ZSkgLyAxMDAuMCk7XG4gIH1cblxuICAvLyB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Wm9vbSA9IHBhcnNlSW50KHpvb21PdXRwdXQudmFsdWUpO1xuICAgIGlmIChldnQua2V5ID09PSAnQXJyb3dVcCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93RG93bicgfHwgXG4gICAgZXZ0LmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IGV2dC5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcrJykgeyAvLyBpbmNyZWFzZSB6b29tIGJ5IDIwXG4gICAgICBjb25zdCBuZXdab29tID0gTWF0aC5taW4oY3VycmVudFpvb20gKyAyMCwgcGFyc2VJbnQoem9vbVNsaWRlci5nZXRBdHRyaWJ1dGUoJ21heCcpKSk7XG4gICAgICB6b29tSGFuZGxlci56b29tVG8obmV3Wm9vbSAvIDEwMC4wKTtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ18nKSB7IC8vIGRlY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1heChjdXJyZW50Wm9vbSAtIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWluJykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnMCcpIHtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIE1FSSBvcGFjaXR5IHRvIHZhbHVlIGZyb20gdGhlIHNsaWRlci5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIChtZWlDbGFzc05hbWU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgb3BhY2l0eU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IG9wYWNpdHlPdXRwdXQudmFsdWU7XG4gIC8vIHRoaXMgaXMgd2hlcmUgd2UgbG9hZCBnbHlwaCBvcGFjaXR5IGZyb20gbG9jYWxTdG9yYWdlIG9uIHBhZ2UtbG9hZFxuICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0b2dnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVHbHlwaEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtZ2x5cGgtb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Nob3ctaWNvbi5zdmdgKTtcbiAgICBoaWRlR2x5cGhJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ1Nob3cgZ2x5cGgnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBnbHlwaCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbWVpQ2xhc3NOYW1lKSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwLjApLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBwcm9wZXJseSBzZXQgb3BhY2l0eSB0byBwYWdlcycpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IHJlbmRlcmVkIE1FSSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGdseXBoT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEdseXBoT3BhY2l0eSA9IGdseXBoT3BhY2l0eTtcbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VPcGFjaXR5ICgpOiB2b2lkIHtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gb3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIobWVpQ2xhc3NOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZU9wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWdseXBoLW9wYWNpdHknKTtcblxuICBpZiAoZ2x5cGhPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVPcGFjaXR5QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuICAgIGlmICh0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5jb250YWlucygnaGlkZS1pY29uJykpIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5pdGlvbiBzY2FsZSBpcyB0aGUgcm9vdCBlbGVtZW50IG9mIHdoYXQgaXMgZ2VuZXJhdGVkIGJ5IHZlcm92aW9cbiAgICBcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+KS5mb3JFYWNoKGcgPT4ge1xuICAgICAgZy5zdHlsZS5vcGFjaXR5ID0gbmV3T3BhY2l0eS50b1N0cmluZygpO1xuICAgIH0pO1xuXG4gICAgbGFzdEdseXBoT3BhY2l0eSA9IE51bWJlcihvcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdPcGFjaXR5ICogMTAwKSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogbmV3T3BhY2l0eSAqIDEwMCB9KTtcblxuICAgIGlucHV0Q2hhbmdlT3BhY2l0eSgpO1xuICB9KTtcblxuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VPcGFjaXR5KTtcbiAgb3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuXG4gIG9wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFNldCBiYWNrZ3JvdW5kIGltYWdlIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIGJhY2tncm91bmQgLSBUaGUgYmFja2dyb3VuZCBpbWFnZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gc2V0QmdPcGFjaXR5Q29udHJvbHMgKGJhY2tncm91bmQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgYmdPcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnT3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgaW1hZ2VPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0SW1hZ2VPcGFjaXR5ID0gaW1hZ2VPcGFjaXR5O1xuICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gYmdJbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IGJnT3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0QmdPcGFjaXR5RnJvbVNsaWRlcihiYWNrZ3JvdW5kKTtcbiAgfVxuXG5cbiAgY29uc3QgdG9nZ2xlQmdPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iZy1vcGFjaXR5Jyk7XG5cbiAgaWYgKGltYWdlT3BhY2l0eSA9PSAxMDApIHtcbiAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVCZ09wYWNpdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcblxuICAgIGlmICh0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhY2tncm91bmQpWzBdIGFzIEhUTUxFbGVtZW50KVxuICAgICAgLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG5cbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgYmdPcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgaW1hZ2VPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuICAgIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcblxuICBiZ09wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QmdPcGFjaXR5RnJvbVNsaWRlciAoYmFja2dyb3VuZD86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQ6IEhUTUxPdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JnT3BhY2l0eU91dHB1dCcpO1xuICBcbiAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0aWdnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVCZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtYmctb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUJnSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2hpZGUtaWNvbi5zdmdgKTtcbiAgICBoaWRlQmdJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0hpZGUgYmFja2dyb3VuZCBpbWFnZScpO1xuICB9XG5cbiAgY29uc3QgYmc6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YmFja2dyb3VuZH1gKTtcbiAgaWYgKGJnKSBiZy5zdHlsZS5vcGFjaXR5ID0gU3RyaW5nKE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwKTtcbn1cblxuLyoqXG4gKiBTZXQgYmFja2dyb3VuZCBpbWFnZSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBiYWNrZ3JvdW5kIC0gVGhlIGJhY2tncm91bmQgaW1hZ2Ugc2VsZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDaXJjbGVTaXplQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBjaXJjbGVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2lyY2xlU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgY2lyY2xlT3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpcmNsZU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgY2lyY2xlU2l6ZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdENpcmNsZVNpemUgPSBjaXJjbGVTaXplO1xuICBjaXJjbGVTbGlkZXIudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG4gIGNpcmNsZU91dHB1dC52YWx1ZSA9IFN0cmluZyhjaXJjbGVTaXplKTtcblxuICBmdW5jdGlvbiBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyICgpOiB2b2lkIHtcbiAgICBjaXJjbGVPdXRwdXQudmFsdWUgPSBjaXJjbGVTbGlkZXIudmFsdWU7XG4gICAgbGFzdENpcmNsZVNpemUgPSBOdW1iZXIoY2lyY2xlU2xpZGVyLnZhbHVlKTtcbiAgICBzZXRTZXR0aW5ncyh7IGNpcmNsZVNpemU6IE51bWJlcihsYXN0Q2lyY2xlU2l6ZSkgfSk7XG4gICAgY29uc3QgcmVzaXplUG9pbnRzID0gZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKTtcbiAgICBpZiAoIXJlc2l6ZVBvaW50cy5lbXB0eSgpKSB7XG4gICAgICByZXNpemVQb2ludHMuYXR0cigncicsIGxhc3RDaXJjbGVTaXplKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1jaXJjbGUtc2l6ZScpO1xuICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0U2l6ZSA9IDI1OyBcbiAgICAvLyBpZiBoYXMgcmVzaXplUG9pbnRzIGRpc3BsYXllZFxuICAgIGNvbnN0IHJlc2l6ZVBvaW50cyA9IGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50Jyk7XG4gICAgaWYgKCFyZXNpemVQb2ludHMuZW1wdHkoKSkge1xuICAgICAgcmVzaXplUG9pbnRzLmF0dHIoJ3InLCBkZWZhdWx0U2l6ZSk7XG4gICAgfVxuXG4gICAgbGFzdENpcmNsZVNpemUgPSBOdW1iZXIoZGVmYXVsdFNpemUpO1xuICAgIGNpcmNsZVNsaWRlci52YWx1ZSA9IFN0cmluZyhkZWZhdWx0U2l6ZSk7XG4gICAgY2lyY2xlT3V0cHV0LnZhbHVlID0gU3RyaW5nKGRlZmF1bHRTaXplKTtcblxuICAgIHNldFNldHRpbmdzKHsgY2lyY2xlU2l6ZTogTnVtYmVyKGRlZmF1bHRTaXplKSB9KTtcbiAgICBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGNpcmNsZVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBjaXJjbGVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlcik7XG5cbiAgY2lyY2xlU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG59XG5cbi8qKlxuICogVXBkYXRlIGhpZ2hsaWdodCBkcm9wZG93biBvcHRpb24gKyBkaXNwbGF5XG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5mdW5jdGlvbiB1cGRhdGVIaWdobGlnaHRPcHRpb24gKGdyb3VwOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGhpZ2hsaWdodC0ke2dyb3VwfWApO1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuXG4gIC8vIHNhdmUgaGlnaGxpZ2h0IG9wdGlvbiB0byBsb2NhbFN0b3JhZ2VcbiAgc2V0U2V0dGluZ3MoeyBoaWdobGlnaHRNb2RlOiBncm91cCB9KTtcblxuICBkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgfSk7XG5cbiAgaWYgKGdyb3VwID09PSAnbm9uZScpIHtcbiAgICBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50ID0gJ1xceEEwLSBPZmYnO1xuICAgIENvbG9yLnVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIG9wdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcblxuICAvLyBUZXh0IGNvbnRlbnQgaXMgdGhlIGdyb3VwaW5nIHR5cGUgY2FwaXRhbGl6ZWRcbiAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9IGBcXHhBMC0gJHtncm91cFswXS50b1VwcGVyQ2FzZSgpICsgZ3JvdXAuc2xpY2UoMSl9YDtcbiAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXApO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBoaWdobGlnaHQgbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWdobGlnaHRUeXBlICgpOiBHcm91cGluZ1R5cGUge1xuICBjb25zdCBoaWdobGlnaHRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJyk7XG4gIHJldHVybiBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50LnNsaWNlKDMpLnRvTG93ZXJDYXNlKCkgYXMgR3JvdXBpbmdUeXBlO1xufVxuXG4vKipcbiAqIFNldCBjbGljayBsaXN0ZW5lciBmb3IgZWFjaCBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uXG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbihncm91cCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENsaWNrYXdheSBsaXN0ZW5lciBmb3IgdGhlIGhpZ2hsaWdodCBkcm9wZG93bi5cbiAqL1xuZnVuY3Rpb24gaGlnaGxpZ2h0Q2xpY2thd2F5ICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gc3RhZmYgaGlnaGxpZ2h0aW5nIGNoZWNrYm94LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0Q29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBkcm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICBpZiAoZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG5cbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignY29sdW1uJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICAqIFNldCBsaXN0ZW5lciBvbiBrZXkgc2hvcnRjdXRzIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBoaWdobGlnaHRzXG4gICogXG4gICogVGhlIGN1cnJlbnQgcGxhbiBpcyB0byB1c2UgdGhlIGtleXMgcSwgdywgZSwgciwgdCwgYW5kIHlcbiAgKi9cbmZ1bmN0aW9uIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIC8vIFByZXZlbnQgY21kL2N0cmwrciBmcm9tIGNoYW5naW5nIGhpZ2hsaWdodCBvcHRpb25cbiAgICBpZiAoZXZ0Lm1ldGFLZXkpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgY2FzZSAncSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncic6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBoaWdobGlnaHRTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXNlbGVjdGlvbicpO1xuICBoaWdobGlnaHRTZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgICBoaWdobGlnaHRTZWxlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSAnIC0gU2VsZWN0aW9uJztcbiAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBoaWdobGlnaHQgZm9yIGRpZmZlcmVudCB0eXBlcyBiYXNlZCBvbiB0aGUgJ2hpZ2hsaWdodC1zZWxlY3RlZCcgY2xhc3MgaW4gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUhpZ2hsaWdodCAoKTogdm9pZCB7XG4gIGxldCBoaWdobGlnaHRJZDogc3RyaW5nO1xuICB0cnkge1xuICAgIGhpZ2hsaWdodElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaGlnaGxpZ2h0SWQgPSAnJztcbiAgfVxuICBzd2l0Y2ggKGhpZ2hsaWdodElkKSB7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWNvbHVtbic6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnY29sdW1uJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc3RhZmYnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N0YWZmJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc3lsbGFibGUnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtbmV1bWUnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ25ldW1lJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtbGF5ZXJFbGVtZW50JzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdsYXllckVsZW1lbnQnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1zZWxlY3Rpb24nOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3NlbGVjdGlvbicpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIENvbG9yLnVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBsaXN0ZW5lciBvbiBidXJnZXIgbWVudSBmb3Igc21hbGxlciBzY3JlZW5zLlxuICovXG5mdW5jdGlvbiBzZXRCdXJnZXJDb250cm9scyAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlck1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2TWVudScpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICB9KTtcbn1cblxuLyoqIFxuICogU2V0IGxpc3RlbmVyIGZvciBcIkRpc3BsYXkgQWxsXCIgYnV0dG9uIGluIERpc3BsYXkgcGFuZWwuXG4qL1xuZnVuY3Rpb24gc2V0RGlzcGxheUFsbExpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBzZWxlY3RBbGxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1hbGwtYnRuJyk7XG4gIHNlbGVjdEFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAvLyBhdCB0aGUgbW9tZW50LCBjbGFzc25hbWUgJ3NlbGVjdGVkJyBpcyBvbmx5IHVzZWQgZm9yIHRyYWNraW5nIHB1cnBvc2VzXG4gICAgaWYgKHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgc2VsZWN0QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICBjb25zdCBvcHRpb25zID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveC1jb250YWluZXIgPiAuY2hlY2tib3gnKTtcblxuICAgICAgQXJyYXkuZnJvbShvcHRpb25zKS5mb3JFYWNoKChvcHRpb246IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbi5jaGVja2VkKSBvcHRpb24uY2xpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgc2VsZWN0QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICBjb25zdCBvcHRpb25zID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveC1jb250YWluZXIgPiAuY2hlY2tib3gnKTtcbiAgICAgIFxuICAgICAgQXJyYXkuZnJvbShvcHRpb25zKS5mb3JFYWNoKChvcHRpb246IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKCFvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiogXG4gKiBVcGRhdGUgYERpc3BsYXkgQWxsYCBidXR0b24gc3RhdHVzXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTogdm9pZCB7XG4gIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgZGlzcGxheUJCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgZGlzcGxheUVyckxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWVycm9ycycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgLy8gaWYgYWxsIG9wdGlvbnMgYXJlIHNlbGVjdGVkLFxuICAvLyBzZXQgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIHRvIFwiSGlkZSBBbGxcIi5cbiAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgZGlzcGxheVRleHQ/LmNoZWNrZWQgJiYgZGlzcGxheUVyckxvZz8uY2hlY2tlZCkge1xuICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIGlzIGluIFwiSGlkZSBBbGxcIiBtb2RlLCBzZXQgaXQgdG8gXCJEaXNwbGF5IEFsbFwiIG1vZGVcbiAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBMb2FkIGhpZ2hsaWdodCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEhpZ2hsaWdodFNldHRpbmdzICgpOiB2b2lkIHtcbiAgY29uc3QgeyBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICB1cGRhdGVIaWdobGlnaHRPcHRpb24oaGlnaGxpZ2h0TW9kZSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBsaXN0ZW5lcnMgYW5kIGNvbnRyb2xzIGZvciBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laUNsYXNzTmFtZSAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZml5IHRoZSBNRUkgZWxlbWVudChzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIHVzZWQgdG8gc2lnbmlmeSB0aGUgYmFja2dyb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcbiAgc2V0R2x5cGhPcGFjaXR5Q29udHJvbHMobWVpQ2xhc3NOYW1lKTtcbiAgc2V0QmdPcGFjaXR5Q29udHJvbHMoYmFja2dyb3VuZCk7XG4gIHNldEhpZ2hsaWdodENvbnRyb2xzKCk7XG4gIHNldEJ1cmdlckNvbnRyb2xzKCk7XG4gIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzKCk7XG4gIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpO1xuICBsb2FkSGlnaGxpZ2h0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUNvbnRlbnRzJyk7XG4gIGNvbnN0IHRvZ2dsZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRGlzcGxheScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlIZWFkZXInKTtcblxuICBkaXNwbGF5SGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICBkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZGlzcGxheSBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG59XG5cbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgR3JvdXBpbmcgZnJvbSAnLi9Hcm91cGluZyc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRTdGFmZkhhbmRsZXIgfSBmcm9tICcuL1N0YWZmVG9vbHMnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUhhbmRsZXIgfSBmcm9tICcuL05ldW1lVG9vbHMnO1xuaW1wb3J0IHtcbiAgQ2hhaW5BY3Rpb24sXG4gIENoYW5nZVN0YWZmQWN0aW9uLFxuICBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24sXG4gIEVkaXRvckFjdGlvbixcbiAgTWF0Y2hIZWlnaHRBY3Rpb24sXG4gIFJlbW92ZUFjdGlvbixcbiAgU2V0QWN0aW9uLFxuICBTZXRDbGVmQWN0aW9uLFxuICBTZXRMaXF1ZXNjZW50QWN0aW9uXG59IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFN0YWZmQkJveCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcblxuLyoqXG4gKiBUaGUgTmVvblZpZXcgcGFyZW50IHRvIGNhbGwgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBOZW9uVmlldy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xuICBHcm91cGluZy5pbml0TmVvblZpZXcodmlldyk7XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGluY2xpbmF0dW0gcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRJbmNsaW5hdHVtQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIHZpcmdhIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0VmlyZ2FBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgcmV2ZXJzZWQgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGxpcXVlc2NlbnRfY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9hbnRpY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRMaXF1ZXNjZW50QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXRMaXF1ZXNjZW50JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGN1cnZlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqIEV2ZW50IGhhbmRsZXIgZm9yIGRlbGV0ZSBidXR0b24gcHJlc3MuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQnV0dG9uSGFuZGxlciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnZCcgfHwgZXZ0LmtleSA9PT0gJ0JhY2tzcGFjZScpIHsgcmVtb3ZlSGFuZGxlcigpOyBldnQucHJldmVudERlZmF1bHQoKTsgfVxufVxuXG4vKipcbiAqIEVuZCB0aGUgZXh0cmEgb3B0aW9ucyBtZW51LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgaWYgKG1vcmVFZGl0KSB7XG4gICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfVxuICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xufVxuXG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlbW92aW5nIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVIYW5kbGVyICgpOiB2b2lkIHtcbiAgY29uc3QgdG9SZW1vdmU6IFJlbW92ZUFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuYWNjaWQnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5kaXZMaW5lJyk7XG4gICAgfVxuICAgIHRvUmVtb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9SZW1vdmVcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmUtYXNzb2NpYXRpbmcgZWxlbWVudHMgdG8gdGhlIG5lYXJlc3Qgc3RhZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVN0YWZmSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9DaGFuZ2U6IENoYW5nZVN0YWZmQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvQ2hhbmdlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2NoYW5nZVN0YWZmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9DaGFuZ2VcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgaW5zZXJ0aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBpbnRvIG5lYXJlc3Qgc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0luc2VydDogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvSW5zZXJ0LnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2luc2VydFRvU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvSW5zZXJ0XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0luc2VydCBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIG1vdmluZyBkaXZpc2lvIG9yIGFjY2lkZW50YWwgb3V0IG9mIHN5bGxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9Nb3ZlOiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9Nb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ21vdmVPdXRzaWRlU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvTW92ZVxuICB9O1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01vdmUgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gbWF0Y2ggYmJveCBoZWlnaHQgdG8gdGhlIHNlbGVjdGVkIGJib3hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoSGVpZ2h0SGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBpZiAoc2VsZWN0ZWQubGVuZ3RoID4gMSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2Fubm90IG1hdGNoIGhlaWdodCB0byBtdWx0aXBsZSBiYm94JywgJ2Vycm9yJyk7XG4gIH1cbiAgY29uc3QgdG9DaGFuZ2U6IE1hdGNoSGVpZ2h0QWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21hdGNoSGVpZ2h0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBzZWxlY3RlZFswXS5pZFxuICAgIH1cbiAgfTtcblxuICBuZW9uVmlldy5lZGl0KHRvQ2hhbmdlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0hlaWdodCBNYXRjaCBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdIZWlnaHQgTWF0Y2ggRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGREZWxldGVMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuXG4gIGlmIChkZWwpIHtcbiAgICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcblxuICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIG91dHNpZGUgdGhlIGlmIGNvbmRpdGlvbj9cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgY2hhbmdlU3RhZmYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKTtcbiAgY2hhbmdlU3RhZmY/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgY2hhbmdlU3RhZmY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGlucHV0XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUNvbHVtbkluZm8oKTogdm9pZCB7XG4gIGNvbnN0IGNvbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IHN0YXZlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi5zZWxlY3RlZCcpO1xuICBsZXQgY29sSW5mbzogbnVtYmVyO1xuICBmb3IgKGNvbnN0IHN0YWZmIG9mIHN0YXZlcykge1xuICAgIGNvbnN0IGhhc0NvbHVtbiA9IEFycmF5LmZyb20oc3RhZmYuY2xhc3NMaXN0KS5qb2luKCcgJykubWF0Y2goL1xcYmNvbHVtbihcXGQrKVxcYi8pO1xuICAgIGlmIChoYXNDb2x1bW4pIHtcbiAgICAgIGNvbnN0IHN0YWZmQ29sID0gcGFyc2VJbnQoaGFzQ29sdW1uWzFdLCAxMCk7XG4gICAgICBpZiAoY29sSW5mbyAmJiBjb2xJbmZvICE9IHN0YWZmQ29sKSB7XG4gICAgICAgIGNvbnN0IHdhcm5pbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLXdhcm5pbmcnKTtcbiAgICAgICAgd2FybmluZy5pbm5lclRleHQgPSAnVGhlIHNlbGVjdGVkIHN0YXZlcyBhcmUgbm90IG9mIHRoZSBzYW1lIGNvbHVtbiEnO1xuICAgICAgICBjb2xJbmZvID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2xJbmZvID0gc3RhZmZDb2w7XG4gICAgICB9XG4gICAgfVxuICB9IFxuICBpZiAoY29sSW5mbykgY29sSW5wdXQudmFsdWUgPSBjb2xJbmZvLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQWRkIGNvbHVtbiBpbmZvIGVkaXQgaGFuZGxlciBmb3IgY29sdW1uIGluZm8gZWRpdG9yXG4gKi9cbmZ1bmN0aW9uIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgZGVjcmVtZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1kZWNyZW1lbnQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgaW5jcmVtZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbmNyZW1lbnQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtY29uZmlybScpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb2xJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIGRlY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB1cGRhdGVOdW1iZXIoLTEpO1xuICB9KTtcblxuICBpbmNyZW1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdXBkYXRlTnVtYmVyKDEpO1xuICB9KTtcblxuICAvLyBBZGQgY29sdW1uIGluZm8gZWRpdCBoYW5kbGVyXG4gIGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdG9TZXRDb2x1bW46IEVkaXRvckFjdGlvbltdID0gW107XG4gICAgY29uc3Qgc3RhdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gICAgc3RhdmVzLmZvckVhY2goc3RhZmYgPT4ge1xuICAgICAgdG9TZXRDb2x1bW4ucHVzaChcbiAgICAgICAge1xuICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgICBhdHRyVHlwZTogJ3R5cGUnLFxuICAgICAgICAgICAgYXR0clZhbHVlOiAnY29sdW1uJyArIGNvbElucHV0LnZhbHVlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogdG9TZXRDb2x1bW5cbiAgICB9O1xuICAgIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NvbHVtbiBWYWx1ZSBVcGRhdGUgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NvbHVtbiBWYWx1ZSBVcGRhdGUgRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZnVuY3Rpb24gdXBkYXRlTnVtYmVyKGNoYW5nZTogbnVtYmVyKSB7XG4gICAgY29uc3QgbWluTnVtID0gMTtcbiAgICBjb25zdCBtYXhOdW0gPSA1O1xuICAgIGxldCBjdXJyZW50VmFsdWUgPSBwYXJzZUludChjb2xJbnB1dC52YWx1ZSwgMTApIHx8IDA7XG4gICAgY3VycmVudFZhbHVlICs9IGNoYW5nZTtcblxuICAgIGN1cnJlbnRWYWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KGN1cnJlbnRWYWx1ZSwgbWluTnVtKSwgbWF4TnVtKTtcbiAgICBpZiAoY3VycmVudFZhbHVlLnRvU3RyaW5nKCkgIT0gY29sSW5wdXQudmFsdWUpIGNvbmZpcm1CdXR0b24uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIGNvbElucHV0LnZhbHVlID0gY3VycmVudFZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBzZXQgdGhlIEhUTUwgY29udGVudCBvZiBlZGl0IGNvbnRyb2xzOiBlaXRoZXIgI21vcmVFZGl0IG9yICNleHRyYUVkaXRcbiAqXG4gKiBAcGFyYW0geydtb3JlRWRpdCcgfCAnZXh0cmFFZGl0J30gZWRpdFR5cGUgLSBUaGUgdHlwZSBvZiBlZGl0IGNvbnRyb2xzXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudHMgLSBUaGUgaW5uZXJIVE1MIGNvbnRlbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlcGxhY2UgLSBJcyB0aGUgaW5uZXJIVE1MIGJlaW5nIHJlcGxhY2VkLCBvciBiZWluZyBhZGRlZCB0bz9cbiAqL1xuZnVuY3Rpb24gc2V0RWRpdENvbnRyb2xzKGVkaXRUeXBlOiAnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCcsIGNvbnRlbnRzOiBzdHJpbmcsIHJlcGxhY2UgPSB0cnVlKTogdm9pZCB7XG4gIGNvbnN0IGVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0VHlwZSk7XG4gIFxuICBpZiAoZWRpdCkge1xuICAgIGVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAocmVwbGFjZSkgZWRpdC5pbm5lckhUTUwgPSBjb250ZW50cztcbiAgICBlbHNlIGVkaXQuaW5uZXJIVE1MICs9IGNvbnRlbnRzO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZXh0cmEgbmMgYWN0aW9uIG1lbnUgZm9yIGEgc2VsZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5jQWN0aW9ucyAobmM6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmNBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1B1bmN0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNJbmNsaW5hdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0SW5jbGluYXR1bTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzZSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRJbmNsaW5hdHVtIF0gfSAsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRWaXJnYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldEluY2xpbmF0dW0sIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0VmlyZ2EgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2FSZXZlcnNlZC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhUmV2ZXJzZWQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYVJldmVyc2VkIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0xpcXVlc2NlbnRDbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlOiBTZXRMaXF1ZXNjZW50QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRMaXF1ZXNjZW50JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGN1cnZlOiAnYydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7ICBcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudEFudGljbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2U6IFNldExpcXVlc2NlbnRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgY3VydmU6ICdhJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBuZXVtZSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5ldW1lQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLm5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJyk7XG4gIGlmIChuZXVtZS5sZW5ndGggIT09IDEpIHtcbiAgICBjb25zb2xlLndhcm4oJ01vcmUgdGhhbiBvbmUgbmV1bWUgc2VsZWN0ZWQhIENhbm5vdCB0cmlnZ2VyIE5ldW1lIENsaWNrU2VsZWN0IGFjdGlvbnMuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVE9ETyBhZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1uZXVtZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV1bWUuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgICAgIGlmIChuZXVtZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdE5ldW1lSGFuZGxlcihuZW9uVmlldywgbmV1bWUpO1xuICAgICAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpdmlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaW1hY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNUb3JjdWx1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzUmVzdXBpbnVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ByZXNzdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG5cbiAgZnVuY3Rpb24gdHJpZ2dlckNoYW5nZUdyb3VwIChjb250b3VyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjaGFuZ2VHcm91cGluZ0FjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnY2hhbmdlR3JvdXAnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBuZXVtZVswXS5pZCxcbiAgICAgICAgY29udG91cjogY29udG91clxuICAgICAgfVxuICAgIH07XG4gICAgbmVvblZpZXcuZWRpdChjaGFuZ2VHcm91cGluZ0FjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIHN5bGxhYmxlIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3lsbGFibGVBY3Rpb25zIChzZWxlY3Rpb25UeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zeWxsYWJsZUFjdGlvbnNDb250ZW50KTtcbiAgLy8gaW5pdGlhbGl6ZSB2YXJpYWJsZSB0aGF0IHdpbGwgaG9sZCBodG1sIHRvIGJlIGFkZGVkIHRvIERpc3BsYXkgcGFuZWxcbiAgbGV0IGV4dHJhQWN0aW9uc0hUTUwgPSAnJztcblxuICAvLyBkZXRlcm1pbmUgdGhlIHR5cGUgb2Ygc2VsZWN0aW9uIHRoYXQgd2FzIG1hZGUgYnkgdGhlIHVzZXJcbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICAvLyBvbmx5IG9uZSBzeWxsYWJsZVxuICAgIGNhc2UgJ3NpbmdsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gdHdvIHN5bGxhYmxlcyBvbiBzZXBhcmF0ZSBzdGF2ZXNcbiAgICBjYXNlICdsaW5rYWJsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saW5rXCI+VG9nZ2xlIExpbmtlZCBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0b3cgb3IgbW9yZSBzeWxsYWJsZXMgb24gb25lIHN0YWZmXG4gICAgY2FzZSAnbXVsdGlTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvL2RlZmF1bHQgb3B0aW9uc1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gIH1cblxuICAvLyBzZXQgY29udGVudCBvZiBhZGRpdGlvbmFsIGFjdGlvbnMgaW4gRGlzcGxheSBwYW5lbCBcbiAgLy8gYW5kIGluaXRpYWxpemUgbmVjZXNzYXJ5IGxpc3RlbmVyc1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgZXh0cmFBY3Rpb25zSFRNTCwgdHJ1ZSk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGxheWVyIGVsZW1lbnQgKGFjY2lkLCBkaXZMaW5lLCBjdXN0b3MsIGNsZWYpIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1c3RvcycpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmN1c3Rvc0FjdGlvbkNvbnRlbnRzKTtcbiAgICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gICAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAgIHJldHVybjtcbiAgfVxuICBcbiAgY29uc3QgcGFyZW50SXNTeWxsYWJsZSA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJyk7XG4gIGNvbnN0IGxheWVyRWxlbWVudEFjdGlvbnMgPSBwYXJlbnRJc1N5bGxhYmxlXG4gICAgPyBDb250ZW50cy5sYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzXG4gICAgOiBDb250ZW50cy5sYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cztcbiAgXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBsYXllckVsZW1lbnRBY3Rpb25zLCBmYWxzZSk7XG4gIFxuICAvLyBleHRyYSBhY3Rpb25zIGZvciBhY2NpZCBhbmQgZGl2TGluZVxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmFjY2lkQWN0aW9uQ29udGVudHMpO1xuICAgIGFjY2lkT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNsZWZBY3Rpb25Db250ZW50cyk7XG4gICAgY2xlZk9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBlbHNlIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5kaXZMaW5lQWN0aW9uQ29udGVudHMpO1xuICAgIGRpdkxpbmVPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH1cbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0VG9TeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVPdXRzaWRlU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcik7XG5cbiBcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcbn1cblxuZnVuY3Rpb24gYWNjaWRPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0ZsYXQuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9GbGF0OiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGNoYW5nZVRvRmxhdCk7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb05hdHVyYWwuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9OYXR1cmFsOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ24nXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGNoYW5nZVRvTmF0dXJhbCk7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcblxufVxuXG5mdW5jdGlvbiBjbGVmT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5jcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2Fib3ZlJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgaW5jcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlY3JlbWVudC1vY3RhdmUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluY3JlbWVudE9jdGF2ZTogRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkaXNwbGFjZUNsZWZPY3RhdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBkaXJlY3Rpb246ICdiZWxvdydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChpbmNyZW1lbnRPY3RhdmUsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsZWYgb2N0YXZlIGRlY3JlbWVudGVkLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNYXhpbXVtIG9jdGF2ZSBkaXNwbGFjZW1lbnQgcmVhY2hlZC4gQ2xlZiBjYW4gb25seSBiZSBkaXNwbGFjZWQgdXAgdG8gMyBvY3RhdmVzLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRDQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnQydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oc2V0Q0NsZWYpO1xuICAgIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjRkNsZWYuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0RkNsZWY6IFNldENsZWZBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldENsZWYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBzaGFwZTogJ0YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKHNldEZDbGVmKTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG5mdW5jdGlvbiBkaXZMaW5lT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9NaW5pbWEuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9NaW5pbWE6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdtaW5pbWEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWluaW1hKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9NYWlvci5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01haW9yOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWFpb3InXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWFpb3IpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01heGltYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01heGltYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ21heGltYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NYXhpbWEpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0ZpbmFsaXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9GaW5hbGlzOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZmluYWxpcydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9GaW5hbGlzKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9DYWVzdXJhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvQ2Flc3VyYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2NhZXN1cmEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvQ2Flc3VyYSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvVmlyZ3VsYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb1Zpcmd1bGE6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICd2aXJndWxhJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb1Zpcmd1bGEpO1xuICAgIH0pO1xuICAgIFxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFBhcnNlIGFjdGlvbnMgcmVnYXJkaW5nIHNoYXBlIGNoYW5nZXMgdG8gZWRpdG9yIGFjdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGFjdGlvbjogU2V0QWN0aW9uIHwgU2V0Q2xlZkFjdGlvbikge1xuICBuZW9uVmlldy5lZGl0KGFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3RhZmYgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY29sdW1uQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIENvbHVtbiBpbmZvIGVkaXRvclxuICB1cGRhdGVDb2x1bW5JbmZvKCk7XG4gIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXJnZS1zeXN0ZW1zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgR3JvdXBpbmcubWVyZ2VTdGF2ZXMoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRW50ZXIgc3RhZmYgc3BsaXR0aW5nIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSAoKTogdm9pZCB7XG4gIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHR0VsZW1lbnQ7XG4gIGlmIChzdGFmZiAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0U3RhZmZIYW5kbGVyKG5lb25WaWV3LCBzdGFmZik7XG4gICAgc3BsaXQuc3RhcnRTcGxpdCgpO1xuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQhJyk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciBzcGxpdCBzdGFmZiBvcHRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zdGFmZlNwbGl0QWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNvbHVtbkFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAvLyBDb2x1bW4gaW5mbyBlZGl0b3JcbiAgdXBkYXRlQ29sdW1uSW5mbygpO1xuICBhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIoKTtcblxuICAvLyBBZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1zeXN0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSgpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1yb3RhdGUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHRWxlbWVudDtcbiAgICAgIC8vIFVudXNlZCB2YXJpYWJsZXM6XG4gICAgICAvLyBjb25zdCByZWN0ID0gc3RhZmYucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKTtcbiAgICAgIC8vIGNvbnN0IGNvID0gcmVjdC5nZXRBdHRyaWJ1dGUoJ3BvaW50cycpLnNwbGl0KCcgJyk7XG4gICAgICAvLyBjb25zdCBkeSA9IHBhcnNlSW50KGNvWzBdLnNwbGl0KCcsJylbMV0pIC0gcGFyc2VJbnQoY29bMV0uc3BsaXQoJywnKVsxXSk7XG4gICAgICBjb25zdCBwb2ludHMgPSBnZXRTdGFmZkJCb3goc3RhZmYgYXMgU1ZHR0VsZW1lbnQpO1xuICAgICAgY29uc3QgeV9jaGFuZ2UgPSBNYXRoLnRhbihwb2ludHMucm90YXRlKSoocG9pbnRzLmxyeCAtIHBvaW50cy51bHgpO1xuICAgICAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgICB1bHg6IHBvaW50cy51bHgsXG4gICAgICAgICAgICB1bHk6IHBvaW50cy5yb3RhdGUgPiAwID8gcG9pbnRzLnVseSArIHlfY2hhbmdlLzIgOiBwb2ludHMudWx5IC0geV9jaGFuZ2UvMixcbiAgICAgICAgICAgIGxyeDogcG9pbnRzLmxyeCxcbiAgICAgICAgICAgIGxyeTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMubHJ5IC0geV9jaGFuZ2UvMiA6IHBvaW50cy5scnkgKyB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgcm90YXRlOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCcpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBiYm94IG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJCQm94QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmJib3hBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXRjaEhlaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1hdGNoSGVpZ2h0SGFuZGxlcigpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgYWN0aW9ucyB3aGVuIHNlbGVjdGluZyBieSBzeWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgc2VsZWN0aW9uIG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBleHRyYSBkcm9wZG93biBvcHRpb25zOlxuICogTGlzdGVuIHRvIGNsaWNrcyBvbiBkcm9wZG93bnNcbiAqL1xuZnVuY3Rpb24gaW5pdE9wdGlvbnNMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKVxuICAgIC5mb3JFYWNoKFxuICAgICAgZHJvcCA9PiB7XG4gICAgICAgIC8vIFdoZW4gYW55dGhpbmcgdGhhdCBpcyBub3QgdGhlIGRyb3Bkb3duIGlzIGNsaWNrZWQgYXdheSwgdGhlIGRyb3Bkb3duXG4gICAgICAgIC8vIHNob3VsZCBsb3NlIGl0cyB2aXNpYmlsaXR5XG4gICAgICAgIGNvbnN0IG9wdGlvbnNDbGlja2F3YXkgPSAoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZHJvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAvLyBUb2dnbGUgdmlzaWJpbGl0eSBvZiBkcm9wZG93blxuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdmlzaWJpbGl0eSBvZiBvdGhlciBkcm9wZG93bnMgd2hlbiB0aGlzIG9uZSBpcyBjbGlja2VkXG4gICAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKSlcbiAgICAgICAgICAgIC5maWx0ZXIob3RoZXIgPT4gb3RoZXIgIT09IGRyb3ApXG4gICAgICAgICAgICAuZm9yRWFjaChvdGhlciA9PiBvdGhlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKSk7XG5cbiAgICAgICAgICAvLyBEb24ndCBhbGxvdyBvdGhlciBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgdG8gaW50ZXJmZXJlIHdpdGggdGhpcyBsaXN0ZW5lclxuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGlmIChkcm9wLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94IH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCQm94IHtcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IFNWRyByZWxhdGl2ZSBjb29yZGluYXRlcyBnaXZlbiBjbGllbnRYIGFuZCBjbGllbnRZXG4gKiBTb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI5MjYxMzA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTVkdSZWxDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogUG9pbnQge1xuICBjb25zdCBwdCA9IG5ldyBET01Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdTVkdFbGVtZW50PignLmFjdGl2ZS1wYWdlID4gLmRlZmluaXRpb24tc2NhbGUnKTtcbiAgY29uc3Qgc3lzdGVtID0gc3ZnLnF1ZXJ5U2VsZWN0b3I8U1ZHR0VsZW1lbnQ+KCcuc3lzdGVtJyk7XG5cbiAgY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3lzdGVtLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gIHJldHVybiB7IHgsIHkgfTtcblxuICAvLyBJZiB0aGVyZSBpcyBzb21lIGlzc3VlIHdpdGggY29vcmRpbmF0ZXMsIHRoaXMgbWF5IGZpeCB0aGUgaXNzdWU6XG4gIC8vIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHU1ZHRWxlbWVudD4oJyNzdmdfZ3JvdXAnKTtcbiAgLy8gY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3ZnLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG59XG5cbi8qKlxuICogR2V0IElEIG9mIHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlcy5cbiAqIFRoaXMgZnVuY3Rpb24gY29uc2lkZXJzIHRoZSAqdmlzdWFsKiBib3VuZGluZyBib3ggb2YgdGhlIHN0YWZmXG4gKiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMsIGluc3RlYWQgb2YgdGhlIFNWRyBlbGVtZW50IGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmSWRCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR0VsZW1lbnQ+KCcuc3RhZmYnKSk7XG4gIGNvbnN0IHN0YWZmQkJveGVzID0gc3RhdmVzLm1hcChzdGFmZiA9PiBnZXRTdGFmZkJCb3goc3RhZmYpKTtcblxuICAvLyBmaW5kIHRoZSBzdGFmZiB0aGF0IHRoZSBjdXJzb3IgaXMgaW5zaWRlXG4gIGNvbnN0IHsgeCwgeSB9ID0gZ2V0U1ZHUmVsQ29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdGFmZiA9IHN0YWZmQkJveGVzLmZpbmQoXG4gICAgKGJib3gpID0+IHggPD0gYmJveC5scnggJiYgeCA+PSBiYm94LnVseCAmJiB5IDw9IGJib3gubHJ5ICYmIHkgPj0gYmJveC51bHlcbiAgKTsgXG5cbiAgLy8gSWYgdGhlcmUgaXMgaXNzdWVzIHdpdGggZmluZGluZyB0aGUgc3RhZmYsIHRoaXMgbWF5IGJlIG1vcmUgYWNjdXJhdGU6XG4gIC8vIHJldHVybiAocHQueCA+IHVseCAmJiBwdC54IDwgbHJ4KSAmJlxuICAvLyAgIChwdC55ID4gKHVseSArIChwdC54IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAvLyAgIChwdC55IDwgKGxyeSAtIChscnggLSBwdC54KSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcblxuICAvLyBpZiB0aGUgY3Vyc29yIGlzIG5vdCBpbnNpZGUgYW55IHN0YWZmLCB0aGVuIGV4cGxpY2l0bHkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHN0YWZmID8gc3RhZmYuaWQgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXM7IHdyYXBwZXIgZm9yIGdldFN0YWZmSWRCeUNvb3JkcywgYnV0XG4gKiAgIHJldHVybnMgdGhlIGVsZW1lbnQsIG5vdCB0aGUgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogU1ZHR0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc3RhZmZJZCA9IGdldFN0YWZmSWRCeUNvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3N0YWZmSWR9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc091dE9mU1ZHQm91bmRzICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBiZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHSW1hZ2VFbGVtZW50PignI2JnaW1nJyk7XG4gIFxuICByZXR1cm4gKFxuICAgIHggPD0gMCB8fCB4ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpIHx8XG4gICAgeSA8PSAwIHx8IHkgPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpXG4gICk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCAobHJ4LCBscnksIHVseCwgdWx5KSBvZiBhIGdseXBoLCB3aGljaFxuICogaXMgYSA8dXNlPiBlbGVtZW50IGluIHRoZSBTVkdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdseXBoQkJveCAoZzogU1ZHUmVjdEVsZW1lbnQgfCBTVkdVc2VFbGVtZW50KTogQkJveCB7XG4gIGNvbnN0IHJlY3QgPSAoZy50YWdOYW1lID09ICdyZWN0JykgPyBnLmdldEJCb3goKSA6IChnLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICByZXR1cm4ge1xuICAgIHVseDogcmVjdC54LFxuICAgIHVseTogcmVjdC55LFxuICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbiIsIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAod2l0aCBzdXBwb3J0IGZvciB3ZWIgd29ya2VycylcbiAgICAgICAgdmFyIGdsb2I7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2IgPSB3aW5kb3c7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2IgPSBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYi5TcGFya01ENSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qXG4gICAgICogRmFzdGVzdCBtZDUgaW1wbGVtZW50YXRpb24gYXJvdW5kIChKS00gbWQ1KS5cbiAgICAgKiBDcmVkaXRzOiBKb3NlcGggTXllcnNcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5teWVyc2RhaWx5Lm9yZy9qb3NlcGgvamF2YXNjcmlwdC9tZDUtdGV4dC5odG1sXG4gICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9tZDUtc2hvb3RvdXQvN1xuICAgICAqL1xuXG4gICAgLyogdGhpcyBmdW5jdGlvbiBpcyBtdWNoIGZhc3RlcixcbiAgICAgIHNvIGlmIHBvc3NpYmxlIHdlIHVzZSBpdC4gU29tZSBJRXNcbiAgICAgIGFyZSB0aGUgb25seSBvbmVzIEkga25vdyBvZiB0aGF0XG4gICAgICBuZWVkIHRoZSBpZGlvdGljIHNlY29uZCBmdW5jdGlvbixcbiAgICAgIGdlbmVyYXRlZCBieSBhbiBpZiBjbGF1c2UuICAqL1xuICAgIHZhciBhZGQzMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYSArIGIpICYgMHhGRkZGRkZGRjtcbiAgICB9LFxuICAgICAgICBoZXhfY2hyID0gWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJ107XG5cblxuICAgIGZ1bmN0aW9uIGNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gICAgICAgIGEgPSBhZGQzMihhZGQzMihhLCBxKSwgYWRkMzIoeCwgdCkpO1xuICAgICAgICByZXR1cm4gYWRkMzIoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVjeWNsZSh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXSxcbiAgICAgICAgICAgIGIgPSB4WzFdLFxuICAgICAgICAgICAgYyA9IHhbMl0sXG4gICAgICAgICAgICBkID0geFszXTtcblxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMV0gLSAzODk1NjQ1ODYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMl0gKyA2MDYxMDU4MTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzRdIC0gMTc2NDE4ODk3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbNV0gKyAxMjAwMDgwNDI2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1s3XSAtIDQ1NzA1OTgzIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzhdICsgMTc3MDAzNTQxNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxMF0gLSA0MjA2MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxMV0gLSAxOTkwNDA0MTYyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxM10gLSA0MDM0MTEwMSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxNF0gLSAxNTAyMDAyMjkwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxXSAtIDE2NTc5NjUxMCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzZdIC0gMTA2OTUwMTYzMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1swXSAtIDM3Mzg5NzMwMiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s1XSAtIDcwMTU1ODY5MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTVdIC0gNjYwNDc4MzM1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzRdIC0gNDA1NTM3ODQ4IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTRdIC0gMTAxOTgwMzY5MCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzNdIC0gMTg3MzYzOTYxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxM10gLSAxNDQ0NjgxNDY3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMl0gLSA1MTQwMzc4NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1sxMl0gLSAxOTI2NjA3NzM0IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzVdIC0gMzc4NTU4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTFdICsgMTgzOTAzMDU2MiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTRdIC0gMzUzMDk1NTYgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzRdICsgMTI3Mjg5MzM1MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbN10gLSAxNTU0OTc2MzIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMTNdICsgNjgxMjc5MTc0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzBdIC0gMzU4NTM3MjIyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbNl0gKyA3NjAyOTE4OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s5XSAtIDY0MDM2NDQ4NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzE1XSArIDUzMDc0MjUyMCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMl0gLSA5OTUzMzg2NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1s3XSArIDExMjY4OTE0MTUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzE0XSAtIDE0MTYzNTQ5MDUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1szXSAtIDE4OTQ5ODY2MDYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzEwXSAtIDEwNTE1MjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTVdIC0gMzA2MTE3NDQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzZdIC0gMTU2MDE5ODM4MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxMV0gLSAxMTIwMjEwMzc5IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1syXSArIDcxODc4NzI1OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyB8IDA7XG5cbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGsocykge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IHMuY2hhckNvZGVBdChpKSArIChzLmNoYXJDb2RlQXQoaSArIDEpIDw8IDgpICsgKHMuY2hhckNvZGVBdChpICsgMikgPDwgMTYpICsgKHMuY2hhckNvZGVBdChpICsgMykgPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsa19hcnJheShhKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gYVtpXSArIChhW2kgKyAxXSA8PCA4KSArIChhW2kgKyAyXSA8PCAxNikgKyAoYVtpICsgM10gPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTEocykge1xuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsayhzLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgLSA2NCk7XG4gICAgICAgIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBzLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MV9hcnJheShhKSB7XG4gICAgICAgIHZhciBuID0gYS5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrX2FycmF5KGEuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHN1cmUgaWYgaXQgaXMgYSBidWcsIGhvd2V2ZXIgSUUxMCB3aWxsIGFsd2F5cyBwcm9kdWNlIGEgc3ViIGFycmF5IG9mIGxlbmd0aCAxXG4gICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgcGFyZW50IGFycmF5IGlmIHRoZSBzdWIgYXJyYXkgc3BlY2lmaWVkIHN0YXJ0c1xuICAgICAgICAvLyBiZXlvbmQgdGhlIGxlbmd0aCBvZiB0aGUgcGFyZW50IGFycmF5IC0gd2VpcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNzcxNDUyL3R5cGVkLWFycmF5LXN1YmFycmF5LWlzc3VlXG4gICAgICAgIGEgPSAoaSAtIDY0KSA8IG4gPyBhLnN1YmFycmF5KGkgLSA2NCkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYVtpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmhleChuKSB7XG4gICAgICAgIHZhciBzID0gJycsXG4gICAgICAgICAgICBqO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgNDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzICs9IGhleF9jaHJbKG4gPj4gKGogKiA4ICsgNCkpICYgMHgwRl0gKyBoZXhfY2hyWyhuID4+IChqICogOCkpICYgMHgwRl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4KHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB4W2ldID0gcmhleCh4W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geC5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSBmYXN0IGFkZDMyIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkLi5cbiAgICBpZiAoaGV4KG1kNTEoJ2hlbGxvJykpICE9PSAnNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTInKSB7XG4gICAgICAgIGFkZDMyID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRiksXG4gICAgICAgICAgICAgICAgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEFycmF5QnVmZmVyIHNsaWNlIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICAgICAqL1xuXG4gICAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhbXAodmFsLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAodmFsIHwgMCkgfHwgMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWwgKyBsZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih2YWwsIGxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gY2xhbXAoZnJvbSwgbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gbGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBudW0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2xhbXAodG8sIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbnVtID0gZW5kIC0gYmVnaW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLCBiZWdpbiwgbnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXJzLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgICAgICBpZiAoL1tcXHUwMDgwLVxcdUZGRkZdLy50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdHIsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0ci5sZW5ndGgsXG4gICAgICAgICAgIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSxcbiAgICAgICAgICAgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZiksXG4gICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gYXJyIDogYnVmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUJ1ZmZlcjJVdGY4U3RyKGJ1ZmYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGZpcnN0LCBzZWNvbmQsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZpcnN0LmJ5dGVMZW5ndGggKyBzZWNvbmQuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShmaXJzdCkpO1xuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KHNlY29uZCksIGZpcnN0LmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gcmVzdWx0IDogcmVzdWx0LmJ1ZmZlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXhUb0JpbmFyeVN0cmluZyhoZXgpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gW10sXG4gICAgICAgICAgICBsZW5ndGggPSBoZXgubGVuZ3RoLFxuICAgICAgICAgICAgeDtcblxuICAgICAgICBmb3IgKHggPSAwOyB4IDwgbGVuZ3RoIC0gMTsgeCArPSAyKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleC5zdWJzdHIoeCwgMiksIDE2KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGJ5dGVzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1LCBvdGhlcndpc2UgdXNlIHRoZVxuICAgICAqIHN0YXRpYyBtZXRob2RzIGluc3RlYWQuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBTcGFya01ENSgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIGFuIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBhcHBlbmQgYXMgYmluYXJ5XG4gICAgICAgIHRoaXMuYXBwZW5kQmluYXJ5KHRvVXRmOChzdHIpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgVGhlIGJpbmFyeSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICB0aGlzLl9idWZmICs9IGNvbnRlbnRzO1xuICAgICAgICB0aGlzLl9sZW5ndGggKz0gY29udGVudHMubGVuZ3RoO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9idWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGsodGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9ICcnO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmY6IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgICAgIGhhc2g6IHRoaXMuX2hhc2guc2xpY2UoKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9idWZmID0gc3RhdGUuYnVmZjtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB0aGlzLl9oYXNoID0gc3RhdGUuaGFzaDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZXMgbWVtb3J5IHVzZWQgYnkgdGhlIGluY3JlbWVudGFsIGJ1ZmZlciBhbmQgb3RoZXIgYWRkaXRpb25hbFxuICAgICAqIHJlc291cmNlcy4gSWYgeW91IHBsYW4gdG8gdXNlIHRoZSBpbnN0YW5jZSBhZ2FpbiwgdXNlIHJlc2V0IGluc3RlYWQuXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9oYXNoO1xuICAgICAgICBkZWxldGUgdGhpcy5fYnVmZjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBmaW5hbCBjYWxjdWxhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICB0YWlsICAgVGhlIHRhaWwgKHdpbGwgYmUgbW9kaWZpZWQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSByZW1haW5pbmcgYnVmZmVyXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAodGFpbCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBpID0gbGVuZ3RoLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gdGhlIGZpbmFsIGNvbXB1dGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsIGFuZCBsZW5ndGhcbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtYXkgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IHRoaXMuX2xlbmd0aCAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIHN0ciBUaGUgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoID0gZnVuY3Rpb24gKHN0ciwgcmF3KSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBjb21wdXRlIGl0IHVzaW5nIHRoZSBiaW5hcnkgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1Lmhhc2hCaW5hcnkodG9VdGY4KHN0ciksIHJhdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIGNvbnRlbnQgVGhlIGJpbmFyeSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddICAgICBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnQsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTEoY29udGVudCksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUgT05MWSBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICB2YXIgYnVmZiA9IGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKHRoaXMuX2J1ZmYuYnVmZmVyLCBhcnIsIHRydWUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBhcnIuYnl0ZUxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsa19hcnJheShidWZmLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSAoaSAtIDY0KSA8IGxlbmd0aCA/IG5ldyBVaW50OEFycmF5KGJ1ZmYuYnVmZmVyLnNsaWNlKGkgLSA2NCkpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYnVmZmVyIHRvIGEgc3RyaW5nXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSBhcnJheUJ1ZmZlcjJVdGY4U3RyKHN0YXRlLmJ1ZmYpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYnVmZmVyXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSB1dGY4U3RyMkFycmF5QnVmZmVyKHN0YXRlLmJ1ZmYsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgfTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3k7XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaCA9IFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgYnVmZmVyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIuaGFzaCA9IGZ1bmN0aW9uIChhcnIsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTFfYXJyYXkobmV3IFVpbnQ4QXJyYXkoYXJyKSksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTcGFya01ENTtcbn0pKTtcbiIsIi8qKlxuICogRm9ybWF0cyByYXcgVVVJRCBkYXRhIGludG8gdGhlIHByb3BlciBzdHJpbmcgZm9ybWF0LlxuICogQHBhcmFtIGRhdGEgLSBSYXcgVVVJRCBkYXRhLlxuICogQHJldHVybnMgRm9ybWF0dGVkIFVVSUQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB1aW50OFRvVXVpZCAoZGF0YTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGlmIChkYXRhLmxlbmd0aCAhPT0gMTYpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBmdW5jdGlvbiBjYiAocHJldmlvdXM6IHN0cmluZywgY3VycmVudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJldmlvdXMgKyBjdXJyZW50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgNCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNCwgNikucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNiwgOCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoOCwgMTApLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDEwKS5yZWR1Y2UoY2IsICcnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBBIFt2ZXJzaW9uIDQgVVVJRF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsbHlfdW5pcXVlX2lkZW50aWZpZXIjVmVyc2lvbl80XyhyYW5kb20pKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NCAoKTogc3RyaW5nIHtcbiAgLy8gQ2hlY2sgZm9yIGNyeXB0byBBUElcbiAgaWYgKHdpbmRvdy5jcnlwdG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1aW50OFRvVXVpZChuZXcgVWludDhBcnJheSgxNikpO1xuICB9XG5cbiAgLy8gR2V0IDE2IG9jdGV0cyBmb3IgVVVJRFxuICBjb25zdCBvY3RldHMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGNvbnN0IG1vZGlmaWVycyA9IFVpbnQ4QXJyYXkuZnJvbShbXG4gICAgcGFyc2VJbnQoJzAxMDAwMDAwJywgMiksICAvLyBWZXJzaW9uIGJpdHMgKDQgPT4gMDEwMClcbiAgICBwYXJzZUludCgnMTAwMDAwMDAnLCAyKSwgIC8vIFZhcmlhbnQgYml0cyAoMTB4KVxuICAgIHBhcnNlSW50KCcwMDAwMTExMScsIDIpLCAgLy8gTWFzayB0byB6ZXJvIGhpZ2hlciBiaXRzLCB2ZXJzaW9uXG4gICAgcGFyc2VJbnQoJzAwMTExMTExJywgMikgICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZhcmlhbnRcbiAgXSk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG9jdGV0cyk7XG4gIC8vIFNldCB2ZXJzaW9uIGJpdHMgYW5kIHZhcmlhbnQgYml0c1xuICBvY3RldHNbNl0gPSAob2N0ZXRzWzZdICYgbW9kaWZpZXJzWzJdKSB8IG1vZGlmaWVyc1swXTtcbiAgb2N0ZXRzWzhdID0gKG9jdGV0c1s4XSAmIG1vZGlmaWVyc1szXSkgfCBtb2RpZmllcnNbMV07XG5cbiAgcmV0dXJuIHVpbnQ4VG9VdWlkKG9jdGV0cyk7XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU2V0VGV4dEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IE1vZGFsV2luZG93SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBob3RrZXlzTW9kYWwsIGVkaXRUZXh0TW9kYWwgfSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7IG5ld0ZvbGRlckhUTUwsIHJlbmFtZUhUTUwsIHVwbG9hZEFyZWFIVE1MIH0gZnJvbSAnLi4vRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgc2VsZWN0QkJveCwgdW5zZWxlY3QgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBFRElUX1RFWFQsXG4gIEhPVEtFWVMsXG4gIFZBTElEQVRJT05fU1RBVFVTLFxuICBET0NVTUVOVF9VUExPQUQsXG4gIE1PVkVfVE8sXG4gIE5FV19GT0xERVIsXG4gIFJFTkFNRVxufVxuXG5lbnVtIE1vZGFsV2luZG93U3RhdGUge1xuICBPUEVOLFxuICBDTE9TRURcbn1cblxuXG5cbi8qKlxuICogTW9kYWwgY2xhc3MgaXMgdXNlZCB0byBjcmVhdGUgYW5kIGNvbnRyb2wgc3RhdGUvY29udGVudCBcbiAqIG9mIG1vZGFsIHdpbmRvd3MgaW4gTmVvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGFsV2luZG93IGltcGxlbWVudHMgTW9kYWxXaW5kb3dJbnRlcmZhY2Uge1xuICBwcml2YXRlIG1vZGFsV2luZG93VmlldzogTW9kYWxXaW5kb3dWaWV3OyAvLyBjdXJyZW50IG1vZGFsIHR5cGVcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1N0YXRlOiBNb2RhbFdpbmRvd1N0YXRlOyAvLyBvcGVuIG9yIGNsb3NlZD9cbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7IC8vIG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHRcblxuXG4gIC8qKlxuICAgKiBTZXQgbmVvblZpZXcgaW5zdGFuY2UgY29udGV4dCBmb3IgdGhpcyBtb2RhbCB3aW5kb3cgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSBuZW9uVmlldyBuZW9uVmlldyBjb250ZXh0IGZvciBNb2RhbCBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3PzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGxpc3RlbmVycyB0aGF0IGFwcGx5IHRvIGFsbCBtb2RhbCB3aW5kb3dzXG4gICAqL1xuICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLWNsb3NlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mb2N1c01vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IHRoZSBtb2RhbCB2aWV3IG9mIHRoaXMgTW9kYWwgaW5zdGFuY2UuXG4gICAqIFVwZGF0ZSB0aGUgY29udGVudCBiYXNlZCBvbiBwYXNzZWQgdmlldy5cbiAgICogQHBhcmFtIHZpZXcgVHlwZSBvZiBtb2RhbCB0byBvcGVuIChNb2RhbFZpZXcgZW51bSlcbiAgICovXG4gIHNldE1vZGFsV2luZG93Vmlldyh2aWV3OiBNb2RhbFdpbmRvd1ZpZXcsIGNvbnRlbnQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGFsV2luZG93VmlldyA9IHZpZXc7XG4gICAgdGhpcy5zZXRNb2RhbFdpbmRvd0NvbnRlbnQoY29udGVudCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgbW9kYWwgdmlldyBhcyBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0TW9kYWxXaW5kb3dWaWV3KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubW9kYWxXaW5kb3dWaWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBPcGVuIGEgbW9kZWwgd2luZG93IHdpdGggY29udGVudCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgTW9kYWxWaWV3LlxuICAgKi9cbiAgb3Blbk1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9KTtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIFxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICB0aGlzLm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIC8vIHNldCB1cCBhbmQgZGlwbGF5IGhvdGtleSBtb2RhbCBjb250ZW50XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgLy8gYWRkIGZ1bmN0aW9uIHRvIHBhaXJpbmcgYnV0dG9uXG4gICAgICAgIC8vIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5NT1ZFX1RPOlxuICAgICAgICBcbiAgICAgICAgLy8gYnJlYWs7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB1c2VyIGNhbid0IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5PUEVOO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb25zdCBzcGFuID0gKDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuUkVOQU1FOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH0gXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgLy8gcmVzZXQgc2Nyb2xsIGJlaGF2aW9yIG9mIGJvZHlcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJyk7XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFRElUIFNZTExBQkxFIFRFWFQnO1xuXG4gICAgICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXTtcbiAgICAgICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgICAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcblxuICAgICAgICAvLyBzZXQgdmFsdWUgb2YgaW5wdXQgZmllbGQgdG8gY3VycmVudCBzeWxsYWJsZSB0ZXh0XG4gICAgICAgICg8SFRNTElucHV0RWxlbWVudD4gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkpLnZhbHVlID0gb3JpZztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdIT1RLRVlTJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlZBTElEQVRJT05fU1RBVFVTOlxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gXG4gICAgICAgICAgYDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAzMHB4O3doaXRlLXNwYWNlOiBwcmUtbGluZTtcIj4ke2NvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiPlxuICAgICAgICAgICAgPGEgaHJlZj1cImRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfVwiIGRvd25sb2FkPVwidmFsaWRhdGlvbi5sb2dcIj5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRVJST1IgTE9HJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0RPQ1VNRU5UIFVQTE9BRCc7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSB1cGxvYWRBcmVhSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdNT1ZFIFRPJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdORVcgRk9MREVSJztcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IG5ld0ZvbGRlckhUTUw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdSRU5BTUUnO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gcmVuYW1lSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gc2VsZWN0aW9uIHR5cGUuIFRoaXMgc2hvdWxkIG5vdCBoYXZlIG9jY3VycmVkLicpO1xuICAgIH0gXG4gIH1cblxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGNvbnRlbnQgZm9yIHVwZGF0aW5nIHN5bGxhYmxlIHRleHRcbiAgICovXG4gIHByaXZhdGUgb3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCggKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIEVkaXQgU3lsbGFibGUgVGV4dCBtb2RhbCB3aW5kb3dcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1lZGl0LXRleHQnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgXG4gICAgLy8gUmVzZXQgXCJDYW5jZWxcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWNhbmNlbCcpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcblxuICAgIC8vIFJlc2V0IFwiU2F2ZVwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtc2F2ZScpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVTeWxUZXh0LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtc2F2ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVTeWxUZXh0LmJpbmQodGhpcykpO1xuXG4gICAgLy8gZGlzcGxheSBtb2RhbCB3aW5kb3dcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZXMgd2l0aCB1c2VyLXByb3ZpZGVkIHRleHRcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlU3lsVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzcGFuIGFuZCBjdXJyZW50IHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZSBhbmQgZmlsdGVyIG91dCB1bndhbnRlZCBjaGFyc1xuICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXTtcbiAgICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG4gICAgY29uc3QgdXBkYXRlZFN5bFRleHQgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkudmFsdWU7XG5cbiAgICBpZiAodXBkYXRlZFN5bFRleHQgIT09IG51bGwgJiYgdXBkYXRlZFN5bFRleHQgIT09IG9yaWcpIHtcbiAgICAgIC8vIGNyZWF0ZSBcInNldCB0ZXh0XCIgYWN0aW9uXG4gICAgICBjb25zdCBlbGVtZW50SWQgPSBbLi4uc3Bhbi5jbGFzc0xpc3QuZW50cmllcygpXS5maWx0ZXIoKGNsYXNzTmFtZSkgPT4gY2xhc3NOYW1lWzFdICE9PSAndGV4dC1zZWxlY3QnICYmIGNsYXNzTmFtZVsxXSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKVswXVsxXTtcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU2V0VGV4dEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWQsXG4gICAgICAgICAgdGV4dDogdXBkYXRlZFN5bFRleHQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgLy8gc2VuZCBhY3Rpb24gdG8gdmVyb3ZpbyBmb3IgcHJvY2Vzc2luZ1xuICAgICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3BvbnNlOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgU1ZHXG4gICAgICAgICAgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gQW4gdXBkYXRlIHRvIHRoZSBwYWdlIHdpbGwgcmVsb2FkIHRoZSBlbnRpcmUgc3ZnO1xuICAgICAgICAgICAgLy8gV2Ugd291bGQgbGlrZSB0byB0aGVuIHJlc2VsZWN0IHRoZSBzYW1lIHNlbGVjdGVkIHN5bGxhYmxlXG4gICAgICAgICAgICAvLyBpZiBiYm94ZXMgYXJlIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVzZWxlY3QgaWYgbm8gY2hhbmdlIGlzIG1hZGVcbiAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgIH1cbiAgICAvLyBjbG9zZSBtb2RhbCB3aW5kb3dcbiAgICB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIGJveCBzZWxlY3RlZCB3aGVuIHRoZSBlZGl0IHRleHQgbW9kYWwgaGFzIGJlZW4gY2xpY2tlZCBcbiAgKi9cbiAgdXBkYXRlU2VsZWN0ZWRCQm94IChzcGFuOiBIVE1MU3BhbkVsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlciwgbmVvblZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoZSA9PiBlICE9PSAndGV4dC1zZWxlY3QnICYmIGUgIT09ICdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpKSB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgc2VsZWN0QkJveChkaXNwbGF5UmVjdCwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGhvdGtleSBpbmZvIGNvbnRlbnRcbiAgICovXG4gIC8qXG4gIHByaXZhdGUgb3BlbkhvdGtleU1vZGFsV2luZG93ID0gZnVuY3Rpb24oKSB7ICAgXG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIGFuZCBkaXBsYXkgaG90a2V5IG1vZGFsIGNvbnRlbnRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG4gICovXG5cblxuICAvKipcbiAgICogRGVmaW5lIGV2ZW50IGxpc3RlbmVycyBmb3IgbW9kYWwgd2luZG93IGJhc2VkIG9uIG1vZGFsVmlldyB0eXBlXG4gICAqL1xuICBwcml2YXRlIGtleWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOyAvLyBwcmV2ZW50IE5lb24gaG90a2V5IGV2ZW50cyBmcm9tIGZpcmluZyB3aGVuIHVzZXIgaXMgdHlwaW5nXG5cbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB0aGlzLnVwZGF0ZVN5bFRleHQoKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgdGhpcy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICB9ICBcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBFdmVudCBsaXN0ZW5lciB0aGF0IGZvY3VzZXMgdGhlIG1vZGFsIHdpbmRvdyBpZiB1c2VyIGNsaWNrcyBhbnl3aGVyZSBvdXRzaWRlIG9mIGl0XG4gICAqL1xuICBwcml2YXRlIGZvY3VzTW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpLnNlbGVjdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbn1cbiIsImltcG9ydCB7IEdyb3VwaW5nVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBBZGFwdGVkIGZyb20gY29sb3IgcGFsZXR0ZSBmcm9tIEZpZ3VyZSAyIChDb2xvcnMgb3B0aW1pemVkIGZvciBjb2xvci1ibGluZFxuICogaW5kaXZpZHVhbHMpIGZyb21cbiAqIFtcIlBvaW50cyBvZiB2aWV3OiBDb2xvciBibGluZG5lc3NcIiBieSBCYW5nIFdvbmcgcHVibGlzaGVkIGluIE5hdHVyZSBNZXRob2RzIHZvbHVtZSA4IG9uIDI3IE1heSAyMDExXShodHRwczovL3d3dy5uYXR1cmUuY29tL2FydGljbGVzL25tZXRoLjE2MTg/V1QuZWNfaWQ9Tk1FVEgtMjAxMTA2KVxuICovXG5jb25zdCBDb2xvclBhbGV0dGU6IHN0cmluZ1tdID0gW1xuICAncmdiKDIzMCwgMTU5LCAwKScsXG4gICdyZ2IoODYsIDE4MCwgMjMzKScsXG4gICdyZ2IoMCwgMTU4LCAxMTUpJyxcbiAgJ3JnYigyNDAsIDIyOCwgNjYpJyxcbiAgJ3JnYigwLCAxMTQsIDE3OCknLFxuICAncmdiKDIxMywgOTQsIDApJyxcbiAgJ3JnYigyMDQsIDEyMSwgMTY3KSdcbl07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBoaWdobGlnaHQgZnJvbSBhIHN0YWZmLlxuICogQHBhcmFtIHN0YWZmIElmIHVuZGVmaW5lZCwgdGhlIGFsbCBzdGF2ZXMgYXJlIHVuaGlnaGxpZ2h0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZ2hsaWdodChzdGFmZj86IFNWR0dFbGVtZW50KTogdm9pZCB7XG4gIGxldCBjaGlsZHJlbjogTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgaWYgKHN0YWZmKSB7XG4gICAgY2hpbGRyZW4gPSBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCc6bm90KC5zZWxlY3RlZCkgLmhpZ2hsaWdodGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCc6bm90KC5zZWxlY3RlZCkgLmhpZ2hsaWdodGVkJyk7XG4gIH1cbiAgY2hpbGRyZW4uZm9yRWFjaChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS50YWdOYW1lID09PSAncGF0aCcgJiYgIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMwMDAwMDAnKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykgJiYgIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMwMDAwMDAnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZmlsbCcpO1xuICAgICAgbGV0IHJlY3RzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWN0cyA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlY3RzID0gW10gYXMgdW5rbm93biBhcyBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICl7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgICAgICAgfVxuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGhpZ2hsaWdodCBmcm9tIGVhY2ggc3RhZmYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFN0YWZmSGlnaGxpZ2h0KCk6IHZvaWQge1xuICB1bmhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFVuc2V0IGhpZ2hsaWdodCBmb3IgYWxsIGdyb3VwaW5nIHR5cGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk6IHZvaWQge1xuICB1bnNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gIGNvbnN0IGhpZ2hsaWdodGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHRlZCcpKVxuICAgIC5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiAhZWxlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSk7XG4gIGhpZ2hsaWdodGVkLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgZWxlbS5zZXRBdHRyaWJ1dGUoJyNkMDAnLCBudWxsKTtcbiAgICBsZXQgcmVjdHMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgIGlmIChlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpICE9PSBudWxsKSB7XG4gICAgICAgIHJlY3RzID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCdzeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHwgXG4gICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICl7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgICAgIH1cbiAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9KTtcbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdzeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSkuZm9yRWFjaCgoZWwpID0+IHsgZWwuc2V0QXR0cmlidXRlKCdmaWxsJywgJycpOyB9KTtcbn1cblxuLyoqXG4gKiBIaWdobGlnaHQgYSBzdGFmZiBhIGNlcnRhaW4gY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWdobGlnaHQoc3RhZmY6IFNWR0dFbGVtZW50LCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZi5jaGlsZHJlbik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAncGF0aCcpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgY29sb3IpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgY29sb3IpO1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGggJiYgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuKS5maWx0ZXIoZWwgPT4gZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZVBvaW50JykgfHwgY2hpbGQuaWQgPT09ICdyZXNpemVSZWN0JyB8fCBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JvdGF0ZVBvaW50JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJykubGVuZ3RoICYmXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHQtc2VsZWN0ZWQnKVswXS5pZCA9PT0gJ2hpZ2hsaWdodC1uZXVtZSdcbiAgICAgICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSkuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBjb2xvcik7XG4gICAgICBsZXQgcmVjdHMgPSBjaGlsZC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWN0cyA9IGNoaWxkLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCEocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkpIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBjb2xvcjtcbiAgICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICB9XG4gIGxldCB3aWR0aCwgaGVpZ2h0O1xuICAvKnRyeSB7XG4gICAgd2lkdGggPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLnNwbGl0KCdweCcpWzBdKTtcbiAgICBoZWlnaHQgPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKS5zcGxpdCgncHgnKVswXSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmRlYnVnKGUpO1xuICB9Ki9cbiAgbGV0IHN0cm9rZTogc3RyaW5nO1xuICBpZiAod2lkdGggIT09IHVuZGVmaW5lZCAmJiBoZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGlkayBsb29rcyBnb29kIDonKVxuICAgIC8vIFRPRE8gZmluZCBhIGJldHRlciB3YXkgb2YgY2FsY3VsYXRpbmcgdGhpcyBhcyB0aGlzIGFjdHVhbGx5IGRvZXNuJ3Qgd29yayBhcyB3ZWxsIGFzIDMwcHhcbiAgICBzdHJva2UgPSAod2lkdGggKiBoZWlnaHQgLyAxMDAwMDAwKS50b1N0cmluZygpO1xuICB9XG4gIGVsc2Uge1xuICAgIHN0cm9rZSA9ICczMHB4JztcbiAgfVxuICBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgc3Ryb2tlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0IGVhY2ggc3RhZmYgYSBkaWZmZXJlbnQgY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdGFmZkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFmZicpKSBhcyBTVkdHRWxlbWVudFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YWZmQ29sb3IgPSBDb2xvclBhbGV0dGVbaSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGhpZ2hsaWdodChzdGF2ZXNbaV0sIHN0YWZmQ29sb3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldENvbHVtbkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgY29uc3QgIGdyb3VwczogeyBba2V5OiBudW1iZXJdOiBTVkdHRWxlbWVudFtdIH0gPSB7fTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYnKS5mb3JFYWNoKChzdGFmZikgPT4ge1xuICAgIGNvbnN0IGhhc0NvbHVtbiA9IEFycmF5LmZyb20oc3RhZmYuY2xhc3NMaXN0KS5qb2luKCcgJykubWF0Y2goL1xcYmNvbHVtbihcXGQrKVxcYi8pO1xuICAgIGxldCBjb2x1bW5OdW0gPSAwO1xuICAgIGlmIChoYXNDb2x1bW4pIHtcbiAgICAgIGNvbHVtbk51bSA9IHBhcnNlSW50KGhhc0NvbHVtblsxXSwgMTApIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoIWdyb3Vwc1tjb2x1bW5OdW1dKSB7XG4gICAgICBncm91cHNbY29sdW1uTnVtXSA9IFtdO1xuICAgIH1cblxuICAgIGdyb3Vwc1tjb2x1bW5OdW1dLnB1c2goc3RhZmYgYXMgU1ZHR0VsZW1lbnQpO1xuICB9KTtcblxuICBmb3IgKGNvbnN0IFtjb2x1bW4sIHN0YXZlc10gb2YgT2JqZWN0LmVudHJpZXMoZ3JvdXBzKSkge1xuICAgIGNvbnN0IGNvbG9yID0gQ29sb3JQYWxldHRlW051bWJlcihjb2x1bW4pICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgZm9yIChjb25zdCBzdGFmZiBvZiBzdGF2ZXMpIHtcbiAgICAgIGhpZ2hsaWdodChzdGFmZiwgY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNldCBhIGhpZ2hsaWdodCBieSBhIGRpZmZlcmVudCBncm91cGluZy5cbiAqIEBwYXJhbSBncm91cGluZyAtIEVpdGhlciBcInN0YWZmXCIsIFwic3lsbGFibGVcIiwgXCJuZXVtZVwiLCBcInNlbGVjdGlvblwiLCBvciBcImxheWVyRWxlbWVudFwiLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmc6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIGlmIChncm91cGluZyA9PT0gJ3N0YWZmJykge1xuICAgIHNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVsc2UgaWYgKGdyb3VwaW5nID09PSAnY29sdW1uJykge1xuICAgIHNldENvbHVtbkhpZ2hsaWdodCgpO1xuICAgIHJldHVybjtcbiAgfSBcbiAgZWxzZSBpZiAoZ3JvdXBpbmcgPT09ICdzZWxlY3Rpb24nKSB7XG4gICAgY29uc3QgdGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWwtYnkuaXMtYWN0aXZlJykuaWQ7XG4gICAgc3dpdGNoICh0ZW1wKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N5bGxhYmxlJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeUNvbHVtbic6XG4gICAgICAgIGdyb3VwaW5nID0gJ2NvbHVtbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N0YWZmJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ2xheWVyRWxlbWVudCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBncm91cGluZyA9ICduZXVtZSc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBncm91cHM7XG5cbiAgaWYgKGdyb3VwaW5nID09ICdsYXllckVsZW1lbnQnKSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY2lkLCAuY2xlZiwgLmN1c3RvcywgLmRpdkxpbmUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGdyb3VwaW5nKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcbiAgfVxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYywgLmN1c3RvcywgLmNsZWYsIC5hY2NpZCwgLmRpdkxpbmUnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgfSk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBncm91cENvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBpZiAoKGdyb3Vwc1tpXS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkgJiYgIWdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBncm91cENvbG9yKTtcbiAgICAgIGNvbnN0IHJlY3RzID0gZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBncm91cENvbG9yO1xuICAgICAgfSk7XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcjZDAwJyk7XG4gICAgICB9XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXZMaW5lQ2hpbGRyZW4gPSBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKTtcbiAgICBpZiAoZGl2TGluZUNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRpdkxpbmVDaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICBkaXZMaW5lQ2hpbGRyZW5bal0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCBncm91cENvbG9yKTtcbiAgICAgICAgZGl2TGluZUNoaWxkcmVuW2pdLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1cmkgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIFZhbGlkYXRpb25FcnJvciA9IGV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gVmFsaWRhdGlvbkVycm9yIChtZXNzYWdlLCBpbnN0YW5jZSwgc2NoZW1hLCBwYXRoLCBuYW1lLCBhcmd1bWVudCkge1xuICBpZihBcnJheS5pc0FycmF5KHBhdGgpKXtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMucHJvcGVydHkgPSBwYXRoLnJlZHVjZShmdW5jdGlvbihzdW0sIGl0ZW0pe1xuICAgICAgcmV0dXJuIHN1bSArIG1ha2VTdWZmaXgoaXRlbSk7XG4gICAgfSwgJ2luc3RhbmNlJyk7XG4gIH1lbHNlIGlmKHBhdGggIT09IHVuZGVmaW5lZCl7XG4gICAgdGhpcy5wcm9wZXJ0eSA9IHBhdGg7XG4gIH1cbiAgaWYgKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9XG4gIGlmIChzY2hlbWEpIHtcbiAgICB2YXIgaWQgPSBzY2hlbWEuJGlkIHx8IHNjaGVtYS5pZDtcbiAgICB0aGlzLnNjaGVtYSA9IGlkIHx8IHNjaGVtYTtcbiAgfVxuICBpZiAoaW5zdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgfVxuICB0aGlzLm5hbWUgPSBuYW1lO1xuICB0aGlzLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gIHRoaXMuc3RhY2sgPSB0aGlzLnRvU3RyaW5nKCk7XG59O1xuXG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiB0aGlzLnByb3BlcnR5ICsgJyAnICsgdGhpcy5tZXNzYWdlO1xufTtcblxudmFyIFZhbGlkYXRvclJlc3VsdCA9IGV4cG9ydHMuVmFsaWRhdG9yUmVzdWx0ID0gZnVuY3Rpb24gVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLnBhdGggPSBjdHgucGF0aDtcbiAgdGhpcy5wcm9wZXJ0eVBhdGggPSBjdHgucHJvcGVydHlQYXRoO1xuICB0aGlzLmVycm9ycyA9IFtdO1xuICB0aGlzLnRocm93RXJyb3IgPSBvcHRpb25zICYmIG9wdGlvbnMudGhyb3dFcnJvcjtcbiAgdGhpcy50aHJvd0ZpcnN0ID0gb3B0aW9ucyAmJiBvcHRpb25zLnRocm93Rmlyc3Q7XG4gIHRoaXMudGhyb3dBbGwgPSBvcHRpb25zICYmIG9wdGlvbnMudGhyb3dBbGw7XG4gIHRoaXMuZGlzYWJsZUZvcm1hdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kaXNhYmxlRm9ybWF0ID09PSB0cnVlO1xufTtcblxuVmFsaWRhdG9yUmVzdWx0LnByb3RvdHlwZS5hZGRFcnJvciA9IGZ1bmN0aW9uIGFkZEVycm9yKGRldGFpbCkge1xuICB2YXIgZXJyO1xuICBpZiAodHlwZW9mIGRldGFpbCA9PSAnc3RyaW5nJykge1xuICAgIGVyciA9IG5ldyBWYWxpZGF0aW9uRXJyb3IoZGV0YWlsLCB0aGlzLmluc3RhbmNlLCB0aGlzLnNjaGVtYSwgdGhpcy5wYXRoKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWRldGFpbCkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGVycm9yIGRldGFpbCcpO1xuICAgIGlmICghZGV0YWlsLm1lc3NhZ2UpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBlcnJvciBtZXNzYWdlJyk7XG4gICAgaWYgKCFkZXRhaWwubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHZhbGlkYXRvciB0eXBlJyk7XG4gICAgZXJyID0gbmV3IFZhbGlkYXRpb25FcnJvcihkZXRhaWwubWVzc2FnZSwgdGhpcy5pbnN0YW5jZSwgdGhpcy5zY2hlbWEsIHRoaXMucGF0aCwgZGV0YWlsLm5hbWUsIGRldGFpbC5hcmd1bWVudCk7XG4gIH1cblxuICB0aGlzLmVycm9ycy5wdXNoKGVycik7XG4gIGlmICh0aGlzLnRocm93Rmlyc3QpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdG9yUmVzdWx0RXJyb3IodGhpcyk7XG4gIH1lbHNlIGlmKHRoaXMudGhyb3dFcnJvcil7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIHJldHVybiBlcnI7XG59O1xuXG5WYWxpZGF0b3JSZXN1bHQucHJvdG90eXBlLmltcG9ydEVycm9ycyA9IGZ1bmN0aW9uIGltcG9ydEVycm9ycyhyZXMpIHtcbiAgaWYgKHR5cGVvZiByZXMgPT0gJ3N0cmluZycgfHwgKHJlcyAmJiByZXMudmFsaWRhdG9yVHlwZSkpIHtcbiAgICB0aGlzLmFkZEVycm9yKHJlcyk7XG4gIH0gZWxzZSBpZiAocmVzICYmIHJlcy5lcnJvcnMpIHtcbiAgICB0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmNvbmNhdChyZXMuZXJyb3JzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gc3RyaW5naXplciAodixpKXtcbiAgcmV0dXJuIGkrJzogJyt2LnRvU3RyaW5nKCkrJ1xcbic7XG59XG5WYWxpZGF0b3JSZXN1bHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcocmVzKSB7XG4gIHJldHVybiB0aGlzLmVycm9ycy5tYXAoc3RyaW5naXplcikuam9pbignJyk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVmFsaWRhdG9yUmVzdWx0LnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7IGdldDogZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhdGhpcy5lcnJvcnMubGVuZ3RoO1xufSB9KTtcblxubW9kdWxlLmV4cG9ydHMuVmFsaWRhdG9yUmVzdWx0RXJyb3IgPSBWYWxpZGF0b3JSZXN1bHRFcnJvcjtcbmZ1bmN0aW9uIFZhbGlkYXRvclJlc3VsdEVycm9yKHJlc3VsdCkge1xuICBpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSl7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgVmFsaWRhdG9yUmVzdWx0RXJyb3IpO1xuICB9XG4gIHRoaXMuaW5zdGFuY2UgPSByZXN1bHQuaW5zdGFuY2U7XG4gIHRoaXMuc2NoZW1hID0gcmVzdWx0LnNjaGVtYTtcbiAgdGhpcy5vcHRpb25zID0gcmVzdWx0Lm9wdGlvbnM7XG4gIHRoaXMuZXJyb3JzID0gcmVzdWx0LmVycm9ycztcbn1cblZhbGlkYXRvclJlc3VsdEVycm9yLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuVmFsaWRhdG9yUmVzdWx0RXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmFsaWRhdG9yUmVzdWx0RXJyb3I7XG5WYWxpZGF0b3JSZXN1bHRFcnJvci5wcm90b3R5cGUubmFtZSA9IFwiVmFsaWRhdGlvbiBFcnJvclwiO1xuXG4vKipcbiAqIERlc2NyaWJlcyBhIHByb2JsZW0gd2l0aCBhIFNjaGVtYSB3aGljaCBwcmV2ZW50cyB2YWxpZGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gKiBAbmFtZSBTY2hlbWFFcnJvclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBTY2hlbWFFcnJvciA9IGV4cG9ydHMuU2NoZW1hRXJyb3IgPSBmdW5jdGlvbiBTY2hlbWFFcnJvciAobXNnLCBzY2hlbWEpIHtcbiAgdGhpcy5tZXNzYWdlID0gbXNnO1xuICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgRXJyb3IuY2FsbCh0aGlzLCBtc2cpO1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBTY2hlbWFFcnJvcik7XG59O1xuU2NoZW1hRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUsXG4gIHtcbiAgICBjb25zdHJ1Y3Rvcjoge3ZhbHVlOiBTY2hlbWFFcnJvciwgZW51bWVyYWJsZTogZmFsc2V9LFxuICAgIG5hbWU6IHt2YWx1ZTogJ1NjaGVtYUVycm9yJywgZW51bWVyYWJsZTogZmFsc2V9LFxuICB9KTtcblxudmFyIFNjaGVtYUNvbnRleHQgPSBleHBvcnRzLlNjaGVtYUNvbnRleHQgPSBmdW5jdGlvbiBTY2hlbWFDb250ZXh0IChzY2hlbWEsIG9wdGlvbnMsIHBhdGgsIGJhc2UsIHNjaGVtYXMpIHtcbiAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIGlmKEFycmF5LmlzQXJyYXkocGF0aCkpe1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy5wcm9wZXJ0eVBhdGggPSBwYXRoLnJlZHVjZShmdW5jdGlvbihzdW0sIGl0ZW0pe1xuICAgICAgcmV0dXJuIHN1bSArIG1ha2VTdWZmaXgoaXRlbSk7XG4gICAgfSwgJ2luc3RhbmNlJyk7XG4gIH1lbHNle1xuICAgIHRoaXMucHJvcGVydHlQYXRoID0gcGF0aDtcbiAgfVxuICB0aGlzLmJhc2UgPSBiYXNlO1xuICB0aGlzLnNjaGVtYXMgPSBzY2hlbWFzO1xufTtcblxuU2NoZW1hQ29udGV4dC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUgKHRhcmdldCkge1xuICByZXR1cm4gdXJpLnJlc29sdmUodGhpcy5iYXNlLCB0YXJnZXQpO1xufTtcblxuU2NoZW1hQ29udGV4dC5wcm90b3R5cGUubWFrZUNoaWxkID0gZnVuY3Rpb24gbWFrZUNoaWxkKHNjaGVtYSwgcHJvcGVydHlOYW1lKXtcbiAgdmFyIHBhdGggPSAocHJvcGVydHlOYW1lPT09dW5kZWZpbmVkKSA/IHRoaXMucGF0aCA6IHRoaXMucGF0aC5jb25jYXQoW3Byb3BlcnR5TmFtZV0pO1xuICB2YXIgaWQgPSBzY2hlbWEuJGlkIHx8IHNjaGVtYS5pZDtcbiAgdmFyIGJhc2UgPSB1cmkucmVzb2x2ZSh0aGlzLmJhc2UsIGlkfHwnJyk7XG4gIHZhciBjdHggPSBuZXcgU2NoZW1hQ29udGV4dChzY2hlbWEsIHRoaXMub3B0aW9ucywgcGF0aCwgYmFzZSwgT2JqZWN0LmNyZWF0ZSh0aGlzLnNjaGVtYXMpKTtcbiAgaWYoaWQgJiYgIWN0eC5zY2hlbWFzW2Jhc2VdKXtcbiAgICBjdHguc2NoZW1hc1tiYXNlXSA9IHNjaGVtYTtcbiAgfVxuICByZXR1cm4gY3R4O1xufTtcblxudmFyIEZPUk1BVF9SRUdFWFBTID0gZXhwb3J0cy5GT1JNQVRfUkVHRVhQUyA9IHtcbiAgLy8gNy4zLjEuIERhdGVzLCBUaW1lcywgYW5kIER1cmF0aW9uXG4gICdkYXRlLXRpbWUnOiAvXlxcZHs0fS0oPzowWzAtOV17MX18MVswLTJdezF9KS0oM1swMV18MFsxLTldfFsxMl1bMC05XSlbdFQgXSgyWzAtNF18WzAxXVswLTldKTooWzAtNV1bMC05XSk6KDYwfFswLTVdWzAtOV0pKFxcLlxcZCspPyhbelpdfFsrLV0oWzAtNV1bMC05XSk6KDYwfFswLTVdWzAtOV0pKSQvLFxuICAnZGF0ZSc6IC9eXFxkezR9LSg/OjBbMC05XXsxfXwxWzAtMl17MX0pLSgzWzAxXXwwWzEtOV18WzEyXVswLTldKSQvLFxuICAndGltZSc6IC9eKDJbMC00XXxbMDFdWzAtOV0pOihbMC01XVswLTldKTooNjB8WzAtNV1bMC05XSkkLyxcbiAgJ2R1cmF0aW9uJzogL1AoVFxcZCsoSChcXGQrTShcXGQrUyk/KT98TShcXGQrUyk/fFMpfFxcZCsoRHxNKFxcZCtEKT98WShcXGQrTShcXGQrRCk/KT8pKFRcXGQrKEgoXFxkK00oXFxkK1MpPyk/fE0oXFxkK1MpP3xTKSk/fFxcZCtXKS9pLFxuXG4gIC8vIDcuMy4yLiBFbWFpbCBBZGRyZXNzZXNcbiAgLy8gVE9ETzogZml4IHRoZSBlbWFpbCBwcm9kdWN0aW9uXG4gICdlbWFpbCc6IC9eKD86W1xcd1xcIVxcI1xcJFxcJVxcJlxcJ1xcKlxcK1xcLVxcL1xcPVxcP1xcXlxcYFxce1xcfFxcfVxcfl0rXFwuKSpbXFx3XFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwtXFwvXFw9XFw/XFxeXFxgXFx7XFx8XFx9XFx+XStAKD86KD86KD86W2EtekEtWjAtOV0oPzpbYS16QS1aMC05XFwtXSg/IVxcLikpezAsNjF9W2EtekEtWjAtOV0/XFwuKStbYS16QS1aMC05XSg/OlthLXpBLVowLTlcXC1dKD8hJCkpezAsNjF9W2EtekEtWjAtOV0/KXwoPzpcXFsoPzooPzpbMDFdP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKVxcLil7M30oPzpbMDFdP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKVxcXSkpJC8sXG4gICdpZG4tZW1haWwnOiAvXihcIig/OlshIy1cXFtcXF0tXFx1ezEwRkZGRn1dfFxcXFxbXFx0IC1cXHV7MTBGRkZGfV0pKlwifFshIy0nKitcXC0vLTk9P0EtWlxcXi1cXHV7MTBGRkZGfV0oPzpcXC4/WyEjLScqK1xcLS8tOT0/QS1aXFxeLVxcdXsxMEZGRkZ9XSkqKUAoWyEjLScqK1xcLS8tOT0/QS1aXFxeLVxcdXsxMEZGRkZ9XSg/OlxcLj9bISMtJyorXFwtLy05PT9BLVpcXF4tXFx1ezEwRkZGRn1dKSp8XFxbWyEtWlxcXi1cXHV7MTBGRkZGfV0qXFxdKSQvdSxcblxuICAvLyA3LjMuMy4gSG9zdG5hbWVzXG5cbiAgLy8gNy4zLjQuIElQIEFkZHJlc3Nlc1xuICAnaXAtYWRkcmVzcyc6IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pJC8sXG4gIC8vIEZJWE1FIHdoaXRlc3BhY2UgaXMgaW52YWxpZFxuICAnaXB2Nic6IC9eXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLyxcblxuICAvLyA3LjMuNS4gUmVzb3VyY2UgSWRlbnRpZmllcnNcbiAgLy8gVE9ETzogQSBtb3JlIGFjY3VyYXRlIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgXCJ1cmlcIiBnb2VzOlxuICAvLyBbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOigoLygvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/KT8pPyMoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoLygvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/Wy8/XXxbISQmLS4wLTs9Py1aX2Eten5dKXwvPyVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTs9Py1aX2Eten5dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqKCMoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKik/fC8oLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSsoOlxcZCopP3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/OlxcZCp8XFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KT8pP1xuICAndXJpJzogL15bYS16QS1aXVthLXpBLVowLTkrLi1dKjpbXlxcc10qJC8sXG4gICd1cmktcmVmZXJlbmNlJzogL14oKCgoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKig6JVswLTlBLUZhLWZdezJ9fDpbISQmLS4wLTs9Py1aX2Eten5dfFsvP10pfFxcPykoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjo/KT8pfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOik/XFwvKCglWzAtOUEtRmEtZl17Mn18XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/Wy8/XXxbISQmLS4wLTs9Py1aX2Eten5dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfChcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT8pPykpIyglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfCgoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKik/JVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QF9+XXxbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qWyEkJi0qLDs9QF9+XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QC1aX2Eten5dKSooKChbLz9dKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSopPyN8Wy8/XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKik/fChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKDolWzAtOUEtRmEtZl17Mn18OlshJCYtLjAtOz0/LVpfYS16fl18Wy8/XSl8XFw/KSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOik/XFwvKCglWzAtOUEtRmEtZl17Mn18XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/Wy8/XXxbISQmLS4wLTs9Py1aX2Eten5dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSsoOlxcZCopP3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/OlxcZCp8XFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KT98W0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjo/KT8kLyxcbiAgJ2lyaSc6IC9eW2EtekEtWl1bYS16QS1aMC05Ky4tXSo6W15cXHNdKiQvLFxuICAnaXJpLXJlZmVyZW5jZSc6IC9eKCgoKFtBLVphLXpdWytcXC0uMC05QS1aYS16XSooOiVbMC05QS1GYS1mXXsyfXw6WyEkJi0uMC07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XXxbLz9dKXxcXD8pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6Pyk/KXwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjopP1xcLygoJVswLTlBLUZhLWZdezJ9fFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fi1cXHV7MTBGRkZGfV0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKnwoXFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fi1cXHV7MTBGRkZGfV0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/KT8pKSMoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKnwoKFtBLVphLXpdWytcXC0uMC05QS1aYS16XSopPyVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUBffi1cXHV7MTBGRkZGfV18W0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKlshJCYtKiw7PUBffi1cXHV7MTBGRkZGfV0pKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUAtWl9hLXp+LVxcdXsxMEZGRkZ9XSkqKCgoWy8/XSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqKT8jfFsvP10pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSopP3woW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKig6JVswLTlBLUZhLWZdezJ9fDpbISQmLS4wLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dfFsvP10pfFxcPykoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKnwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjopP1xcLygoJVswLTlBLUZhLWZdezJ9fFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fi1cXHV7MTBGRkZGfV0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKnxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSkrKDpcXGQqKT98KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fi1cXHV7MTBGRkZGfV0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPzpcXGQqfFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fi1cXHV7MTBGRkZGfV0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPyk/fFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6Pyk/JC91LFxuICAndXVpZCc6IC9eWzAtOUEtRl17OH0tWzAtOUEtRl17NH0tWzAtOUEtRl17NH0tWzAtOUEtRl17NH0tWzAtOUEtRl17MTJ9JC9pLFxuXG4gIC8vIDcuMy42LiB1cmktdGVtcGxhdGVcbiAgJ3VyaS10ZW1wbGF0ZSc6IC8oJVswLTlhLWZdezJ9fFshIyQmKC07PT9AXFxbXFxdX2Eten5dfFxce1shIyYrLC4vOz0/QHxdPyglWzAtOWEtZl17Mn18WzAtOV9hLXpdKShcXC4/KCVbMC05YS1mXXsyfXxbMC05X2Etel0pKSooOlsxLTldXFxkezAsM318XFwqKT8oLCglWzAtOWEtZl17Mn18WzAtOV9hLXpdKShcXC4/KCVbMC05YS1mXXsyfXxbMC05X2Etel0pKSooOlsxLTldXFxkezAsM318XFwqKT8pKlxcfSkqL2l1LFxuXG4gIC8vIDcuMy43LiBKU09OIFBvaW50ZXJzXG4gICdqc29uLXBvaW50ZXInOiAvXihcXC8oW1xceDAwLVxceDJlMC1AXFxbLX1cXHg3Zl18flswMV0pKikqJC9pdSxcbiAgJ3JlbGF0aXZlLWpzb24tcG9pbnRlcic6IC9eXFxkKygjfChcXC8oW1xceDAwLVxceDJlMC1AXFxbLX1cXHg3Zl18flswMV0pKikqKSQvaXUsXG5cbiAgLy8gaG9zdG5hbWUgcmVnZXggZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQyMDIyNS81NjI4XG4gICdob3N0bmFtZSc6IC9eKD89LnsxLDI1NX0kKVswLTlBLVphLXpdKD86KD86WzAtOUEtWmEtel18LSl7MCw2MX1bMC05QS1aYS16XSk/KD86XFwuWzAtOUEtWmEtel0oPzooPzpbMC05QS1aYS16XXwtKXswLDYxfVswLTlBLVphLXpdKT8pKlxcLj8kLyxcbiAgJ2hvc3QtbmFtZSc6IC9eKD89LnsxLDI1NX0kKVswLTlBLVphLXpdKD86KD86WzAtOUEtWmEtel18LSl7MCw2MX1bMC05QS1aYS16XSk/KD86XFwuWzAtOUEtWmEtel0oPzooPzpbMC05QS1aYS16XXwtKXswLDYxfVswLTlBLVphLXpdKT8pKlxcLj8kLyxcblxuICAndXRjLW1pbGxpc2VjJzogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSAmJiBwYXJzZUZsb2F0KGlucHV0KSA9PT0gcGFyc2VJbnQoaW5wdXQsIDEwKSAmJiAhaXNOYU4oaW5wdXQpO1xuICB9LFxuXG4gIC8vIDcuMy44LiByZWdleFxuICAncmVnZXgnOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgbmV3IFJlZ0V4cChpbnB1dCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgLy8gT3RoZXIgZGVmaW5pdGlvbnNcbiAgLy8gXCJzdHlsZVwiIHdhcyByZW1vdmVkIGZyb20gSlNPTiBTY2hlbWEgaW4gZHJhZnQtNCBhbmQgaXMgZGVwcmVjYXRlZFxuICAnc3R5bGUnOiAvW1xcclxcblxcdCBdKlteXFxyXFxuXFx0IF1bXjpdKjpbXFxyXFxuXFx0IF0qW15cXHJcXG5cXHQgO10qW1xcclxcblxcdCBdKjs/LyxcbiAgLy8gXCJjb2xvclwiIHdhcyByZW1vdmVkIGZyb20gSlNPTiBTY2hlbWEgaW4gZHJhZnQtNCBhbmQgaXMgZGVwcmVjYXRlZFxuICAnY29sb3InOiAvXigjPyhbMC05QS1GYS1mXXszfSl7MSwyfVxcYnxhcXVhfGJsYWNrfGJsdWV8ZnVjaHNpYXxncmF5fGdyZWVufGxpbWV8bWFyb29ufG5hdnl8b2xpdmV8b3JhbmdlfHB1cnBsZXxyZWR8c2lsdmVyfHRlYWx8d2hpdGV8eWVsbG93fChyZ2JcXChcXHMqXFxiKFswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSlcXGJcXHMqLFxccypcXGIoWzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKVxcYlxccyosXFxzKlxcYihbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pXFxiXFxzKlxcKSl8KHJnYlxcKFxccyooXFxkP1xcZCV8MTAwJSkrXFxzKixcXHMqKFxcZD9cXGQlfDEwMCUpK1xccyosXFxzKihcXGQ/XFxkJXwxMDAlKStcXHMqXFwpKSkkLyxcbiAgJ3Bob25lJzogL15cXCsoPzpbMC05XSA/KXs2LDE0fVswLTldJC8sXG4gICdhbHBoYSc6IC9eW2EtekEtWl0rJC8sXG4gICdhbHBoYW51bWVyaWMnOiAvXlthLXpBLVowLTldKyQvLFxufTtcblxuRk9STUFUX1JFR0VYUFMucmVnZXhwID0gRk9STUFUX1JFR0VYUFMucmVnZXg7XG5GT1JNQVRfUkVHRVhQUy5wYXR0ZXJuID0gRk9STUFUX1JFR0VYUFMucmVnZXg7XG5GT1JNQVRfUkVHRVhQUy5pcHY0ID0gRk9STUFUX1JFR0VYUFNbJ2lwLWFkZHJlc3MnXTtcblxuZXhwb3J0cy5pc0Zvcm1hdCA9IGZ1bmN0aW9uIGlzRm9ybWF0IChpbnB1dCwgZm9ybWF0LCB2YWxpZGF0b3IpIHtcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgJiYgRk9STUFUX1JFR0VYUFNbZm9ybWF0XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0gaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJldHVybiBGT1JNQVRfUkVHRVhQU1tmb3JtYXRdLnRlc3QoaW5wdXQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBGT1JNQVRfUkVHRVhQU1tmb3JtYXRdKGlucHV0KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodmFsaWRhdG9yICYmIHZhbGlkYXRvci5jdXN0b21Gb3JtYXRzICYmXG4gICAgICB0eXBlb2YgdmFsaWRhdG9yLmN1c3RvbUZvcm1hdHNbZm9ybWF0XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWxpZGF0b3IuY3VzdG9tRm9ybWF0c1tmb3JtYXRdKGlucHV0KTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbnZhciBtYWtlU3VmZml4ID0gZXhwb3J0cy5tYWtlU3VmZml4ID0gZnVuY3Rpb24gbWFrZVN1ZmZpeCAoa2V5KSB7XG4gIGtleSA9IGtleS50b1N0cmluZygpO1xuICAvLyBUaGlzIGZ1bmN0aW9uIGNvdWxkIGJlIGNhcGFibGUgb2Ygb3V0cHV0dGluZyB2YWxpZCBhIEVDTUFTY3JpcHQgc3RyaW5nLCBidXQgdGhlXG4gIC8vIHJlc3VsdGluZyBjb2RlIGZvciB0ZXN0aW5nIHdoaWNoIGZvcm0gdG8gdXNlIHdvdWxkIGJlIHRlbnMgb2YgdGhvdXNhbmRzIG9mIGNoYXJhY3RlcnMgbG9uZ1xuICAvLyBUaGF0IG1lYW5zIHRoaXMgd2lsbCB1c2UgdGhlIG5hbWUgZm9ybSBmb3Igc29tZSBpbGxlZ2FsIGZvcm1zXG4gIGlmICgha2V5Lm1hdGNoKC9bLlxcc1xcW1xcXV0vKSAmJiAha2V5Lm1hdGNoKC9eW1xcZF0vKSkge1xuICAgIHJldHVybiAnLicgKyBrZXk7XG4gIH1cbiAgaWYgKGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICByZXR1cm4gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIHJldHVybiAnWycgKyBKU09OLnN0cmluZ2lmeShrZXkpICsgJ10nO1xufTtcblxuZXhwb3J0cy5kZWVwQ29tcGFyZVN0cmljdCA9IGZ1bmN0aW9uIGRlZXBDb21wYXJlU3RyaWN0IChhLCBiKSB7XG4gIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYS5ldmVyeShmdW5jdGlvbiAodiwgaSkge1xuICAgICAgcmV0dXJuIGRlZXBDb21wYXJlU3RyaWN0KGFbaV0sIGJbaV0pO1xuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoIWEgfHwgIWIpIHtcbiAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH1cbiAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcbiAgICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGFLZXlzLmV2ZXJ5KGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gZGVlcENvbXBhcmVTdHJpY3QoYVt2XSwgYlt2XSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGEgPT09IGI7XG59O1xuXG5mdW5jdGlvbiBkZWVwTWVyZ2VyICh0YXJnZXQsIGRzdCwgZSwgaSkge1xuICBpZiAodHlwZW9mIGUgPT09ICdvYmplY3QnKSB7XG4gICAgZHN0W2ldID0gZGVlcE1lcmdlKHRhcmdldFtpXSwgZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRhcmdldC5pbmRleE9mKGUpID09PSAtMSkge1xuICAgICAgZHN0LnB1c2goZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvcHlpc3QgKHNyYywgZHN0LCBrZXkpIHtcbiAgZHN0W2tleV0gPSBzcmNba2V5XTtcbn1cblxuZnVuY3Rpb24gY29weWlzdFdpdGhEZWVwTWVyZ2UgKHRhcmdldCwgc3JjLCBkc3QsIGtleSkge1xuICBpZiAodHlwZW9mIHNyY1trZXldICE9PSAnb2JqZWN0JyB8fCAhc3JjW2tleV0pIHtcbiAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICB9XG4gIGVsc2Uge1xuICAgIGlmICghdGFyZ2V0W2tleV0pIHtcbiAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRzdFtrZXldID0gZGVlcE1lcmdlKHRhcmdldFtrZXldLCBzcmNba2V5XSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZSAodGFyZ2V0LCBzcmMpIHtcbiAgdmFyIGFycmF5ID0gQXJyYXkuaXNBcnJheShzcmMpO1xuICB2YXIgZHN0ID0gYXJyYXkgJiYgW10gfHwge307XG5cbiAgaWYgKGFycmF5KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IFtdO1xuICAgIGRzdCA9IGRzdC5jb25jYXQodGFyZ2V0KTtcbiAgICBzcmMuZm9yRWFjaChkZWVwTWVyZ2VyLmJpbmQobnVsbCwgdGFyZ2V0LCBkc3QpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3Qua2V5cyh0YXJnZXQpLmZvckVhY2goY29weWlzdC5iaW5kKG51bGwsIHRhcmdldCwgZHN0KSk7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaChjb3B5aXN0V2l0aERlZXBNZXJnZS5iaW5kKG51bGwsIHRhcmdldCwgc3JjLCBkc3QpKTtcbiAgfVxuXG4gIHJldHVybiBkc3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzLmRlZXBNZXJnZSA9IGRlZXBNZXJnZTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgaW5zdGFuY2UgYWdhaW5zdCB0aGUgcHJvdmlkZWQgc2NoZW1hXG4gKiBJbXBsZW1lbnRzIFVSSStKU09OIFBvaW50ZXIgZW5jb2RpbmcsIGUuZy4gXCIlN2VcIj1cIn4wXCI9PlwiflwiLCBcIn4xXCI9XCIlMmZcIj0+XCIvXCJcbiAqIEBwYXJhbSBvXG4gKiBAcGFyYW0gcyBUaGUgcGF0aCB0byB3YWxrIG8gYWxvbmdcbiAqIEByZXR1cm4gYW55XG4gKi9cbmV4cG9ydHMub2JqZWN0R2V0UGF0aCA9IGZ1bmN0aW9uIG9iamVjdEdldFBhdGgobywgcykge1xuICB2YXIgcGFydHMgPSBzLnNwbGl0KCcvJykuc2xpY2UoMSk7XG4gIHZhciBrO1xuICB3aGlsZSAodHlwZW9mIChrPXBhcnRzLnNoaWZ0KCkpID09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG4gPSBkZWNvZGVVUklDb21wb25lbnQoay5yZXBsYWNlKC9+MC8sJ34nKS5yZXBsYWNlKC9+MS9nLCcvJykpO1xuICAgIGlmICghKG4gaW4gbykpIHJldHVybjtcbiAgICBvID0gb1tuXTtcbiAgfVxuICByZXR1cm4gbztcbn07XG5cbmZ1bmN0aW9uIHBhdGhFbmNvZGVyICh2KSB7XG4gIHJldHVybiAnLycrZW5jb2RlVVJJQ29tcG9uZW50KHYpLnJlcGxhY2UoL34vZywnJTdFJyk7XG59XG4vKipcbiAqIEFjY2VwdCBhbiBBcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgcmV0dXJuIGEgSlNPTiBQb2ludGVyIFVSSSBmcmFnbWVudFxuICogQHBhcmFtIEFycmF5IGFcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5lbmNvZGVQYXRoID0gZnVuY3Rpb24gZW5jb2RlUG9pbnRlcihhKXtcbiAgLy8gfiBtdXN0IGJlIGVuY29kZWQgZXhwbGljaXRseSBiZWNhdXNlIGhhY2tzXG4gIC8vIHRoZSBzbGFzaCBpcyBlbmNvZGVkIGJ5IGVuY29kZVVSSUNvbXBvbmVudFxuICByZXR1cm4gYS5tYXAocGF0aEVuY29kZXIpLmpvaW4oJycpO1xufTtcblxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGEgbnVtYmVyIHVzZXNcbiAqIFdlIG5lZWQgdGhpcyB0byBnZXQgY29ycmVjdCByZXN1bHRzIG91dCBvZiBtdWx0aXBsZU9mIGFuZCBkaXZpc2libGVCeVxuICogd2hlbiBlaXRoZXIgZmlndXJlIGlzIGhhcyBkZWNpbWFsIHBsYWNlcywgZHVlIHRvIElFRUUtNzU0IGZsb2F0IGlzc3Vlcy5cbiAqIEBwYXJhbSBudW1iZXJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydHMuZ2V0RGVjaW1hbFBsYWNlcyA9IGZ1bmN0aW9uIGdldERlY2ltYWxQbGFjZXMobnVtYmVyKSB7XG5cbiAgdmFyIGRlY2ltYWxQbGFjZXMgPSAwO1xuICBpZiAoaXNOYU4obnVtYmVyKSkgcmV0dXJuIGRlY2ltYWxQbGFjZXM7XG5cbiAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgbnVtYmVyID0gTnVtYmVyKG51bWJlcik7XG4gIH1cblxuICB2YXIgcGFydHMgPSBudW1iZXIudG9TdHJpbmcoKS5zcGxpdCgnZScpO1xuICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgaWYgKHBhcnRzWzFdWzBdICE9PSAnLScpIHtcbiAgICAgIHJldHVybiBkZWNpbWFsUGxhY2VzO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWNpbWFsUGxhY2VzID0gTnVtYmVyKHBhcnRzWzFdLnNsaWNlKDEpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZGVjaW1hbFBhcnRzID0gcGFydHNbMF0uc3BsaXQoJy4nKTtcbiAgaWYgKGRlY2ltYWxQYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICBkZWNpbWFsUGxhY2VzICs9IGRlY2ltYWxQYXJ0c1sxXS5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gZGVjaW1hbFBsYWNlcztcbn07XG5cbmV4cG9ydHMuaXNTY2hlbWEgPSBmdW5jdGlvbiBpc1NjaGVtYSh2YWwpe1xuICByZXR1cm4gKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCkgfHwgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJyk7XG59O1xuXG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbiAgICAvLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN0cmluZ2lmeS9wYXJzZSBmdW5jdGlvbnMgdGhhdCBkb24ndCBvcGVyYXRlXG4gKiByZWN1cnNpdmVseSwgc28gdGhleSBhdm9pZCBjYWxsIHN0YWNrIGV4Y2VlZGVkXG4gKiBlcnJvcnMuXG4gKi9cbmV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5KGlucHV0KSB7XG4gIHZhciBxdWV1ZSA9IFtdO1xuICBxdWV1ZS5wdXNoKHtvYmo6IGlucHV0fSk7XG5cbiAgdmFyIHJlcyA9ICcnO1xuICB2YXIgbmV4dCwgb2JqLCBwcmVmaXgsIHZhbCwgaSwgYXJyYXlQcmVmaXgsIGtleXMsIGssIGtleSwgdmFsdWUsIG9ialByZWZpeDtcbiAgd2hpbGUgKChuZXh0ID0gcXVldWUucG9wKCkpKSB7XG4gICAgb2JqID0gbmV4dC5vYmo7XG4gICAgcHJlZml4ID0gbmV4dC5wcmVmaXggfHwgJyc7XG4gICAgdmFsID0gbmV4dC52YWwgfHwgJyc7XG4gICAgcmVzICs9IHByZWZpeDtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXMgKz0gdmFsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJlcyArPSB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICByZXMgKz0gJ251bGwnO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICddJ30pO1xuICAgICAgZm9yIChpID0gb2JqLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGFycmF5UHJlZml4ID0gaSA9PT0gMCA/ICcnIDogJywnO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IG9ialtpXSwgcHJlZml4OiBhcnJheVByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAnWyd9KTtcbiAgICB9IGVsc2UgeyAvLyBvYmplY3RcbiAgICAgIGtleXMgPSBbXTtcbiAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgIGtleXMucHVzaChrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAnfSd9KTtcbiAgICAgIGZvciAoaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgb2JqUHJlZml4ID0gKGkgPiAwID8gJywnIDogJycpO1xuICAgICAgICBvYmpQcmVmaXggKz0gSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6JztcbiAgICAgICAgcXVldWUucHVzaCh7b2JqOiB2YWx1ZSwgcHJlZml4OiBvYmpQcmVmaXh9KTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ3snfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG4vLyBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgdGhlIHBhcnNlIGZ1bmN0aW9uLlxuLy8gVGhpcyBwb3AgZnVuY3Rpb24gaXMgYmFzaWNhbGx5IGNvcGllZCBmcm9tXG4vLyBwb3VjaENvbGxhdGUucGFyc2VJbmRleGFibGVTdHJpbmdcbmZ1bmN0aW9uIHBvcChvYmosIHN0YWNrLCBtZXRhU3RhY2spIHtcbiAgdmFyIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gIGlmIChvYmogPT09IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50KSB7XG4gICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICBtZXRhU3RhY2sucG9wKCk7XG4gICAgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgfVxuICB2YXIgZWxlbWVudCA9IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50O1xuICB2YXIgbGFzdEVsZW1lbnRJbmRleCA9IGxhc3RNZXRhRWxlbWVudC5pbmRleDtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICBlbGVtZW50LnB1c2gob2JqKTtcbiAgfSBlbHNlIGlmIChsYXN0RWxlbWVudEluZGV4ID09PSBzdGFjay5sZW5ndGggLSAyKSB7IC8vIG9iaiB3aXRoIGtleSt2YWx1ZVxuICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICBlbGVtZW50W2tleV0gPSBvYmo7XG4gIH0gZWxzZSB7XG4gICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICB9XG59XG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBzdGFjayA9IFtdO1xuICB2YXIgbWV0YVN0YWNrID0gW107IC8vIHN0YWNrIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgdmFyIGkgPSAwO1xuICB2YXIgY29sbGF0aW9uSW5kZXgscGFyc2VkTnVtLG51bUNoYXI7XG4gIHZhciBwYXJzZWRTdHJpbmcsbGFzdENoLG51bUNvbnNlY3V0aXZlU2xhc2hlcyxjaDtcbiAgdmFyIGFycmF5RWxlbWVudCwgb2JqRWxlbWVudDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb2xsYXRpb25JbmRleCA9IHN0cltpKytdO1xuICAgIGlmIChjb2xsYXRpb25JbmRleCA9PT0gJ30nIHx8XG4gICAgICAgIGNvbGxhdGlvbkluZGV4ID09PSAnXScgfHxcbiAgICAgICAgdHlwZW9mIGNvbGxhdGlvbkluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhY2sucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3Aoc3RhY2sucG9wKCksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnICc6XG4gICAgICBjYXNlICdcXHQnOlxuICAgICAgY2FzZSAnXFxuJzpcbiAgICAgIGNhc2UgJzonOlxuICAgICAgY2FzZSAnLCc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbic6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3VsbCdcbiAgICAgICAgcG9wKG51bGwsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3QnOlxuICAgICAgICBpICs9IDM7IC8vICdydWUnXG4gICAgICAgIHBvcCh0cnVlLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmJzpcbiAgICAgICAgaSArPSA0OyAvLyAnYWxzZSdcbiAgICAgICAgcG9wKGZhbHNlLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcwJzpcbiAgICAgIGNhc2UgJzEnOlxuICAgICAgY2FzZSAnMic6XG4gICAgICBjYXNlICczJzpcbiAgICAgIGNhc2UgJzQnOlxuICAgICAgY2FzZSAnNSc6XG4gICAgICBjYXNlICc2JzpcbiAgICAgIGNhc2UgJzcnOlxuICAgICAgY2FzZSAnOCc6XG4gICAgICBjYXNlICc5JzpcbiAgICAgIGNhc2UgJy0nOlxuICAgICAgICBwYXJzZWROdW0gPSAnJztcbiAgICAgICAgaS0tO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG51bUNoYXIgPSBzdHJbaSsrXTtcbiAgICAgICAgICBpZiAoL1tcXGRcXC5cXC1lXFwrXS8udGVzdChudW1DaGFyKSkge1xuICAgICAgICAgICAgcGFyc2VkTnVtICs9IG51bUNoYXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3AocGFyc2VGbG9hdChwYXJzZWROdW0pLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdcIic6XG4gICAgICAgIHBhcnNlZFN0cmluZyA9ICcnO1xuICAgICAgICBsYXN0Q2ggPSB2b2lkIDA7XG4gICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgY2ggPSBzdHJbaSsrXTtcbiAgICAgICAgICBpZiAoY2ggIT09ICdcIicgfHwgKGxhc3RDaCA9PT0gJ1xcXFwnICYmXG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyAlIDIgPT09IDEpKSB7XG4gICAgICAgICAgICBwYXJzZWRTdHJpbmcgKz0gY2g7XG4gICAgICAgICAgICBsYXN0Q2ggPSBjaDtcbiAgICAgICAgICAgIGlmIChsYXN0Q2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3AoSlNPTi5wYXJzZSgnXCInICsgcGFyc2VkU3RyaW5nICsgJ1wiJyksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICBhcnJheUVsZW1lbnQgPSB7IGVsZW1lbnQ6IFtdLCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2goYXJyYXlFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChhcnJheUVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3snOlxuICAgICAgICBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAndW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAnICsgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBEcmFnQWN0aW9uLCBFZGl0b3JBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBCQm94LCBpc091dE9mU1ZHQm91bmRzLCBnZXRHbHlwaEJCb3ggfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcbmltcG9ydCB7IHF1ZXVlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgc2VsZWN0QWxsLCBzZWxlY3RCQm94LCBzZWxlY3RTdGFmZiB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuXG5jbGFzcyBEcmFnSGFuZGxlciB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcHJpdmF0ZSBzZWxlY3Rvcjogc3RyaW5nO1xuICBwcml2YXRlIHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gIHByaXZhdGUgbm9Nb3ZlUHJlY2VkZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIHByaXZhdGUgZHJhZ1N0YXJ0Q29vcmRzOiBbbnVtYmVyLCBudW1iZXJdID0gWy0xLCAtMV07XG4gIHByaXZhdGUgcmVzZXRUb0FjdGlvbjogKHNlbGVjdGlvbjogZDMuU2VsZWN0aW9uPGQzLkJhc2VUeXBlLCB1bmtub3duLCBIVE1MRWxlbWVudCwgdW5rbm93bj4sIGFyZ3M6IHVua25vd25bXSkgPT4gdm9pZDtcblxuICBwcml2YXRlIGR4OiBudW1iZXI7XG4gIHByaXZhdGUgZHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQ1NTIHNlbGVjdG9yIG9mIGVsZW1lbnQgdG8gYXBwbHkgZHJhZyBoYW5kbGVyIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc2VsZWN0b3I6IHN0cmluZykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgZHJhZ2dpbmcgYWN0aW9uIGFuZCBoYW5kbGVyIGZvciBzZWxlY3RlZCBlbGVtZW50cy5cbiAgICovXG4gIGRyYWdJbml0ICgpOiB2b2lkIHtcbiAgICAvLyBEcmFnIGVmZmVjdHNcbiAgICBmdW5jdGlvbiBkcmFnU3RhcnRlZCAoKTogdm9pZCB7XG4gICAgICB0aGlzLmRyYWdTdGFydENvb3JkcyA9IFtkMy5ldmVudC54LCBkMy5ldmVudC55XTtcbiAgICAgIHRoaXMuZHggPSAwO1xuICAgICAgdGhpcy5keSA9IDA7XG4gICAgICBjb25zdCB0YXJnZXQgPSBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgICBkMy5zZWxlY3QodGhpcy5zZWxlY3RvcikuY2FsbChkcmFnQmVoYXZpb3VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGRpbmcgbGlzdGVuZXJzXG4gICAgY29uc3QgZHJhZ0JlaGF2aW91ciA9IGQzLmRyYWcoKVxuICAgICAgLm9uKCdzdGFydCcsIGRyYWdTdGFydGVkLmJpbmQodGhpcykpXG4gICAgICAub24oJ2RyYWcnLCB0aGlzLmRyYWdnaW5nLmJpbmQodGhpcykpXG4gICAgICAub24oJ2VuZCcsIHRoaXMuZHJhZ0VuZGVkLmJpbmQodGhpcykpO1xuXG4gICAgY29uc3QgYWN0aXZlTmMgPSBkMy5zZWxlY3RBbGwoJy5zZWxlY3RlZCcpO1xuICAgIGFjdGl2ZU5jLmNhbGwoZHJhZ0JlaGF2aW91cik7XG5cbiAgICBsZXQgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPFNWR0dyYXBoaWNzRWxlbWVudD4oJy5zZWxlY3RlZCcpKTtcblxuICAgIC8vIGlmIHRoZSB1c2VyIGRyYWdzIHRoZSBmb2xsb3dzIHN5bGxhYmxlIGluIGEgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZSwgXG4gICAgLy8gY2FuY2VsIHRoZSBjb21wZW5zYXRpb24gZm9yIHN5bCBtb3ZlbWVudCBpbiBkcmFnZ2luZy5cbiAgICB0aGlzLm5vTW92ZVByZWNlZGVzID0gc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnbm8tbW92aW5nJykgJiYgZWwuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSk7XG4gICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSk7XG5cbiAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPFNWR0dyYXBoaWNzRWxlbWVudD4oJy5yZXNpemVQb2ludCcpKSk7XG4gIH1cblxuICBkcmFnZ2luZyAoKTogdm9pZCB7XG4gICAgdGhpcy5keCA9IGQzLmV2ZW50LnggLSB0aGlzLmRyYWdTdGFydENvb3Jkc1swXTtcbiAgICB0aGlzLmR5ID0gZDMuZXZlbnQueSAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzFdO1xuXG4gICAgdGhpcy5tb3ZlRWxlbWVudHModGhpcy5zZWxlY3Rpb24sIHRoaXMuZHgsIHRoaXMuZHkpO1xuXG4gICAgLypcbiAgICAgKiBpZiB3ZSdyZSBkcmFnZ2luZyBhIHN5bGxhYmxlIChvciBuZXVtZSBldGMpIHRoZW4gdGhlcmUgd29uJ3QgYmUgYSBzeWwgc2VsZWN0ZWRcbiAgICAgKiB0aGVuIHdlIGRvbid0IHdhbnQgdGhlIGJvdW5kaW5nIGJveCAoaWYgaXQgaXMgZGlzcGxheWVkKSB0byBtb3ZlIHdoZW4gZHJhZ2dpbmcgdGhlIG5ldW1lc1xuICAgICAqIGl0IHdpbGwgYmUgYSBjaGlsZCBvZiB0aGUgZWxlbWVudCBpbiBzZWxlY3Rpb24sIHNvIGl0IHdpbGwgZ2V0IG1vdmVkIGluIHRoZSBhYm92ZSBsb29wXG4gICAgICogc28gd2UgY2FuY2VsIHRoYXQgbW92ZW1lbnQgb3V0IGhlcmVcbiAgICAgKi9cbiAgICBjb25zdCBzeWxzID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSk7XG4gICAgaWYgKHN5bHMubGVuZ3RoID09PSAwICYmIHRoaXMubm9Nb3ZlUHJlY2VkZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBiYm94ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZS5zZWxlY3RlZCcpKVxuICAgICAgICAubWFwKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpO1xuICAgICAgdGhpcy5tb3ZlRWxlbWVudHMoYmJveGVzLCAtdGhpcy5keCwgLXRoaXMuZHkpO1xuICAgIH1cbiAgfVxuXG5cbiAgZHJhZ0VuZGVkICgpOiB2b2lkIHtcbiAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGhhcyBub3QgYmVlbiBtb3ZlZCBtb3JlIHRoYW4gNSBwaXhlbHMgaW4gYW55IGRpcmVjdGlvbixcbiAgICAvLyBkbyBub3QgZG8gYW55IGFjdGlvblxuICAgIGNvbnN0IHhEaWZmID0gTWF0aC5hYnModGhpcy5keCksIHlEaWZmID0gTWF0aC5hYnModGhpcy5keSk7XG4gICAgaWYgKHhEaWZmIDw9IDUgJiYgeURpZmYgPD0gNSkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBzZWxlY3Rpb24gZm9yIGRyYWdnYWJsZSBlbGVtZW50c1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZVBvaW50JykpO1xuXG4gICAgLy8gSWYgdGhlIGN1cnNvciBpcyBvdXQgb2YgYm91bmRzIG9yIHRoZSBzZWxlY3Rpb24gYXJyYXkgaXMgb3V0IG9mIGJvdW5kcyxcbiAgICAvLyBkcmFnIGFjdGlvbnMgc2hvdWxkIG5vdCBoYXBwZW4uIFJldHVybiBhbiBlcnJvciBub3RpZmljYXRpb24gYW5kIHJlc2V0XG4gICAgLy8gdGhlIGRyYWcgaGFuZGxlclxuICAgIGlmICh0aGlzLmlzQ3Vyc29yT3V0T2ZCb3VuZHMoKSB8fCB0aGlzLmlzRHJhZ091dE9mQm91bmRzKHNlbGVjdGlvbikpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgc2VsZWN0aW9uIGJhY2sgdG8gbm9ybWFsIHN0YXRlXG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKHRoaXMuc2VsZWN0aW9uKTtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBib3VuZGluZyBib3hlcyBhcyB3ZWxsXG4gICAgICBjb25zdCBiYm94ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZS5zZWxlY3RlZCcpKVxuICAgICAgICAubWFwKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpO1xuICAgICAgdGhpcy5yZXR1cm5FbGVtZW50cyhiYm94ZXMpO1xuXG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm4gcXVldWVOb3RpZmljYXRpb24oJ1tGQUlMXSBHbHlwaHMgd2VyZSBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgRHJhZyBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgY2hhaW4gZWRpdG9yIGFjdGlvbiBmb3Igc2VsZWN0aW9uXG4gICAgY29uc3QgcGFyYW1BcnJheTogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgICBzZWxlY3Rpb24uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGNvbnN0IGlkID0gZWwudGFnTmFtZSA9PT0gJ3JlY3QnID8gZWwuY2xvc2VzdCgnLnN5bCcpLmlkIDogZWwuaWQ7XG5cbiAgICAgIGNvbnN0IGRyYWdBY3Rpb246IERyYWdBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2RyYWcnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgeDogdGhpcy5keCxcbiAgICAgICAgICB5OiAtdGhpcy5keSxcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcGFyYW1BcnJheS5wdXNoKGRyYWdBY3Rpb24pO1xuICAgIH0pO1xuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgcGFyYW06IHBhcmFtQXJyYXlcbiAgICB9O1xuXG4gICAgLy8gU2VuZCBlZGl0b3IgYWN0aW9uXG4gICAgdGhpcy5uZW9uVmlld1xuICAgICAgLmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gTmVvbiByZS1yZW5kZXJzIHRoZSBlbnRpcmUgU1ZHLCBhbmQgaGVuY2UsIGJlZm9yZSB3ZSBkbyBzbyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBzdG9yZSBhbGwgdGhlIGVsZW1lbnRzIChJRHMpIHdlIG5lZWQgdG8gc2VsZWN0IGFnYWluXG4gICAgICAgIC8vIFRoZW4sIHdlIG5lZWQgdG8gcmVzZWxlY3QgdGhlbSBieSBjYWxsaW5nIGB0aGlzLnJlc2VsZWN0KClgXG4gICAgICAgIGNvbnN0IHRvUmVzZWxlY3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKVxuICAgICAgICAgIC5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnbm8tbW92aW5nJykpXG4gICAgICAgICAgLm1hcChlbCA9PiBlbC5pZCk7XG5cbiAgICAgICAgLy8gQ0FVVElPTjogYHVwZGF0ZUZvckN1cnJlbnRQYWdlKClgIGlzIGFuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiFcbiAgICAgICAgLy8gSXQgcmVxdWlyZXMgYW4gYGF3YWl0YCBrZXl3b3JkLlxuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIHRoaXMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gUmVzZWxlY3QgdGhlIGVsZW1lbnRzIGFuZCByZWluaXRpYWxpemUgZHJhZ1xuICAgICAgICBhd2FpdCB0aGlzLnJlc2VsZWN0KHRvUmVzZWxlY3QpO1xuICAgICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlc2VsZWN0ICh0b1Jlc2VsZWN0OiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJlc2VsZWN0ZWQgPSB0b1Jlc2VsZWN0Lm1hcChpZCA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR0dyYXBoaWNzRWxlbWVudD4oYCMke2lkfWApKTtcblxuICAgIC8vIEFsbCBnbHlwaHMgZXhjZXB0IGJvdWRpbmcgYm94ZXMgKCdzeWwncykgbXVzdCBiZSBzZWxlY3RlZCB3aXRoXG4gICAgLy8gYHNlbGVjdEFsbCgpYFxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChhc3luYyAoKSA9PiBhd2FpdCBzZWxlY3RBbGwocmVzZWxlY3RlZCwgdGhpcy5uZW9uVmlldywgdGhpcykpO1xuXG4gICAgLy8gQm91bmRpbmcgYm94ZXMgbXVzdCBiZSBleHBsaWNpdGx5IHNlbGVjdGVkIHVzaW5nIGBzZWxlY3RCQm94KClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIGVsID0+IHNlbGVjdEJCb3goZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgdGhpcywgdGhpcy5uZW9uVmlldylcbiAgICAgICk7XG5cbiAgICAvLyBTdGF2ZXMgbXVzdCBiZSBleHBsaWNpdGx5IHNlbGVjdGVkIHVzaW5nIGBzZWxlY3RTdGFmZigpYFxuICAgIC8vIEFORCBtdXN0IGJlIHNlbGVjdGVkIHdpdGggYHNlbGVjdEFsbCgpYCBmb3IgY29ycmVjdCBiZWhhdmlvciAoZm9yIHNvbWUgcmVhc29uKS5cbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSlcbiAgICAgIC5mb3JFYWNoKGVsID0+IHNlbGVjdFN0YWZmKGVsLCB0aGlzKSk7XG4gIH1cblxuICAvKiogU2V0IHRoZSBkMyBhY3Rpb24gdG8gdXNlIGZvciBbW3Jlc2V0XV0uICovXG4gIHJlc2V0VG8gKHJlc2V0OiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5yZXNldFRvQWN0aW9uID0gcmVzZXQ7XG4gIH1cblxuICAvKiogUmVzZXQgdG8gYSBwcmV2aW91cyBkMyBhY3Rpb24gZm9yIFtbdGhpcy5zZWxlY3Rvcl1dLiAqL1xuICByZXNldCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucmVzZXRUb0FjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkMy5zZWxlY3QodGhpcy5zZWxlY3RvcikuY2FsbCh0aGlzLnJlc2V0VG9BY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24gKCk6IHZvaWQge1xuICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gICAgY29uc3QgZXh0cmFFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpO1xuICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgICBleHRyYUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBleHRyYUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgbW92ZSB0aGUgc2VsZWN0ZWQgZWxlbWVudHMgYnkgYGR4YCBhbmQgYGR5YDsgKG5vdCB1c2luZyBkMylcbiAgICovXG4gIG1vdmVFbGVtZW50cyAoc2VsZWN0aW9uOiBFbGVtZW50W10sIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBzZWxlY3Rpb24uZmlsdGVyKGVsID0+IGVsICE9PSBudWxsKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7ZHh9LCR7ZHl9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZpc3VhbGx5IHJldHVybiBzZWxlY3RlZCBlbGVtZW50cyB0byB0aGVpciBvcmlnaW5hbCBwb3NpdGlvbnNcbiAgICogYnkgcmVtb3ZpbmcgdGhlIHRyYW5zZm9ybSBhdHRyaWJ1dGVcbiAgICovXG4gIHJldHVybkVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSk6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNDdXJzb3JPdXRPZkJvdW5kcyAoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZW5kWCA9IHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdICsgdGhpcy5keDtcbiAgICBjb25zdCBlbmRZID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV0gKyB0aGlzLmR5O1xuXG4gICAgcmV0dXJuIGlzT3V0T2ZTVkdCb3VuZHMoZW5kWCwgZW5kWSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gYXJyYXkgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIFNWR1xuICAgKiBAcGFyYW0ge1NWR0dyYXBoaWNzRWxlbWVudFtdfSBzZWxlY3Rpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59IElzIHNlbGVjdGlvbiBvdXQgb2YgYm91bmRzXG4gICAqL1xuICBpc0RyYWdPdXRPZkJvdW5kcyAoc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICAgIC8vIEdldCB0aGUgYm91bmRpbmcgYm94ZXMgb2YgYWxsIGdseXBocyAoPHVzZT4gZWxlbWVudHMpIHdpdGhpbiB0aGUgc2VsZWN0aW9uIGFycmF5XG4gICAgY29uc3QgaXNCQm94RGlzcGxheWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2Rpc3BsYXlCQm94JykuY2hlY2tlZDtcbiAgICBsZXQgZ2x5cGhTZWxlY3RvciA9IGlzQkJveERpc3BsYXllZCA/ICd1c2UsIHJlY3QnIDogJ3VzZSc7XG5cbiAgICBpZiAoc2VsZWN0aW9uWzBdLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgZ2x5cGhTZWxlY3RvciA9ICdwYXRoJztcblxuICAgIGNvbnN0IGdseXBoczogU1ZHVXNlRWxlbWVudFtdID0gc2VsZWN0aW9uLnJlZHVjZShcbiAgICAgIChhY2MsIGVsKSA9PiBhY2MuY29uY2F0KC4uLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZ2x5cGhTZWxlY3RvcikpLCBbXVxuICAgICk7XG4gICAgY29uc3QgZ2x5cGhCQm94ZXM6IEJCb3hbXSA9IGdseXBocy5tYXAoZ2V0R2x5cGhCQm94KTtcblxuICAgIC8vIEdldCB0aGUgc3Vycm91bmRpbmcgYm91bmRpbmcgYm94IG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50c1xuICAgIGNvbnN0IHNlbGVjdGlvbkJCb3g6IEJCb3ggPSBnbHlwaEJCb3hlcy5yZWR1Y2UoXG4gICAgICAoYmJveCwgY3VycikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVseDogTWF0aC5taW4oYmJveC51bHgsIGN1cnIudWx4KSxcbiAgICAgICAgICB1bHk6IE1hdGgubWluKGJib3gudWx5LCBjdXJyLnVseSksXG4gICAgICAgICAgbHJ4OiBNYXRoLm1heChiYm94LmxyeCwgY3Vyci5scngpLFxuICAgICAgICAgIGxyeTogTWF0aC5tYXgoYmJveC5scnksIGN1cnIubHJ5KSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVseDogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgdWx5OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICBscng6IE51bWJlci5NSU5fVkFMVUUsXG4gICAgICAgIGxyeTogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgeyB1bHgsIHVseSwgbHJ4LCBscnkgfSA9IHNlbGVjdGlvbkJCb3g7XG4gICAgcmV0dXJuIGlzT3V0T2ZTVkdCb3VuZHModWx4ICsgdGhpcy5keCwgdWx5ICsgdGhpcy5keSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscnggKyB0aGlzLmR4LCBscnkgKyB0aGlzLmR5KTtcbiAgfVxufVxuXG5leHBvcnQgeyBEcmFnSGFuZGxlciBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCAqIGFzIFdhcm5pbmdzIGZyb20gJy4uL1dhcm5pbmdzJztcbmltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0ICogYXMgU2VsZWN0VG9vbHMgZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuLi9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgVG9nZ2xlTGlnYXR1cmVBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyByZW1vdmVIYW5kbGVyLCBkZWxldGVCdXR0b25IYW5kbGVyIH0gZnJvbSAnLi9TZWxlY3RPcHRpb25zJztcblxuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gYWNjZXNzIGVkaXRvciBhY3Rpb25zLlxuICovXG5sZXQgbmVvblZpZXc6IE5lb25WaWV3O1xuXG5cbi8qKlxuICogU2V0IHRoZSBuZW9uVmlldyBtZW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcgKHZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIG5lb25WaWV3ID0gdmlldztcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBncm91cGVkIG9yIG5vdFxuICogQHJldHVybnMgdHJ1ZSBpZiBjYW4gYmUgZ3JvdXBlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlOiBzdHJpbmcsIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZWxlbWVudHMudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIGlmIChncm91cHMubGVuZ3RoIDwgMikge1xuICAgIC8vIGNhbm5vdCBncm91cCBpZiBvbmx5IDEgZWxlbWVudCBpcyBzZWxlY3RlZFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBpZiBuZXVtZXMgYXJlIGluIHNhbWUgc3lsbGFibGUsIGRvbid0IGRpc3BsYXkgZ3JvdXBpbmcgb3B0aW9uXG4gICAgICBpZiAoU2VsZWN0VG9vbHMuc2hhcmVkTG9naWNhbFBhcmVudChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHJldHVybiBmYWxzZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIGFkamFjZW50IHRvIGVhY2ggb3RoZXJcbiAgICAgIGlmIChTZWxlY3RUb29scy5hcmVBZGphY2VudChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gIH1cblxufVxuXG5cbmZ1bmN0aW9uIGNvbnRhaW5zTGlua2VkIChzZWxlY3Rpb25UeXBlOnN0cmluZywgZWxlbWVudHM/OiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KSB7XG4gIGlmICghZWxlbWVudHMpIHtcbiAgICBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICB9XG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fCBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoZSBhY3Rpb24gaW52b2x2ZXMgbGlua2VkIHN5bGxhYmxlcywgcGxlYXNlIHVudG9nZ2xlIHRoZW0gZmlyc3QnLCAnd2FybmluZycpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgfHwgZWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoZSBhY3Rpb24gaW52b2x2ZXMgbGlua2VkIHN5bGxhYmxlcywgcGxlYXNlIHVudG9nZ2xlIHRoZW0gZmlyc3QnLCAnd2FybmluZycpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fCBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUaGUgYWN0aW9uIGludm9sdmVzIGxpbmtlZCBzeWxsYWJsZXMsIHBsZWFzZSB1bnRvZ2dsZSB0aGVtIGZpcnN0JywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpcyBhIHNlbGVjdGlvbiBvZiBlbGVtZW50cyBpcyBhbHJlYWR5IGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIGVsZW1lbnRzIHRvIGJlIGNvbnNpZGVyZWRcbiAqIEByZXR1cm5zIHRydWUgaXMgbGlua2VkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGlua2VkKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG5cbiAgLy8gaWYgbnVtYmVyIG9mIGVsZW1lbnRzIGlzIG5vdCAyLCBlbGVtZW50cyBjYW5ub3QgYmUgbGlua2VkIGJ5IGRlZmluaXRpb25cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCAhPT0gMikgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIGlmIHByZWNlZGVzIGFuZCBmb2xsb3dzIGF0dHJpYnV0ZXMgZXhpc3QgYW5kIHRoZWlyIElEcyBtYXRjaFxuICBpZiAoKChlbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgPT09IGAjJHtlbGVtZW50c1sxXS5pZH1gKSAmJiBcbiAgICAgIChlbGVtZW50c1sxXS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpID09PSBgIyR7ZWxlbWVudHNbMF0uaWR9YCkpIHx8XG4gICAgICAoKGVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgPT09ICcjJyArIGVsZW1lbnRzWzFdLmlkKSAmJlxuICAgICAgKGVsZW1lbnRzWzFdLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSA9PT0gJyMnICsgZWxlbWVudHNbMF0uaWQpKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQgb3IgdW5saWtuZWQuXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSBDdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIGJlIGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIFRoZSBlbGVtZW50cyB1bmRlciBxdWVzdGlvbiBcbiAqIEByZXR1cm5zIHRydWUgaWYgdXNlciBzaG91bGQgYmUgYWJsZSB0byBsaW5rIG9yIHVuLWxpbmsgZWxlbWVudHMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rYWJsZShzZWxlY3Rpb25UeXBlOiBzdHJpbmcsIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG5cbiAgc3dpdGNoKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgIC8vIG9ubHkgYSBzZWxlY3Rpb24gb2YgbGVuZ3RoIDIgY2FuIGxlYWQgdG8gb3B0aW9uIHRvIHRvZ2dsZSBzeWxsYWJsZSBsaW5rXG4gICAgY2FzZSAyOlxuICAgICAgLy8gb25seSBTeWxsYWJsZXMgY2FuIGJlIGxpbmtlZCBvciB1bmxpbmtlZCAoPylcbiAgICAgIGlmIChzZWxlY3Rpb25UeXBlICE9PSAnc2VsQnlTeWxsYWJsZScpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAgIC8vIGlmIEFMUkVBRFkgbGlua2VkXG4gICAgICBpZiAoaXNMaW5rZWQoW2VsZW1lbnRzWzBdLCBlbGVtZW50c1sxXV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gaWYgQ0FOIGJlIGxpbmtlZFxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgKmNvdWxkKiBiZSBhIHNlbGVjdGlvbiB3aXRoIGEgc2luZ2xlIGxvZ2ljYWwgc3lsbGFibGUgc3BsaXQgYnkgYSBzdGFmZiBicmVhay4gXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXNlIGFyZSBhZGphY2VudCBzdGF2ZXMgKGxvZ2ljYWxseSlcbiAgICAgICAgaWYgKFNlbGVjdFRvb2xzLmlzTXVsdGlTdGF2ZVNlbGVjdGlvbihlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBzdGFmZjAgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICAgICAgICBjb25zdCBzdGFmZjEgPSBlbGVtZW50c1sxXS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICAgICAgICBjb25zdCBzdGFmZkNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZjAucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG5cbiAgICAgICAgICAvLyBDaGVjayBpZiBvbmUgc3lsbGFibGUgaXMgdGhlIGxhc3QgaW4gdGhlIGZpcnN0IHN0YWZmIGFuZCB0aGUgb3RoZXIgaXMgdGhlIGZpcnN0IGluIHRoZSBzZWNvbmQuXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHN0YWZmIGlzIGZpcnN0LlxuICAgICAgICAgIGNvbnN0IGZpcnN0U3RhZmYgPSAoc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMCkgPCBzdGFmZkNoaWxkcmVuLmluZGV4T2Yoc3RhZmYxKSkgPyBzdGFmZjAgOiBzdGFmZjE7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kU3RhZmYgPSAoZmlyc3RTdGFmZi5pZCA9PT0gc3RhZmYwLmlkKSA/IHN0YWZmMSA6IHN0YWZmMDtcbiAgICAgICAgICBjb25zdCBmaXJzdExheWVyID0gZmlyc3RTdGFmZi5xdWVyeVNlbGVjdG9yKCcubGF5ZXInKTtcbiAgICAgICAgICBjb25zdCBzZWNvbmRMYXllciA9IHNlY29uZFN0YWZmLnF1ZXJ5U2VsZWN0b3IoJy5sYXllcicpO1xuICAgIFxuICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGZpcnN0IHN0YWZmIGhhcyBlaXRoZXIgc3lsbGFibGUgYXMgdGhlIGxhc3Qgc3lsbGFibGVcbiAgICAgICAgICBjb25zdCBmaXJzdFN5bGxhYmxlQ2hpbGRyZW4gPSBBcnJheS5mcm9tKGZpcnN0TGF5ZXIuY2hpbGRyZW4pLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKTtcbiAgICAgICAgICBjb25zdCBzZWNvbmRTeWxsYWJsZUNoaWxkcmVuID0gQXJyYXkuZnJvbShzZWNvbmRMYXllci5jaGlsZHJlbikuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpOyAgICBcbiAgICAgICAgICBjb25zdCBsYXN0U3lsbGFibGUgPSBmaXJzdFN5bGxhYmxlQ2hpbGRyZW5bZmlyc3RTeWxsYWJsZUNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IGZpcnN0U3lsbGFibGUgPSBzZWNvbmRTeWxsYWJsZUNoaWxkcmVuWzBdO1xuICAgIFxuICAgICAgICAgIGlmIChsYXN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzBdLmlkICYmIGZpcnN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzFdLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IFxuICAgICAgICAgIGVsc2UgaWYgKGxhc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMV0uaWQgJiYgZmlyc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMF0uaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgLy8gY2Fubm90IHRvZ2dsZSBsaW5rIGZvciBzeWxsYWJsZSBzZWxlY3Rpb24gaWYgbnVtYmVyIG9mIHNlbGVjdGVkXG4gICAgLy8gc3lsbGFibGVzIGlzIG5vdCBlcXVhbCB0byAyXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIE1lcmdlIHNlbGVjdGVkIHN0YXZlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTdGF2ZXMgKCk6IHZvaWQge1xuICBjb25zdCBzeXN0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBbXTtcbiAgc3lzdGVtcy5mb3JFYWNoKHN0YWZmID0+IHtcbiAgICBlbGVtZW50SWRzLnB1c2goc3RhZmYuaWQpO1xuICB9KTtcbiAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnbWVyZ2UnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzXG4gICAgfVxuICB9O1xuICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1N0YWZmIE1lcmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICBTZWxlY3RPcHRpb25zLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWVyZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKipcbiAqIFRyaWdnZXIgdGhlIGdyb3VwaW5nIHNlbGVjdGlvbiBtZW51LlxuICogQHBhcmFtIHR5cGUgLSBUaGUgZ3JvdXBpbmcgdHlwZTogbmMsIG5ldW1lLCBzeWwsIGxpZ2F0dXJlTmMsIG9yIGxpZ2F0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyR3JvdXBpbmcgKHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgKz0gQ29udGVudHMuZ3JvdXBpbmdNZW51W3R5cGVdO1xuICBpbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZSB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRHcm91cGluZ1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKTtcbn1cblxuXG4vKipcbiAqIFRoZSBncm91cGluZyBkcm9wZG93biBsaXN0ZW5lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRHcm91cGluZ0xpc3RlbmVycyAoKTogdm9pZCB7XG4gIGNvbnN0IGRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGUnKTtcbiAgZGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4gIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKTtcblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXJnZVN5bHMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChjb250YWluc0xpbmtlZChTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCkpKSByZXR1cm47XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJylcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncm91cE5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5zTGlua2VkKFNlbGVjdFRvb2xzLmdldFNlbGVjdGlvblR5cGUoKSkpIHJldHVybjtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5ncm91cE5jcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saWdhdHVyZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFRvZ2dsZUxpZ2F0dXJlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICd0b2dnbGVMaWdhdHVyZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0xpZ2F0dXJlIFRvZ2dsZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZEdyb3VwaW5nU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtbGluaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cblxuLyoqXG4gKiBHcm91cGluZy9Vbmdyb3VwaW5nIGtleWJpbmRpbmcgZXZlbnQgbGlzdGVuZXJcbiAqL1xuY29uc3Qga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS5rZXkgPT09ICdnJykge1xuICAgIC8vIGdldCBzZWxlY3RlZCBlbGVtZW50cyB0byBjaGVjayBpZiB0aGV5IGNhbiBiZSBncm91cGVkc1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBzZWxlY3Rpb25UeXBlID0gU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpO1xuXG4gICAgaWYgKGNvbnRhaW5zTGlua2VkKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuO1xuXG4gICAgLy8gR3JvdXAvbWVyZ2Ugb3IgdW5ncm91cC9zcGxpdCBiYXNlZCBvbiBzZWxlY3Rpb24gdHlwZVxuICAgIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICAgIC8vIGlmIHN5bGxhYmxlcyBhcmUgbGlubmthYmxlLCB0b2dnbGUgbGlua2VkIHN5bGxhYmxlXG4gICAgICAgIC8vIGxpbmtlZCBzeWxsYWJsZXMgY2Fubm90IGJlIGdyb3VwZWQvdW5ncm91cGVkXG4gICAgICAgIGlmIChpc0xpbmthYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIHRvZ2dsZUxpbmtlZFN5bGxhYmxlcygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGdyb3VwYWJsZSBiZWZvcmUgZ3JvdXBpbmdcbiAgICAgICAgZWxzZSBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCkuZmlsdGVyKGUgPT5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG5cbiAgICAgICAgfSBcbiAgICAgICAgLy8gY2FuIG9ubHkgdW5ncm91cCBpZiBsZW5ndGggaXMgMSAob25lIHN5bGxhYmxlIHNlbGVjdGVkKVxuICAgICAgICAvLyBjYW5ub3QgdW5ncm91cCBpZiBtdWx0aXBsZSBzeWxsYWJsZXMgYXJlIHNlbGVjdGVkXG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgbWVyZ2VTdGF2ZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTdGFmZlNwbGl0TW9kZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKGBDYW4ndCBwZXJmb3JtIGdyb3VwaW5nL3VuZ3JvdXBpbmcgYWN0aW9uIG9uIHNlbGVjdGlvbiB0eXBlICR7c2VsZWN0aW9uVHlwZX0uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBGb3JtIGFuZCBleGVjdXRlIGEgZ3JvdXAvdW5ncm91cCBhY3Rpb24uXG4gKiBAcGFyYW0gYWN0aW9uIC0gVGhlIGFjdGlvbiB0byBleGVjdXRlLiBFaXRoZXIgXCJncm91cFwiIG9yIFwidW5ncm91cFwiLlxuICogQHBhcmFtIGdyb3VwVHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnRzIHRvIGdyb3VwLiBFaXRoZXIgXCJuZXVtZVwiIG9yIFwibmNcIi5cbiAqIEBwYXJhbSBlbGVtZW50SWRzIC0gVGhlIElEcyBvZiB0aGUgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGdyb3VwaW5nQWN0aW9uIChhY3Rpb246ICdncm91cCcgfCAndW5ncm91cCcsIGdyb3VwVHlwZTogJ25ldW1lJyB8ICduYycsIGVsZW1lbnRJZHM6IHN0cmluZ1tdKTogdm9pZCB7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogYWN0aW9uLFxuICAgIHBhcmFtOiB7XG4gICAgICBncm91cFR5cGU6IGdyb3VwVHlwZSxcbiAgICAgIGVsZW1lbnRJZHM6IGVsZW1lbnRJZHNcbiAgICB9XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVW5ncm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH1cbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuXG4gICAgLy8gUHJvbXB0IHVzZXIgdG8gY29uZmlybSBpZiBOZW9uIGRvZXMgbm90IHJlIGNvZ25pemUgY29udG91clxuICAgIGlmIChncm91cFR5cGUgPT09ICduYycpIHtcbiAgICAgIGNvbnN0IG5ldW1lUGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSkucGFyZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IG5jcyA9IEFycmF5LmZyb20obmV1bWVQYXJlbnQuY2hpbGRyZW4pIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91cihuY3MpO1xuICAgICAgaWYgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBXYXJuaW5ncy5ncm91cGluZ05vdFJlY29nbml6ZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hhdCBhY3Rpb24gKGxpbmsvdW5saW5rKSB0byBwZXJmb3JtIHdoZW4gdXNlciBjbGlja3Mgb24gXCJUb2dnbGUgTGlua2VkIFN5bGxhYmxlXCJcbiAqIEFsc28gY2FsbGVkIHdoZW4gY29ycmVzcGluZGluZyBob3RrZXkgaXMgcHJlc3NlZC5cbiAqL1xuZnVuY3Rpb24gdG9nZ2xlTGlua2VkU3lsbGFibGVzKCkge1xuICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiBbXVxuICB9O1xuICBjb25zdCBwYXJhbSA9IG5ldyBBcnJheTxFZGl0b3JBY3Rpb24+KCk7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKSB7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzBdLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1sxXSxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMV0sXG4gICAgICAgIHRleHQ6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSkuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpKSB7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzBdLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzFdLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIHRleHQ6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQXNzb2NpYXRlIHN5bGxhYmxlcy4gV2lsbCBuZWVkIHRvIGZpbmQgd2hpY2ggaXMgZmlyc3QuIFVzZSBzdGF2ZXMuXG4gICAgY29uc3Qgc3lsbGFibGUwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSk7XG4gICAgY29uc3Qgc3lsbGFibGUxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1sxXSk7XG4gICAgY29uc3Qgc3RhZmYwID0gc3lsbGFibGUwLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IHN0YWZmMSA9IHN5bGxhYmxlMS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZjAucGFyZW50RWxlbWVudC5jaGlsZHJlbikuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpO1xuXG4gICAgbGV0IGZpcnN0U3lsbGFibGUsIHNlY29uZFN5bGxhYmxlO1xuICAgIC8vIERldGVybWluZSBmaXJzdCBzeWxsYWJsZSBjb21lcyBmaXJzdCBieSBzdGFmZlxuICAgIGlmIChzdGFmZkNoaWxkcmVuLmluZGV4T2Yoc3RhZmYwKSA8IHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjEpKSB7XG4gICAgICBmaXJzdFN5bGxhYmxlID0gc3lsbGFibGUwO1xuICAgICAgc2Vjb25kU3lsbGFibGUgPSBzeWxsYWJsZTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpcnN0U3lsbGFibGUgPSBzeWxsYWJsZTE7XG4gICAgICBzZWNvbmRTeWxsYWJsZSA9IHN5bGxhYmxlMDtcbiAgICB9XG5cbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGZpcnN0U3lsbGFibGUuaWQsXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcjJyArIHNlY29uZFN5bGxhYmxlLmlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBmaXJzdFN5bGxhYmxlLmlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gRGVsZXRlIHN5bCBvbiBzZWNvbmQgc3lsbGFibGVcbiAgICBjb25zdCBzeWwgPSBzZWNvbmRTeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJyk7XG4gICAgaWYgKHN5bCAhPT0gbnVsbCkge1xuICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBzeWwuaWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUb2dnbGVkIFN5bGxhYmxlIExpbmsnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gVG9nZ2xlIFN5bGxhYmxlIExpbmsnKTtcbiAgICB9XG4gICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBJRHMgb2Ygc2VsZWN0ZWQgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGdldElkcyAoKTogc3RyaW5nW10ge1xuICBjb25zdCBpZHMgPSBbXTtcbiAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICBpZHMucHVzaChlbC5pZCk7XG4gIH0pO1xuICByZXR1cm4gaWRzO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHMnIGNoaWxkcmVuLlxuICovXG5mdW5jdGlvbiBnZXRDaGlsZHJlbklkcyAoKTogc3RyaW5nW10ge1xuICBjb25zdCBjaGlsZHJlbklkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykgfHwgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoID0+IHtcbiAgICAgIGNoaWxkcmVuSWRzLnB1c2goY2guaWQpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGNoaWxkcmVuSWRzO1xufVxuIiwiaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZXJyb3JMb2dzUGFuZWxDb250ZW50cyB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MsIGdldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcblxuXG4vLyBUT0RPOiBzdHlsaW5nXG5mdW5jdGlvbiBjcmVhdGVMb2dNZXNzYWdlIChub3RpZjogTm90aWZpY2F0aW9uKTogRWxlbWVudCB7XG4gIGNvbnN0IG5vdGlmRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5vdGlmRGl2LmNsYXNzTGlzdC5hZGQoJ25vdGlmaWNhdGlvbi1jb250YWluZXInKTtcbiAgbm90aWZEaXYuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24td3JhcHBlclwiPlxuXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLW1haW5cIj4ke25vdGlmLm1lc3NhZ2V9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctZXh0cmFcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwicmVtb3ZlLW5vdGlmLWljb24td3JhcHBlclwiPlxuICAgICAgPGltZyBjbGFzcz1cImxvZy1yZW1vdmUgcmVtb3ZlLW5vdGlmLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnXCI+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgY29uc3QgcmVtb3ZlID0gbm90aWZEaXYucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJy5sb2ctcmVtb3ZlJyk7XG4gIHJlbW92ZS5vbmNsaWNrID0gKCkgPT4gbm90aWZEaXYucmVtb3ZlKCk7XG4gIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLW9wZW4uc3ZnYCk7XG4gIH0pO1xuICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLWNsb3NlZC5zdmdgKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG5vdGlmRGl2O1xufVxuXG5cbi8qKlxuICogQWRkIG5vdGlmaWNhdGlvbiB0byB0aGUgcGVyc2lzdGVudCBlcnJvciBsb2cgb24gdGhlIHNpZGViYXJcbiAqIEBwYXJhbSBub3RpZiB7Tm90aWZpY2F0aW9ufSBOb3RpZmljYXRpb24gdG8gYWRkIHRvIHRoZSBlcnJvciBsb2dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZE5vdGlmaWNhdGlvbiAobm90aWY6IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpO1xuICBsb2cucHJlcGVuZChjcmVhdGVMb2dNZXNzYWdlKG5vdGlmKSk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplIGVycm9yIGxvZy5cbiAqIEFkZHMgbmVjZXNzYXJ5IEhUTUwgdG8gRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nKCk6IHZvaWQge1xuICAvLyBFcnJvciBsb2cgcGFuZWxcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBsb2cuaW5uZXJIVE1MID0gZXJyb3JMb2dzUGFuZWxDb250ZW50cztcblxuICBpbml0RXJyb3JMb2dDb250cm9scygpO1xufVxuXG5cbi8qKlxuICogU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgZXJyb3IgTG9nIHBhbmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXJyb3JMb2dDb250cm9scygpOiB2b2lkIHtcbiAgY29uc3QgZXJyb3JQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0hlYWRpbmcnKTtcbiAgY29uc3QgZHJvcGRvd25JY29uID0gaGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcbiAgY29uc3QgY29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpIGFzIEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgaWYgKGRpc3BsYXlFcnJMb2cpIGVycm9yUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZXJyb3IgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGNvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGFuIG9wZW4gcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgY29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBpbml0RGlzcGxheUxpc3RlbmVyKCk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplcyBjbGljayBsaXN0ZW5lciBvbiBcIlNob3cgZXJyb3IgbG9nc1wiIGJ1dHRvbiBpbiBcIlZpZXdcIiBkcm9wZG93bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5TGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gIGNvbnN0IGVycm9yc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgY29uc3QgZXJvcnJzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICBlcm9ycnNCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgZXJyb3JzTGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gIGVycm9yc0xhYmVsLnRleHRDb250ZW50ID0gJ0Vycm9ycyc7XG4gIGVyb3Jyc0J0bi5pZCA9ICdkaXNwbGF5LWVycm9ycyc7XG4gIGVyb3Jyc0J0bi50eXBlID0gJ2NoZWNrYm94JztcbiAgZXJvcnJzQnRuLmNoZWNrZWQgPSBmYWxzZTtcbiAgZXJyb3JzTGFiZWwuYXBwZW5kQ2hpbGQoZXJvcnJzQnRuKTtcbiAgY2hlY2tib3hlc0NvbnRhaW5lci5hcHBlbmQoZXJyb3JzTGFiZWwpO1xuXG5cbiAgY29uc3QgeyBkaXNwbGF5RXJyTG9nIH0gPSBnZXRTZXR0aW5ncygpO1xuICBpZiAoZGlzcGxheUVyckxvZykgZXJvcnJzQnRuLmNoZWNrZWQgPSB0cnVlO1xuXG4gIGVyb3Jyc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIC8vIHNldFNldHRpbmdzKHsgZGlzcGxheUJCb3g6IGRpc3BsYXlCQm94ZXMuY2hlY2tlZCB9KTtcblxuICAgIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gICAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5RXJyTG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktZXJyb3JzJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuXG4gICAgaWYgKGVyb3Jyc0J0bi5jaGVja2VkKSB7XG4gICAgICBub3RpZlBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICAgIHNldFNldHRpbmdzKHsgZGlzcGxheUVyckxvZzogdHJ1ZSB9KTtcblxuICAgICAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgICAgIGRpc3BsYXlUZXh0Py5jaGVja2VkICYmIGRpc3BsYXlFcnJMb2c/LmNoZWNrZWQpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlFcnJMb2c6IGZhbHNlIH0pO1xuICAgICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3gsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmLCBzZWxlY3RBbGwgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgUmVzaXplQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgaXNPdXRPZlNWR0JvdW5kcyB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4vTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogUmVzaXplIGEgc3RhZmYgb3IgYSBzeWxsYWJsZSB0ZXh0IGJvdW5kaW5nIGJveC5cbiAqIEZvciBzdGF2ZXMsIHRoaXMgYWxzbyBzdXBwb3J0cyBhZGp1c3RpbmcgdGhlIHJvdGF0ZS5cbiAqL1xudHlwZSBQb2ludCA9IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IG5hbWU6IG51bWJlciB9O1xuXG4vKipcbiAqIFRoZSBwb2ludHMgeW91IGNhbiBjbGljayBhbmQgZHJhZyB0byByZXNpemVcbiAqL1xuY29uc3QgUG9pbnROYW1lcyA9IHtcbiAgVG9wTGVmdDogMCxcbiAgVG9wOiAxLFxuICBUb3BSaWdodDogMixcbiAgUmlnaHQ6IDMsXG4gIEJvdHRvbVJpZ2h0OiA0LFxuICBCb3R0b206IDUsXG4gIEJvdHRvbUxlZnQ6IDYsXG4gIExlZnQ6IDdcbn07XG5cbmZ1bmN0aW9uIGdldFBvaW50cyh1bHg6IG51bWJlciwgdWx5OiBudW1iZXIsIGxyeDogbnVtYmVyLCBscnk6IG51bWJlciwgcm90YXRlOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgLy8gTm90ZSB0aGF0IGFyYyBmdW5jdGlvbnMgcmV0dXJuIGFuIGFuZ2xlIHggaW4gWy1waS8yLCBwaS8yXS5cbiAgbGV0IHBvaW50czogQXJyYXk8UG9pbnQ+O1xuICAvLyB1bCBpcyB1bHgsIHVseSwgbHIgaXMgbHJ4LCBscnlcbiAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BMZWZ0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogdWx5ICsgKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiAodWx5ICsgbHJ5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpKSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSAobHJ4IC0gdWx4KSAvIDIgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogKHVseSArIGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgLy8gTm90IHRoYXRcbiAgZWxzZSB7XG4gICAgY29uc3QgYSA9IChscnggLSB1bHgpICogTWF0aC50YW4oTWF0aC5hYnMocm90YXRlKSk7XG4gICAgY29uc3QgYiA9IGxyeSAtIHVseSAtIGE7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSArIGEsIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlRvcCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BSaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgYiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21SaWdodCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IGxyeSAtIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5IC0gYiAvIDIsIG5hbWU6IFBvaW50TmFtZXMuTGVmdCB9XG4gICAgXTtcbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldywgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyKTogdm9pZCB7XG4gIGxldCB1bHg6IG51bWJlcjtcbiAgbGV0IHVseTogbnVtYmVyO1xuICBsZXQgbHJ4OiBudW1iZXI7XG4gIGxldCBscnk6IG51bWJlcjtcbiAgbGV0IHJvdGF0ZTogbnVtYmVyO1xuXG4gIGxldCBpbml0aWFsVWx4OiBudW1iZXIsIGluaXRpYWxMcng6IG51bWJlcjtcbiAgbGV0IGluaXRpYWxQb2ludDogbnVtYmVyW10sIGluaXRpYWxVbHk6IG51bWJlciwgaW5pdGlhbExyeTogbnVtYmVyLFxuICAgIGluaXRpYWxZOiBudW1iZXIsIGluaXRpYWxSZWN0WTogbnVtYmVyLCBwb2x5TGVuOiBudW1iZXIsIGR5OiBudW1iZXIsIGluaXRpYWxSb3RhdGU6IG51bWJlcjtcblxuICBkcmF3SW5pdGlhbFJlY3QoKTtcblxuICAvKipcbiAgICogUmVkcmF3IHRoZSByZWN0YW5nbGUgd2l0aCB0aGUgbmV3IGJvdW5kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVkcmF3ICgpOiB2b2lkIHtcbiAgICBjb25zdCBwb2ludHM6IFBvaW50W10gPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmc6IHN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF9lbGVtLCBpbmRleCkgPT4geyByZXR1cm4gaW5kZXggJSAyID09PSAwOyB9KVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgcG9pbnRTdHJpbmcpO1xuXG4gICAgY29uc3QgdGV4dFJlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsLnNlbGVjdGVkID4gLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAodGV4dFJlY3QpIHtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneCcsIFN0cmluZyhNYXRoLm1pbih1bHgsIGxyeCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneScsIFN0cmluZyhNYXRoLm1pbih1bHksIGxyeSkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBTdHJpbmcoTWF0aC5hYnMobHJ4IC0gdWx4KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBTdHJpbmcoTWF0aC5hYnMobHJ5IC0gdWx5KSkpO1xuICAgIH1cblxuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBwb2ludE5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICBsZXQgeSA9IHBvaW50c1szXS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICB4ID0gcG9pbnRzWzddLng7XG4gICAgeSA9IHBvaW50c1s3XS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICh4IC0gMTMwKSArICcsJyArICh5IC0gNTApICsgJyAnICsgKHggLSAxMDApICsgJywnICsgKHkgLSA4NSkgKyAnICcgKyAoeCAtIDcwKSArICcsJyArICh5IC0gNTApO1xuXG4gICAgZDMuc2VsZWN0KCcjcm90YXRlTGVmdCcpLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nTGVmdCk7XG4gICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBpbml0aWFsIHJlY3RhbmdsZSBhcm91bmQgdGhlIGVsZW1lbnRcbiAgICogYW5kIGFkZCB0aGUgbGlzdGVuZXJzIHRvIHN1cHBvcnQgZHJhZ2dpbmcgdG8gcmVzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gZHJhd0luaXRpYWxSZWN0ICgpOiB2b2lkIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJyNyZXNpemVSZWN0JykucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcblxuICAgIC8vIGlmIGl0J3MgYSBib3VuZGluZ2JveCBqdXN0IGdldCB0aGUgY29vcmRpbmF0ZXNcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKHJlY3QgPT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUcmllZCB0byBkcmF3IHJlc2l6ZSByZWN0IGZvciBhIHN5bFRleHRSZWN0IHRoYXQgZG9lc25cXCd0IGV4aXN0IChvciBpc25cXCd0IGRpc3BsYXlpbmcpJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVseCA9IE51bWJlcihyZWN0LmdldEF0dHJpYnV0ZSgneCcpKTtcbiAgICAgIHVseSA9IE51bWJlcihyZWN0LmdldEF0dHJpYnV0ZSgneScpKTtcbiAgICAgIGxyeCA9ICt1bHggKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XG4gICAgICBscnkgPSArdWx5ICsgK3JlY3QuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcblxuICAgICAgcm90YXRlID0gMDtcbiAgICB9XG5cbiAgICAvLyBpZiBpdCdzIGEgc3RhZmYgdXNlIHRoZSBwYXRocyB0byBnZXQgaXQncyBib3VuZGluZ2JveFxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgY29uc3QgYmJveCA9IGdldFN0YWZmQkJveChlbGVtZW50KTtcbiAgICAgIHVseCA9IGJib3gudWx4O1xuICAgICAgdWx5ID0gYmJveC51bHk7XG4gICAgICBscnggPSBiYm94LmxyeDtcbiAgICAgIGxyeSA9IGJib3gubHJ5O1xuXG4gICAgICBjb25zdCBjb29yZGluYXRlczogbnVtYmVyW10gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkJylcbiAgICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAgIC5tYXAoZWxlbWVudCA9PiBOdW1iZXIoZWxlbWVudCkpO1xuICAgICAgcm90YXRlID0gTWF0aC5hdGFuKChjb29yZGluYXRlc1szXSAtIGNvb3JkaW5hdGVzWzFdKSAvXG4gICAgICAgIChjb29yZGluYXRlc1syXSAtIGNvb3JkaW5hdGVzWzBdKSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbFVseCA9IHVseCwgaW5pdGlhbFVseSA9IHVseSwgaW5pdGlhbExyeCA9IGxyeCwgaW5pdGlhbExyeSA9IGxyeTtcblxuICAgIGxldCB3aGljaFBvaW50OiBzdHJpbmc7XG5cbiAgICBjb25zdCBwb2ludHMgPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgcG9seUxlbiA9IHBvaW50c1syXS54IC0gcG9pbnRzWzBdLng7XG5cbiAgICBjb25zdCBwb2ludFN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF8sIGluZGV4KSA9PiBpbmRleCAlIDIgPT09IDApXG4gICAgICAubWFwKGVsZW0gPT4gZWxlbS54ICsgJywnICsgZWxlbS55KVxuICAgICAgLmpvaW4oJyAnKTtcblxuICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nKVxuICAgICAgLmF0dHIoJ2lkJywgJ3Jlc2l6ZVJlY3QnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMTApXG4gICAgICAuYXR0cignZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgnY3Vyc29yJywgJ21vdmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgJzIwIDEwJyk7XG5cbiAgICBjb25zdCB7IGNpcmNsZVNpemUgfSA9IGdldFNldHRpbmdzKCk7XG5cbiAgICBmb3IgKGNvbnN0IHBvaW50TmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBjb25zdCBwb2ludDogUG9pbnQgPSBwb2ludHNbUG9pbnROYW1lc1twb2ludE5hbWVdXTtcbiAgICAgIGQzLnNlbGVjdChlbGVtZW50LnZpZXdwb3J0RWxlbWVudCkuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgICAuYXR0cignY3gnLCBwb2ludC54KVxuICAgICAgICAuYXR0cignY3knLCBwb2ludC55KVxuICAgICAgICAuYXR0cigncicsIGNpcmNsZVNpemUpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNClcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdpZCcsICdwLScgKyBwb2ludE5hbWUpO1xuICAgIH1cblxuICAgIC8vIGRvIGl0IGFzIGEgbG9vcCBpbnN0ZWFkIG9mIHNlbGVjdEFsbCBzbyB0aGF0IHlvdSBjYW4gZWFzaWx5IGtub3cgd2hpY2ggcG9pbnQgd2FzXG4gICAgZm9yIChjb25zdCBuYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGQzLnNlbGVjdCgnI3AtJyArIG5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsICgpID0+IHsgcmVzaXplU3RhcnQobmFtZSk7IH0pXG4gICAgICAgICAgLm9uKCdkcmFnJywgcmVzaXplRHJhZylcbiAgICAgICAgICAub24oJ2VuZCcsIHJlc2l6ZUVuZC5iaW5kKHRoaXMpKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBsZXQgeCA9IHBvaW50c1szXS54O1xuICAgICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAgICh4ICsgNzApICsgJywnICsgKHkgKyA1MCkgKyAnICcgKyAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDE1KSArICcgJyArICh4ICsgMTMwKSArICcsJyArICh5ICsgNTApO1xuICAgICAgeCA9IHBvaW50c1s3XS54O1xuICAgICAgeSA9IHBvaW50c1s3XS55O1xuICAgICAgY29uc3QgcG9pbnRTdHJpbmdMZWZ0ID0gKHggLSAxMDApICsgJywnICsgKHkgLSAxNSkgKyAnICcgK1xuICAgICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlUmlnaHQnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncm90YXRlUG9pbnQnKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpXG4gICAgICAgIC5hdHRyKCdpZCcsICdyb3RhdGVMZWZ0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ0xlZnQpXG4gICAgICAgICAgLm9uKCdlbmQnLCByb3RhdGVFbmQpKTtcblxuICAgICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ1JpZ2h0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplU3RhcnQgKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgd2hpY2hQb2ludCA9IG5hbWU7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50cy5maW5kKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXNbbmFtZV0pO1xuICAgICAgaW5pdGlhbFBvaW50ID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplRHJhZyAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50UG9pbnQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIHN3aXRjaCAoUG9pbnROYW1lc1t3aGljaFBvaW50XSkge1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wOlxuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3BSaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdIC0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGluaXRpYWxMcnkgKyAoY3VycmVudFBvaW50WzBdIC0gaW5pdGlhbFBvaW50WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21SaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tOlxuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXSArIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBpbml0aWFsVWx5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NvbWV0aGluZyB0aGF0IHdhc25cXCd0IGEgc2lkZSBvZiB0aGUgcmVjdGFuZ2xlIHdhcyBkcmFnZ2VkLiBUaGlzIHNob3VsZG5cXCd0IGhhcHBlbi4nKTtcbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgdWx4ID0gaW5pdGlhbFVseCwgdWx5ID0gaW5pdGlhbFVseSwgbHJ4ID0gaW5pdGlhbExyeCwgbHJ5ID0gaW5pdGlhbExyeTtcbiAgICAgICAgcmVkcmF3KCk7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJlc2l6ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFJlc2l6ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApO1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0QWxsKFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vcmVFZGl0Jyk7XG5cbiAgICAgICAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgICAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJPVEFURVxuICAgIGZ1bmN0aW9uIHJvdGF0ZVN0YXJ0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHdoaWNoID0gZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0LmlkO1xuICAgICAgaW5pdGlhbFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgICBpbml0aWFsVWx5ID0gdWx5O1xuICAgICAgaW5pdGlhbFJlY3RZID0gKHdoaWNoID09PSAncm90YXRlUmlnaHQnID8gbHJ5IDogdWx5KTtcbiAgICAgIGluaXRpYWxSb3RhdGUgPSByb3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRHJhZ0xlZnQgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGNvbnN0IHRlbXAgPSBjdXJyZW50WSAtIGluaXRpYWxZO1xuICAgICAgY29uc3QgdGVtcFJvdGF0ZSA9IGluaXRpYWxSb3RhdGUgLSBNYXRoLmF0YW4odGVtcCAvIHBvbHlMZW4pO1xuICAgICAgaWYgKHRlbXBSb3RhdGUgPiAtMC4yICYmIHRlbXBSb3RhdGUgPCAwLjIpIHtcbiAgICAgICAgZHkgPSB0ZW1wO1xuICAgICAgICB1bHkgPSBpbml0aWFsUmVjdFkgKyBkeTtcbiAgICAgICAgcm90YXRlID0gdGVtcFJvdGF0ZTtcbiAgICAgICAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgICAgICAgdWx5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wTGVmdClbMF0ueTtcbiAgICAgICAgICBscnkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tUmlnaHQpWzBdLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWx5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcFJpZ2h0KVswXS55O1xuICAgICAgICAgIGxyeSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbUxlZnQpWzBdLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZURyYWdSaWdodCAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50WSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgY29uc3QgdGVtcCA9IGN1cnJlbnRZIC0gaW5pdGlhbFk7XG4gICAgICBjb25zdCB0ZW1wUm90YXRlID0gaW5pdGlhbFJvdGF0ZSArIE1hdGguYXRhbih0ZW1wIC8gcG9seUxlbik7XG4gICAgICBpZiAodGVtcFJvdGF0ZSA+IC0wLjIgJiYgdGVtcFJvdGF0ZSA8IDAuMikge1xuICAgICAgICBkeSA9IHRlbXA7XG4gICAgICAgIHJvdGF0ZSA9IHRlbXBSb3RhdGU7XG4gICAgICAgIGlmIChyb3RhdGUgPj0gMCApIHtcbiAgICAgICAgICBscnkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21SaWdodClbMF0ueTtcbiAgICAgICAgICB1bHkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wTGVmdClbMF0ueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bHkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BSaWdodClbMF0ueTtcbiAgICAgICAgICBscnkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tTGVmdClbMF0ueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRW5kICgpOiB2b2lkIHtcbiAgICAgIGlmIChkeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGR5ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHModWx4LCB1bHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4LCBscnkpKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXNpemVQb2ludCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcmVzaXplUmVjdCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm90YXRlUG9pbnQnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcblxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5pZCkgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdWx5ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnggPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RTdGFmZihlbGVtZW50LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcXVldWVOb3RpZmljYXRpb24oJ1tGQUlMXSBHbHlwaHMgd2VyZSBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgUm90YXRlIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdyZXNpemVSb3RhdGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICB1bHg6IHVseCxcbiAgICAgICAgICB1bHk6IHVseSxcbiAgICAgICAgICBscng6IGxyeCxcbiAgICAgICAgICBscnk6IGxyeSxcbiAgICAgICAgICByb3RhdGU6IHJvdGF0ZSAqIDE4MCAvIE1hdGguUElcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5pZCkgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZCwgdWx5ID0gdW5kZWZpbmVkLCBscnggPSB1bmRlZmluZWQsIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZWxlbWVudCwgZHJhZ0hhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBpbW1lZGlhdGUgZnJvbSAnaW1tZWRpYXRlJztcbmltcG9ydCB7IHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgTWQ1IGZyb20gJ3NwYXJrLW1kNSc7XG5pbXBvcnQgdnV2dXplbGEgZnJvbSAndnV2dXplbGEnO1xuaW1wb3J0IGdldEFyZ3VtZW50cyBmcm9tICdhcmdzYXJyYXknO1xuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcbmltcG9ydCBFRSBmcm9tICdldmVudHMnO1xuXG5mdW5jdGlvbiBtYW5nbGUoa2V5KSB7XG4gIHJldHVybiAnJCcgKyBrZXk7XG59XG5mdW5jdGlvbiB1bm1hbmdsZShrZXkpIHtcbiAgcmV0dXJuIGtleS5zdWJzdHJpbmcoMSk7XG59XG5mdW5jdGlvbiBNYXAkMSgpIHtcbiAgdGhpcy5fc3RvcmUgPSB7fTtcbn1cbk1hcCQxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiB0aGlzLl9zdG9yZVttYW5nbGVkXTtcbn07XG5NYXAkMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgdGhpcy5fc3RvcmVbbWFuZ2xlZF0gPSB2YWx1ZTtcbiAgcmV0dXJuIHRydWU7XG59O1xuTWFwJDEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgcmV0dXJuIG1hbmdsZWQgaW4gdGhpcy5fc3RvcmU7XG59O1xuTWFwJDEucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSkubWFwKGsgPT4gdW5tYW5nbGUoaykpO1xufTtcbk1hcCQxLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHZhciByZXMgPSBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xuICBkZWxldGUgdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG4gIHJldHVybiByZXM7XG59O1xuTWFwJDEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fc3RvcmVba2V5XTtcbiAgICBrZXkgPSB1bm1hbmdsZShrZXkpO1xuICAgIGNiKHZhbHVlLCBrZXkpO1xuICB9XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSkubGVuZ3RoO1xuICB9XG59KTtcblxuZnVuY3Rpb24gU2V0JDEoYXJyYXkpIHtcbiAgdGhpcy5fc3RvcmUgPSBuZXcgTWFwJDEoKTtcblxuICAvLyBpbml0IHdpdGggYW4gYXJyYXlcbiAgaWYgKGFycmF5ICYmIEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmFkZChhcnJheVtpXSk7XG4gICAgfVxuICB9XG59XG5TZXQkMS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5fc3RvcmUuc2V0KGtleSwgdHJ1ZSk7XG59O1xuU2V0JDEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLmhhcyhrZXkpO1xufTtcblNldCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHRoaXMuX3N0b3JlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBjYihrZXkpO1xuICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0JDEucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLnNpemU7XG4gIH1cbn0pO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2thbmdheC5naXRodWIuaW8vY29tcGF0LXRhYmxlL2VzNi8gd2UgY2FuIHNuaWZmIG91dFxuLy8gaW5jb21wbGV0ZSBNYXAvU2V0IGltcGxlbWVudGF0aW9ucyB3aGljaCB3b3VsZCBvdGhlcndpc2UgY2F1c2Ugb3VyIHRlc3RzIHRvIGZhaWwuXG4vLyBOb3RhYmx5IHRoZXkgZmFpbCBpbiBJRTExIGFuZCBpT1MgOC40LCB3aGljaCB0aGlzIHByZXZlbnRzLlxuZnVuY3Rpb24gc3VwcG9ydHNNYXBBbmRTZXQoKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWFwLCBTeW1ib2wuc3BlY2llcyk7XG4gIHJldHVybiBwcm9wICYmICdnZXQnIGluIHByb3AgJiYgTWFwW1N5bWJvbC5zcGVjaWVzXSA9PT0gTWFwO1xufVxuXG4vLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW9udGFnZWpzL2NvbGxlY3Rpb25zXG5cbnZhciBFeHBvcnRlZFNldDtcbnZhciBFeHBvcnRlZE1hcDtcblxue1xuICBpZiAoc3VwcG9ydHNNYXBBbmRTZXQoKSkgeyAvLyBwcmVmZXIgYnVpbHQtaW4gTWFwL1NldFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0O1xuICAgIEV4cG9ydGVkTWFwID0gTWFwO1xuICB9IGVsc2UgeyAvLyBmYWxsIGJhY2sgdG8gb3VyIHBvbHlmaWxsXG4gICAgRXhwb3J0ZWRTZXQgPSBTZXQkMTtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcCQxO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQmluYXJ5T2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBCbG9iKTtcbn1cblxuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihidWZmKSB7XG4gIGlmICh0eXBlb2YgYnVmZi5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBidWZmLnNsaWNlKDApO1xuICB9XG4gIC8vIElFMTAtMTEgc2xpY2UoKSBwb2x5ZmlsbFxuICB2YXIgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmYuYnl0ZUxlbmd0aCk7XG4gIHZhciB0YXJnZXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRhcmdldCk7XG4gIHZhciBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpO1xuICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcbiAgfVxuICB2YXIgc2l6ZSA9IG9iamVjdC5zaXplO1xuICB2YXIgdHlwZSA9IG9iamVjdC50eXBlO1xuICAvLyBCbG9iXG4gIGlmICh0eXBlb2Ygb2JqZWN0LnNsaWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iamVjdC5zbGljZSgwLCBzaXplLCB0eXBlKTtcbiAgfVxuICAvLyBQaGFudG9tSlMgc2xpY2UoKSByZXBsYWNlbWVudFxuICByZXR1cm4gb2JqZWN0LndlYmtpdFNsaWNlKDAsIHNpemUsIHR5cGUpO1xufVxuXG4vLyBtb3N0IG9mIHRoaXMgaXMgYm9ycm93ZWQgZnJvbSBsb2Rhc2guaXNQbGFpbk9iamVjdDpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXMtY29tcG9uZW50cy9sb2Rhc2guaXNwbGFpbm9iamVjdC9cbi8vIGJsb2IvMjljMzU4MTQwYTc0ZjI1MmFlYjA4YzllYjI4YmVmODZmMjIxN2Q0YS9pbmRleC5qc1xuXG52YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAocHJvdG8gPT09IG51bGwpIHsgLy8gbm90IHN1cmUgd2hlbiB0aGlzIGhhcHBlbnMsIGJ1dCBJIGd1ZXNzIGl0IGNhblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5mdW5jdGlvbiBjbG9uZShvYmplY3QpIHtcbiAgdmFyIG5ld09iamVjdDtcbiAgdmFyIGk7XG4gIHZhciBsZW47XG5cbiAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgIG5ld09iamVjdCA9IFtdO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IG9iamVjdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbmV3T2JqZWN0W2ldID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld09iamVjdDtcbiAgfVxuXG4gIC8vIHNwZWNpYWwgY2FzZTogdG8gYXZvaWQgaW5jb25zaXN0ZW5jaWVzIGJldHdlZW4gSW5kZXhlZERCXG4gIC8vIGFuZCBvdGhlciBiYWNrZW5kcywgd2UgYXV0b21hdGljYWxseSBzdHJpbmdpZnkgRGF0ZXNcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIERhdGUgJiYgaXNGaW5pdGUob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3QudG9JU09TdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChpc0JpbmFyeU9iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGNsb25lQmluYXJ5T2JqZWN0KG9iamVjdCk7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7IC8vIGRvbid0IGNsb25lIG9iamVjdHMgbGlrZSBXb3JrZXJzXG4gIH1cblxuICBuZXdPYmplY3QgPSB7fTtcbiAgZm9yIChpIGluIG9iamVjdCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGkpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBjbG9uZShvYmplY3RbaV0pO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmV3T2JqZWN0W2ldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdPYmplY3Q7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZnVuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBzbW9rZSB0ZXN0IGFuZCBzaG91bGQgbmV2ZXIgYWN0dWFsbHkgaGFwcGVuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uY2UgY2FsbGVkIG1vcmUgdGhhbiBvbmNlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9Qcm9taXNlKGZ1bmMpIHtcbiAgLy9jcmVhdGUgdGhlIGZ1bmN0aW9uIHdlIHdpbGwgYmUgcmV0dXJuaW5nXG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvLyBDbG9uZSBhcmd1bWVudHNcbiAgICBhcmdzID0gY2xvbmUoYXJncyk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIGlmIHRoZSBsYXN0IGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24sIGFzc3VtZSBpdHMgYSBjYWxsYmFja1xuICAgIHZhciB1c2VkQ0IgPSAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykgPyBhcmdzLnBvcCgpIDogZmFsc2U7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVzcDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IG9uY2UoZnVuY3Rpb24gKGVyciwgbWVzZykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmdWxmaWxsKG1lc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNhbGxiYWNrIGZvciB0aGlzIGludm9jYXRpb25cbiAgICAgICAgLy8gYXBwbHkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnIGNvbnRleHRcbiAgICAgICAgYXJncy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmVzcCA9IGZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIGlmIChyZXNwICYmIHR5cGVvZiByZXNwLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmdWxmaWxsKHJlc3ApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGNhbGxiYWNrLCBjYWxsIGl0IGJhY2tcbiAgICBpZiAodXNlZENCKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB1c2VkQ0IobnVsbCwgcmVzdWx0KTtcbiAgICAgIH0sIHVzZWRDQik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9nQXBpQ2FsbChzZWxmLCBuYW1lLCBhcmdzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoc2VsZi5jb25zdHJ1Y3Rvci5saXN0ZW5lcnMoJ2RlYnVnJykubGVuZ3RoKSB7XG4gICAgdmFyIGxvZ0FyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgbG9nQXJncy5wdXNoKGFyZ3NbaV0pO1xuICAgIH1cbiAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgbG9nQXJncyk7XG5cbiAgICAvLyBvdmVycmlkZSB0aGUgY2FsbGJhY2sgaXRzZWxmIHRvIGxvZyB0aGUgcmVzcG9uc2VcbiAgICB2YXIgb3JpZ0NhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgdmFyIHJlc3BvbnNlQXJncyA9IFsnYXBpJywgc2VsZi5uYW1lLCBuYW1lXTtcbiAgICAgIHJlc3BvbnNlQXJncyA9IHJlc3BvbnNlQXJncy5jb25jYXQoXG4gICAgICAgIGVyciA/IFsnZXJyb3InLCBlcnJdIDogWydzdWNjZXNzJywgcmVzXVxuICAgICAgKTtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVidWcnLCByZXNwb25zZUFyZ3MpO1xuICAgICAgb3JpZ0NhbGxiYWNrKGVyciwgcmVzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkYXB0ZXJGdW4obmFtZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIHRvUHJvbWlzZShnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBjbG9zZWQnKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2RhdGFiYXNlIGlzIGRlc3Ryb3llZCcpKTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncyk7XG4gICAgaWYgKCF0aGlzLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgICAgICBpZiAoZmFpbGVkKSB7XG4gICAgICAgICAgICByZWplY3QoZmFpbGVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChzZWxmW25hbWVdLmFwcGx5KHNlbGYsIGFyZ3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSkpO1xufVxuXG4vLyBsaWtlIHVuZGVyc2NvcmUvbG9kYXNoIF8ucGljaygpXG5mdW5jdGlvbiBwaWNrKG9iaiwgYXJyKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBwcm9wID0gYXJyW2ldO1xuICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgcmVzW3Byb3BdID0gb2JqW3Byb3BdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vLyBNb3N0IGJyb3dzZXJzIHRocm90dGxlIGNvbmN1cnJlbnQgcmVxdWVzdHMgYXQgNiwgc28gaXQncyBzaWxseVxuLy8gdG8gc2hpbSBfYnVsa19nZXQgYnkgdHJ5aW5nIHRvIGxhdW5jaCBwb3RlbnRpYWxseSBodW5kcmVkcyBvZiByZXF1ZXN0c1xuLy8gYW5kIHRoZW4gbGV0dGluZyB0aGUgbWFqb3JpdHkgdGltZSBvdXQuIFdlIGNhbiBoYW5kbGUgdGhpcyBvdXJzZWx2ZXMuXG52YXIgTUFYX05VTV9DT05DVVJSRU5UX1JFUVVFU1RTID0gNjtcblxuZnVuY3Rpb24gaWRlbnRpdHlGdW5jdGlvbih4KSB7XG4gIHJldHVybiB4O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRSZXN1bHRGb3JPcGVuUmV2c0dldChyZXN1bHQpIHtcbiAgcmV0dXJuIFt7XG4gICAgb2s6IHJlc3VsdFxuICB9XTtcbn1cblxuLy8gc2hpbSBmb3IgUC9Db3VjaERCIGFkYXB0ZXJzIHRoYXQgZG9uJ3QgZGlyZWN0bHkgaW1wbGVtZW50IF9idWxrX2dldFxuZnVuY3Rpb24gYnVsa0dldChkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3RzID0gb3B0cy5kb2NzO1xuXG4gIC8vIGNvbnNvbGlkYXRlIGludG8gb25lIHJlcXVlc3QgcGVyIGRvYyBpZiBwb3NzaWJsZVxuICB2YXIgcmVxdWVzdHNCeUlkID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gIHJlcXVlc3RzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdHNCeUlkLmhhcyhyZXF1ZXN0LmlkKSkge1xuICAgICAgcmVxdWVzdHNCeUlkLmdldChyZXF1ZXN0LmlkKS5wdXNoKHJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0c0J5SWQuc2V0KHJlcXVlc3QuaWQsIFtyZXF1ZXN0XSk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgbnVtRG9jcyA9IHJlcXVlc3RzQnlJZC5zaXplO1xuICB2YXIgbnVtRG9uZSA9IDA7XG4gIHZhciBwZXJEb2NSZXN1bHRzID0gbmV3IEFycmF5KG51bURvY3MpO1xuXG4gIGZ1bmN0aW9uIGNvbGxhcHNlUmVzdWx0c0FuZEZpbmlzaCgpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHBlckRvY1Jlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXMuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaWQ6IHJlcy5pZCxcbiAgICAgICAgICBkb2NzOiBbaW5mb11cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjYWxsYmFjayhudWxsLCB7cmVzdWx0czogcmVzdWx0c30pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IG51bURvY3MpIHtcbiAgICAgIGNvbGxhcHNlUmVzdWx0c0FuZEZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdvdFJlc3VsdChkb2NJbmRleCwgaWQsIGRvY3MpIHtcbiAgICBwZXJEb2NSZXN1bHRzW2RvY0luZGV4XSA9IHtpZDogaWQsIGRvY3M6IGRvY3N9O1xuICAgIGNoZWNrRG9uZSgpO1xuICB9XG5cbiAgdmFyIGFsbFJlcXVlc3RzID0gW107XG4gIHJlcXVlc3RzQnlJZC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgYWxsUmVxdWVzdHMucHVzaChrZXkpO1xuICB9KTtcblxuICB2YXIgaSA9IDA7XG5cbiAgZnVuY3Rpb24gbmV4dEJhdGNoKCkge1xuXG4gICAgaWYgKGkgPj0gYWxsUmVxdWVzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHVwVG8gPSBNYXRoLm1pbihpICsgTUFYX05VTV9DT05DVVJSRU5UX1JFUVVFU1RTLCBhbGxSZXF1ZXN0cy5sZW5ndGgpO1xuICAgIHZhciBiYXRjaCA9IGFsbFJlcXVlc3RzLnNsaWNlKGksIHVwVG8pO1xuICAgIHByb2Nlc3NCYXRjaChiYXRjaCwgaSk7XG4gICAgaSArPSBiYXRjaC5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2gsIG9mZnNldCkge1xuICAgIGJhdGNoLmZvckVhY2goZnVuY3Rpb24gKGRvY0lkLCBqKSB7XG4gICAgICB2YXIgZG9jSWR4ID0gb2Zmc2V0ICsgajtcbiAgICAgIHZhciBkb2NSZXF1ZXN0cyA9IHJlcXVlc3RzQnlJZC5nZXQoZG9jSWQpO1xuXG4gICAgICAvLyBqdXN0IHVzZSB0aGUgZmlyc3QgcmVxdWVzdCBhcyB0aGUgXCJ0ZW1wbGF0ZVwiXG4gICAgICAvLyBUT0RPOiBUaGUgX2J1bGtfZ2V0IEFQSSBhbGxvd3MgZm9yIG1vcmUgc3VidGxlIHVzZSBjYXNlcyB0aGFuIHRoaXMsXG4gICAgICAvLyBidXQgZm9yIG5vdyBpdCBpcyB1bmxpa2VseSB0aGF0IHRoZXJlIHdpbGwgYmUgYSBtaXggb2YgZGlmZmVyZW50XG4gICAgICAvLyBcImF0dHNfc2luY2VcIiBvciBcImF0dGFjaG1lbnRzXCIgaW4gdGhlIHNhbWUgcmVxdWVzdCwgc2luY2UgaXQncyBqdXN0XG4gICAgICAvLyByZXBsaWNhdGUuanMgdGhhdCBpcyB1c2luZyB0aGlzIGZvciB0aGUgbW9tZW50LlxuICAgICAgLy8gQWxzbywgYXR0c19zaW5jZSBpcyBhc3BpcmF0aW9uYWwsIHNpbmNlIHdlIGRvbid0IHN1cHBvcnQgaXQgeWV0LlxuICAgICAgdmFyIGRvY09wdHMgPSBwaWNrKGRvY1JlcXVlc3RzWzBdLCBbJ2F0dHNfc2luY2UnLCAnYXR0YWNobWVudHMnXSk7XG4gICAgICBkb2NPcHRzLm9wZW5fcmV2cyA9IGRvY1JlcXVlc3RzLm1hcChmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAvLyByZXYgaXMgb3B0aW9uYWwsIG9wZW5fcmV2cyBkaXNhbGxvd2VkXG4gICAgICAgIHJldHVybiByZXF1ZXN0LnJldjtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZW1vdmUgZmFsc2V5IC8gdW5kZWZpbmVkIHJldmlzaW9uc1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NPcHRzLm9wZW5fcmV2cy5maWx0ZXIoaWRlbnRpdHlGdW5jdGlvbik7XG5cbiAgICAgIHZhciBmb3JtYXRSZXN1bHQgPSBpZGVudGl0eUZ1bmN0aW9uO1xuXG4gICAgICBpZiAoZG9jT3B0cy5vcGVuX3JldnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBkb2NPcHRzLm9wZW5fcmV2cztcblxuICAgICAgICAvLyB3aGVuIGZldGNoaW5nIG9ubHkgdGhlIFwid2lubmluZ1wiIGxlYWYsXG4gICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgcmVzdWx0IHNvIGl0IGxvb2tzIGxpa2UgYW4gb3Blbl9yZXZzXG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgZm9ybWF0UmVzdWx0ID0gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIGdsb2JhbGx5LXN1cHBsaWVkIG9wdGlvbnNcbiAgICAgIFsncmV2cycsICdhdHRhY2htZW50cycsICdiaW5hcnknLCAnYWpheCcsICdsYXRlc3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICBpZiAocGFyYW0gaW4gb3B0cykge1xuICAgICAgICAgIGRvY09wdHNbcGFyYW1dID0gb3B0c1twYXJhbV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGIuZ2V0KGRvY0lkLCBkb2NPcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXN1bHQgPSBbe2Vycm9yOiBlcnJ9XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBmb3JtYXRSZXN1bHQocmVzKTtcbiAgICAgICAgfVxuICAgICAgICBnb3RSZXN1bHQoZG9jSWR4LCBkb2NJZCwgcmVzdWx0KTtcbiAgICAgICAgbmV4dEJhdGNoKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG5leHRCYXRjaCgpO1xuXG59XG5cbnZhciBoYXNMb2NhbDtcblxudHJ5IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ19wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UnLCAxKTtcbiAgaGFzTG9jYWwgPSAhIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJyk7XG59IGNhdGNoIChlKSB7XG4gIGhhc0xvY2FsID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGhhc0xvY2FsU3RvcmFnZSgpIHtcbiAgcmV0dXJuIGhhc0xvY2FsO1xufVxuXG4vLyBDdXN0b20gbmV4dFRpY2soKSBzaGltIGZvciBicm93c2Vycy4gSW4gbm9kZSwgdGhpcyB3aWxsIGp1c3QgYmUgcHJvY2Vzcy5uZXh0VGljaygpLiBXZVxuXG5pbmhlcml0cyhDaGFuZ2VzLCBFRSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBhdHRhY2hCcm93c2VyRXZlbnRzKHNlbGYpIHtcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHNlbGYuZW1pdChlLmtleSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gQ2hhbmdlcygpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG5cbiAgYXR0YWNoQnJvd3NlckV2ZW50cyh0aGlzKTtcbn1cbkNoYW5nZXMucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGRiTmFtZSwgaWQsIGRiLCBvcHRzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodGhpcy5fbGlzdGVuZXJzW2lkXSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBpbnByb2dyZXNzID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGV2ZW50RnVuY3Rpb24oKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFzZWxmLl9saXN0ZW5lcnNbaWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbnByb2dyZXNzKSB7XG4gICAgICBpbnByb2dyZXNzID0gJ3dhaXRpbmcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnByb2dyZXNzID0gdHJ1ZTtcbiAgICB2YXIgY2hhbmdlc09wdHMgPSBwaWNrKG9wdHMsIFtcbiAgICAgICdzdHlsZScsICdpbmNsdWRlX2RvY3MnLCAnYXR0YWNobWVudHMnLCAnY29uZmxpY3RzJywgJ2ZpbHRlcicsXG4gICAgICAnZG9jX2lkcycsICd2aWV3JywgJ3NpbmNlJywgJ3F1ZXJ5X3BhcmFtcycsICdiaW5hcnknLCAncmV0dXJuX2RvY3MnXG4gICAgXSk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICBpbnByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZGIuY2hhbmdlcyhjaGFuZ2VzT3B0cykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoYy5zZXEgPiBvcHRzLnNpbmNlICYmICFvcHRzLmNhbmNlbGxlZCkge1xuICAgICAgICBvcHRzLnNpbmNlID0gYy5zZXE7XG4gICAgICAgIG9wdHMub25DaGFuZ2UoYyk7XG4gICAgICB9XG4gICAgfSkub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlucHJvZ3Jlc3MgPT09ICd3YWl0aW5nJykge1xuICAgICAgICBpbW1lZGlhdGUoZXZlbnRGdW5jdGlvbik7XG4gICAgICB9XG4gICAgICBpbnByb2dyZXNzID0gZmFsc2U7XG4gICAgfSkub24oJ2Vycm9yJywgb25FcnJvcik7XG4gIH1cbiAgdGhpcy5fbGlzdGVuZXJzW2lkXSA9IGV2ZW50RnVuY3Rpb247XG4gIHRoaXMub24oZGJOYW1lLCBldmVudEZ1bmN0aW9uKTtcbn07XG5cbkNoYW5nZXMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGRiTmFtZSwgaWQpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghKGlkIGluIHRoaXMuX2xpc3RlbmVycykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgRUUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcywgZGJOYW1lLFxuICAgIHRoaXMuX2xpc3RlbmVyc1tpZF0pO1xuICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2lkXTtcbn07XG5cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbkNoYW5nZXMucHJvdG90eXBlLm5vdGlmeUxvY2FsV2luZG93cyA9IGZ1bmN0aW9uIChkYk5hbWUpIHtcbiAgLy9kbyBhIHVzZWxlc3MgY2hhbmdlIG9uIGEgc3RvcmFnZSB0aGluZ1xuICAvL2luIG9yZGVyIHRvIGdldCBvdGhlciB3aW5kb3dzJ3MgbGlzdGVuZXJzIHRvIGFjdGl2YXRlXG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGxvY2FsU3RvcmFnZVtkYk5hbWVdID0gKGxvY2FsU3RvcmFnZVtkYk5hbWVdID09PSBcImFcIikgPyBcImJcIiA6IFwiYVwiO1xuICB9XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIHRoaXMuZW1pdChkYk5hbWUpO1xuICB0aGlzLm5vdGlmeUxvY2FsV2luZG93cyhkYk5hbWUpO1xufTtcblxuZnVuY3Rpb24gZ3VhcmRlZENvbnNvbGUobWV0aG9kKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGVbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBjb25zb2xlW21ldGhvZF0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmFuZG9tTnVtYmVyKG1pbiwgbWF4KSB7XG4gIHZhciBtYXhUaW1lb3V0ID0gNjAwMDAwOyAvLyBIYXJkLWNvZGVkIGRlZmF1bHQgb2YgMTAgbWludXRlc1xuICBtaW4gPSBwYXJzZUludChtaW4sIDEwKSB8fCAwO1xuICBtYXggPSBwYXJzZUludChtYXgsIDEwKTtcbiAgaWYgKG1heCAhPT0gbWF4IHx8IG1heCA8PSBtaW4pIHtcbiAgICBtYXggPSAobWluIHx8IDEpIDw8IDE7IC8vZG91YmxpbmdcbiAgfSBlbHNlIHtcbiAgICBtYXggPSBtYXggKyAxO1xuICB9XG4gIC8vIEluIG9yZGVyIHRvIG5vdCBleGNlZWQgbWF4VGltZW91dCwgcGljayBhIHJhbmRvbSB2YWx1ZSBiZXR3ZWVuIGhhbGYgb2YgbWF4VGltZW91dCBhbmQgbWF4VGltZW91dFxuICBpZiAobWF4ID4gbWF4VGltZW91dCkge1xuICAgIG1pbiA9IG1heFRpbWVvdXQgPj4gMTsgLy8gZGl2aWRlIGJ5IHR3b1xuICAgIG1heCA9IG1heFRpbWVvdXQ7XG4gIH1cbiAgdmFyIHJhdGlvID0gTWF0aC5yYW5kb20oKTtcbiAgdmFyIHJhbmdlID0gbWF4IC0gbWluO1xuXG4gIHJldHVybiB+fihyYW5nZSAqIHJhdGlvICsgbWluKTsgLy8gfn4gY29lcmNlcyB0byBhbiBpbnQsIGJ1dCBmYXN0LlxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QmFja09mZihtaW4pIHtcbiAgdmFyIG1heCA9IDA7XG4gIGlmICghbWluKSB7XG4gICAgbWF4ID0gMjAwMDtcbiAgfVxuICByZXR1cm4gcmFuZG9tTnVtYmVyKG1pbiwgbWF4KTtcbn1cblxuLy8gZGVzaWduZWQgdG8gZ2l2ZSBpbmZvIHRvIGJyb3dzZXIgdXNlcnMsIHdobyBhcmUgZGlzdHVyYmVkXG4vLyB3aGVuIHRoZXkgc2VlIGh0dHAgZXJyb3JzIGluIHRoZSBjb25zb2xlXG5mdW5jdGlvbiBleHBsYWluRXJyb3Ioc3RhdHVzLCBzdHIpIHtcbiAgZ3VhcmRlZENvbnNvbGUoJ2luZm8nLCAnVGhlIGFib3ZlICcgKyBzdGF0dXMgKyAnIGlzIHRvdGFsbHkgbm9ybWFsLiAnICsgc3RyKTtcbn1cblxudmFyIGFzc2lnbjtcbntcbiAgaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbiAgfSBlbHNlIHtcbiAgICAvLyBsaXRlIE9iamVjdC5hc3NpZ24gcG9seWZpbGwgYmFzZWQgb25cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXG4gICAgYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcblxuICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dFNvdXJjZSkge1xuICAgICAgICAgICAgLy8gQXZvaWQgYnVncyB3aGVuIGhhc093blByb3BlcnR5IGlzIHNoYWRvd2VkXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0bztcbiAgICB9O1xuICB9XG59XG5cbnZhciAkaW5qZWN0X09iamVjdF9hc3NpZ24gPSBhc3NpZ247XG5cbmluaGVyaXRzKFBvdWNoRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gUG91Y2hFcnJvcihzdGF0dXMsIGVycm9yLCByZWFzb24pIHtcbiAgRXJyb3IuY2FsbCh0aGlzLCByZWFzb24pO1xuICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgdGhpcy5uYW1lID0gZXJyb3I7XG4gIHRoaXMubWVzc2FnZSA9IHJlYXNvbjtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG59XG5cblBvdWNoRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgbmFtZTogdGhpcy5uYW1lLFxuICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICByZWFzb246IHRoaXMucmVhc29uXG4gIH0pO1xufTtcblxudmFyIFVOQVVUSE9SSVpFRCA9IG5ldyBQb3VjaEVycm9yKDQwMSwgJ3VuYXV0aG9yaXplZCcsIFwiTmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QuXCIpO1xudmFyIE1JU1NJTkdfQlVMS19ET0NTID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCBcIk1pc3NpbmcgSlNPTiBsaXN0IG9mICdkb2NzJ1wiKTtcbnZhciBNSVNTSU5HX0RPQyA9IG5ldyBQb3VjaEVycm9yKDQwNCwgJ25vdF9mb3VuZCcsICdtaXNzaW5nJyk7XG52YXIgUkVWX0NPTkZMSUNUID0gbmV3IFBvdWNoRXJyb3IoNDA5LCAnY29uZmxpY3QnLCAnRG9jdW1lbnQgdXBkYXRlIGNvbmZsaWN0Jyk7XG52YXIgSU5WQUxJRF9JRCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ19pZCBmaWVsZCBtdXN0IGNvbnRhaW4gYSBzdHJpbmcnKTtcbnZhciBNSVNTSU5HX0lEID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnbWlzc2luZ19pZCcsICdfaWQgaXMgcmVxdWlyZWQgZm9yIHB1dHMnKTtcbnZhciBSRVNFUlZFRF9JRCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ09ubHkgcmVzZXJ2ZWQgZG9jdW1lbnQgaWRzIG1heSBzdGFydCB3aXRoIHVuZGVyc2NvcmUuJyk7XG52YXIgTk9UX09QRU4gPSBuZXcgUG91Y2hFcnJvcig0MTIsICdwcmVjb25kaXRpb25fZmFpbGVkJywgJ0RhdGFiYXNlIG5vdCBvcGVuJyk7XG52YXIgVU5LTk9XTl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ3Vua25vd25fZXJyb3InLCAnRGF0YWJhc2UgZW5jb3VudGVyZWQgYW4gdW5rbm93biBlcnJvcicpO1xudmFyIEJBRF9BUkcgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdiYWRhcmcnLCAnU29tZSBxdWVyeSBhcmd1bWVudCBpcyBpbnZhbGlkJyk7XG52YXIgSU5WQUxJRF9SRVFVRVNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnaW52YWxpZF9yZXF1ZXN0JywgJ1JlcXVlc3Qgd2FzIGludmFsaWQnKTtcbnZhciBRVUVSWV9QQVJTRV9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ3F1ZXJ5X3BhcnNlX2Vycm9yJywgJ1NvbWUgcXVlcnkgcGFyYW1ldGVyIGlzIGludmFsaWQnKTtcbnZhciBET0NfVkFMSURBVElPTiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2RvY192YWxpZGF0aW9uJywgJ0JhZCBzcGVjaWFsIGRvY3VtZW50IG1lbWJlcicpO1xudmFyIEJBRF9SRVFVRVNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnU29tZXRoaW5nIHdyb25nIHdpdGggdGhlIHJlcXVlc3QnKTtcbnZhciBOT1RfQU5fT0JKRUNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnRG9jdW1lbnQgbXVzdCBiZSBhIEpTT04gb2JqZWN0Jyk7XG52YXIgREJfTUlTU0lORyA9IG5ldyBQb3VjaEVycm9yKDQwNCwgJ25vdF9mb3VuZCcsICdEYXRhYmFzZSBub3QgZm91bmQnKTtcbnZhciBJREJfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdpbmRleGVkX2RiX3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBXU1FfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd3ZWJfc3FsX3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBMREJfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdsZXZlbERCX3dlbnRfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIEZPUkJJRERFTiA9IG5ldyBQb3VjaEVycm9yKDQwMywgJ2ZvcmJpZGRlbicsICdGb3JiaWRkZW4gYnkgZGVzaWduIGRvYyB2YWxpZGF0ZV9kb2NfdXBkYXRlIGZ1bmN0aW9uJyk7XG52YXIgSU5WQUxJRF9SRVYgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdJbnZhbGlkIHJldiBmb3JtYXQnKTtcbnZhciBGSUxFX0VYSVNUUyA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ2ZpbGVfZXhpc3RzJywgJ1RoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY3JlYXRlZCwgdGhlIGZpbGUgYWxyZWFkeSBleGlzdHMuJyk7XG52YXIgTUlTU0lOR19TVFVCID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnbWlzc2luZ19zdHViJywgJ0EgcHJlLWV4aXN0aW5nIGF0dGFjaG1lbnQgc3R1YiB3YXNuXFwndCBmb3VuZCcpO1xudmFyIElOVkFMSURfVVJMID0gbmV3IFBvdWNoRXJyb3IoNDEzLCAnaW52YWxpZF91cmwnLCAnUHJvdmlkZWQgVVJMIGlzIGludmFsaWQnKTtcblxuZnVuY3Rpb24gY3JlYXRlRXJyb3IoZXJyb3IsIHJlYXNvbikge1xuICBmdW5jdGlvbiBDdXN0b21Qb3VjaEVycm9yKHJlYXNvbikge1xuICAgIC8vIGluaGVyaXQgZXJyb3IgcHJvcGVydGllcyBmcm9tIG91ciBwYXJlbnQgZXJyb3IgbWFudWFsbHlcbiAgICAvLyBzbyBhcyB0byBhbGxvdyBwcm9wZXIgSlNPTiBwYXJzaW5nLlxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICB2YXIgbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnJvcik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIGVycm9yW25hbWVzW2ldXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzW25hbWVzW2ldXSA9IGVycm9yW25hbWVzW2ldXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgICB9XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIGlmIChyZWFzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgfVxuICB9XG4gIEN1c3RvbVBvdWNoRXJyb3IucHJvdG90eXBlID0gUG91Y2hFcnJvci5wcm90b3R5cGU7XG4gIHJldHVybiBuZXcgQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikge1xuXG4gIGlmICh0eXBlb2YgZXJyICE9PSAnb2JqZWN0Jykge1xuICAgIHZhciBkYXRhID0gZXJyO1xuICAgIGVyciA9IFVOS05PV05fRVJST1I7XG4gICAgZXJyLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgaWYgKCdlcnJvcicgaW4gZXJyICYmIGVyci5lcnJvciA9PT0gJ2NvbmZsaWN0Jykge1xuICAgIGVyci5uYW1lID0gJ2NvbmZsaWN0JztcbiAgICBlcnIuc3RhdHVzID0gNDA5O1xuICB9XG5cbiAgaWYgKCEoJ25hbWUnIGluIGVycikpIHtcbiAgICBlcnIubmFtZSA9IGVyci5lcnJvciB8fCAndW5rbm93bic7XG4gIH1cblxuICBpZiAoISgnc3RhdHVzJyBpbiBlcnIpKSB7XG4gICAgZXJyLnN0YXR1cyA9IDUwMDtcbiAgfVxuXG4gIGlmICghKCdtZXNzYWdlJyBpbiBlcnIpKSB7XG4gICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZSB8fCBlcnIucmVhc29uO1xuICB9XG5cbiAgaWYgKCEoJ3N0YWNrJyBpbiBlcnIpKSB7XG4gICAgZXJyLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHJldHVybiBlcnI7XG59XG5cbmZ1bmN0aW9uIHRyeUZpbHRlcihmaWx0ZXIsIGRvYywgcmVxKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICFmaWx0ZXIoZG9jLCByZXEpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB2YXIgbXNnID0gJ0ZpbHRlciBmdW5jdGlvbiB0aHJldzogJyArIGVyci50b1N0cmluZygpO1xuICAgIHJldHVybiBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCwgbXNnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaWx0ZXJDaGFuZ2Uob3B0cykge1xuICB2YXIgcmVxID0ge307XG4gIHZhciBoYXNGaWx0ZXIgPSBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbic7XG4gIHJlcS5xdWVyeSA9IG9wdHMucXVlcnlfcGFyYW1zO1xuXG4gIHJldHVybiBmdW5jdGlvbiBmaWx0ZXIoY2hhbmdlKSB7XG4gICAgaWYgKCFjaGFuZ2UuZG9jKSB7XG4gICAgICAvLyBDU0cgc2VuZHMgZXZlbnRzIG9uIHRoZSBjaGFuZ2VzIGZlZWQgdGhhdCBkb24ndCBoYXZlIGRvY3VtZW50cyxcbiAgICAgIC8vIHRoaXMgaGFjayBtYWtlcyBhIHdob2xlIGxvdCBvZiBleGlzdGluZyBjb2RlIHJvYnVzdC5cbiAgICAgIGNoYW5nZS5kb2MgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZmlsdGVyUmV0dXJuID0gaGFzRmlsdGVyICYmIHRyeUZpbHRlcihvcHRzLmZpbHRlciwgY2hhbmdlLmRvYywgcmVxKTtcblxuICAgIGlmICh0eXBlb2YgZmlsdGVyUmV0dXJuID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGZpbHRlclJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZmlsdGVyUmV0dXJuKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgZGVsZXRlIGNoYW5nZS5kb2M7XG4gICAgfSBlbHNlIGlmICghb3B0cy5hdHRhY2htZW50cykge1xuICAgICAgZm9yICh2YXIgYXR0IGluIGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY2hhbmdlLmRvYy5fYXR0YWNobWVudHMsIGF0dCkpIHtcbiAgICAgICAgICBjaGFuZ2UuZG9jLl9hdHRhY2htZW50c1thdHRdLnN0dWIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuKGFycnMpIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHJlcyA9IHJlcy5jb25jYXQoYXJyc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gc2hpbSBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUsXG5cbi8vIERldGVybWluZSBpZCBhbiBJRCBpcyB2YWxpZFxuLy8gICAtIGludmFsaWQgSURzIGJlZ2luIHdpdGggYW4gdW5kZXJlc2NvcmUgdGhhdCBkb2VzIG5vdCBiZWdpbiAnX2Rlc2lnbicgb3Jcbi8vICAgICAnX2xvY2FsJ1xuLy8gICAtIGFueSBvdGhlciBzdHJpbmcgdmFsdWUgaXMgYSB2YWxpZCBpZFxuLy8gUmV0dXJucyB0aGUgc3BlY2lmaWMgZXJyb3Igb2JqZWN0IGZvciBlYWNoIGNhc2VcbmZ1bmN0aW9uIGludmFsaWRJZEVycm9yKGlkKSB7XG4gIHZhciBlcnI7XG4gIGlmICghaWQpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0lEKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoSU5WQUxJRF9JRCk7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KGlkKSAmJiAhKC9eXyhkZXNpZ258bG9jYWwpLykudGVzdChpZCkpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihSRVNFUlZFRF9JRCk7XG4gIH1cbiAgaWYgKGVycikge1xuICAgIHRocm93IGVycjtcbiAgfVxufVxuXG4vLyBDaGVja3MgaWYgYSBQb3VjaERCIG9iamVjdCBpcyBcInJlbW90ZVwiIG9yIG5vdC4gVGhpcyBpc1xuXG5mdW5jdGlvbiBpc1JlbW90ZShkYikge1xuICBpZiAodHlwZW9mIGRiLl9yZW1vdGUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBkYi5fcmVtb3RlO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGIudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJyxcbiAgICAgICdkYi50eXBlKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluICcgK1xuICAgICAgJ2EgZnV0dXJlIHZlcnNpb24gb2YgUG91Y2hEQicpO1xuICAgIHJldHVybiBkYi50eXBlKCkgPT09ICdodHRwJztcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZWUsIHR5cGUpIHtcbiAgcmV0dXJuICdsaXN0ZW5lckNvdW50JyBpbiBlZSA/IGVlLmxpc3RlbmVyQ291bnQodHlwZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRUUubGlzdGVuZXJDb3VudChlZSwgdHlwZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgaWYgKCFzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHBhcnRzID0gcy5zcGxpdCgnLycpO1xuICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gW3MsIHNdO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocykge1xuICB2YXIgbm9ybWFsaXplZCA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpO1xuICByZXR1cm4gbm9ybWFsaXplZCA/IG5vcm1hbGl6ZWQuam9pbignLycpIDogbnVsbDtcbn1cblxuLy8gb3JpZ2luYWxseSBwYXJzZVVyaSAxLjIuMiwgbm93IHBhdGNoZWQgYnkgdXNcbi8vIChjKSBTdGV2ZW4gTGV2aXRoYW4gPHN0ZXZlbmxldml0aGFuLmNvbT5cbi8vIE1JVCBMaWNlbnNlXG52YXIga2V5cyA9IFtcInNvdXJjZVwiLCBcInByb3RvY29sXCIsIFwiYXV0aG9yaXR5XCIsIFwidXNlckluZm9cIiwgXCJ1c2VyXCIsIFwicGFzc3dvcmRcIixcbiAgICBcImhvc3RcIiwgXCJwb3J0XCIsIFwicmVsYXRpdmVcIiwgXCJwYXRoXCIsIFwiZGlyZWN0b3J5XCIsIFwiZmlsZVwiLCBcInF1ZXJ5XCIsIFwiYW5jaG9yXCJdO1xudmFyIHFOYW1lID1cInF1ZXJ5S2V5XCI7XG52YXIgcVBhcnNlciA9IC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZztcblxuLy8gdXNlIHRoZSBcImxvb3NlXCIgcGFyc2VyXG4vKiBlc2xpbnQgbm8tdXNlbGVzcy1lc2NhcGU6IDAgKi9cbnZhciBwYXJzZXIgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS87XG5cbmZ1bmN0aW9uIHBhcnNlVXJpKHN0cikge1xuICB2YXIgbSA9IHBhcnNlci5leGVjKHN0cik7XG4gIHZhciB1cmkgPSB7fTtcbiAgdmFyIGkgPSAxNDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIHZhbHVlID0gbVtpXSB8fCBcIlwiO1xuICAgIHZhciBlbmNvZGVkID0gWyd1c2VyJywgJ3Bhc3N3b3JkJ10uaW5kZXhPZihrZXkpICE9PSAtMTtcbiAgICB1cmlba2V5XSA9IGVuY29kZWQgPyBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpIDogdmFsdWU7XG4gIH1cblxuICB1cmlbcU5hbWVdID0ge307XG4gIHVyaVtrZXlzWzEyXV0ucmVwbGFjZShxUGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkge1xuICAgICAgdXJpW3FOYW1lXVskMV0gPSAkMjtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB1cmk7XG59XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGV4ZGF2aWQvc2NvcGUtZXZhbCB2MC4wLjNcbi8vIChzb3VyY2U6IGh0dHBzOi8vdW5wa2cuY29tL3Njb3BlLWV2YWxAMC4wLjMvc2NvcGVfZXZhbC5qcylcbi8vIFRoaXMgaXMgYmFzaWNhbGx5IGp1c3QgYSB3cmFwcGVyIGFyb3VuZCBuZXcgRnVuY3Rpb24oKVxuXG5mdW5jdGlvbiBzY29wZUV2YWwoc291cmNlLCBzY29wZSkge1xuICB2YXIga2V5cyA9IFtdO1xuICB2YXIgdmFsdWVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBzY29wZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2NvcGUsIGtleSkpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgdmFsdWVzLnB1c2goc2NvcGVba2V5XSk7XG4gICAgfVxuICB9XG4gIGtleXMucHVzaChzb3VyY2UpO1xuICByZXR1cm4gRnVuY3Rpb24uYXBwbHkobnVsbCwga2V5cykuYXBwbHkobnVsbCwgdmFsdWVzKTtcbn1cblxuLy8gdGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgXCJ1cGRhdGUgc3VnYXJcIiBmdW5jdGlvbiBmcm9tIGRhbGVoYXJ2ZXkvcG91Y2hkYiMxMzg4XG4vLyB0aGUgZGlmZkZ1biB0ZWxscyB1cyB3aGF0IGRlbHRhIHRvIGFwcGx5IHRvIHRoZSBkb2MuICBpdCBlaXRoZXIgcmV0dXJuc1xuLy8gdGhlIGRvYywgb3IgZmFsc2UgaWYgaXQgZG9lc24ndCBuZWVkIHRvIGRvIGFuIHVwZGF0ZSBhZnRlciBhbGxcbmZ1bmN0aW9uIHVwc2VydChkYiwgZG9jSWQsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLmdldChkb2NJZClcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgLy8gdGhlIHVzZXIgbWlnaHQgY2hhbmdlIHRoZSBfcmV2LCBzbyBzYXZlIGl0IGZvciBwb3N0ZXJpdHlcbiAgICAgIHZhciBkb2NSZXYgPSBkb2MuX3JldjtcbiAgICAgIHZhciBuZXdEb2MgPSBkaWZmRnVuKGRvYyk7XG5cbiAgICAgIGlmICghbmV3RG9jKSB7XG4gICAgICAgIC8vIGlmIHRoZSBkaWZmRnVuIHJldHVybnMgZmFsc3ksIHdlIHNob3J0LWNpcmN1aXQgYXNcbiAgICAgICAgLy8gYW4gb3B0aW1pemF0aW9uXG4gICAgICAgIHJldHVybiB7dXBkYXRlZDogZmFsc2UsIHJldjogZG9jUmV2fTtcbiAgICAgIH1cblxuICAgICAgLy8gdXNlcnMgYXJlbid0IGFsbG93ZWQgdG8gbW9kaWZ5IHRoZXNlIHZhbHVlcyxcbiAgICAgIC8vIHNvIHJlc2V0IHRoZW0gaGVyZVxuICAgICAgbmV3RG9jLl9pZCA9IGRvY0lkO1xuICAgICAgbmV3RG9jLl9yZXYgPSBkb2NSZXY7XG4gICAgICByZXR1cm4gdHJ5QW5kUHV0KGRiLCBuZXdEb2MsIGRpZmZGdW4pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB0cnlBbmRQdXQoZGIsIGRvYywgZGlmZkZ1bikge1xuICByZXR1cm4gZGIucHV0KGRvYykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZWQ6IHRydWUsXG4gICAgICByZXY6IHJlcy5yZXZcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiB1cHNlcnQoZGIsIGRvYy5faWQsIGRpZmZGdW4pO1xuICB9KTtcbn1cblxudmFyIHRoaXNBdG9iID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gYXRvYihzdHIpO1xufTtcblxudmFyIHRoaXNCdG9hID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gYnRvYShzdHIpO1xufTtcblxuLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG4vLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yIChlLmcuXG4vLyBvbGQgUXRXZWJLaXQgdmVyc2lvbnMsIEFuZHJvaWQgPCA0LjQpLlxuZnVuY3Rpb24gY3JlYXRlQmxvYihwYXJ0cywgcHJvcGVydGllcykge1xuICAvKiBnbG9iYWwgQmxvYkJ1aWxkZXIsTVNCbG9iQnVpbGRlcixNb3pCbG9iQnVpbGRlcixXZWJLaXRCbG9iQnVpbGRlciAqL1xuICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEJsb2IocGFydHMsIHByb3BlcnRpZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUubmFtZSAhPT0gXCJUeXBlRXJyb3JcIikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgdmFyIEJ1aWxkZXIgPSB0eXBlb2YgQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1TQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTVNCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICB0eXBlb2YgTW96QmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTW96QmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgV2ViS2l0QmxvYkJ1aWxkZXI7XG4gICAgdmFyIGJ1aWxkZXIgPSBuZXcgQnVpbGRlcigpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGJ1aWxkZXIuYXBwZW5kKHBhcnRzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuICB9XG59XG5cbi8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNDk2NzY0Ny8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vLyBlbmNvZGUtZGVjb2RlLWltYWdlLXdpdGgtYmFzZTY0LWJyZWFrcy1pbWFnZSAoMjAxMy0wNC0yMSlcbmZ1bmN0aW9uIGJpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluKSB7XG4gIHZhciBsZW5ndGggPSBiaW4ubGVuZ3RoO1xuICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShidWYpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIGJ1Zjtcbn1cblxuZnVuY3Rpb24gYmluU3RyaW5nVG9CbHVmZmVyKGJpblN0cmluZywgdHlwZSkge1xuICByZXR1cm4gY3JlYXRlQmxvYihbYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlcihiaW5TdHJpbmcpXSwge3R5cGU6IHR5cGV9KTtcbn1cblxuZnVuY3Rpb24gYjY0VG9CbHVmZmVyKGI2NCwgdHlwZSkge1xuICByZXR1cm4gYmluU3RyaW5nVG9CbHVmZmVyKHRoaXNBdG9iKGI2NCksIHR5cGUpO1xufVxuXG4vL0Nhbid0IGZpbmQgb3JpZ2luYWwgcG9zdCwgYnV0IHRoaXMgaXMgY2xvc2Vcbi8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82OTY1MTA3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vY29udmVydGluZy1iZXR3ZWVuLXN0cmluZ3MtYW5kLWFycmF5YnVmZmVyc1xuZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhidWZmZXIpIHtcbiAgdmFyIGJpbmFyeSA9ICcnO1xuICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICB2YXIgbGVuZ3RoID0gYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgfVxuICByZXR1cm4gYmluYXJ5O1xufVxuXG4vLyBzaGltIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgaXRcbmZ1bmN0aW9uIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iLCBjYWxsYmFjaykge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgdmFyIGhhc0JpbmFyeVN0cmluZyA9IHR5cGVvZiByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nID09PSAnZnVuY3Rpb24nO1xuICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZS50YXJnZXQucmVzdWx0IHx8ICcnO1xuICAgIGlmIChoYXNCaW5hcnlTdHJpbmcpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xuICAgIH1cbiAgICBjYWxsYmFjayhhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKHJlc3VsdCkpO1xuICB9O1xuICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcbiAgfSBlbHNlIHtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgcmVhZEFzQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJpbikge1xuICAgIGNhbGxiYWNrKGJpbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBibG9iVG9CYXNlNjQoYmxvYk9yQnVmZmVyLCBjYWxsYmFjaykge1xuICBibG9iVG9CaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBmdW5jdGlvbiAoYmFzZTY0KSB7XG4gICAgY2FsbGJhY2sodGhpc0J0b2EoYmFzZTY0KSk7XG4gIH0pO1xufVxuXG4vLyBzaW1wbGlmaWVkIEFQSS4gdW5pdmVyc2FsIGJyb3dzZXIgc3VwcG9ydCBpcyBhc3N1bWVkXG5mdW5jdGlvbiByZWFkQXNBcnJheUJ1ZmZlcihibG9iLCBjYWxsYmFjaykge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgY2FsbGJhY2socmVzdWx0KTtcbiAgfTtcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xufVxuXG4vLyB0aGlzIGlzIG5vdCB1c2VkIGluIHRoZSBicm93c2VyXG5cbnZhciBzZXRJbW1lZGlhdGVTaGltID0gc2VsZi5zZXRJbW1lZGlhdGUgfHwgc2VsZi5zZXRUaW1lb3V0O1xudmFyIE1ENV9DSFVOS19TSVpFID0gMzI3Njg7XG5cbmZ1bmN0aW9uIHJhd1RvQmFzZTY0KHJhdykge1xuICByZXR1cm4gdGhpc0J0b2EocmF3KTtcbn1cblxuZnVuY3Rpb24gc2xpY2VCbG9iKGJsb2IsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKGJsb2Iud2Via2l0U2xpY2UpIHtcbiAgICByZXR1cm4gYmxvYi53ZWJraXRTbGljZShzdGFydCwgZW5kKTtcbiAgfVxuICByZXR1cm4gYmxvYi5zbGljZShzdGFydCwgZW5kKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kQmxvYihidWZmZXIsIGJsb2IsIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKSB7XG4gIGlmIChzdGFydCA+IDAgfHwgZW5kIDwgYmxvYi5zaXplKSB7XG4gICAgLy8gb25seSBzbGljZSBibG9iIGlmIHdlIHJlYWxseSBuZWVkIHRvXG4gICAgYmxvYiA9IHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKTtcbiAgfVxuICByZWFkQXNBcnJheUJ1ZmZlcihibG9iLCBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgICBidWZmZXIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kU3RyaW5nKGJ1ZmZlciwgc3RyaW5nLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICAvLyBvbmx5IGNyZWF0ZSBhIHN1YnN0cmluZyBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gIH1cbiAgYnVmZmVyLmFwcGVuZEJpbmFyeShzdHJpbmcpO1xuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBiaW5hcnlNZDUoZGF0YSwgY2FsbGJhY2spIHtcbiAgdmFyIGlucHV0SXNTdHJpbmcgPSB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZyc7XG4gIHZhciBsZW4gPSBpbnB1dElzU3RyaW5nID8gZGF0YS5sZW5ndGggOiBkYXRhLnNpemU7XG4gIHZhciBjaHVua1NpemUgPSBNYXRoLm1pbihNRDVfQ0hVTktfU0laRSwgbGVuKTtcbiAgdmFyIGNodW5rcyA9IE1hdGguY2VpbChsZW4gLyBjaHVua1NpemUpO1xuICB2YXIgY3VycmVudENodW5rID0gMDtcbiAgdmFyIGJ1ZmZlciA9IGlucHV0SXNTdHJpbmcgPyBuZXcgTWQ1KCkgOiBuZXcgTWQ1LkFycmF5QnVmZmVyKCk7XG5cbiAgdmFyIGFwcGVuZCA9IGlucHV0SXNTdHJpbmcgPyBhcHBlbmRTdHJpbmcgOiBhcHBlbmRCbG9iO1xuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgc2V0SW1tZWRpYXRlU2hpbShsb2FkTmV4dENodW5rKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgdmFyIHJhdyA9IGJ1ZmZlci5lbmQodHJ1ZSk7XG4gICAgdmFyIGJhc2U2NCA9IHJhd1RvQmFzZTY0KHJhdyk7XG4gICAgY2FsbGJhY2soYmFzZTY0KTtcbiAgICBidWZmZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZE5leHRDaHVuaygpIHtcbiAgICB2YXIgc3RhcnQgPSBjdXJyZW50Q2h1bmsgKiBjaHVua1NpemU7XG4gICAgdmFyIGVuZCA9IHN0YXJ0ICsgY2h1bmtTaXplO1xuICAgIGN1cnJlbnRDaHVuaysrO1xuICAgIGlmIChjdXJyZW50Q2h1bmsgPCBjaHVua3MpIHtcbiAgICAgIGFwcGVuZChidWZmZXIsIGRhdGEsIHN0YXJ0LCBlbmQsIG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBkb25lKTtcbiAgICB9XG4gIH1cbiAgbG9hZE5leHRDaHVuaygpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdNZDUoc3RyaW5nKSB7XG4gIHJldHVybiBNZDUuaGFzaChzdHJpbmcpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcmV2aXNpb24gc3RyaW5nIHRoYXQgZG9lcyBOT1QgaW5jbHVkZSB0aGUgcmV2aXNpb24gaGVpZ2h0XG4gKiBGb3IgZXhhbXBsZSAnNTY2NDlmMWIwNTA2YzZjYTlmZGEwNzQ2ZWIwY2FjZGYnXG4gKi9cbmZ1bmN0aW9uIHJldiQkMShkb2MsIGRldGVybWluaXN0aWNfcmV2cykge1xuICBpZiAoIWRldGVybWluaXN0aWNfcmV2cykge1xuICAgIHJldHVybiB2NCgpLnJlcGxhY2UoLy0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICB2YXIgbXV0YXRlYWJsZURvYyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgZG9jKTtcbiAgZGVsZXRlIG11dGF0ZWFibGVEb2MuX3Jldl90cmVlO1xuICByZXR1cm4gc3RyaW5nTWQ1KEpTT04uc3RyaW5naWZ5KG11dGF0ZWFibGVEb2MpKTtcbn1cblxudmFyIHV1aWQgPSB2NDsgLy8gbWltaWMgb2xkIGltcG9ydCwgb25seSB2NCBpcyBldmVyIHVzZWQgZWxzZXdoZXJlXG5cbi8vIFdlIGZldGNoIGFsbCBsZWFmcyBvZiB0aGUgcmV2aXNpb24gdHJlZSwgYW5kIHNvcnQgdGhlbSBiYXNlZCBvbiB0cmVlIGxlbmd0aFxuLy8gYW5kIHdoZXRoZXIgdGhleSB3ZXJlIGRlbGV0ZWQsIHVuZGVsZXRlZCBkb2N1bWVudHMgd2l0aCB0aGUgbG9uZ2VzdCByZXZpc2lvblxuLy8gdHJlZSAobW9zdCBlZGl0cykgd2luXG4vLyBUaGUgZmluYWwgc29ydCBhbGdvcml0aG0gaXMgc2xpZ2h0bHkgZG9jdW1lbnRlZCBpbiBhIHNpZGViYXIgaGVyZTpcbi8vIGh0dHA6Ly9ndWlkZS5jb3VjaGRiLm9yZy9kcmFmdC9jb25mbGljdHMuaHRtbFxuZnVuY3Rpb24gd2lubmluZ1JldihtZXRhZGF0YSkge1xuICB2YXIgd2lubmluZ0lkO1xuICB2YXIgd2lubmluZ1BvcztcbiAgdmFyIHdpbm5pbmdEZWxldGVkO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgaWYgKGJyYW5jaGVzLmxlbmd0aCkgeyAvLyBub24tbGVhZlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGRlbGV0ZWQgPSAhIXRyZWVbMV0uZGVsZXRlZDtcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIC8vIHNvcnQgYnkgZGVsZXRlZCwgdGhlbiBwb3MsIHRoZW4gaWRcbiAgICBpZiAoIXdpbm5pbmdJZCB8fCAod2lubmluZ0RlbGV0ZWQgIT09IGRlbGV0ZWQgPyB3aW5uaW5nRGVsZXRlZCA6XG4gICAgICAgIHdpbm5pbmdQb3MgIT09IHBvcyA/IHdpbm5pbmdQb3MgPCBwb3MgOiB3aW5uaW5nSWQgPCBpZCkpIHtcbiAgICAgIHdpbm5pbmdJZCA9IGlkO1xuICAgICAgd2lubmluZ1BvcyA9IHBvcztcbiAgICAgIHdpbm5pbmdEZWxldGVkID0gZGVsZXRlZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gd2lubmluZ1BvcyArICctJyArIHdpbm5pbmdJZDtcbn1cblxuLy8gUHJldHR5IG11Y2ggYWxsIGJlbG93IGNhbiBiZSBjb21iaW5lZCBpbnRvIGEgaGlnaGVyIG9yZGVyIGZ1bmN0aW9uIHRvXG4vLyB0cmF2ZXJzZSByZXZpc2lvbnNcbi8vIFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgY2FsbGJhY2sgd2lsbCBiZSBwYXNzZWQgYXMgY29udGV4dCB0byBhbGxcbi8vIGNoaWxkcmVuIG9mIHRoYXQgbm9kZVxuZnVuY3Rpb24gdHJhdmVyc2VSZXZUcmVlKHJldnMsIGNhbGxiYWNrKSB7XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuXG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIG5ld0N0eCA9XG4gICAgICBjYWxsYmFjayhicmFuY2hlcy5sZW5ndGggPT09IDAsIHBvcywgdHJlZVswXSwgbm9kZS5jdHgsIHRyZWVbMV0pO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV0sIGN0eDogbmV3Q3R4fSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyhhLCBiKSB7XG4gIHJldHVybiBhLnBvcyAtIGIucG9zO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0TGVhdmVzKHJldnMpIHtcbiAgdmFyIGxlYXZlcyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUocmV2cywgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCBpZCwgYWNjLCBvcHRzKSB7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgbGVhdmVzLnB1c2goe3JldjogcG9zICsgXCItXCIgKyBpZCwgcG9zOiBwb3MsIG9wdHM6IG9wdHN9KTtcbiAgICB9XG4gIH0pO1xuICBsZWF2ZXMuc29ydChzb3J0QnlQb3MpLnJldmVyc2UoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxlYXZlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGRlbGV0ZSBsZWF2ZXNbaV0ucG9zO1xuICB9XG4gIHJldHVybiBsZWF2ZXM7XG59XG5cbi8vIHJldHVybnMgcmV2cyBvZiBhbGwgY29uZmxpY3RzIHRoYXQgaXMgbGVhdmVzIHN1Y2ggdGhhdFxuLy8gMS4gYXJlIG5vdCBkZWxldGVkIGFuZFxuLy8gMi4gYXJlIGRpZmZlcmVudCB0aGFuIHdpbm5pbmcgcmV2aXNpb25cbmZ1bmN0aW9uIGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpIHtcbiAgdmFyIHdpbiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB2YXIgbGVhdmVzID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSk7XG4gIHZhciBjb25mbGljdHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxlYXZlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBsZWFmID0gbGVhdmVzW2ldO1xuICAgIGlmIChsZWFmLnJldiAhPT0gd2luICYmICFsZWFmLm9wdHMuZGVsZXRlZCkge1xuICAgICAgY29uZmxpY3RzLnB1c2gobGVhZi5yZXYpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZmxpY3RzO1xufVxuXG4vLyBjb21wYWN0IGEgdHJlZSBieSBtYXJraW5nIGl0cyBub24tbGVhZnMgYXMgbWlzc2luZyxcbi8vIGFuZCByZXR1cm4gYSBsaXN0IG9mIHJldnMgdG8gZGVsZXRlXG5mdW5jdGlvbiBjb21wYWN0VHJlZShtZXRhZGF0YSkge1xuICB2YXIgcmV2cyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUobWV0YWRhdGEucmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiAhaXNMZWFmKSB7XG4gICAgICByZXZzLnB1c2gocG9zICsgJy0nICsgcmV2SGFzaCk7XG4gICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV2cztcbn1cblxuLy8gYnVpbGQgdXAgYSBsaXN0IG9mIGFsbCB0aGUgcGF0aHMgdG8gdGhlIGxlYWZzIGluIHRoaXMgcmV2aXNpb24gdHJlZVxuZnVuY3Rpb24gcm9vdFRvTGVhZihyZXZzKSB7XG4gIHZhciBwYXRocyA9IFtdO1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICB2YXIgb3B0cyA9IHRyZWVbMV07XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgaXNMZWFmID0gYnJhbmNoZXMubGVuZ3RoID09PSAwO1xuXG4gICAgdmFyIGhpc3RvcnkgPSBub2RlLmhpc3RvcnkgPyBub2RlLmhpc3Rvcnkuc2xpY2UoKSA6IFtdO1xuICAgIGhpc3RvcnkucHVzaCh7aWQ6IGlkLCBvcHRzOiBvcHRzfSk7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgcGF0aHMucHVzaCh7cG9zOiAocG9zICsgMSAtIGhpc3RvcnkubGVuZ3RoKSwgaWRzOiBoaXN0b3J5fSk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhdGhzLnJldmVyc2UoKTtcbn1cblxuLy8gZm9yIGEgYmV0dGVyIG92ZXJ2aWV3IG9mIHdoYXQgdGhpcyBpcyBkb2luZywgcmVhZDpcblxuZnVuY3Rpb24gc29ydEJ5UG9zJDEoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuLy8gY2xhc3NpYyBiaW5hcnkgc2VhcmNoXG5mdW5jdGlvbiBiaW5hcnlTZWFyY2goYXJyLCBpdGVtLCBjb21wYXJhdG9yKSB7XG4gIHZhciBsb3cgPSAwO1xuICB2YXIgaGlnaCA9IGFyci5sZW5ndGg7XG4gIHZhciBtaWQ7XG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgIGlmIChjb21wYXJhdG9yKGFyclttaWRdLCBpdGVtKSA8IDApIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3c7XG59XG5cbi8vIGFzc3VtaW5nIHRoZSBhcnIgaXMgc29ydGVkLCBpbnNlcnQgdGhlIGl0ZW0gaW4gdGhlIHByb3BlciBwbGFjZVxuZnVuY3Rpb24gaW5zZXJ0U29ydGVkKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgaWR4ID0gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcik7XG4gIGFyci5zcGxpY2UoaWR4LCAwLCBpdGVtKTtcbn1cblxuLy8gVHVybiBhIHBhdGggYXMgYSBmbGF0IGFycmF5IGludG8gYSB0cmVlIHdpdGggYSBzaW5nbGUgYnJhbmNoLlxuLy8gSWYgYW55IHNob3VsZCBiZSBzdGVtbWVkIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXksIHRoYXQncyBwYXNzZWRcbi8vIGluIGFzIHRoZSBzZWNvbmQgYXJndW1lbnRcbmZ1bmN0aW9uIHBhdGhUb1RyZWUocGF0aCwgbnVtU3RlbW1lZCkge1xuICB2YXIgcm9vdDtcbiAgdmFyIGxlYWY7XG4gIGZvciAodmFyIGkgPSBudW1TdGVtbWVkLCBsZW4gPSBwYXRoLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIG5vZGUgPSBwYXRoW2ldO1xuICAgIHZhciBjdXJyZW50TGVhZiA9IFtub2RlLmlkLCBub2RlLm9wdHMsIFtdXTtcbiAgICBpZiAobGVhZikge1xuICAgICAgbGVhZlsyXS5wdXNoKGN1cnJlbnRMZWFmKTtcbiAgICAgIGxlYWYgPSBjdXJyZW50TGVhZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdCA9IGxlYWYgPSBjdXJyZW50TGVhZjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8vIGNvbXBhcmUgdGhlIElEcyBvZiB0d28gdHJlZXNcbmZ1bmN0aW9uIGNvbXBhcmVUcmVlKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPCBiWzBdID8gLTEgOiAxO1xufVxuXG4vLyBNZXJnZSB0d28gdHJlZXMgdG9nZXRoZXJcbi8vIFRoZSByb290cyBvZiB0cmVlMSBhbmQgdHJlZTIgbXVzdCBiZSB0aGUgc2FtZSByZXZpc2lvblxuZnVuY3Rpb24gbWVyZ2VUcmVlKGluX3RyZWUxLCBpbl90cmVlMikge1xuICB2YXIgcXVldWUgPSBbe3RyZWUxOiBpbl90cmVlMSwgdHJlZTI6IGluX3RyZWUyfV07XG4gIHZhciBjb25mbGljdHMgPSBmYWxzZTtcbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgIHZhciB0cmVlMSA9IGl0ZW0udHJlZTE7XG4gICAgdmFyIHRyZWUyID0gaXRlbS50cmVlMjtcblxuICAgIGlmICh0cmVlMVsxXS5zdGF0dXMgfHwgdHJlZTJbMV0uc3RhdHVzKSB7XG4gICAgICB0cmVlMVsxXS5zdGF0dXMgPVxuICAgICAgICAodHJlZTFbMV0uc3RhdHVzID09PSAgJ2F2YWlsYWJsZScgfHxcbiAgICAgICAgdHJlZTJbMV0uc3RhdHVzID09PSAnYXZhaWxhYmxlJykgPyAnYXZhaWxhYmxlJyA6ICdtaXNzaW5nJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWUyWzJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRyZWUxWzJdWzBdKSB7XG4gICAgICAgIGNvbmZsaWN0cyA9ICduZXdfbGVhZic7XG4gICAgICAgIHRyZWUxWzJdWzBdID0gdHJlZTJbMl1baV07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyZWUxWzJdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh0cmVlMVsyXVtqXVswXSA9PT0gdHJlZTJbMl1baV1bMF0pIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHt0cmVlMTogdHJlZTFbMl1bal0sIHRyZWUyOiB0cmVlMlsyXVtpXX0pO1xuICAgICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghbWVyZ2VkKSB7XG4gICAgICAgIGNvbmZsaWN0cyA9ICduZXdfYnJhbmNoJztcbiAgICAgICAgaW5zZXJ0U29ydGVkKHRyZWUxWzJdLCB0cmVlMlsyXVtpXSwgY29tcGFyZVRyZWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge2NvbmZsaWN0czogY29uZmxpY3RzLCB0cmVlOiBpbl90cmVlMX07XG59XG5cbmZ1bmN0aW9uIGRvTWVyZ2UodHJlZSwgcGF0aCwgZG9udEV4cGFuZCkge1xuICB2YXIgcmVzdHJlZSA9IFtdO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHZhciBtZXJnZWQgPSBmYWxzZTtcbiAgdmFyIHJlcztcblxuICBpZiAoIXRyZWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHt0cmVlOiBbcGF0aF0sIGNvbmZsaWN0czogJ25ld19sZWFmJ307XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdHJlZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBicmFuY2ggPSB0cmVlW2ldO1xuICAgIGlmIChicmFuY2gucG9zID09PSBwYXRoLnBvcyAmJiBicmFuY2guaWRzWzBdID09PSBwYXRoLmlkc1swXSkge1xuICAgICAgLy8gUGF0aHMgc3RhcnQgYXQgdGhlIHNhbWUgcG9zaXRpb24gYW5kIGhhdmUgdGhlIHNhbWUgcm9vdCwgc28gdGhleSBuZWVkXG4gICAgICAvLyBtZXJnZWRcbiAgICAgIHJlcyA9IG1lcmdlVHJlZShicmFuY2guaWRzLCBwYXRoLmlkcyk7XG4gICAgICByZXN0cmVlLnB1c2goe3BvczogYnJhbmNoLnBvcywgaWRzOiByZXMudHJlZX0pO1xuICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICBtZXJnZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZG9udEV4cGFuZCAhPT0gdHJ1ZSkge1xuICAgICAgLy8gVGhlIHBhdGhzIHN0YXJ0IGF0IGEgZGlmZmVyZW50IHBvc2l0aW9uLCB0YWtlIHRoZSBlYXJsaWVzdCBwYXRoIGFuZFxuICAgICAgLy8gdHJhdmVyc2UgdXAgdW50aWwgaXQgYXMgYXQgdGhlIHNhbWUgcG9pbnQgZnJvbSByb290IGFzIHRoZSBwYXRoIHdlXG4gICAgICAvLyB3YW50IHRvIG1lcmdlLiAgSWYgdGhlIGtleXMgbWF0Y2ggd2UgcmV0dXJuIHRoZSBsb25nZXIgcGF0aCB3aXRoIHRoZVxuICAgICAgLy8gb3RoZXIgbWVyZ2VkIEFmdGVyIHN0ZW1taW5nIHdlIGRvbnQgd2FudCB0byBleHBhbmQgdGhlIHRyZWVzXG5cbiAgICAgIHZhciB0MSA9IGJyYW5jaC5wb3MgPCBwYXRoLnBvcyA/IGJyYW5jaCA6IHBhdGg7XG4gICAgICB2YXIgdDIgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBwYXRoIDogYnJhbmNoO1xuICAgICAgdmFyIGRpZmYgPSB0Mi5wb3MgLSB0MS5wb3M7XG5cbiAgICAgIHZhciBjYW5kaWRhdGVQYXJlbnRzID0gW107XG5cbiAgICAgIHZhciB0cmVlcyA9IFtdO1xuICAgICAgdHJlZXMucHVzaCh7aWRzOiB0MS5pZHMsIGRpZmY6IGRpZmYsIHBhcmVudDogbnVsbCwgcGFyZW50SWR4OiBudWxsfSk7XG4gICAgICB3aGlsZSAodHJlZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVzLnBvcCgpO1xuICAgICAgICBpZiAoaXRlbS5kaWZmID09PSAwKSB7XG4gICAgICAgICAgaWYgKGl0ZW0uaWRzWzBdID09PSB0Mi5pZHNbMF0pIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZVBhcmVudHMucHVzaChpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gaXRlbS5pZHNbMl07XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBlbGVtZW50c0xlbiA9IGVsZW1lbnRzLmxlbmd0aDsgaiA8IGVsZW1lbnRzTGVuOyBqKyspIHtcbiAgICAgICAgICB0cmVlcy5wdXNoKHtcbiAgICAgICAgICAgIGlkczogZWxlbWVudHNbal0sXG4gICAgICAgICAgICBkaWZmOiBpdGVtLmRpZmYgLSAxLFxuICAgICAgICAgICAgcGFyZW50OiBpdGVtLmlkcyxcbiAgICAgICAgICAgIHBhcmVudElkeDogalxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IGNhbmRpZGF0ZVBhcmVudHNbMF07XG5cbiAgICAgIGlmICghZWwpIHtcbiAgICAgICAgcmVzdHJlZS5wdXNoKGJyYW5jaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBtZXJnZVRyZWUoZWwuaWRzLCB0Mi5pZHMpO1xuICAgICAgICBlbC5wYXJlbnRbMl1bZWwucGFyZW50SWR4XSA9IHJlcy50cmVlO1xuICAgICAgICByZXN0cmVlLnB1c2goe3BvczogdDEucG9zLCBpZHM6IHQxLmlkc30pO1xuICAgICAgICBjb25mbGljdHMgPSBjb25mbGljdHMgfHwgcmVzLmNvbmZsaWN0cztcbiAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdHJlZS5wdXNoKGJyYW5jaCk7XG4gICAgfVxuICB9XG5cbiAgLy8gV2UgZGlkbnQgZmluZFxuICBpZiAoIW1lcmdlZCkge1xuICAgIHJlc3RyZWUucHVzaChwYXRoKTtcbiAgfVxuXG4gIHJlc3RyZWUuc29ydChzb3J0QnlQb3MkMSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0cmVlOiByZXN0cmVlLFxuICAgIGNvbmZsaWN0czogY29uZmxpY3RzIHx8ICdpbnRlcm5hbF9ub2RlJ1xuICB9O1xufVxuXG4vLyBUbyBlbnN1cmUgd2UgZG9udCBncm93IHRoZSByZXZpc2lvbiB0cmVlIGluZmluaXRlbHksIHdlIHN0ZW0gb2xkIHJldmlzaW9uc1xuZnVuY3Rpb24gc3RlbSh0cmVlLCBkZXB0aCkge1xuICAvLyBGaXJzdCB3ZSBicmVhayBvdXQgdGhlIHRyZWUgaW50byBhIGNvbXBsZXRlIGxpc3Qgb2Ygcm9vdCB0byBsZWFmIHBhdGhzXG4gIHZhciBwYXRocyA9IHJvb3RUb0xlYWYodHJlZSk7XG4gIHZhciBzdGVtbWVkUmV2cztcblxuICB2YXIgcmVzdWx0O1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBUaGVuIGZvciBlYWNoIHBhdGgsIHdlIGN1dCBvZmYgdGhlIHN0YXJ0IG9mIHRoZSBwYXRoIGJhc2VkIG9uIHRoZVxuICAgIC8vIGBkZXB0aGAgdG8gc3RlbSB0bywgYW5kIGdlbmVyYXRlIGEgbmV3IHNldCBvZiBmbGF0IHRyZWVzXG4gICAgdmFyIHBhdGggPSBwYXRoc1tpXTtcbiAgICB2YXIgc3RlbW1lZCA9IHBhdGguaWRzO1xuICAgIHZhciBub2RlO1xuICAgIGlmIChzdGVtbWVkLmxlbmd0aCA+IGRlcHRoKSB7XG4gICAgICAvLyBvbmx5IGRvIHRoZSBzdGVtbWluZyB3b3JrIGlmIHdlIGFjdHVhbGx5IG5lZWQgdG8gc3RlbVxuICAgICAgaWYgKCFzdGVtbWVkUmV2cykge1xuICAgICAgICBzdGVtbWVkUmV2cyA9IHt9OyAvLyBhdm9pZCBhbGxvY2F0aW5nIHRoaXMgb2JqZWN0IHVubmVjZXNzYXJpbHlcbiAgICAgIH1cbiAgICAgIHZhciBudW1TdGVtbWVkID0gc3RlbW1lZC5sZW5ndGggLSBkZXB0aDtcbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MgKyBudW1TdGVtbWVkLFxuICAgICAgICBpZHM6IHBhdGhUb1RyZWUoc3RlbW1lZCwgbnVtU3RlbW1lZClcbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgbnVtU3RlbW1lZDsgcysrKSB7XG4gICAgICAgIHZhciByZXYgPSAocGF0aC5wb3MgKyBzKSArICctJyArIHN0ZW1tZWRbc10uaWQ7XG4gICAgICAgIHN0ZW1tZWRSZXZzW3Jldl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG5vIG5lZWQgdG8gYWN0dWFsbHkgc3RlbVxuICAgICAgbm9kZSA9IHtcbiAgICAgICAgcG9zOiBwYXRoLnBvcyxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIDApXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFRoZW4gd2UgcmVtZXJnZSBhbGwgdGhvc2UgZmxhdCB0cmVlcyB0b2dldGhlciwgZW5zdXJpbmcgdGhhdCB3ZSBkb250XG4gICAgLy8gY29ubmVjdCB0cmVlcyB0aGF0IHdvdWxkIGdvIGJleW9uZCB0aGUgZGVwdGggbGltaXRcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSBkb01lcmdlKHJlc3VsdCwgbm9kZSwgdHJ1ZSkudHJlZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gW25vZGVdO1xuICAgIH1cbiAgfVxuXG4gIC8vIHRoaXMgaXMgbWVtb3J5LWhlYXZ5IHBlciBDaHJvbWUgcHJvZmlsZXIsIGF2b2lkIHVubGVzcyB3ZSBhY3R1YWxseSBzdGVtbWVkXG4gIGlmIChzdGVtbWVkUmV2cykge1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXN1bHQsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCkge1xuICAgICAgLy8gc29tZSByZXZpc2lvbnMgbWF5IGhhdmUgYmVlbiByZW1vdmVkIGluIGEgYnJhbmNoIGJ1dCBub3QgaW4gYW5vdGhlclxuICAgICAgZGVsZXRlIHN0ZW1tZWRSZXZzW3BvcyArICctJyArIHJldkhhc2hdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0cmVlOiByZXN1bHQsXG4gICAgcmV2czogc3RlbW1lZFJldnMgPyBPYmplY3Qua2V5cyhzdGVtbWVkUmV2cykgOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZSh0cmVlLCBwYXRoLCBkZXB0aCkge1xuICB2YXIgbmV3VHJlZSA9IGRvTWVyZ2UodHJlZSwgcGF0aCk7XG4gIHZhciBzdGVtbWVkID0gc3RlbShuZXdUcmVlLnRyZWUsIGRlcHRoKTtcbiAgcmV0dXJuIHtcbiAgICB0cmVlOiBzdGVtbWVkLnRyZWUsXG4gICAgc3RlbW1lZFJldnM6IHN0ZW1tZWQucmV2cyxcbiAgICBjb25mbGljdHM6IG5ld1RyZWUuY29uZmxpY3RzXG4gIH07XG59XG5cbi8vIHJldHVybiB0cnVlIGlmIGEgcmV2IGV4aXN0cyBpbiB0aGUgcmV2IHRyZWUsIGZhbHNlIG90aGVyd2lzZVxuZnVuY3Rpb24gcmV2RXhpc3RzKHJldnMsIHJldikge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcbiAgdmFyIHNwbGl0UmV2ID0gcmV2LnNwbGl0KCctJyk7XG4gIHZhciB0YXJnZXRQb3MgPSBwYXJzZUludChzcGxpdFJldlswXSwgMTApO1xuICB2YXIgdGFyZ2V0SWQgPSBzcGxpdFJldlsxXTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICBpZiAobm9kZS5wb3MgPT09IHRhcmdldFBvcyAmJiBub2RlLmlkc1swXSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgYnJhbmNoZXMgPSBub2RlLmlkc1syXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBub2RlLnBvcyArIDEsIGlkczogYnJhbmNoZXNbaV19KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRUcmVlcyhub2RlKSB7XG4gIHJldHVybiBub2RlLmlkcztcbn1cblxuLy8gY2hlY2sgaWYgYSBzcGVjaWZpYyByZXZpc2lvbiBvZiBhIGRvYyBoYXMgYmVlbiBkZWxldGVkXG4vLyAgLSBtZXRhZGF0YTogdGhlIG1ldGFkYXRhIG9iamVjdCBmcm9tIHRoZSBkb2Mgc3RvcmVcbi8vICAtIHJldjogKG9wdGlvbmFsKSB0aGUgcmV2aXNpb24gdG8gY2hlY2suIGRlZmF1bHRzIHRvIHdpbm5pbmcgcmV2aXNpb25cbmZ1bmN0aW9uIGlzRGVsZXRlZChtZXRhZGF0YSwgcmV2KSB7XG4gIGlmICghcmV2KSB7XG4gICAgcmV2ID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gIH1cbiAgdmFyIGlkID0gcmV2LnN1YnN0cmluZyhyZXYuaW5kZXhPZignLScpICsgMSk7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUubWFwKGdldFRyZWVzKTtcblxuICB2YXIgdHJlZTtcbiAgd2hpbGUgKCh0cmVlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICBpZiAodHJlZVswXSA9PT0gaWQpIHtcbiAgICAgIHJldHVybiAhIXRyZWVbMV0uZGVsZXRlZDtcbiAgICB9XG4gICAgdG9WaXNpdCA9IHRvVmlzaXQuY29uY2F0KHRyZWVbMl0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWxJZChpZCkge1xuICByZXR1cm4gKC9eX2xvY2FsLykudGVzdChpZCk7XG59XG5cbi8vIHJldHVybnMgdGhlIGN1cnJlbnQgbGVhZiBub2RlIGZvciBhIGdpdmVuIHJldmlzaW9uXG5mdW5jdGlvbiBsYXRlc3QocmV2LCBtZXRhZGF0YSkge1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgcG9zOiBwb3MsIG9wdHM6IG9wdHN9KTtcblxuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBoaXN0b3J5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoaXN0b3J5Tm9kZSA9IGhpc3RvcnlbaV07XG4gICAgICAgIHZhciBoaXN0b3J5UmV2ID0gaGlzdG9yeU5vZGUucG9zICsgJy0nICsgaGlzdG9yeU5vZGUuaWQ7XG5cbiAgICAgICAgaWYgKGhpc3RvcnlSZXYgPT09IHJldikge1xuICAgICAgICAgIC8vIHJldHVybiB0aGUgcmV2IG9mIHRoaXMgbGVhZlxuICAgICAgICAgIHJldHVybiBwb3MgKyAnLScgKyBpZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwLCBsID0gYnJhbmNoZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tqXSwgaGlzdG9yeTogaGlzdG9yeX0pO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgbGF0ZXN0IHJldmlzaW9uIGZvciBpZCAnICsgbWV0YWRhdGEuaWQgKyAnLCByZXYgJyArIHJldik7XG59XG5cbmluaGVyaXRzKENoYW5nZXMkMSwgRUUpO1xuXG5mdW5jdGlvbiB0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIoc2VsZiwgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gIC8vIGlzb2xhdGUgdHJ5L2NhdGNoZXMgdG8gYXZvaWQgVjggZGVvcHRpbWl6YXRpb25zXG4gIHRyeSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgJ0Vycm9yIGluIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbik6JywgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gQ2hhbmdlcyQxKGRiLCBvcHRzLCBjYWxsYmFjaykge1xuICBFRS5jYWxsKHRoaXMpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuZGIgPSBkYjtcbiAgb3B0cyA9IG9wdHMgPyBjbG9uZShvcHRzKSA6IHt9O1xuICB2YXIgY29tcGxldGUgPSBvcHRzLmNvbXBsZXRlID0gb25jZShmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgaWYgKGxpc3RlbmVyQ291bnQoc2VsZiwgJ2Vycm9yJykgPiAwKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgcmVzcCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgZGIucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIH0pO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBzZWxmLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXNwKTtcbiAgICB9KTtcbiAgICBzZWxmLm9uKCdlcnJvcicsIGNhbGxiYWNrKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgfVxuICBkYi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuXG4gIG9wdHMub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSk7XG4gIH07XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgb3B0cy5jb21wbGV0ZSA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZ1bGZpbGwocmVzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgc2VsZi5vbmNlKCdjYW5jZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgZGIucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgb3B0cy5jb21wbGV0ZShudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICB9KTtcbiAgdGhpcy50aGVuID0gcHJvbWlzZS50aGVuLmJpbmQocHJvbWlzZSk7XG4gIHRoaXNbJ2NhdGNoJ10gPSBwcm9taXNlWydjYXRjaCddLmJpbmQocHJvbWlzZSk7XG4gIHRoaXMudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgY29tcGxldGUobnVsbCwgcmVzdWx0KTtcbiAgfSwgY29tcGxldGUpO1xuXG5cblxuICBpZiAoIWRiLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgZGIudGFza3F1ZXVlLmFkZFRhc2soZnVuY3Rpb24gKGZhaWxlZCkge1xuICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGZhaWxlZCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgc2VsZi5lbWl0KCdjYW5jZWwnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYudmFsaWRhdGVDaGFuZ2VzKG9wdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYudmFsaWRhdGVDaGFuZ2VzKG9wdHMpO1xuICB9XG59XG5DaGFuZ2VzJDEucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pc0NhbmNlbGxlZCA9IHRydWU7XG4gIGlmICh0aGlzLmRiLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgdGhpcy5lbWl0KCdjYW5jZWwnKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDaGFuZ2UoZG9jLCBtZXRhZGF0YSwgb3B0cykge1xuICB2YXIgY2hhbmdlTGlzdCA9IFt7cmV2OiBkb2MuX3Jldn1dO1xuICBpZiAob3B0cy5zdHlsZSA9PT0gJ2FsbF9kb2NzJykge1xuICAgIGNoYW5nZUxpc3QgPSBjb2xsZWN0TGVhdmVzKG1ldGFkYXRhLnJldl90cmVlKVxuICAgIC5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHtyZXY6IHgucmV2fTsgfSk7XG4gIH1cbiAgdmFyIGNoYW5nZSA9IHtcbiAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgY2hhbmdlczogY2hhbmdlTGlzdCxcbiAgICBkb2M6IGRvY1xuICB9O1xuXG4gIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgIGNoYW5nZS5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICBjaGFuZ2UuZG9jLl9jb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICBpZiAoIWNoYW5nZS5kb2MuX2NvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jLl9jb25mbGljdHM7XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGFuZ2U7XG59XG5cbkNoYW5nZXMkMS5wcm90b3R5cGUudmFsaWRhdGVDaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luKSB7XG4gICAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi52YWxpZGF0ZShvcHRzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gIH1cbn07XG5cbkNoYW5nZXMkMS5wcm90b3R5cGUuZG9DaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuXG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgaWYgKCdsaXZlJyBpbiBvcHRzICYmICEoJ2NvbnRpbnVvdXMnIGluIG9wdHMpKSB7XG4gICAgb3B0cy5jb250aW51b3VzID0gb3B0cy5saXZlO1xuICB9XG4gIG9wdHMucHJvY2Vzc0NoYW5nZSA9IHByb2Nlc3NDaGFuZ2U7XG5cbiAgaWYgKG9wdHMuc2luY2UgPT09ICdsYXRlc3QnKSB7XG4gICAgb3B0cy5zaW5jZSA9ICdub3cnO1xuICB9XG4gIGlmICghb3B0cy5zaW5jZSkge1xuICAgIG9wdHMuc2luY2UgPSAwO1xuICB9XG4gIGlmIChvcHRzLnNpbmNlID09PSAnbm93Jykge1xuICAgIHRoaXMuZGIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3B0cy5zaW5jZSA9IGluZm8udXBkYXRlX3NlcTtcbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0sIGNhbGxiYWNrKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4ubm9ybWFsaXplKG9wdHMpO1xuICAgIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLnNob3VsZEZpbHRlcih0aGlzLCBvcHRzKSkge1xuICAgICAgcmV0dXJuIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uZmlsdGVyKHRoaXMsIG9wdHMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBbJ2RvY19pZHMnLCAnZmlsdGVyJywgJ3NlbGVjdG9yJywgJ3ZpZXcnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChrZXkgaW4gb3B0cykge1xuICAgICAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAgICAgJ1RoZSBcIicgKyBrZXkgKyAnXCIgb3B0aW9uIHdhcyBwYXNzZWQgaW4gdG8gY2hhbmdlcy9yZXBsaWNhdGUsICcgK1xuICAgICAgICAgICdidXQgcG91Y2hkYi1jaGFuZ2VzLWZpbHRlciBwbHVnaW4gaXMgbm90IGluc3RhbGxlZCwgc28gaXQgJyArXG4gICAgICAgICAgJ3dhcyBpZ25vcmVkLiBQbGVhc2UgaW5zdGFsbCB0aGUgcGx1Z2luIHRvIGVuYWJsZSBmaWx0ZXJpbmcuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCEoJ2Rlc2NlbmRpbmcnIGluIG9wdHMpKSB7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cblxuICAvLyAwIGFuZCAxIHNob3VsZCByZXR1cm4gMSBkb2N1bWVudFxuICBvcHRzLmxpbWl0ID0gb3B0cy5saW1pdCA9PT0gMCA/IDEgOiBvcHRzLmxpbWl0O1xuICBvcHRzLmNvbXBsZXRlID0gY2FsbGJhY2s7XG4gIHZhciBuZXdQcm9taXNlID0gdGhpcy5kYi5fY2hhbmdlcyhvcHRzKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG5ld1Byb21pc2UgJiYgdHlwZW9mIG5ld1Byb21pc2UuY2FuY2VsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGNhbmNlbCA9IHNlbGYuY2FuY2VsO1xuICAgIHNlbGYuY2FuY2VsID0gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICBuZXdQcm9taXNlLmNhbmNlbCgpO1xuICAgICAgY2FuY2VsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKlxuICogQSBnZW5lcmljIHBvdWNoIGFkYXB0ZXJcbiAqL1xuXG5mdW5jdGlvbiBjb21wYXJlKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPiByaWdodCA/IDEgOiAwO1xufVxuXG4vLyBXcmFwcGVyIGZvciBmdW5jdGlvbnMgdGhhdCBjYWxsIHRoZSBidWxrZG9jcyBhcGkgd2l0aCBhIHNpbmdsZSBkb2MsXG4vLyBpZiB0aGUgZmlyc3QgcmVzdWx0IGlzIGFuIGVycm9yLCByZXR1cm4gYW4gZXJyb3JcbmZ1bmN0aW9uIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jSWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICBpZiAoZXJyIHx8IChyZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uZXJyb3IpKSB7XG4gICAgICBlcnIgPSBlcnIgfHwgcmVzdWx0c1swXTtcbiAgICAgIGVyci5kb2NJZCA9IGRvY0lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cy5sZW5ndGggPyByZXN1bHRzWzBdICA6IHJlc3VsdHMpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gY2xlYW4gZG9jcyBnaXZlbiB0byB1cyBieSB0aGUgdXNlclxuZnVuY3Rpb24gY2xlYW5Eb2NzKGRvY3MpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2NzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRvYyA9IGRvY3NbaV07XG4gICAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgICAgZGVsZXRlIGRvYy5fYXR0YWNobWVudHM7IC8vIGlnbm9yZSBhdHRzIGZvciBkZWxldGVkIGRvY3NcbiAgICB9IGVsc2UgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIC8vIGZpbHRlciBvdXQgZXh0cmFuZW91cyBrZXlzIGZyb20gX2F0dGFjaG1lbnRzXG4gICAgICB2YXIgYXR0cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhdHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2pdO1xuICAgICAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSBwaWNrKGRvYy5fYXR0YWNobWVudHNbYXR0XSxcbiAgICAgICAgICBbJ2RhdGEnLCAnZGlnZXN0JywgJ2NvbnRlbnRfdHlwZScsICdsZW5ndGgnLCAncmV2cG9zJywgJ3N0dWInXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIGNvbXBhcmUgdHdvIGRvY3MsIGZpcnN0IGJ5IF9pZCB0aGVuIGJ5IF9yZXZcbmZ1bmN0aW9uIGNvbXBhcmVCeUlkVGhlblJldihhLCBiKSB7XG4gIHZhciBpZENvbXBhcmUgPSBjb21wYXJlKGEuX2lkLCBiLl9pZCk7XG4gIGlmIChpZENvbXBhcmUgIT09IDApIHtcbiAgICByZXR1cm4gaWRDb21wYXJlO1xuICB9XG4gIHZhciBhU3RhcnQgPSBhLl9yZXZpc2lvbnMgPyBhLl9yZXZpc2lvbnMuc3RhcnQgOiAwO1xuICB2YXIgYlN0YXJ0ID0gYi5fcmV2aXNpb25zID8gYi5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgcmV0dXJuIGNvbXBhcmUoYVN0YXJ0LCBiU3RhcnQpO1xufVxuXG4vLyBmb3IgZXZlcnkgbm9kZSBpbiBhIHJldmlzaW9uIHRyZWUgY29tcHV0ZXMgaXRzIGRpc3RhbmNlIGZyb20gdGhlIGNsb3Nlc3Rcbi8vIGxlYWZcbmZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQocmV2cykge1xuICB2YXIgaGVpZ2h0ID0ge307XG4gIHZhciBlZGdlcyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUocmV2cywgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCBpZCwgcHJudCkge1xuICAgIHZhciByZXYgPSBwb3MgKyBcIi1cIiArIGlkO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGhlaWdodFtyZXZdID0gMDtcbiAgICB9XG4gICAgaWYgKHBybnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWRnZXMucHVzaCh7ZnJvbTogcHJudCwgdG86IHJldn0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xuICB9KTtcblxuICBlZGdlcy5yZXZlcnNlKCk7XG4gIGVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICBpZiAoaGVpZ2h0W2VkZ2UuZnJvbV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSAxICsgaGVpZ2h0W2VkZ2UudG9dO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHRbZWRnZS5mcm9tXSA9IE1hdGgubWluKGhlaWdodFtlZGdlLmZyb21dLCAxICsgaGVpZ2h0W2VkZ2UudG9dKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaGVpZ2h0O1xufVxuXG5mdW5jdGlvbiBhbGxEb2NzS2V5c1BhcnNlKG9wdHMpIHtcbiAgdmFyIGtleXMgPSAgKCdsaW1pdCcgaW4gb3B0cykgP1xuICAgIG9wdHMua2V5cy5zbGljZShvcHRzLnNraXAsIG9wdHMubGltaXQgKyBvcHRzLnNraXApIDpcbiAgICAob3B0cy5za2lwID4gMCkgPyBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwKSA6IG9wdHMua2V5cztcbiAgb3B0cy5rZXlzID0ga2V5cztcbiAgb3B0cy5za2lwID0gMDtcbiAgZGVsZXRlIG9wdHMubGltaXQ7XG4gIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICBrZXlzLnJldmVyc2UoKTtcbiAgICBvcHRzLmRlc2NlbmRpbmcgPSBmYWxzZTtcbiAgfVxufVxuXG4vLyBhbGwgY29tcGFjdGlvbiBpcyBkb25lIGluIGEgcXVldWUsIHRvIGF2b2lkIGF0dGFjaGluZ1xuLy8gdG9vIG1hbnkgbGlzdGVuZXJzIGF0IG9uY2VcbmZ1bmN0aW9uIGRvTmV4dENvbXBhY3Rpb24oc2VsZikge1xuICB2YXIgdGFzayA9IHNlbGYuX2NvbXBhY3Rpb25RdWV1ZVswXTtcbiAgdmFyIG9wdHMgPSB0YXNrLm9wdHM7XG4gIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gIHNlbGYuZ2V0KCdfbG9jYWwvY29tcGFjdGlvbicpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MgJiYgZG9jLmxhc3Rfc2VxKSB7XG4gICAgICBvcHRzLmxhc3Rfc2VxID0gZG9jLmxhc3Rfc2VxO1xuICAgIH1cbiAgICBzZWxmLl9jb21wYWN0KG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgfVxuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5fY29tcGFjdGlvblF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChzZWxmLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgZG9OZXh0Q29tcGFjdGlvbihzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpIHtcbiAgaWYgKG5hbWUuY2hhckF0KDApID09PSAnXycpIHtcbiAgICByZXR1cm4gbmFtZSArICcgaXMgbm90IGEgdmFsaWQgYXR0YWNobWVudCBuYW1lLCBhdHRhY2htZW50ICcgK1xuICAgICAgJ25hbWVzIGNhbm5vdCBzdGFydCB3aXRoIFxcJ19cXCcnO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuaW5oZXJpdHMoQWJzdHJhY3RQb3VjaERCLCBFRSk7XG5cbmZ1bmN0aW9uIEFic3RyYWN0UG91Y2hEQigpIHtcbiAgRUUuY2FsbCh0aGlzKTtcblxuICAvLyByZS1iaW5kIHByb3RvdHlwZWQgbWV0aG9kc1xuICBmb3IgKHZhciBwIGluIEFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUpIHtcbiAgICBpZiAodHlwZW9mIHRoaXNbcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbcF0gPSB0aGlzW3BdLmJpbmQodGhpcyk7XG4gICAgfVxuICB9XG59XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucG9zdCA9XG4gIGFkYXB0ZXJGdW4oJ3Bvc3QnLCBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgZG9jICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGRvYykpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICB9XG4gIHRoaXMuYnVsa0RvY3Moe2RvY3M6IFtkb2NdfSwgb3B0cywgeWFua0Vycm9yKGNhbGxiYWNrLCBkb2MuX2lkKSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wdXQgPSBhZGFwdGVyRnVuKCdwdXQnLCBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgZG9jICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGRvYykpIHtcbiAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICB9XG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuICBpZiAoaXNMb2NhbElkKGRvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9wdXRMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3B1dExvY2FsKGRvYywgY2IpO1xuICAgIH1cbiAgfVxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChvcHRzLmZvcmNlICYmIGRvYy5fcmV2KSB7XG4gICAgdHJhbnNmb3JtRm9yY2VPcHRpb25Ub05ld0VkaXRzT3B0aW9uKCk7XG4gICAgcHV0RG9jKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBlcnIgPyBudWxsIDoge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICBjYihlcnIsIHJlc3VsdCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHV0RG9jKGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpIHtcbiAgICB2YXIgcGFydHMgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgIHZhciBvbGRSZXZJZCA9IHBhcnRzWzFdO1xuICAgIHZhciBvbGRSZXZOdW0gPSBwYXJzZUludChwYXJ0c1swXSwgMTApO1xuXG4gICAgdmFyIG5ld1Jldk51bSA9IG9sZFJldk51bSArIDE7XG4gICAgdmFyIG5ld1JldklkID0gcmV2JCQxKCk7XG5cbiAgICBkb2MuX3JldmlzaW9ucyA9IHtcbiAgICAgIHN0YXJ0OiBuZXdSZXZOdW0sXG4gICAgICBpZHM6IFtuZXdSZXZJZCwgb2xkUmV2SWRdXG4gICAgfTtcbiAgICBkb2MuX3JldiA9IG5ld1Jldk51bSArICctJyArIG5ld1JldklkO1xuICAgIG9wdHMubmV3X2VkaXRzID0gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gcHV0RG9jKG5leHQpIHtcbiAgICBpZiAodHlwZW9mIHNlbGYuX3B1dCA9PT0gJ2Z1bmN0aW9uJyAmJiBvcHRzLm5ld19lZGl0cyAhPT0gZmFsc2UpIHtcbiAgICAgIHNlbGYuX3B1dChkb2MsIG9wdHMsIG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihuZXh0LCBkb2MuX2lkKSk7XG4gICAgfVxuICB9XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wdXRBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bigncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiwgdHlwZSkge1xuICB2YXIgYXBpID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIC8vIExldHMgZml4IGluIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3VjaGRiL3BvdWNoZGIvaXNzdWVzLzMyNjdcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0eXBlID0gYmxvYjtcbiAgICBibG9iID0gcmV2O1xuICAgIHJldiA9IG51bGw7XG4gIH1cbiAgaWYgKCF0eXBlKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIGF0dGFjaG1lbnRJZCwgJ29uIGRvY3VtZW50JywgZG9jSWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXR0YWNobWVudChkb2MpIHtcbiAgICB2YXIgcHJldnJldnBvcyA9ICdfcmV2JyBpbiBkb2MgPyBwYXJzZUludChkb2MuX3JldiwgMTApIDogMDtcbiAgICBkb2MuX2F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyB8fCB7fTtcbiAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0gPSB7XG4gICAgICBjb250ZW50X3R5cGU6IHR5cGUsXG4gICAgICBkYXRhOiBibG9iLFxuICAgICAgcmV2cG9zOiArK3ByZXZyZXZwb3NcbiAgICB9O1xuICAgIHJldHVybiBhcGkucHV0KGRvYyk7XG4gIH1cblxuICByZXR1cm4gYXBpLmdldChkb2NJZCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYy5fcmV2ICE9PSByZXYpIHtcbiAgICAgIHRocm93IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAvLyBjcmVhdGUgbmV3IGRvY1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGVyci5yZWFzb24gPT09IE1JU1NJTkdfRE9DLm1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KHtfaWQ6IGRvY0lkfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVtb3ZlQXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgc2VsZi5nZXQoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIG9iaikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvYmouX3JldiAhPT0gcmV2KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFvYmouX2F0dGFjaG1lbnRzKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXTtcbiAgICBpZiAoT2JqZWN0LmtleXMob2JqLl9hdHRhY2htZW50cykubGVuZ3RoID09PSAwKSB7XG4gICAgICBkZWxldGUgb2JqLl9hdHRhY2htZW50cztcbiAgICB9XG4gICAgc2VsZi5wdXQob2JqLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVtb3ZlID1cbiAgYWRhcHRlckZ1bigncmVtb3ZlJywgZnVuY3Rpb24gKGRvY09ySWQsIG9wdHNPclJldiwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIGRvYztcbiAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gaWQsIHJldiwgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICBkb2MgPSB7XG4gICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICBfcmV2OiBvcHRzT3JSZXZcbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkb2MsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0gZG9jT3JJZDtcbiAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzT3JSZXY7XG4gICAgICBvcHRzID0ge307XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgfVxuICB9XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBvcHRzLndhc19kZWxldGUgPSB0cnVlO1xuICB2YXIgbmV3RG9jID0ge19pZDogZG9jLl9pZCwgX3JldjogKGRvYy5fcmV2IHx8IG9wdHMucmV2KX07XG4gIG5ld0RvYy5fZGVsZXRlZCA9IHRydWU7XG4gIGlmIChpc0xvY2FsSWQobmV3RG9jLl9pZCkgJiYgdHlwZW9mIHRoaXMuX3JlbW92ZUxvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbW92ZUxvY2FsKGRvYywgY2FsbGJhY2spO1xuICB9XG4gIHRoaXMuYnVsa0RvY3Moe2RvY3M6IFtuZXdEb2NdfSwgb3B0cywgeWFua0Vycm9yKGNhbGxiYWNrLCBuZXdEb2MuX2lkKSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZXZzRGlmZiA9XG4gIGFkYXB0ZXJGdW4oJ3JldnNEaWZmJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICB2YXIgaWRzID0gT2JqZWN0LmtleXMocmVxKTtcblxuICBpZiAoIWlkcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge30pO1xuICB9XG5cbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIG1pc3NpbmcgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICBmdW5jdGlvbiBhZGRUb01pc3NpbmcoaWQsIHJldklkKSB7XG4gICAgaWYgKCFtaXNzaW5nLmhhcyhpZCkpIHtcbiAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogW119KTtcbiAgICB9XG4gICAgbWlzc2luZy5nZXQoaWQpLm1pc3NpbmcucHVzaChyZXZJZCk7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSkge1xuICAgIC8vIElzIHRoaXMgZmFzdCBlbm91Z2g/IE1heWJlIHdlIHNob3VsZCBzd2l0Y2ggdG8gYSBzZXQgc2ltdWxhdGVkIGJ5IGEgbWFwXG4gICAgdmFyIG1pc3NpbmdGb3JJZCA9IHJlcVtpZF0uc2xpY2UoMCk7XG4gICAgdHJhdmVyc2VSZXZUcmVlKHJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gsIGN0eCxcbiAgICAgIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIHZhciBpZHggPSBtaXNzaW5nRm9ySWQuaW5kZXhPZihyZXYpO1xuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1pc3NpbmdGb3JJZC5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChvcHRzLnN0YXR1cyAhPT0gJ2F2YWlsYWJsZScpIHtcbiAgICAgICAgICBhZGRUb01pc3NpbmcoaWQsIHJldik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gVHJhdmVyc2luZyB0aGUgdHJlZSBpcyBzeW5jaHJvbm91cywgc28gbm93IGBtaXNzaW5nRm9ySWRgIGNvbnRhaW5zXG4gICAgLy8gcmV2aXNpb25zIHRoYXQgd2VyZSBub3QgZm91bmQgaW4gdGhlIHRyZWVcbiAgICBtaXNzaW5nRm9ySWQuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBhZGRUb01pc3NpbmcoaWQsIHJldik7XG4gICAgfSk7XG4gIH1cblxuICBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgIHRoaXMuX2dldFJldmlzaW9uVHJlZShpZCwgZnVuY3Rpb24gKGVyciwgcmV2X3RyZWUpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyA9PT0gNDA0ICYmIGVyci5tZXNzYWdlID09PSAnbWlzc2luZycpIHtcbiAgICAgICAgbWlzc2luZy5zZXQoaWQsIHttaXNzaW5nOiByZXFbaWRdfSk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3NEb2MoaWQsIHJldl90cmVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCsrY291bnQgPT09IGlkcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gY29udmVydCBMYXp5TWFwIHRvIG9iamVjdFxuICAgICAgICB2YXIgbWlzc2luZ09iaiA9IHt9O1xuICAgICAgICBtaXNzaW5nLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBtaXNzaW5nT2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBtaXNzaW5nT2JqKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgdGhpcyk7XG59KTtcblxuLy8gX2J1bGtfZ2V0IEFQSSBmb3IgZmFzdGVyIHJlcGxpY2F0aW9uLCBhcyBkZXNjcmliZWQgaW5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY291Y2hkYi1jaHR0cGQvcHVsbC8zM1xuLy8gQXQgdGhlIFwiYWJzdHJhY3RcIiBsZXZlbCwgaXQgd2lsbCBqdXN0IHJ1biBtdWx0aXBsZSBnZXQoKXMgaW5cbi8vIHBhcmFsbGVsLCBiZWNhdXNlIHRoaXMgaXNuJ3QgbXVjaCBvZiBhIHBlcmZvcm1hbmNlIGNvc3Rcbi8vIGZvciBsb2NhbCBkYXRhYmFzZXMgKGV4Y2VwdCB0aGUgY29zdCBvZiBtdWx0aXBsZSB0cmFuc2FjdGlvbnMsIHdoaWNoIGlzXG4vLyBzbWFsbCkuIFRoZSBodHRwIGFkYXB0ZXIgb3ZlcnJpZGVzIHRoaXMgaW4gb3JkZXJcbi8vIHRvIGRvIGEgbW9yZSBlZmZpY2llbnQgc2luZ2xlIEhUVFAgcmVxdWVzdC5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYnVsa0dldCA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtHZXQnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgYnVsa0dldCh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuLy8gY29tcGFjdCBvbmUgZG9jdW1lbnQgYW5kIGZpcmUgY2FsbGJhY2tcbi8vIGJ5IGNvbXBhY3Rpbmcgd2UgbWVhbiByZW1vdmluZyBhbGwgcmV2aXNpb25zIHdoaWNoXG4vLyBhcmUgZnVydGhlciBmcm9tIHRoZSBsZWFmIGluIHJldmlzaW9uIHRyZWUgdGhhbiBtYXhfaGVpZ2h0XG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNvbXBhY3REb2N1bWVudCA9XG4gIGFkYXB0ZXJGdW4oJ2NvbXBhY3REb2N1bWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgbWF4SGVpZ2h0LCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2dldFJldmlzaW9uVHJlZShkb2NJZCwgZnVuY3Rpb24gKGVyciwgcmV2VHJlZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICB2YXIgaGVpZ2h0ID0gY29tcHV0ZUhlaWdodChyZXZUcmVlKTtcbiAgICB2YXIgY2FuZGlkYXRlcyA9IFtdO1xuICAgIHZhciByZXZzID0gW107XG4gICAgT2JqZWN0LmtleXMoaGVpZ2h0KS5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgIGlmIChoZWlnaHRbcmV2XSA+IG1heEhlaWdodCkge1xuICAgICAgICBjYW5kaWRhdGVzLnB1c2gocmV2KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZUcmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICBpZiAob3B0cy5zdGF0dXMgPT09ICdhdmFpbGFibGUnICYmIGNhbmRpZGF0ZXMuaW5kZXhPZihyZXYpICE9PSAtMSkge1xuICAgICAgICByZXZzLnB1c2gocmV2KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxmLl9kb0NvbXBhY3Rpb24oZG9jSWQsIHJldnMsIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuLy8gY29tcGFjdCB0aGUgd2hvbGUgZGF0YWJhc2UgdXNpbmcgc2luZ2xlIGRvY3VtZW50XG4vLyBjb21wYWN0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNvbXBhY3QgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZSA9IHNlbGYuX2NvbXBhY3Rpb25RdWV1ZSB8fCBbXTtcbiAgc2VsZi5fY29tcGFjdGlvblF1ZXVlLnB1c2goe29wdHM6IG9wdHMsIGNhbGxiYWNrOiBjYWxsYmFja30pO1xuICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gIH1cbn0pO1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5fY29tcGFjdCA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBjaGFuZ2VzT3B0cyA9IHtcbiAgICByZXR1cm5fZG9jczogZmFsc2UsXG4gICAgbGFzdF9zZXE6IG9wdHMubGFzdF9zZXEgfHwgMFxuICB9O1xuICB2YXIgcHJvbWlzZXMgPSBbXTtcblxuICBmdW5jdGlvbiBvbkNoYW5nZShyb3cpIHtcbiAgICBwcm9taXNlcy5wdXNoKHNlbGYuY29tcGFjdERvY3VtZW50KHJvdy5pZCwgMCkpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ29tcGxldGUocmVzcCkge1xuICAgIHZhciBsYXN0U2VxID0gcmVzcC5sYXN0X3NlcTtcbiAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBzZXJ0KHNlbGYsICdfbG9jYWwvY29tcGFjdGlvbicsIGZ1bmN0aW9uIGRlbHRhRnVuYyhkb2MpIHtcbiAgICAgICAgaWYgKCFkb2MubGFzdF9zZXEgfHwgZG9jLmxhc3Rfc2VxIDwgbGFzdFNlcSkge1xuICAgICAgICAgIGRvYy5sYXN0X3NlcSA9IGxhc3RTZXE7XG4gICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHNvbWVib2R5IGVsc2UgZ290IGhlcmUgZmlyc3QsIGRvbid0IHVwZGF0ZVxuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH1cbiAgc2VsZi5jaGFuZ2VzKGNoYW5nZXNPcHRzKVxuICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpXG4gICAgLm9uKCdjb21wbGV0ZScsIG9uQ29tcGxldGUpXG4gICAgLm9uKCdlcnJvcicsIGNhbGxiYWNrKTtcbn07XG5cbi8qIEJlZ2luIGFwaSB3cmFwcGVycy4gU3BlY2lmaWMgZnVuY3Rpb25hbGl0eSB0byBzdG9yYWdlIGJlbG9uZ3MgaW4gdGhlXG4gICBfW21ldGhvZF0gKi9cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZ2V0ID0gYWRhcHRlckZ1bignZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKElOVkFMSURfSUQpKTtcbiAgfVxuICBpZiAoaXNMb2NhbElkKGlkKSAmJiB0eXBlb2YgdGhpcy5fZ2V0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0TG9jYWwoaWQsIGNiKTtcbiAgfVxuICB2YXIgbGVhdmVzID0gW10sIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGZpbmlzaE9wZW5SZXZzKCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgY291bnQgPSBsZWF2ZXMubGVuZ3RoO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY291bnQpIHtcbiAgICAgIHJldHVybiBjYihudWxsLCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8vIG9yZGVyIHdpdGggb3Blbl9yZXZzIGlzIHVuc3BlY2lmaWVkXG4gICAgbGVhdmVzLmZvckVhY2goZnVuY3Rpb24gKGxlYWYpIHtcbiAgICAgIHNlbGYuZ2V0KGlkLCB7XG4gICAgICAgIHJldjogbGVhZixcbiAgICAgICAgcmV2czogb3B0cy5yZXZzLFxuICAgICAgICBsYXRlc3Q6IG9wdHMubGF0ZXN0LFxuICAgICAgICBhdHRhY2htZW50czogb3B0cy5hdHRhY2htZW50cyxcbiAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeVxuICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZG9jKSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgLy8gdXNpbmcgbGF0ZXN0PXRydWUgY2FuIHByb2R1Y2UgZHVwbGljYXRlc1xuICAgICAgICAgIHZhciBleGlzdGluZztcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJlc3VsdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbaV0ub2sgJiYgcmVzdWx0W2ldLm9rLl9yZXYgPT09IGRvYy5fcmV2KSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtvazogZG9jfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHttaXNzaW5nOiBsZWFmfSk7XG4gICAgICAgIH1cbiAgICAgICAgY291bnQtLTtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIGNiKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgaWYgKG9wdHMub3Blbl9yZXZzID09PSBcImFsbFwiKSB7XG4gICAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgbGVhdmVzID0gY29sbGVjdExlYXZlcyhyZXZfdHJlZSkubWFwKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICAgICAgcmV0dXJuIGxlYWYucmV2O1xuICAgICAgICB9KTtcbiAgICAgICAgZmluaXNoT3BlblJldnMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRzLm9wZW5fcmV2cykpIHtcbiAgICAgICAgbGVhdmVzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVhdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGwgPSBsZWF2ZXNbaV07XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSBpdCdzIHRoZSBvbmx5IHRoaW5nIGNvdWNoZGIgY2hlY2tzXG4gICAgICAgICAgaWYgKCEodHlwZW9mIChsKSA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcZCstLy50ZXN0KGwpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKElOVkFMSURfUkVWKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoVU5LTk9XTl9FUlJPUiwgJ2Z1bmN0aW9uX2NsYXVzZScpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuOyAvLyBvcGVuX3JldnMgZG9lcyBub3QgbGlrZSBvdGhlciBvcHRpb25zXG4gIH1cblxuICByZXR1cm4gdGhpcy5fZ2V0KGlkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnIuZG9jSWQgPSBpZDtcbiAgICAgIHJldHVybiBjYihlcnIpO1xuICAgIH1cblxuICAgIHZhciBkb2MgPSByZXN1bHQuZG9jO1xuICAgIHZhciBtZXRhZGF0YSA9IHJlc3VsdC5tZXRhZGF0YTtcbiAgICB2YXIgY3R4ID0gcmVzdWx0LmN0eDtcblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgdmFyIGNvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgICAgZG9jLl9jb25mbGljdHMgPSBjb25mbGljdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzRGVsZXRlZChtZXRhZGF0YSwgZG9jLl9yZXYpKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldnMgfHwgb3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHZhciBzcGxpdHRlZFJldiA9IGRvYy5fcmV2LnNwbGl0KCctJyk7XG4gICAgICB2YXIgcmV2Tm8gICAgICAgPSBwYXJzZUludChzcGxpdHRlZFJldlswXSwgMTApO1xuICAgICAgdmFyIHJldkhhc2ggICAgID0gc3BsaXR0ZWRSZXZbMV07XG5cbiAgICAgIHZhciBwYXRocyA9IHJvb3RUb0xlYWYobWV0YWRhdGEucmV2X3RyZWUpO1xuICAgICAgdmFyIHBhdGggPSBudWxsO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHBhdGhzW2ldO1xuICAgICAgICB2YXIgaGFzaEluZGV4ID0gY3VycmVudFBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgICAuaW5kZXhPZihyZXZIYXNoKTtcbiAgICAgICAgdmFyIGhhc2hGb3VuZEF0UmV2UG9zID0gaGFzaEluZGV4ID09PSAocmV2Tm8gLSAxKTtcblxuICAgICAgICBpZiAoaGFzaEZvdW5kQXRSZXZQb3MgfHwgKCFwYXRoICYmIGhhc2hJbmRleCAhPT0gLTEpKSB7XG4gICAgICAgICAgcGF0aCA9IGN1cnJlbnRQYXRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcignaW52YWxpZCByZXYgdHJlZScpO1xuICAgICAgICBlcnIuZG9jSWQgPSBpZDtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleE9mUmV2ID0gcGF0aC5pZHMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KVxuICAgICAgICAuaW5kZXhPZihkb2MuX3Jldi5zcGxpdCgnLScpWzFdKSArIDE7XG4gICAgICB2YXIgaG93TWFueSA9IHBhdGguaWRzLmxlbmd0aCAtIGluZGV4T2ZSZXY7XG4gICAgICBwYXRoLmlkcy5zcGxpY2UoaW5kZXhPZlJldiwgaG93TWFueSk7XG4gICAgICBwYXRoLmlkcy5yZXZlcnNlKCk7XG5cbiAgICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICAgICAgc3RhcnQ6IChwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aCkgLSAxLFxuICAgICAgICAgIGlkczogcGF0aC5pZHMubWFwKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgICAgICAgIHJldHVybiByZXYuaWQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLnJldnNfaW5mbykge1xuICAgICAgICB2YXIgcG9zID0gIHBhdGgucG9zICsgcGF0aC5pZHMubGVuZ3RoO1xuICAgICAgICBkb2MuX3JldnNfaW5mbyA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgcG9zLS07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJldjogcG9zICsgJy0nICsgcmV2LmlkLFxuICAgICAgICAgICAgc3RhdHVzOiByZXYub3B0cy5zdGF0dXNcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGNvdW50ID0gT2JqZWN0LmtleXMoYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gY2IobnVsbCwgZG9jKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5fZ2V0QXR0YWNobWVudChkb2MuX2lkLCBrZXksIGF0dGFjaG1lbnRzW2tleV0sIHtcbiAgICAgICAgICAvLyBQcmV2aW91c2x5IHRoZSByZXZpc2lvbiBoYW5kbGluZyB3YXMgZG9uZSBpbiBhZGFwdGVyLmpzXG4gICAgICAgICAgLy8gZ2V0QXR0YWNobWVudCwgaG93ZXZlciBzaW5jZSBpZGItbmV4dCBkb2VzbnQgd2UgbmVlZCB0b1xuICAgICAgICAgIC8vIHBhc3MgdGhlIHJldiB0aHJvdWdoXG4gICAgICAgICAgcmV2OiBkb2MuX3JldixcbiAgICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5LFxuICAgICAgICAgIGN0eDogY3R4XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1trZXldO1xuICAgICAgICAgIGF0dC5kYXRhID0gZGF0YTtcbiAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKCEtLWNvdW50KSB7XG4gICAgICAgICAgICBjYihudWxsLCBkb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCBzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jLl9hdHRhY2htZW50cywga2V5KSkge1xuICAgICAgICAgICAgZG9jLl9hdHRhY2htZW50c1trZXldLnN0dWIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIFRPRE86IEkgZG9udCBsaWtlIHRoaXMsIGl0IGZvcmNlcyBhbiBleHRyYSByZWFkIGZvciBldmVyeVxuLy8gYXR0YWNobWVudCByZWFkIGFuZCBlbmZvcmNlcyBhIGNvbmZ1c2luZyBhcGkgYmV0d2VlblxuLy8gYWRhcHRlci5qcyBhbmQgdGhlIGFkYXB0ZXIgaW1wbGVtZW50YXRpb25cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZ2V0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICB0aGlzLl9nZXQoZG9jSWQsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBpZiAocmVzLmRvYy5fYXR0YWNobWVudHMgJiYgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSkge1xuICAgICAgb3B0cy5jdHggPSByZXMuY3R4O1xuICAgICAgb3B0cy5iaW5hcnkgPSB0cnVlO1xuICAgICAgc2VsZi5fZ2V0QXR0YWNobWVudChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5hbGxEb2NzID1cbiAgYWRhcHRlckZ1bignYWxsRG9jcycsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIG9wdHMuc2tpcCA9IHR5cGVvZiBvcHRzLnNraXAgIT09ICd1bmRlZmluZWQnID8gb3B0cy5za2lwIDogMDtcbiAgaWYgKG9wdHMuc3RhcnRfa2V5KSB7XG4gICAgb3B0cy5zdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICB9XG4gIGlmIChvcHRzLmVuZF9rZXkpIHtcbiAgICBvcHRzLmVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgfVxuICBpZiAoJ2tleXMnIGluIG9wdHMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0cy5rZXlzKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBUeXBlRXJyb3IoJ29wdGlvbnMua2V5cyBtdXN0IGJlIGFuIGFycmF5JykpO1xuICAgIH1cbiAgICB2YXIgaW5jb21wYXRpYmxlT3B0ID1cbiAgICAgIFsnc3RhcnRrZXknLCAnZW5ka2V5JywgJ2tleSddLmZpbHRlcihmdW5jdGlvbiAoaW5jb21wYXRpYmxlT3B0KSB7XG4gICAgICByZXR1cm4gaW5jb21wYXRpYmxlT3B0IGluIG9wdHM7XG4gICAgfSlbMF07XG4gICAgaWYgKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUVVFUllfUEFSU0VfRVJST1IsXG4gICAgICAgICdRdWVyeSBwYXJhbWV0ZXIgYCcgKyBpbmNvbXBhdGlibGVPcHQgK1xuICAgICAgICAnYCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG11bHRpLWdldCdcbiAgICAgICkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzUmVtb3RlKHRoaXMpKSB7XG4gICAgICBhbGxEb2NzS2V5c1BhcnNlKG9wdHMpO1xuICAgICAgaWYgKG9wdHMua2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbERvY3Moe2xpbWl0OiAwfSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNoYW5nZXMgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIC8vIEJ5IGRlZmF1bHQgc2V0IHJldHVybl9kb2NzIHRvIGZhbHNlIGlmIHRoZSBjYWxsZXIgaGFzIG9wdHMubGl2ZSA9IHRydWUsXG4gIC8vIHRoaXMgd2lsbCBwcmV2ZW50IHVzIGZyb20gY29sbGVjdGluZyB0aGUgc2V0IG9mIGNoYW5nZXMgaW5kZWZpbml0ZWx5XG4gIC8vIHJlc3VsdGluZyBpbiBncm93aW5nIG1lbW9yeVxuICBvcHRzLnJldHVybl9kb2NzID0gKCdyZXR1cm5fZG9jcycgaW4gb3B0cykgPyBvcHRzLnJldHVybl9kb2NzIDogIW9wdHMubGl2ZTtcblxuICByZXR1cm4gbmV3IENoYW5nZXMkMSh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG59O1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNsb3NlID0gYWRhcHRlckZ1bignY2xvc2UnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgdGhpcy5lbWl0KCdjbG9zZWQnKTtcbiAgcmV0dXJuIHRoaXMuX2Nsb3NlKGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmluZm8gPSBhZGFwdGVyRnVuKCdpbmZvJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5faW5mbyhmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGFzc3VtZSB3ZSBrbm93IGJldHRlciB0aGFuIHRoZSBhZGFwdGVyLCB1bmxlc3MgaXQgaW5mb3JtcyB1c1xuICAgIGluZm8uZGJfbmFtZSA9IGluZm8uZGJfbmFtZSB8fCBzZWxmLm5hbWU7XG4gICAgaW5mby5hdXRvX2NvbXBhY3Rpb24gPSAhIShzZWxmLmF1dG9fY29tcGFjdGlvbiAmJiAhaXNSZW1vdGUoc2VsZikpO1xuICAgIGluZm8uYWRhcHRlciA9IHNlbGYuYWRhcHRlcjtcbiAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pZCA9IGFkYXB0ZXJGdW4oJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB0aGlzLl9pZChjYWxsYmFjayk7XG59KTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICh0eXBlb2YgdGhpcy5fdHlwZSA9PT0gJ2Z1bmN0aW9uJykgPyB0aGlzLl90eXBlKCkgOiB0aGlzLmFkYXB0ZXI7XG59O1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtEb2NzID1cbiAgYWRhcHRlckZ1bignYnVsa0RvY3MnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocmVxKSkge1xuICAgIHJlcSA9IHtcbiAgICAgIGRvY3M6IHJlcVxuICAgIH07XG4gIH1cblxuICBpZiAoIXJlcSB8fCAhcmVxLmRvY3MgfHwgIUFycmF5LmlzQXJyYXkocmVxLmRvY3MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfQlVMS19ET0NTKSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcS5kb2NzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKHR5cGVvZiByZXEuZG9jc1tpXSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyZXEuZG9jc1tpXSkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGF0dGFjaG1lbnRFcnJvcjtcbiAgcmVxLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgYXR0YWNobWVudEVycm9yID0gYXR0YWNobWVudEVycm9yIHx8IGF0dGFjaG1lbnROYW1lRXJyb3IobmFtZSk7XG4gICAgICAgIGlmICghZG9jLl9hdHRhY2htZW50c1tuYW1lXS5jb250ZW50X3R5cGUpIHtcbiAgICAgICAgICBndWFyZGVkQ29uc29sZSgnd2FybicsICdBdHRhY2htZW50JywgbmFtZSwgJ29uIGRvY3VtZW50JywgZG9jLl9pZCwgJ2lzIG1pc3NpbmcgY29udGVudF90eXBlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGF0dGFjaG1lbnRFcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihCQURfUkVRVUVTVCwgYXR0YWNobWVudEVycm9yKSk7XG4gIH1cblxuICBpZiAoISgnbmV3X2VkaXRzJyBpbiBvcHRzKSkge1xuICAgIGlmICgnbmV3X2VkaXRzJyBpbiByZXEpIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gcmVxLm5ld19lZGl0cztcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cy5uZXdfZWRpdHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gdGhpcztcbiAgaWYgKCFvcHRzLm5ld19lZGl0cyAmJiAhaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAvLyBlbnN1cmUgcmV2aXNpb25zIG9mIHRoZSBzYW1lIGRvYyBhcmUgc29ydGVkLCBzbyB0aGF0XG4gICAgLy8gdGhlIGxvY2FsIGFkYXB0ZXIgcHJvY2Vzc2VzIHRoZW0gY29ycmVjdGx5ICgjMjkzNSlcbiAgICByZXEuZG9jcy5zb3J0KGNvbXBhcmVCeUlkVGhlblJldik7XG4gIH1cblxuICBjbGVhbkRvY3MocmVxLmRvY3MpO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIGNvbmZsaWN0cywgd2Ugd2FudCB0byByZXR1cm4gdGhlIF9pZHMgdG8gdGhlIHVzZXJcbiAgLy8gaG93ZXZlciwgdGhlIHVuZGVybHlpbmcgYWRhcHRlciBtYXkgZGVzdHJveSB0aGUgZG9jcyBhcnJheSwgc29cbiAgLy8gY3JlYXRlIGEgY29weSBoZXJlXG4gIHZhciBpZHMgPSByZXEuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgIHJldHVybiBkb2MuX2lkO1xuICB9KTtcblxuICByZXR1cm4gdGhpcy5fYnVsa0RvY3MocmVxLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKCFvcHRzLm5ld19lZGl0cykge1xuICAgICAgLy8gdGhpcyBpcyB3aGF0IGNvdWNoIGRvZXMgd2hlbiBuZXdfZWRpdHMgaXMgZmFsc2VcbiAgICAgIHJlcyA9IHJlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHguZXJyb3I7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gYWRkIGlkcyBmb3IgZXJyb3IvY29uZmxpY3QgcmVzcG9uc2VzIChub3QgcmVxdWlyZWQgZm9yIENvdWNoREIpXG4gICAgaWYgKCFpc1JlbW90ZShhZGFwdGVyKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHJlc1tpXS5pZCA9IHJlc1tpXS5pZCB8fCBpZHNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlID1cbiAgYWRhcHRlckZ1bigncmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZScsIGZ1bmN0aW9uIChkZXBlbmRlbnREYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgZGJPcHRpb25zID0gY2xvbmUodGhpcy5fX29wdHMpO1xuICBpZiAodGhpcy5fX29wdHMudmlld19hZGFwdGVyKSB7XG4gICAgZGJPcHRpb25zLmFkYXB0ZXIgPSB0aGlzLl9fb3B0cy52aWV3X2FkYXB0ZXI7XG4gIH1cblxuICB2YXIgZGVwREIgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZXBlbmRlbnREYiwgZGJPcHRpb25zKTtcblxuICBmdW5jdGlvbiBkaWZmRnVuKGRvYykge1xuICAgIGRvYy5kZXBlbmRlbnREYnMgPSBkb2MuZGVwZW5kZW50RGJzIHx8IHt9O1xuICAgIGlmIChkb2MuZGVwZW5kZW50RGJzW2RlcGVuZGVudERiXSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBubyB1cGRhdGUgcmVxdWlyZWRcbiAgICB9XG4gICAgZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0gPSB0cnVlO1xuICAgIHJldHVybiBkb2M7XG4gIH1cbiAgdXBzZXJ0KHRoaXMsICdfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERicycsIGRpZmZGdW4pXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge2RiOiBkZXBEQn0pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmRlc3Ryb3kgPVxuICBhZGFwdGVyRnVuKCdkZXN0cm95JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHVzZVByZWZpeCA9ICd1c2VfcHJlZml4JyBpbiBzZWxmID8gc2VsZi51c2VfcHJlZml4IDogdHJ1ZTtcblxuICBmdW5jdGlvbiBkZXN0cm95RGIoKSB7XG4gICAgLy8gY2FsbCBkZXN0cm95IG1ldGhvZCBvZiB0aGUgcGFydGljdWxhciBhZGFwdG9yXG4gICAgc2VsZi5fZGVzdHJveShvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgc2VsZi5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuZW1pdCgnZGVzdHJveWVkJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXNwIHx8IHsgJ29rJzogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc1JlbW90ZShzZWxmKSkge1xuICAgIC8vIG5vIG5lZWQgdG8gY2hlY2sgZm9yIGRlcGVuZGVudCBEQnMgaWYgaXQncyBhIHJlbW90ZSBEQlxuICAgIHJldHVybiBkZXN0cm95RGIoKTtcbiAgfVxuXG4gIHNlbGYuZ2V0KCdfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERicycsIGZ1bmN0aW9uIChlcnIsIGxvY2FsRG9jKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHsgLy8gbm8gZGVwZW5kZW5jaWVzXG4gICAgICAgIHJldHVybiBkZXN0cm95RGIoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGRlcGVuZGVudERicyA9IGxvY2FsRG9jLmRlcGVuZGVudERicztcbiAgICB2YXIgUG91Y2hEQiA9IHNlbGYuY29uc3RydWN0b3I7XG4gICAgdmFyIGRlbGV0ZWRNYXAgPSBPYmplY3Qua2V5cyhkZXBlbmRlbnREYnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgLy8gdXNlX3ByZWZpeCBpcyBvbmx5IGZhbHNlIGluIHRoZSBicm93c2VyXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgdmFyIHRydWVOYW1lID0gdXNlUHJlZml4ID9cbiAgICAgICAgbmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsgUG91Y2hEQi5wcmVmaXgpLCAnJykgOiBuYW1lO1xuICAgICAgcmV0dXJuIG5ldyBQb3VjaERCKHRydWVOYW1lLCBzZWxmLl9fb3B0cykuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIFByb21pc2UuYWxsKGRlbGV0ZWRNYXApLnRoZW4oZGVzdHJveURiLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbmZ1bmN0aW9uIFRhc2tRdWV1ZSgpIHtcbiAgdGhpcy5pc1JlYWR5ID0gZmFsc2U7XG4gIHRoaXMuZmFpbGVkID0gZmFsc2U7XG4gIHRoaXMucXVldWUgPSBbXTtcbn1cblxuVGFza1F1ZXVlLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZnVuO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bih0aGlzLmZhaWxlZCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlICgoZnVuID0gdGhpcy5xdWV1ZS5zaGlmdCgpKSkge1xuICAgICAgZnVuKCk7XG4gICAgfVxuICB9XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmZhaWwgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIHRoaXMuZmFpbGVkID0gZXJyO1xuICB0aGlzLmV4ZWN1dGUoKTtcbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoZGIpIHtcbiAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcbiAgdGhpcy5kYiA9IGRiO1xuICB0aGlzLmV4ZWN1dGUoKTtcbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuYWRkVGFzayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgdGhpcy5xdWV1ZS5wdXNoKGZ1bik7XG4gIGlmICh0aGlzLmZhaWxlZCkge1xuICAgIHRoaXMuZXhlY3V0ZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBwYXJzZUFkYXB0ZXIobmFtZSwgb3B0cykge1xuICB2YXIgbWF0Y2ggPSBuYW1lLm1hdGNoKC8oW2Etei1dKik6XFwvXFwvKC4qKS8pO1xuICBpZiAobWF0Y2gpIHtcbiAgICAvLyB0aGUgaHR0cCBhZGFwdGVyIGV4cGVjdHMgdGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IC9odHRwcz8vLnRlc3QobWF0Y2hbMV0pID8gbWF0Y2hbMV0gKyAnOi8vJyArIG1hdGNoWzJdIDogbWF0Y2hbMl0sXG4gICAgICBhZGFwdGVyOiBtYXRjaFsxXVxuICAgIH07XG4gIH1cblxuICB2YXIgYWRhcHRlcnMgPSBQb3VjaERCLmFkYXB0ZXJzO1xuICB2YXIgcHJlZmVycmVkQWRhcHRlcnMgPSBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzO1xuICB2YXIgcHJlZml4ID0gUG91Y2hEQi5wcmVmaXg7XG4gIHZhciBhZGFwdGVyTmFtZSA9IG9wdHMuYWRhcHRlcjtcblxuICBpZiAoIWFkYXB0ZXJOYW1lKSB7IC8vIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lIGFkYXB0ZXJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZlcnJlZEFkYXB0ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICBhZGFwdGVyTmFtZSA9IHByZWZlcnJlZEFkYXB0ZXJzW2ldO1xuICAgICAgLy8gY2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgaGF2ZSBiZWVuIHVwZ3JhZGVkIGZyb20gd2Vic3FsLW9ubHkgdG8gd2Vic3FsK2lkYlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoYWRhcHRlck5hbWUgPT09ICdpZGInICYmICd3ZWJzcWwnIGluIGFkYXB0ZXJzICYmXG4gICAgICAgICAgaGFzTG9jYWxTdG9yYWdlKCkgJiYgbG9jYWxTdG9yYWdlWydfcG91Y2hfX3dlYnNxbGRiXycgKyBwcmVmaXggKyBuYW1lXSkge1xuICAgICAgICAvLyBsb2cgaXQsIGJlY2F1c2UgdGhpcyBjYW4gYmUgY29uZnVzaW5nIGR1cmluZyBkZXZlbG9wbWVudFxuICAgICAgICBndWFyZGVkQ29uc29sZSgnbG9nJywgJ1BvdWNoREIgaXMgZG93bmdyYWRpbmcgXCInICsgbmFtZSArICdcIiB0byBXZWJTUUwgdG8nICtcbiAgICAgICAgICAnIGF2b2lkIGRhdGEgbG9zcywgYmVjYXVzZSBpdCB3YXMgYWxyZWFkeSBvcGVuZWQgd2l0aCBXZWJTUUwuJyk7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBrZWVwIHVzaW5nIHdlYnNxbCB0byBhdm9pZCB1c2VyIGRhdGEgbG9zc1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFkYXB0ZXIgPSBhZGFwdGVyc1thZGFwdGVyTmFtZV07XG5cbiAgLy8gaWYgYWRhcHRlciBpcyBpbnZhbGlkLCB0aGVuIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIGxhdGVyXG4gIHZhciB1c2VQcmVmaXggPSAoYWRhcHRlciAmJiAndXNlX3ByZWZpeCcgaW4gYWRhcHRlcikgP1xuICAgIGFkYXB0ZXIudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiB1c2VQcmVmaXggPyAocHJlZml4ICsgbmFtZSkgOiBuYW1lLFxuICAgIGFkYXB0ZXI6IGFkYXB0ZXJOYW1lXG4gIH07XG59XG5cbi8vIE9LLCBzbyBoZXJlJ3MgdGhlIGRlYWwuIENvbnNpZGVyIHRoaXMgY29kZTpcbi8vICAgICB2YXIgZGIxID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIHZhciBkYjIgPSBuZXcgUG91Y2hEQignZm9vJyk7XG4vLyAgICAgZGIxLmRlc3Ryb3koKTtcbi8vIF4gdGhlc2UgdHdvIGJvdGggbmVlZCB0byBlbWl0ICdkZXN0cm95ZWQnIGV2ZW50cyxcbi8vIGFzIHdlbGwgYXMgdGhlIFBvdWNoREIgY29uc3RydWN0b3IgaXRzZWxmLlxuLy8gU28gd2UgaGF2ZSBvbmUgZGIgb2JqZWN0ICh3aGljaGV2ZXIgb25lIGdvdCBkZXN0cm95KCkgY2FsbGVkIG9uIGl0KVxuLy8gcmVzcG9uc2libGUgZm9yIGVtaXR0aW5nIHRoZSBpbml0aWFsIGV2ZW50LCB3aGljaCB0aGVuIGdldHMgZW1pdHRlZFxuLy8gYnkgdGhlIGNvbnN0cnVjdG9yLCB3aGljaCB0aGVuIGJyb2FkY2FzdHMgaXQgdG8gYW55IG90aGVyIGRic1xuLy8gdGhhdCBtYXkgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aCB0aGUgc2FtZSBuYW1lLlxuZnVuY3Rpb24gcHJlcGFyZUZvckRlc3RydWN0aW9uKHNlbGYpIHtcblxuICBmdW5jdGlvbiBvbkRlc3Ryb3llZChmcm9tX2NvbnN0cnVjdG9yKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignY2xvc2VkJywgb25DbG9zZWQpO1xuICAgIGlmICghZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZXN0cm95ZWQnLCBzZWxmLm5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2xvc2VkKCkge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveWVkKTtcbiAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3VucmVmJywgc2VsZik7XG4gIH1cblxuICBzZWxmLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveWVkKTtcbiAgc2VsZi5vbmNlKCdjbG9zZWQnLCBvbkNsb3NlZCk7XG4gIHNlbGYuY29uc3RydWN0b3IuZW1pdCgncmVmJywgc2VsZik7XG59XG5cbmluaGVyaXRzKFBvdWNoREIsIEFic3RyYWN0UG91Y2hEQik7XG5mdW5jdGlvbiBQb3VjaERCKG5hbWUsIG9wdHMpIHtcbiAgLy8gSW4gTm9kZSBvdXIgdGVzdCBzdWl0ZSBvbmx5IHRlc3RzIHRoaXMgZm9yIFBvdWNoQWx0IHVuZm9ydHVuYXRlbHlcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3VjaERCKSkge1xuICAgIHJldHVybiBuZXcgUG91Y2hEQihuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgb3B0cyA9IG5hbWU7XG4gICAgbmFtZSA9IG9wdHMubmFtZTtcbiAgICBkZWxldGUgb3B0cy5uYW1lO1xuICB9XG5cbiAgaWYgKG9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzID09PSB1bmRlZmluZWQpIHtcbiAgICBvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9IHRydWU7XG4gIH1cblxuICB0aGlzLl9fb3B0cyA9IG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBzZWxmLmF1dG9fY29tcGFjdGlvbiA9IG9wdHMuYXV0b19jb21wYWN0aW9uO1xuICBzZWxmLnByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcvaW52YWxpZCBEQiBuYW1lJyk7XG4gIH1cblxuICB2YXIgcHJlZml4ZWROYW1lID0gKG9wdHMucHJlZml4IHx8ICcnKSArIG5hbWU7XG4gIHZhciBiYWNrZW5kID0gcGFyc2VBZGFwdGVyKHByZWZpeGVkTmFtZSwgb3B0cyk7XG5cbiAgb3B0cy5uYW1lID0gYmFja2VuZC5uYW1lO1xuICBvcHRzLmFkYXB0ZXIgPSBvcHRzLmFkYXB0ZXIgfHwgYmFja2VuZC5hZGFwdGVyO1xuXG4gIHNlbGYubmFtZSA9IG5hbWU7XG4gIHNlbGYuX2FkYXB0ZXIgPSBvcHRzLmFkYXB0ZXI7XG4gIFBvdWNoREIuZW1pdCgnZGVidWcnLCBbJ2FkYXB0ZXInLCAnUGlja2VkIGFkYXB0ZXI6ICcsIG9wdHMuYWRhcHRlcl0pO1xuXG4gIGlmICghUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdIHx8XG4gICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdLnZhbGlkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQWRhcHRlcjogJyArIG9wdHMuYWRhcHRlcik7XG4gIH1cblxuICBpZiAob3B0cy52aWV3X2FkYXB0ZXIpIHtcbiAgICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy52aWV3X2FkYXB0ZXJdIHx8XG4gICAgICAgICFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVmlldyBBZGFwdGVyOiAnICsgb3B0cy52aWV3X2FkYXB0ZXIpO1xuICAgIH1cbiAgfVxuXG4gIEFic3RyYWN0UG91Y2hEQi5jYWxsKHNlbGYpO1xuICBzZWxmLnRhc2txdWV1ZSA9IG5ldyBUYXNrUXVldWUoKTtcblxuICBzZWxmLmFkYXB0ZXIgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdLmNhbGwoc2VsZiwgb3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBzZWxmLnRhc2txdWV1ZS5mYWlsKGVycik7XG4gICAgfVxuICAgIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKTtcblxuICAgIHNlbGYuZW1pdCgnY3JlYXRlZCcsIHNlbGYpO1xuICAgIFBvdWNoREIuZW1pdCgnY3JlYXRlZCcsIHNlbGYubmFtZSk7XG4gICAgc2VsZi50YXNrcXVldWUucmVhZHkoc2VsZik7XG4gIH0pO1xuXG59XG5cbi8vIEFib3J0Q29udHJvbGxlciB3YXMgaW50cm9kdWNlZCBxdWl0ZSBhIHdoaWxlIGFmdGVyIGZldGNoIGFuZFxuLy8gaXNudCByZXF1aXJlZCBmb3IgUG91Y2hEQiB0byBmdW5jdGlvbiBzbyBwb2x5ZmlsbCBpZiBuZWVkZWRcbnZhciBhID0gKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09ICd1bmRlZmluZWQnKVxuICAgID8gQWJvcnRDb250cm9sbGVyXG4gICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiB7YWJvcnQ6IGZ1bmN0aW9uICgpIHt9fTsgfTtcblxudmFyIGYkMSA9IGZldGNoO1xudmFyIGggPSBIZWFkZXJzO1xuXG5Qb3VjaERCLmFkYXB0ZXJzID0ge307XG5Qb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzID0gW107XG5cblBvdWNoREIucHJlZml4ID0gJ19wb3VjaF8nO1xuXG52YXIgZXZlbnRFbWl0dGVyID0gbmV3IEVFKCk7XG5cbmZ1bmN0aW9uIHNldFVwRXZlbnRFbWl0dGVyKFBvdWNoKSB7XG4gIE9iamVjdC5rZXlzKEVFLnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHR5cGVvZiBFRS5wcm90b3R5cGVba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgUG91Y2hba2V5XSA9IGV2ZW50RW1pdHRlcltrZXldLmJpbmQoZXZlbnRFbWl0dGVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHRoZXNlIGFyZSBjcmVhdGVkIGluIGNvbnN0cnVjdG9yLmpzLCBhbmQgYWxsb3cgdXMgdG8gbm90aWZ5IGVhY2ggREIgd2l0aFxuICAvLyB0aGUgc2FtZSBuYW1lIHRoYXQgaXQgd2FzIGRlc3Ryb3llZCwgdmlhIHRoZSBjb25zdHJ1Y3RvciBvYmplY3RcbiAgdmFyIGRlc3RydWN0TGlzdGVuZXJzID0gUG91Y2guX2Rlc3RydWN0aW9uTGlzdGVuZXJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgUG91Y2gub24oJ3JlZicsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JSZWYoZGIpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhkYi5uYW1lKSkge1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIFtdKTtcbiAgICB9XG4gICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KGRiLm5hbWUpLnB1c2goZGIpO1xuICB9KTtcblxuICBQb3VjaC5vbigndW5yZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yVW5yZWYoZGIpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhkYi5uYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KGRiLm5hbWUpO1xuICAgIHZhciBwb3MgPSBkYkxpc3QuaW5kZXhPZihkYik7XG4gICAgaWYgKHBvcyA8IDApIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRiTGlzdC5zcGxpY2UocG9zLCAxKTtcbiAgICBpZiAoZGJMaXN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5zZXQoZGIubmFtZSwgZGJMaXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZGVsZXRlKGRiLm5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgUG91Y2gub24oJ2Rlc3Ryb3llZCcsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JEZXN0cm95ZWQobmFtZSkge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKG5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkYkxpc3QgPSBkZXN0cnVjdExpc3RlbmVycy5nZXQobmFtZSk7XG4gICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZGVsZXRlKG5hbWUpO1xuICAgIGRiTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkYikge1xuICAgICAgZGIuZW1pdCgnZGVzdHJveWVkJyx0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbnNldFVwRXZlbnRFbWl0dGVyKFBvdWNoREIpO1xuXG5Qb3VjaERCLmFkYXB0ZXIgPSBmdW5jdGlvbiAoaWQsIG9iaiwgYWRkVG9QcmVmZXJyZWRBZGFwdGVycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAob2JqLnZhbGlkKCkpIHtcbiAgICBQb3VjaERCLmFkYXB0ZXJzW2lkXSA9IG9iajtcbiAgICBpZiAoYWRkVG9QcmVmZXJyZWRBZGFwdGVycykge1xuICAgICAgUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycy5wdXNoKGlkKTtcbiAgICB9XG4gIH1cbn07XG5cblBvdWNoREIucGx1Z2luID0gZnVuY3Rpb24gKG9iaikge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgeyAvLyBmdW5jdGlvbiBzdHlsZSBmb3IgcGx1Z2luc1xuICAgIG9iaihQb3VjaERCKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwbHVnaW46IGdvdCBcIicgKyBvYmogKyAnXCIsIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uJyk7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgeyAvLyBvYmplY3Qgc3R5bGUgZm9yIHBsdWdpbnNcbiAgICAgIFBvdWNoREIucHJvdG90eXBlW2lkXSA9IG9ialtpZF07XG4gICAgfSk7XG4gIH1cbiAgaWYgKHRoaXMuX19kZWZhdWx0cykge1xuICAgIFBvdWNoREIuX19kZWZhdWx0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgdGhpcy5fX2RlZmF1bHRzKTtcbiAgfVxuICByZXR1cm4gUG91Y2hEQjtcbn07XG5cblBvdWNoREIuZGVmYXVsdHMgPSBmdW5jdGlvbiAoZGVmYXVsdE9wdHMpIHtcbiAgZnVuY3Rpb24gUG91Y2hBbHQobmFtZSwgb3B0cykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3VjaEFsdCkpIHtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hBbHQobmFtZSwgb3B0cyk7XG4gICAgfVxuXG4gICAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG9wdHMgPSBuYW1lO1xuICAgICAgbmFtZSA9IG9wdHMubmFtZTtcbiAgICAgIGRlbGV0ZSBvcHRzLm5hbWU7XG4gICAgfVxuXG4gICAgb3B0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgUG91Y2hBbHQuX19kZWZhdWx0cywgb3B0cyk7XG4gICAgUG91Y2hEQi5jYWxsKHRoaXMsIG5hbWUsIG9wdHMpO1xuICB9XG5cbiAgaW5oZXJpdHMoUG91Y2hBbHQsIFBvdWNoREIpO1xuXG4gIFBvdWNoQWx0LnByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycy5zbGljZSgpO1xuICBPYmplY3Qua2V5cyhQb3VjaERCKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIShrZXkgaW4gUG91Y2hBbHQpKSB7XG4gICAgICBQb3VjaEFsdFtrZXldID0gUG91Y2hEQltrZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgdHJhbnNpdGl2ZVxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy81OTIyXG4gIFBvdWNoQWx0Ll9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cywgZGVmYXVsdE9wdHMpO1xuXG4gIHJldHVybiBQb3VjaEFsdDtcbn07XG5cblBvdWNoREIuZmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRzKSB7XG4gIHJldHVybiBmJDEodXJsLCBvcHRzKTtcbn07XG5cbi8vIG1hbmFnZWQgYXV0b21hdGljYWxseSBieSBzZXQtdmVyc2lvbi5qc1xudmFyIHZlcnNpb24gPSBcIjcuMy4wXCI7XG5cbi8vIHRoaXMgd291bGQganVzdCBiZSBcInJldHVybiBkb2NbZmllbGRdXCIsIGJ1dCBmaWVsZHNcbi8vIGNhbiBiZSBcImRlZXBcIiBkdWUgdG8gZG90IG5vdGF0aW9uXG5mdW5jdGlvbiBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCkge1xuICB2YXIgdmFsdWUgPSBkb2M7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXJzZWRGaWVsZC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXJzZWRGaWVsZFtpXTtcbiAgICB2YWx1ZSA9IHZhbHVlW2tleV07XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZSQxKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPiByaWdodCA/IDEgOiAwO1xufVxuXG4vLyBDb252ZXJ0cyBhIHN0cmluZyBpbiBkb3Qgbm90YXRpb24gdG8gYW4gYXJyYXkgb2YgaXRzIGNvbXBvbmVudHMsIHdpdGggYmFja3NsYXNoIGVzY2FwaW5nXG5mdW5jdGlvbiBwYXJzZUZpZWxkKGZpZWxkTmFtZSkge1xuICAvLyBmaWVsZHMgbWF5IGJlIGRlZXAgKGUuZy4gXCJmb28uYmFyLmJhelwiKSwgc28gcGFyc2VcbiAgdmFyIGZpZWxkcyA9IFtdO1xuICB2YXIgY3VycmVudCA9ICcnO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZmllbGROYW1lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGNoID0gZmllbGROYW1lW2ldO1xuICAgIGlmIChpID4gMCAmJiBmaWVsZE5hbWVbaSAtIDFdID09PSAnXFxcXCcgJiYgKGNoID09PSAnJCcgfHwgY2ggPT09ICcuJykpIHtcbiAgICAgIC8vIGVzY2FwZWQgZGVsaW1pdGVyXG4gICAgICBjdXJyZW50ID0gY3VycmVudC5zdWJzdHJpbmcoMCwgY3VycmVudC5sZW5ndGggLSAxKSArIGNoO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09ICcuJykge1xuICAgICAgLy8gV2hlbiBgLmAgaXMgbm90IGVzY2FwZWQgKGFib3ZlKSwgaXQgaXMgYSBmaWVsZCBkZWxpbWl0ZXJcbiAgICAgIGZpZWxkcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgY3VycmVudCA9ICcnO1xuICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBjaGFyYWN0ZXJcbiAgICAgIGN1cnJlbnQgKz0gY2g7XG4gICAgfVxuICB9XG4gIGZpZWxkcy5wdXNoKGN1cnJlbnQpO1xuICByZXR1cm4gZmllbGRzO1xufVxuXG52YXIgY29tYmluYXRpb25GaWVsZHMgPSBbJyRvcicsICckbm9yJywgJyRub3QnXTtcbmZ1bmN0aW9uIGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSB7XG4gIHJldHVybiBjb21iaW5hdGlvbkZpZWxkcy5pbmRleE9mKGZpZWxkKSA+IC0xO1xufVxuXG5mdW5jdGlvbiBnZXRLZXkob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopWzBdO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmopIHtcbiAgcmV0dXJuIG9ialtnZXRLZXkob2JqKV07XG59XG5cblxuLy8gZmxhdHRlbiBhbiBhcnJheSBvZiBzZWxlY3RvcnMgam9pbmVkIGJ5IGFuICRhbmQgb3BlcmF0b3JcbmZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnMoc2VsZWN0b3JzKSB7XG5cbiAgLy8gc29ydCB0byBlbnN1cmUgdGhhdCBlLmcuIGlmIHRoZSB1c2VyIHNwZWNpZmllZFxuICAvLyAkYW5kOiBbeyRndDogJ2EnfSwgeyRndDogJ2InfV0sIHRoZW4gaXQncyBjb2xsYXBzZWQgaW50b1xuICAvLyBqdXN0IHskZ3Q6ICdiJ31cbiAgdmFyIHJlcyA9IHt9O1xuICB2YXIgZmlyc3QgPSB7JG9yOiB0cnVlLCAkbm9yOiB0cnVlfTtcblxuICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICBPYmplY3Qua2V5cyhzZWxlY3RvcikuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgIHZhciBtYXRjaGVyID0gc2VsZWN0b3JbZmllbGRdO1xuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBtYXRjaGVyID0geyRlcTogbWF0Y2hlcn07XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkpIHtcbiAgICAgICAgLy8gb3IsIG5vclxuICAgICAgICBpZiAobWF0Y2hlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgaWYgKGZpcnN0W2ZpZWxkXSkge1xuICAgICAgICAgICAgZmlyc3RbZmllbGRdID0gZmFsc2U7XG4gICAgICAgICAgICByZXNbZmllbGRdID0gbWF0Y2hlcjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICAgIHJlc1tmaWVsZF0uZm9yRWFjaChmdW5jdGlvbiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICB2YXIgbSA9IG1hdGNoZXJba2V5XTtcbiAgICAgICAgICAgICAgdmFyIGxvbmdlc3QgPSBNYXRoLm1heChPYmplY3Qua2V5cyhleGlzdGluZykubGVuZ3RoLCBPYmplY3Qua2V5cyhtKS5sZW5ndGgpO1xuICAgICAgICAgICAgICB2YXIgbWVyZ2VkID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbZXhpc3RpbmcsIG1dKTtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1lcmdlZCkubGVuZ3RoIDw9IGxvbmdlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIGEgc2l0dWF0aW9uIGxpa2U6IChhIDp7JGVxIDoxfSB8fCAuLi4pICYmIChhIHskZXE6IDJ9IHx8IC4uLilcbiAgICAgICAgICAgICAgICAvLyBtZXJnaW5nIHdvdWxkIHByb2R1Y2UgYSAkZXEgMiB3aGVuIGFjdHVhbGx5IHdlIHNob3VsZG4ndCBldmVyIG1hdGNoIGFnYWluc3QgdGhlc2UgbWVyZ2VkIGNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBtZXJnZWQgc2hvdWxkIGFsd2F5cyBjb250YWluIG1vcmUgdmFsdWVzIHRvIGJlIHZhbGlkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVudHJpZXMucHVzaChtZXJnZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzW2ZpZWxkXSA9IGVudHJpZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm90XG4gICAgICAgICAgcmVzW2ZpZWxkXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW21hdGNoZXJdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGZpZWxkTWF0Y2hlcnMgPSByZXNbZmllbGRdID0gcmVzW2ZpZWxkXSB8fCB7fTtcbiAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hlcikuZm9yRWFjaChmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaGVyW29wZXJhdG9yXTtcblxuICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gJyRndCcgfHwgb3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJGx0JyB8fCBvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VMdEx0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRlcScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUVxKHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIiRyZWdleFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VSZWdleCh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufVxuXG5cblxuLy8gY29sbGFwc2UgbG9naWNhbGx5IGVxdWl2YWxlbnQgZ3QvZ3RlIHZhbHVlc1xuZnVuY3Rpb24gbWVyZ2VHdEd0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRlcSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgfVxuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGd0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3RlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3RlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPj0gZmllbGRNYXRjaGVycy4kZ3RlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0ZTtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3QgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGd0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndDtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3RlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gIH1cbn1cblxuLy8gY29sbGFwc2UgbG9naWNhbGx5IGVxdWl2YWxlbnQgbHQvbHRlIHZhbHVlc1xuZnVuY3Rpb24gbWVyZ2VMdEx0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRlcSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgfVxuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGx0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHRlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHRlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPD0gZmllbGRNYXRjaGVycy4kbHRlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0ZTtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdDtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHRlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gIH1cbn1cblxuLy8gY29tYmluZSAkbmUgdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZU5lKHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJG5lJyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gdGhlcmUgYXJlIG1hbnkgdGhpbmdzIHRoaXMgY291bGQgXCJub3RcIiBiZVxuICAgIGZpZWxkTWF0Y2hlcnMuJG5lLnB1c2godmFsdWUpO1xuICB9IGVsc2UgeyAvLyBkb2Vzbid0IGV4aXN0IHlldFxuICAgIGZpZWxkTWF0Y2hlcnMuJG5lID0gW3ZhbHVlXTtcbiAgfVxufVxuXG4vLyBhZGQgJGVxIGludG8gdGhlIG1peFxuZnVuY3Rpb24gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICAvLyB0aGVzZSBhbGwgaGF2ZSBsZXNzIHNwZWNpZmljaXR5IHRoYW4gdGhlICRlcVxuICAvLyBUT0RPOiBjaGVjayBmb3IgdXNlciBlcnJvcnMgaGVyZVxuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdDtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0ZTtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJG5lO1xuICBmaWVsZE1hdGNoZXJzLiRlcSA9IHZhbHVlO1xufVxuXG4vLyBjb21iaW5lICRyZWdleCB2YWx1ZXMgaW50byBvbmUgYXJyYXlcbmZ1bmN0aW9uIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKCckcmVnZXgnIGluIGZpZWxkTWF0Y2hlcnMpIHtcbiAgICAvLyBhIHZhbHVlIGNvdWxkIG1hdGNoIG11bHRpcGxlIHJlZ2V4ZXNcbiAgICBmaWVsZE1hdGNoZXJzLiRyZWdleC5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRyZWdleCA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8jNzQ1ODogZXhlY3V0ZSBmdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzIG9uIG5lc3RlZCAkYW5kXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9ialtpXVsnJGFuZCddKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtpXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMob2JqW2ldWyckYW5kJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKHZhbHVlKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuXG4vLyM3NDU4OiBkZXRlcm1pbmUgaWQgJGFuZCBpcyBwcmVzZW50IGluIHNlbGVjdG9yIChhdCBhbnkgbGV2ZWwpXG5mdW5jdGlvbiBpc0FuZEluU2VsZWN0b3Iob2JqLCBpc0FuZCkge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnJGFuZCcpIHtcbiAgICAgICAgICAgIGlzQW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IGlzQW5kSW5TZWxlY3Rvcih2YWx1ZSwgaXNBbmQpOyAvLyA8LSByZWN1cnNpdmUgY2FsbFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0FuZDtcbn1cblxuLy9cbi8vIG5vcm1hbGl6ZSB0aGUgc2VsZWN0b3Jcbi8vXG5mdW5jdGlvbiBtYXNzYWdlU2VsZWN0b3IoaW5wdXQpIHtcbiAgdmFyIHJlc3VsdCA9IGNsb25lKGlucHV0KTtcbiAgdmFyIHdhc0FuZGVkID0gZmFsc2U7XG4gICAgLy8jNzQ1ODogaWYgJGFuZCBpcyBwcmVzZW50IGluIHNlbGVjdG9yIChhdCBhbnkgbGV2ZWwpIG1lcmdlIG5lc3RlZCAkYW5kXG4gICAgaWYgKGlzQW5kSW5TZWxlY3RvcihyZXN1bHQsIGZhbHNlKSkge1xuICAgICAgICByZXN1bHQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKHJlc3VsdCk7XG4gICAgICAgIGlmICgnJGFuZCcgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzKHJlc3VsdFsnJGFuZCddKTtcbiAgICAgICAgfVxuICAgICAgICB3YXNBbmRlZCA9IHRydWU7XG4gICAgfVxuXG4gIFsnJG9yJywgJyRub3InXS5mb3JFYWNoKGZ1bmN0aW9uIChvck9yTm9yKSB7XG4gICAgaWYgKG9yT3JOb3IgaW4gcmVzdWx0KSB7XG4gICAgICAvLyBtZXNzYWdlIGVhY2ggaW5kaXZpZHVhbCBzZWxlY3RvclxuICAgICAgLy8gZS5nLiB7Zm9vOiAnYmFyJ30gYmVjb21lcyB7Zm9vOiB7JGVxOiAnYmFyJ319XG4gICAgICByZXN1bHRbb3JPck5vcl0uZm9yRWFjaChmdW5jdGlvbiAoc3ViU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGZpZWxkcyA9IE9iamVjdC5rZXlzKHN1YlNlbGVjdG9yKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgICAgICAgdmFyIG1hdGNoZXIgPSBzdWJTZWxlY3RvcltmaWVsZF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0JyB8fCBtYXRjaGVyID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJTZWxlY3RvcltmaWVsZF0gPSB7JGVxOiBtYXRjaGVyfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCckbm90JyBpbiByZXN1bHQpIHtcbiAgICAvL1RoaXMgZmVlbHMgYSBsaXR0bGUgbGlrZSBmb3JjaW5nLCBidXQgaXQgd2lsbCB3b3JrIGZvciBub3csXG4gICAgLy9JIHdvdWxkIGxpa2UgdG8gY29tZSBiYWNrIHRvIHRoaXMgYW5kIG1ha2UgdGhlIG1lcmdpbmcgb2Ygc2VsZWN0b3JzIGEgbGl0dGxlIG1vcmUgZ2VuZXJpY1xuICAgIHJlc3VsdFsnJG5vdCddID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbcmVzdWx0Wyckbm90J11dKTtcbiAgfVxuXG4gIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhyZXN1bHQpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgIHZhciBtYXRjaGVyID0gcmVzdWx0W2ZpZWxkXTtcblxuICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgIH0gZWxzZSBpZiAoIXdhc0FuZGVkKSB7XG4gICAgICAvLyBUaGVzZSB2YWx1ZXMgbXVzdCBiZSBwbGFjZWQgaW4gYW4gYXJyYXkgYmVjYXVzZSB0aGVzZSBvcGVyYXRvcnMgY2FuIGJlIHVzZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgZmllbGRcbiAgICAgIC8vIHdoZW4gJGFuZCBpcyB1c2VkLCBtZXJnZUFuZGVkU2VsZWN0b3JzIHRha2VzIGNhcmUgb2YgcHV0dGluZyB0aGVtIGludG8gYXJyYXlzLCBvdGhlcndpc2UgaXQncyBkb25lIGhlcmU6XG4gICAgICBpZiAoJyRuZScgaW4gbWF0Y2hlcikge1xuICAgICAgICBtYXRjaGVyLiRuZSA9IFttYXRjaGVyLiRuZV07XG4gICAgICB9XG4gICAgICBpZiAoJyRyZWdleCcgaW4gbWF0Y2hlcikge1xuICAgICAgICBtYXRjaGVyLiRyZWdleCA9IFttYXRjaGVyLiRyZWdleF07XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdFtmaWVsZF0gPSBtYXRjaGVyO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCkge1xuICB2YXIgcGFkZGluZyA9ICcnO1xuICB2YXIgdGFyZ2V0TGVuZ3RoID0gdXBUb0xlbmd0aCAtIHN0ci5sZW5ndGg7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHdoaWxlIChwYWRkaW5nLmxlbmd0aCA8IHRhcmdldExlbmd0aCkge1xuICAgIHBhZGRpbmcgKz0gcGFkV2l0aDtcbiAgfVxuICByZXR1cm4gcGFkZGluZztcbn1cblxuZnVuY3Rpb24gcGFkTGVmdChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSBwYWQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKTtcbiAgcmV0dXJuIHBhZGRpbmcgKyBzdHI7XG59XG5cbnZhciBNSU5fTUFHTklUVURFID0gLTMyNDsgLy8gdmVyaWZpZWQgYnkgLU51bWJlci5NSU5fVkFMVUVcbnZhciBNQUdOSVRVREVfRElHSVRTID0gMzsgLy8gZGl0dG9cbnZhciBTRVAgPSAnJzsgLy8gc2V0IHRvICdfJyBmb3IgZWFzaWVyIGRlYnVnZ2luZ1xuXG5mdW5jdGlvbiBjb2xsYXRlKGEsIGIpIHtcblxuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgYSA9IG5vcm1hbGl6ZUtleShhKTtcbiAgYiA9IG5vcm1hbGl6ZUtleShiKTtcblxuICB2YXIgYWkgPSBjb2xsYXRpb25JbmRleChhKTtcbiAgdmFyIGJpID0gY29sbGF0aW9uSW5kZXgoYik7XG4gIGlmICgoYWkgLSBiaSkgIT09IDApIHtcbiAgICByZXR1cm4gYWkgLSBiaTtcbiAgfVxuICBzd2l0Y2ggKHR5cGVvZiBhKSB7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBhIC0gYjtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogMTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHN0cmluZ0NvbGxhdGUoYSwgYik7XG4gIH1cbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgPyBhcnJheUNvbGxhdGUoYSwgYikgOiBvYmplY3RDb2xsYXRlKGEsIGIpO1xufVxuXG4vLyBjb3VjaCBjb25zaWRlcnMgbnVsbC9OYU4vSW5maW5pdHkvLUluZmluaXR5ID09PSB1bmRlZmluZWQsXG4vLyBmb3IgdGhlIHB1cnBvc2VzIG9mIG1hcHJlZHVjZSBpbmRleGVzLiBhbHNvLCBkYXRlcyBnZXQgc3RyaW5naWZpZWQuXG5mdW5jdGlvbiBub3JtYWxpemVLZXkoa2V5KSB7XG4gIHN3aXRjaCAodHlwZW9mIGtleSkge1xuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKGtleSA9PT0gSW5maW5pdHkgfHwga2V5ID09PSAtSW5maW5pdHkgfHwgaXNOYU4oa2V5KSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHZhciBvcmlnS2V5ID0ga2V5O1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICB2YXIgbGVuID0ga2V5Lmxlbmd0aDtcbiAgICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBrZXlbaV0gPSBub3JtYWxpemVLZXkob3JpZ0tleVtpXSk7XG4gICAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICB9IGVsc2UgaWYgKGtleSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIGtleS50b0pTT04oKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBudWxsKSB7IC8vIGdlbmVyaWMgb2JqZWN0XG4gICAgICAgIGtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrIGluIG9yaWdLZXkpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9yaWdLZXksIGspKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gb3JpZ0tleVtrXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBrZXlba10gPSBub3JtYWxpemVLZXkodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICByZXR1cm4ga2V5O1xufVxuXG5mdW5jdGlvbiBpbmRleGlmeShrZXkpIHtcbiAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAodHlwZW9mIGtleSkge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiBrZXkgPyAxIDogMDtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBudW1Ub0luZGV4YWJsZVN0cmluZyhrZXkpO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgLy8gV2UndmUgdG8gYmUgc3VyZSB0aGF0IGtleSBkb2VzIG5vdCBjb250YWluIFxcdTAwMDBcbiAgICAgICAgLy8gRG8gb3JkZXItcHJlc2VydmluZyByZXBsYWNlbWVudHM6XG4gICAgICAgIC8vIDAgLT4gMSwgMVxuICAgICAgICAvLyAxIC0+IDEsIDJcbiAgICAgICAgLy8gMiAtPiAyLCAyXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgcmV0dXJuIGtleVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAyL2csICdcXHUwMDAyXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDEvZywgJ1xcdTAwMDFcXHUwMDAyJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMC9nLCAnXFx1MDAwMVxcdTAwMDEnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoa2V5KTtcbiAgICAgICAgdmFyIGFyciA9IGlzQXJyYXkgPyBrZXkgOiBPYmplY3Qua2V5cyhrZXkpO1xuICAgICAgICB2YXIgaSA9IC0xO1xuICAgICAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhhcnJbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICB2YXIgb2JqS2V5ID0gYXJyW2ldO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvSW5kZXhhYmxlU3RyaW5nKG9iaktleSkgK1xuICAgICAgICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKGtleVtvYmpLZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vLyBjb252ZXJ0IHRoZSBnaXZlbiBrZXkgdG8gYSBzdHJpbmcgdGhhdCB3b3VsZCBiZSBhcHByb3ByaWF0ZVxuLy8gZm9yIGxleGljYWwgc29ydGluZywgZS5nLiB3aXRoaW4gYSBkYXRhYmFzZSwgd2hlcmUgdGhlXG4vLyBzb3J0aW5nIGlzIHRoZSBzYW1lIGdpdmVuIGJ5IHRoZSBjb2xsYXRlKCkgZnVuY3Rpb24uXG5mdW5jdGlvbiB0b0luZGV4YWJsZVN0cmluZyhrZXkpIHtcbiAgdmFyIHplcm8gPSAnXFx1MDAwMCc7XG4gIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICByZXR1cm4gY29sbGF0aW9uSW5kZXgoa2V5KSArIFNFUCArIGluZGV4aWZ5KGtleSkgKyB6ZXJvO1xufVxuXG5mdW5jdGlvbiBwYXJzZU51bWJlcihzdHIsIGkpIHtcbiAgdmFyIG9yaWdpbmFsSWR4ID0gaTtcbiAgdmFyIG51bTtcbiAgdmFyIHplcm8gPSBzdHJbaV0gPT09ICcxJztcbiAgaWYgKHplcm8pIHtcbiAgICBudW0gPSAwO1xuICAgIGkrKztcbiAgfSBlbHNlIHtcbiAgICB2YXIgbmVnID0gc3RyW2ldID09PSAnMCc7XG4gICAgaSsrO1xuICAgIHZhciBudW1Bc1N0cmluZyA9ICcnO1xuICAgIHZhciBtYWdBc1N0cmluZyA9IHN0ci5zdWJzdHJpbmcoaSwgaSArIE1BR05JVFVERV9ESUdJVFMpO1xuICAgIHZhciBtYWduaXR1ZGUgPSBwYXJzZUludChtYWdBc1N0cmluZywgMTApICsgTUlOX01BR05JVFVERTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChuZWcpIHtcbiAgICAgIG1hZ25pdHVkZSA9IC1tYWduaXR1ZGU7XG4gICAgfVxuICAgIGkgKz0gTUFHTklUVURFX0RJR0lUUztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgaWYgKGNoID09PSAnXFx1MDAwMCcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Bc1N0cmluZyArPSBjaDtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgbnVtQXNTdHJpbmcgPSBudW1Bc1N0cmluZy5zcGxpdCgnLicpO1xuICAgIGlmIChudW1Bc1N0cmluZy5sZW5ndGggPT09IDEpIHtcbiAgICAgIG51bSA9IHBhcnNlSW50KG51bUFzU3RyaW5nLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBudW0gPSBwYXJzZUZsb2F0KG51bUFzU3RyaW5nWzBdICsgJy4nICsgbnVtQXNTdHJpbmdbMV0pO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChuZWcpIHtcbiAgICAgIG51bSA9IG51bSAtIDEwO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChtYWduaXR1ZGUgIT09IDApIHtcbiAgICAgIC8vIHBhcnNlRmxvYXQgaXMgbW9yZSByZWxpYWJsZSB0aGFuIHBvdyBkdWUgdG8gcm91bmRpbmcgZXJyb3JzXG4gICAgICAvLyBlLmcuIE51bWJlci5NQVhfVkFMVUUgd291bGQgcmV0dXJuIEluZmluaXR5IGlmIHdlIGRpZFxuICAgICAgLy8gbnVtICogTWF0aC5wb3coMTAsIG1hZ25pdHVkZSk7XG4gICAgICBudW0gPSBwYXJzZUZsb2F0KG51bSArICdlJyArIG1hZ25pdHVkZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7bnVtOiBudW0sIGxlbmd0aCA6IGkgLSBvcmlnaW5hbElkeH07XG59XG5cbi8vIG1vdmUgdXAgdGhlIHN0YWNrIHdoaWxlIHBhcnNpbmdcbi8vIHRoaXMgZnVuY3Rpb24gbW92ZWQgb3V0c2lkZSBvZiBwYXJzZUluZGV4YWJsZVN0cmluZyBmb3IgcGVyZm9ybWFuY2VcbmZ1bmN0aW9uIHBvcChzdGFjaywgbWV0YVN0YWNrKSB7XG4gIHZhciBvYmogPSBzdGFjay5wb3AoKTtcblxuICBpZiAobWV0YVN0YWNrLmxlbmd0aCkge1xuICAgIHZhciBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmIChvYmogPT09IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50KSB7XG4gICAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgICAgbWV0YVN0YWNrLnBvcCgpO1xuICAgICAgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgdmFyIGVsZW1lbnQgPSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudDtcbiAgICB2YXIgbGFzdEVsZW1lbnRJbmRleCA9IGxhc3RNZXRhRWxlbWVudC5pbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgZWxlbWVudC5wdXNoKG9iaik7XG4gICAgfSBlbHNlIGlmIChsYXN0RWxlbWVudEluZGV4ID09PSBzdGFjay5sZW5ndGggLSAyKSB7IC8vIG9iaiB3aXRoIGtleSt2YWx1ZVxuICAgICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgICAgZWxlbWVudFtrZXldID0gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlSW5kZXhhYmxlU3RyaW5nKHN0cikge1xuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIG1ldGFTdGFjayA9IFtdOyAvLyBzdGFjayBmb3IgYXJyYXlzIGFuZCBvYmplY3RzXG4gIHZhciBpID0gMDtcblxuICAvKmVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IFtcImVycm9yXCIsIHsgXCJjaGVja0xvb3BzXCI6IGZhbHNlIH1dKi9cbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgY29sbGF0aW9uSW5kZXggPSBzdHJbaSsrXTtcbiAgICBpZiAoY29sbGF0aW9uSW5kZXggPT09ICdcXHUwMDAwJykge1xuICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhY2sucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3Aoc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcxJzpcbiAgICAgICAgc3RhY2sucHVzaChudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcyJzpcbiAgICAgICAgc3RhY2sucHVzaChzdHJbaV0gPT09ICcxJyk7XG4gICAgICAgIGkrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICczJzpcbiAgICAgICAgdmFyIHBhcnNlZE51bSA9IHBhcnNlTnVtYmVyKHN0ciwgaSk7XG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkTnVtLm51bSk7XG4gICAgICAgIGkgKz0gcGFyc2VkTnVtLmxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc0JzpcbiAgICAgICAgdmFyIHBhcnNlZFN0ciA9ICcnO1xuICAgICAgICAvKmVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IFtcImVycm9yXCIsIHsgXCJjaGVja0xvb3BzXCI6IGZhbHNlIH1dKi9cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgY2ggPSBzdHJbaV07XG4gICAgICAgICAgaWYgKGNoID09PSAnXFx1MDAwMCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJzZWRTdHIgKz0gY2g7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBlcmZvcm0gdGhlIHJldmVyc2Ugb2YgdGhlIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRcbiAgICAgICAgLy8gYWxnb3JpdGhtIChzZWUgYWJvdmUpXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgcGFyc2VkU3RyID0gcGFyc2VkU3RyLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAxL2csICdcXHUwMDAwJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDIvZywgJ1xcdTAwMDEnKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAyXFx1MDAwMi9nLCAnXFx1MDAwMicpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgc3RhY2sucHVzaChwYXJzZWRTdHIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzUnOlxuICAgICAgICB2YXIgYXJyYXlFbGVtZW50ID0geyBlbGVtZW50OiBbXSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKGFycmF5RWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2goYXJyYXlFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc2JzpcbiAgICAgICAgdmFyIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnYmFkIGNvbGxhdGlvbkluZGV4IG9yIHVuZXhwZWN0ZWRseSByZWFjaGVkIGVuZCBvZiBpbnB1dDogJyArXG4gICAgICAgICAgICBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFbaV0sIGJbaV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIChhLmxlbmd0aCA9PT0gYi5sZW5ndGgpID8gMCA6XG4gICAgKGEubGVuZ3RoID4gYi5sZW5ndGgpID8gMSA6IC0xO1xufVxuZnVuY3Rpb24gc3RyaW5nQ29sbGF0ZShhLCBiKSB7XG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhbGVoYXJ2ZXkvcG91Y2hkYi9pc3N1ZXMvNDBcbiAgLy8gVGhpcyBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgQ291Y2hEQiBpbXBsZW1lbnRhdGlvbiwgYnV0IGl0cyB0aGVcbiAgLy8gYmVzdCB3ZSBjYW4gZG8gZm9yIG5vd1xuICByZXR1cm4gKGEgPT09IGIpID8gMCA6ICgoYSA+IGIpID8gMSA6IC0xKTtcbn1cbmZ1bmN0aW9uIG9iamVjdENvbGxhdGUoYSwgYikge1xuICB2YXIgYWsgPSBPYmplY3Qua2V5cyhhKSwgYmsgPSBPYmplY3Qua2V5cyhiKTtcbiAgdmFyIGxlbiA9IE1hdGgubWluKGFrLmxlbmd0aCwgYmsubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIEZpcnN0IHNvcnQgdGhlIGtleXNcbiAgICB2YXIgc29ydCA9IGNvbGxhdGUoYWtbaV0sIGJrW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBrZXlzIGFyZSBlcXVhbCBzb3J0IHRoZSB2YWx1ZXNcbiAgICBzb3J0ID0gY29sbGF0ZShhW2FrW2ldXSwgYltia1tpXV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gKGFrLmxlbmd0aCA9PT0gYmsubGVuZ3RoKSA/IDAgOlxuICAgIChhay5sZW5ndGggPiBiay5sZW5ndGgpID8gMSA6IC0xO1xufVxuLy8gVGhlIGNvbGxhdGlvbiBpcyBkZWZpbmVkIGJ5IGVybGFuZ3Mgb3JkZXJlZCB0ZXJtc1xuLy8gdGhlIGF0b21zIG51bGwsIHRydWUsIGZhbHNlIGNvbWUgZmlyc3QsIHRoZW4gbnVtYmVycywgc3RyaW5ncyxcbi8vIGFycmF5cywgdGhlbiBvYmplY3RzXG4vLyBudWxsL3VuZGVmaW5lZC9OYU4vSW5maW5pdHkvLUluZmluaXR5IGFyZSBhbGwgY29uc2lkZXJlZCBudWxsXG5mdW5jdGlvbiBjb2xsYXRpb25JbmRleCh4KSB7XG4gIHZhciBpZCA9IFsnYm9vbGVhbicsICdudW1iZXInLCAnc3RyaW5nJywgJ29iamVjdCddO1xuICB2YXIgaWR4ID0gaWQuaW5kZXhPZih0eXBlb2YgeCk7XG4gIC8vZmFsc2UgaWYgLTEgb3RoZXJ3aXNlIHRydWUsIGJ1dCBmYXN0ISEhITFcbiAgaWYgKH5pZHgpIHtcbiAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICByZXR1cm4gNTtcbiAgICB9XG4gICAgcmV0dXJuIGlkeCA8IDMgPyAoaWR4ICsgMikgOiAoaWR4ICsgMyk7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG4vLyBjb252ZXJzaW9uOlxuLy8geCB5eXkgenouLi56elxuLy8geCA9IDAgZm9yIG5lZ2F0aXZlLCAxIGZvciAwLCAyIGZvciBwb3NpdGl2ZVxuLy8geSA9IGV4cG9uZW50IChmb3IgbmVnYXRpdmUgbnVtYmVycyBuZWdhdGVkKSBtb3ZlZCBzbyB0aGF0IGl0J3MgPj0gMFxuLy8geiA9IG1hbnRpc3NlXG5mdW5jdGlvbiBudW1Ub0luZGV4YWJsZVN0cmluZyhudW0pIHtcblxuICBpZiAobnVtID09PSAwKSB7XG4gICAgcmV0dXJuICcxJztcbiAgfVxuXG4gIC8vIGNvbnZlcnQgbnVtYmVyIHRvIGV4cG9uZW50aWFsIGZvcm1hdCBmb3IgZWFzaWVyIGFuZFxuICAvLyBtb3JlIHN1Y2NpbmN0IHN0cmluZyBzb3J0aW5nXG4gIHZhciBleHBGb3JtYXQgPSBudW0udG9FeHBvbmVudGlhbCgpLnNwbGl0KC9lXFwrPy8pO1xuICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQoZXhwRm9ybWF0WzFdLCAxMCk7XG5cbiAgdmFyIG5lZyA9IG51bSA8IDA7XG5cbiAgdmFyIHJlc3VsdCA9IG5lZyA/ICcwJyA6ICcyJztcblxuICAvLyBmaXJzdCBzb3J0IGJ5IG1hZ25pdHVkZVxuICAvLyBpdCdzIGVhc2llciBpZiBhbGwgbWFnbml0dWRlcyBhcmUgcG9zaXRpdmVcbiAgdmFyIG1hZ0ZvckNvbXBhcmlzb24gPSAoKG5lZyA/IC1tYWduaXR1ZGUgOiBtYWduaXR1ZGUpIC0gTUlOX01BR05JVFVERSk7XG4gIHZhciBtYWdTdHJpbmcgPSBwYWRMZWZ0KChtYWdGb3JDb21wYXJpc29uKS50b1N0cmluZygpLCAnMCcsIE1BR05JVFVERV9ESUdJVFMpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBtYWdTdHJpbmc7XG5cbiAgLy8gdGhlbiBzb3J0IGJ5IHRoZSBmYWN0b3JcbiAgdmFyIGZhY3RvciA9IE1hdGguYWJzKHBhcnNlRmxvYXQoZXhwRm9ybWF0WzBdKSk7IC8vIFsxLi4xMClcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKG5lZykgeyAvLyBmb3IgbmVnYXRpdmUgcmV2ZXJzZSBvcmRlcmluZ1xuICAgIGZhY3RvciA9IDEwIC0gZmFjdG9yO1xuICB9XG5cbiAgdmFyIGZhY3RvclN0ciA9IGZhY3Rvci50b0ZpeGVkKDIwKTtcblxuICAvLyBzdHJpcCB6ZXJvcyBmcm9tIHRoZSBlbmRcbiAgZmFjdG9yU3RyID0gZmFjdG9yU3RyLnJlcGxhY2UoL1xcLj8wKyQvLCAnJyk7XG5cbiAgcmVzdWx0ICs9IFNFUCArIGZhY3RvclN0cjtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBjcmVhdGUgYSBjb21wYXJhdG9yIGJhc2VkIG9uIHRoZSBzb3J0IG9iamVjdFxuZnVuY3Rpb24gY3JlYXRlRmllbGRTb3J0ZXIoc29ydCkge1xuXG4gIGZ1bmN0aW9uIGdldEZpZWxkVmFsdWVzQXNBcnJheShkb2MpIHtcbiAgICByZXR1cm4gc29ydC5tYXAoZnVuY3Rpb24gKHNvcnRpbmcpIHtcbiAgICAgIHZhciBmaWVsZE5hbWUgPSBnZXRLZXkoc29ydGluZyk7XG4gICAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkTmFtZSk7XG4gICAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhUm93LCBiUm93KSB7XG4gICAgdmFyIGFGaWVsZFZhbHVlcyA9IGdldEZpZWxkVmFsdWVzQXNBcnJheShhUm93LmRvYyk7XG4gICAgdmFyIGJGaWVsZFZhbHVlcyA9IGdldEZpZWxkVmFsdWVzQXNBcnJheShiUm93LmRvYyk7XG4gICAgdmFyIGNvbGxhdGlvbiA9IGNvbGxhdGUoYUZpZWxkVmFsdWVzLCBiRmllbGRWYWx1ZXMpO1xuICAgIGlmIChjb2xsYXRpb24gIT09IDApIHtcbiAgICAgIHJldHVybiBjb2xsYXRpb247XG4gICAgfVxuICAgIC8vIHRoaXMgaXMgd2hhdCBtYW5nbyBzZWVtcyB0byBkb1xuICAgIHJldHVybiBjb21wYXJlJDEoYVJvdy5kb2MuX2lkLCBiUm93LmRvYy5faWQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJJbk1lbW9yeUZpZWxkcyhyb3dzLCByZXF1ZXN0RGVmLCBpbk1lbW9yeUZpZWxkcykge1xuICByb3dzID0gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3dGaWx0ZXIocm93LmRvYywgcmVxdWVzdERlZi5zZWxlY3RvciwgaW5NZW1vcnlGaWVsZHMpO1xuICB9KTtcblxuICBpZiAocmVxdWVzdERlZi5zb3J0KSB7XG4gICAgLy8gaW4tbWVtb3J5IHNvcnRcbiAgICB2YXIgZmllbGRTb3J0ZXIgPSBjcmVhdGVGaWVsZFNvcnRlcihyZXF1ZXN0RGVmLnNvcnQpO1xuICAgIHJvd3MgPSByb3dzLnNvcnQoZmllbGRTb3J0ZXIpO1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdERlZi5zb3J0WzBdICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICBnZXRWYWx1ZShyZXF1ZXN0RGVmLnNvcnRbMF0pID09PSAnZGVzYycpIHtcbiAgICAgIHJvd3MgPSByb3dzLnJldmVyc2UoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoJ2xpbWl0JyBpbiByZXF1ZXN0RGVmIHx8ICdza2lwJyBpbiByZXF1ZXN0RGVmKSB7XG4gICAgLy8gaGF2ZSB0byBkbyB0aGUgbGltaXQgaW4tbWVtb3J5XG4gICAgdmFyIHNraXAgPSByZXF1ZXN0RGVmLnNraXAgfHwgMDtcbiAgICB2YXIgbGltaXQgPSAoJ2xpbWl0JyBpbiByZXF1ZXN0RGVmID8gcmVxdWVzdERlZi5saW1pdCA6IHJvd3MubGVuZ3RoKSArIHNraXA7XG4gICAgcm93cyA9IHJvd3Muc2xpY2Uoc2tpcCwgbGltaXQpO1xuICB9XG4gIHJldHVybiByb3dzO1xufVxuXG5mdW5jdGlvbiByb3dGaWx0ZXIoZG9jLCBzZWxlY3RvciwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcmV0dXJuIGluTWVtb3J5RmllbGRzLmV2ZXJ5KGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHZhciBtYXRjaGVyID0gc2VsZWN0b3JbZmllbGRdO1xuICAgIHZhciBwYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQoZmllbGQpO1xuICAgIHZhciBkb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpO1xuICAgIGlmIChpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkpIHtcbiAgICAgIHJldHVybiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKG1hdGNoZXIsIGRvYywgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcikge1xuICAgIC8vIG5vIGZpbHRlcmluZyBuZWNlc3Nhcnk7IHRoaXMgZmllbGQgaXMganVzdCBuZWVkZWQgZm9yIHNvcnRpbmdcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlzIG1hdGNoZXIgYW4gb2JqZWN0LCBpZiBzbyBjb250aW51ZSByZWN1cnNpb25cbiAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXRjaGVyKS5ldmVyeShmdW5jdGlvbiAobWF5YmVVc2VyT3BlcmF0b3IpIHtcbiAgICAgIHZhciB1c2VyVmFsdWUgPSBtYXRjaGVyWyBtYXliZVVzZXJPcGVyYXRvciBdO1xuICAgICAgLy8gZXhwbGljaXQgb3BlcmF0b3JcbiAgICAgIGlmIChtYXliZVVzZXJPcGVyYXRvci5pbmRleE9mKFwiJFwiKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbWF0Y2gobWF5YmVVc2VyT3BlcmF0b3IsIGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc3ViUGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKG1heWJlVXNlck9wZXJhdG9yKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZG9jRmllbGRWYWx1ZSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgdHlwZW9mIHVzZXJWYWx1ZSAhPT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgIHN1YlBhcnNlZEZpZWxkLmxlbmd0aCA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gdGhlIGZpZWxkIGRvZXMgbm90IGV4aXN0LCByZXR1cm4gb3IgZ2V0RmllbGRGcm9tRG9jIHdpbGwgdGhyb3dcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ViRG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2NGaWVsZFZhbHVlLCBzdWJQYXJzZWRGaWVsZCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1c2VyVmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAvLyBmaWVsZCB2YWx1ZSBpcyBhbiBvYmplY3QgdGhhdCBtaWdodCBjb250YWluIG1vcmUgb3BlcmF0b3JzXG4gICAgICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGltcGxpY2l0IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiBtYXRjaChcIiRlcVwiLCBkb2MsIHVzZXJWYWx1ZSwgc3ViUGFyc2VkRmllbGQsIHN1YkRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gbm8gbW9yZSBkZXB0aCwgTm8gbmVlZCB0byByZWN1cnNlIGZ1cnRoZXJcbiAgcmV0dXJuIG1hdGNoZXIgPT09IGRvY0ZpZWxkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIG1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IoZmllbGQsIG1hdGNoZXIsIGRvYykge1xuXG4gIGlmIChmaWVsZCA9PT0gJyRvcicpIHtcbiAgICByZXR1cm4gbWF0Y2hlci5zb21lKGZ1bmN0aW9uIChvck1hdGNoZXJzKSB7XG4gICAgICByZXR1cm4gcm93RmlsdGVyKGRvYywgb3JNYXRjaGVycywgT2JqZWN0LmtleXMob3JNYXRjaGVycykpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGZpZWxkID09PSAnJG5vdCcpIHtcbiAgICByZXR1cm4gIXJvd0ZpbHRlcihkb2MsIG1hdGNoZXIsIE9iamVjdC5rZXlzKG1hdGNoZXIpKTtcbiAgfVxuXG4gIC8vYCRub3JgXG4gIHJldHVybiAhbWF0Y2hlci5maW5kKGZ1bmN0aW9uIChvck1hdGNoZXJzKSB7XG4gICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgfSk7XG5cbn1cblxuZnVuY3Rpb24gbWF0Y2godXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgaWYgKCFtYXRjaGVyc1t1c2VyT3BlcmF0b3JdKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gb3BlcmF0b3IgXCInICsgdXNlck9wZXJhdG9yICtcbiAgICAgICdcIiAtIHNob3VsZCBiZSBvbmUgb2YgJGVxLCAkbHRlLCAkbHQsICRndCwgJGd0ZSwgJGV4aXN0cywgJG5lLCAkaW4sICcgK1xuICAgICAgJyRuaW4sICRzaXplLCAkbW9kLCAkcmVnZXgsICRlbGVtTWF0Y2gsICR0eXBlLCAkYWxsTWF0Y2ggb3IgJGFsbCcpO1xuICB9XG4gIHJldHVybiBtYXRjaGVyc1t1c2VyT3BlcmF0b3JdKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiBkb2NGaWVsZFZhbHVlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSAndW5kZWZpbmVkJztcbn1cblxuZnVuY3Rpb24gbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gXCJudW1iZXJcIiB8fFxuICAgIHBhcnNlSW50KGRvY0ZpZWxkVmFsdWUsIDEwKSAhPT0gZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBkaXZpc29yID0gdXNlclZhbHVlWzBdO1xuICB2YXIgbW9kID0gdXNlclZhbHVlWzFdO1xuXG4gIHJldHVybiBkb2NGaWVsZFZhbHVlICUgZGl2aXNvciA9PT0gbW9kO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAoZG9jRmllbGRWYWx1ZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlSXRlbSkgPT09IDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWUpID09PSAwO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc0FsbFZhbHVlcyhkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAoZG9jRmllbGRWYWx1ZUl0ZW0pIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXJyYXlTaXplKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IHVzZXJWYWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVnZXhNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgdmFyIHJlID0gbmV3IFJlZ0V4cCh1c2VyVmFsdWUpO1xuXG4gIHJldHVybiByZS50ZXN0KGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG5cbiAgc3dpdGNoICh1c2VyVmFsdWUpIHtcbiAgICBjYXNlICdudWxsJzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlID09PSBudWxsO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdib29sZWFuJztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdudW1iZXInO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ3N0cmluZyc7XG4gICAgY2FzZSAnYXJyYXknOlxuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgaW5zdGFuY2VvZiBBcnJheTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChkb2NGaWVsZFZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH1cbn1cblxudmFyIG1hdGNoZXJzID0ge1xuXG4gICckZWxlbU1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZVswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCB2YWwpO1xuICAgIH0pO1xuICB9LFxuXG4gICckYWxsTWF0Y2gnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiByb3dGaWx0ZXIodmFsLCB1c2VyVmFsdWUsIE9iamVjdC5rZXlzKHVzZXJWYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCB2YWwpO1xuICAgIH0pO1xuICB9LFxuXG4gICckZXEnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID09PSAwO1xuICB9LFxuXG4gICckZ3RlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+PSAwO1xuICB9LFxuXG4gICckZ3QnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID4gMDtcbiAgfSxcblxuICAnJGx0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPD0gMDtcbiAgfSxcblxuICAnJGx0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA8IDA7XG4gIH0sXG5cbiAgJyRleGlzdHMnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgLy9hIGZpZWxkIHRoYXQgaXMgbnVsbCBpcyBzdGlsbCBjb25zaWRlcmVkIHRvIGV4aXN0XG4gICAgaWYgKHVzZXJWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICB9LFxuXG4gICckbW9kJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBtb2RGaWVsZChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckbmUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAobmVWYWx1ZSkge1xuICAgICAgcmV0dXJuIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgbmVWYWx1ZSkgIT09IDA7XG4gICAgfSk7XG4gIH0sXG4gICckaW4nOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckbmluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiAhYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRzaXplJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgYXJyYXlTaXplKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRhbGwnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiYgYXJyYXlDb250YWluc0FsbFZhbHVlcyhkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckcmVnZXgnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICB0eXBlb2YgZG9jRmllbGRWYWx1ZSA9PSBcInN0cmluZ1wiICYmXG4gICAgICB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHJlZ2V4VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgcmVnZXhWYWx1ZSk7XG4gICAgICB9KTtcbiAgfSxcblxuICAnJHR5cGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9XG59O1xuXG4vLyByZXR1cm4gdHJ1ZSBpZiB0aGUgZ2l2ZW4gZG9jIG1hdGNoZXMgdGhlIHN1cHBsaWVkIHNlbGVjdG9yXG5mdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBzZWxlY3Rvcikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ29iamVjdCcpIHtcbiAgICAvLyBtYXRjaCB0aGUgQ291Y2hEQiBlcnJvciBtZXNzYWdlXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBlcnJvcjogZXhwZWN0ZWQgYSBKU09OIG9iamVjdCcpO1xuICB9XG5cbiAgc2VsZWN0b3IgPSBtYXNzYWdlU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB2YXIgcm93ID0ge1xuICAgICdkb2MnOiBkb2NcbiAgfTtcblxuICB2YXIgcm93c01hdGNoZWQgPSBmaWx0ZXJJbk1lbW9yeUZpZWxkcyhbcm93XSwgeyAnc2VsZWN0b3InOiBzZWxlY3RvciB9LCBPYmplY3Qua2V5cyhzZWxlY3RvcikpO1xuICByZXR1cm4gcm93c01hdGNoZWQgJiYgcm93c01hdGNoZWQubGVuZ3RoID09PSAxO1xufVxuXG5mdW5jdGlvbiBldmFsRmlsdGVyKGlucHV0KSB7XG4gIHJldHVybiBzY29wZUV2YWwoJ1widXNlIHN0cmljdFwiO1xcbnJldHVybiAnICsgaW5wdXQgKyAnOycsIHt9KTtcbn1cblxuZnVuY3Rpb24gZXZhbFZpZXcoaW5wdXQpIHtcbiAgdmFyIGNvZGUgPSBbXG4gICAgJ3JldHVybiBmdW5jdGlvbihkb2MpIHsnLFxuICAgICcgIFwidXNlIHN0cmljdFwiOycsXG4gICAgJyAgdmFyIGVtaXR0ZWQgPSBmYWxzZTsnLFxuICAgICcgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGEsIGIpIHsnLFxuICAgICcgICAgZW1pdHRlZCA9IHRydWU7JyxcbiAgICAnICB9OycsXG4gICAgJyAgdmFyIHZpZXcgPSAnICsgaW5wdXQgKyAnOycsXG4gICAgJyAgdmlldyhkb2MpOycsXG4gICAgJyAgaWYgKGVtaXR0ZWQpIHsnLFxuICAgICcgICAgcmV0dXJuIHRydWU7JyxcbiAgICAnICB9JyxcbiAgICAnfTsnXG4gIF0uam9pbignXFxuJyk7XG5cbiAgcmV0dXJuIHNjb3BlRXZhbChjb2RlLCB7fSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMuZmlsdGVyICE9PSAnX3NlbGVjdG9yJykge1xuICAgICAgdmFyIGZpbHRlck5hbWUgPSB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnID9cbiAgICAgICAgb3B0cy5maWx0ZXIgOiAnZnVuY3Rpb24nO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignc2VsZWN0b3IgaW52YWxpZCBmb3IgZmlsdGVyIFwiJyArIGZpbHRlck5hbWUgKyAnXCInKSk7XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShvcHRzKSB7XG4gIGlmIChvcHRzLnZpZXcgJiYgIW9wdHMuZmlsdGVyKSB7XG4gICAgb3B0cy5maWx0ZXIgPSAnX3ZpZXcnO1xuICB9XG5cbiAgaWYgKG9wdHMuc2VsZWN0b3IgJiYgIW9wdHMuZmlsdGVyKSB7XG4gICAgb3B0cy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgICBvcHRzLnZpZXcgPSBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy52aWV3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cy5maWx0ZXIgPSBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRGaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycgJiZcbiAgICAhb3B0cy5kb2NfaWRzICYmICFpc1JlbW90ZShjaGFuZ2VzSGFuZGxlci5kYik7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihjaGFuZ2VzSGFuZGxlciwgb3B0cykge1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuICBpZiAob3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICBpZiAoIW9wdHMudmlldyB8fCB0eXBlb2Ygb3B0cy52aWV3ICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAnYHZpZXdgIGZpbHRlciBwYXJhbWV0ZXIgbm90IGZvdW5kIG9yIGludmFsaWQuJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgLy8gZmV0Y2ggYSB2aWV3IGZyb20gYSBkZXNpZ24gZG9jLCBtYWtlIGl0IGJlaGF2ZSBsaWtlIGEgZmlsdGVyXG4gICAgdmFyIHZpZXdOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy52aWV3KTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kYi5nZXQoJ19kZXNpZ24vJyArIHZpZXdOYW1lWzBdLCBmdW5jdGlvbiAoZXJyLCBkZG9jKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlci5pc0NhbmNlbGxlZCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikpO1xuICAgICAgfVxuICAgICAgdmFyIG1hcEZ1biA9IGRkb2MgJiYgZGRvYy52aWV3cyAmJiBkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXSAmJlxuICAgICAgICBkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXS5tYXA7XG4gICAgICBpZiAoIW1hcEZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKGRkb2Mudmlld3MgPyAnbWlzc2luZyBqc29uIGtleTogJyArIHZpZXdOYW1lWzFdIDpcbiAgICAgICAgICAgICdtaXNzaW5nIGpzb24ga2V5OiB2aWV3cycpKSk7XG4gICAgICB9XG4gICAgICBvcHRzLmZpbHRlciA9IGV2YWxWaWV3KG1hcEZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIG9wdHMuZmlsdGVyID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgcmV0dXJuIG1hdGNoZXNTZWxlY3Rvcihkb2MsIG9wdHMuc2VsZWN0b3IpO1xuICAgIH07XG4gICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIC8vIGZldGNoIGEgZmlsdGVyIGZyb20gYSBkZXNpZ24gZG9jXG4gICAgdmFyIGZpbHRlck5hbWUgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLmZpbHRlcik7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyBmaWx0ZXJOYW1lWzBdLCBmdW5jdGlvbiAoZXJyLCBkZG9jKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlci5pc0NhbmNlbGxlZCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikpO1xuICAgICAgfVxuICAgICAgdmFyIGZpbHRlckZ1biA9IGRkb2MgJiYgZGRvYy5maWx0ZXJzICYmIGRkb2MuZmlsdGVyc1tmaWx0ZXJOYW1lWzFdXTtcbiAgICAgIGlmICghZmlsdGVyRnVuKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQyxcbiAgICAgICAgICAoKGRkb2MgJiYgZGRvYy5maWx0ZXJzKSA/ICdtaXNzaW5nIGpzb24ga2V5OiAnICsgZmlsdGVyTmFtZVsxXVxuICAgICAgICAgICAgOiAnbWlzc2luZyBqc29uIGtleTogZmlsdGVycycpKSk7XG4gICAgICB9XG4gICAgICBvcHRzLmZpbHRlciA9IGV2YWxGaWx0ZXIoZmlsdGVyRnVuKTtcbiAgICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUNoYW5nZXNGaWx0ZXJQbHVnaW4oUG91Y2hEQikge1xuICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luID0ge1xuICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSxcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZSxcbiAgICBzaG91bGRGaWx0ZXI6IHNob3VsZEZpbHRlcixcbiAgICBmaWx0ZXI6IGZpbHRlclxuICB9O1xufVxuXG4vLyBUT0RPOiByZW1vdmUgZnJvbSBwb3VjaGRiLWNvcmUgKGJyZWFraW5nKVxuUG91Y2hEQi5wbHVnaW4oYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKTtcblxuUG91Y2hEQi52ZXJzaW9uID0gdmVyc2lvbjtcblxuZnVuY3Rpb24gdG9PYmplY3QoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAob2JqLCBpdGVtKSB7XG4gICAgb2JqW2l0ZW1dID0gdHJ1ZTtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG59XG4vLyBMaXN0IG9mIHRvcCBsZXZlbCByZXNlcnZlZCB3b3JkcyBmb3IgZG9jXG52YXIgcmVzZXJ2ZWRXb3JkcyA9IHRvT2JqZWN0KFtcbiAgJ19pZCcsXG4gICdfcmV2JyxcbiAgJ19hY2Nlc3MnLFxuICAnX2F0dGFjaG1lbnRzJyxcbiAgJ19kZWxldGVkJyxcbiAgJ19yZXZpc2lvbnMnLFxuICAnX3JldnNfaW5mbycsXG4gICdfY29uZmxpY3RzJyxcbiAgJ19kZWxldGVkX2NvbmZsaWN0cycsXG4gICdfbG9jYWxfc2VxJyxcbiAgJ19yZXZfdHJlZScsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cycsXG4gIC8vIFNwZWNpZmljIHRvIENvdWNoYmFzZSBTeW5jIEdhdGV3YXlcbiAgJ19yZW1vdmVkJ1xuXSk7XG5cbi8vIExpc3Qgb2YgcmVzZXJ2ZWQgd29yZHMgdGhhdCBzaG91bGQgZW5kIHVwIGluIHRoZSBkb2N1bWVudFxudmFyIGRhdGFXb3JkcyA9IHRvT2JqZWN0KFtcbiAgJ19hY2Nlc3MnLFxuICAnX2F0dGFjaG1lbnRzJyxcbiAgLy8gcmVwbGljYXRpb24gZG9jdW1lbnRzXG4gICdfcmVwbGljYXRpb25faWQnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV90aW1lJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV9yZWFzb24nLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRzJ1xuXSk7XG5cbmZ1bmN0aW9uIHBhcnNlUmV2aXNpb25JbmZvKHJldikge1xuICBpZiAoIS9eXFxkKy0vLnRlc3QocmV2KSkge1xuICAgIHJldHVybiBjcmVhdGVFcnJvcihJTlZBTElEX1JFVik7XG4gIH1cbiAgdmFyIGlkeCA9IHJldi5pbmRleE9mKCctJyk7XG4gIHZhciBsZWZ0ID0gcmV2LnN1YnN0cmluZygwLCBpZHgpO1xuICB2YXIgcmlnaHQgPSByZXYuc3Vic3RyaW5nKGlkeCArIDEpO1xuICByZXR1cm4ge1xuICAgIHByZWZpeDogcGFyc2VJbnQobGVmdCwgMTApLFxuICAgIGlkOiByaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMocmV2aXNpb25zLCBvcHRzKSB7XG4gIHZhciBwb3MgPSByZXZpc2lvbnMuc3RhcnQgLSByZXZpc2lvbnMuaWRzLmxlbmd0aCArIDE7XG5cbiAgdmFyIHJldmlzaW9uSWRzID0gcmV2aXNpb25zLmlkcztcbiAgdmFyIGlkcyA9IFtyZXZpc2lvbklkc1swXSwgb3B0cywgW11dO1xuXG4gIGZvciAodmFyIGkgPSAxLCBsZW4gPSByZXZpc2lvbklkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlkcyA9IFtyZXZpc2lvbklkc1tpXSwge3N0YXR1czogJ21pc3NpbmcnfSwgW2lkc11dO1xuICB9XG5cbiAgcmV0dXJuIFt7XG4gICAgcG9zOiBwb3MsXG4gICAgaWRzOiBpZHNcbiAgfV07XG59XG5cbi8vIFByZXByb2Nlc3MgZG9jdW1lbnRzLCBwYXJzZSB0aGVpciByZXZpc2lvbnMsIGFzc2lnbiBhbiBpZCBhbmQgYVxuLy8gcmV2aXNpb24gZm9yIG5ldyB3cml0ZXMgdGhhdCBhcmUgbWlzc2luZyB0aGVtLCBldGNcbmZ1bmN0aW9uIHBhcnNlRG9jKGRvYywgbmV3RWRpdHMsIGRiT3B0cykge1xuICBpZiAoIWRiT3B0cykge1xuICAgIGRiT3B0cyA9IHtcbiAgICAgIGRldGVybWluaXN0aWNfcmV2czogdHJ1ZVxuICAgIH07XG4gIH1cblxuICB2YXIgblJldk51bTtcbiAgdmFyIG5ld1JldklkO1xuICB2YXIgcmV2SW5mbztcbiAgdmFyIG9wdHMgPSB7c3RhdHVzOiAnYXZhaWxhYmxlJ307XG4gIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICBvcHRzLmRlbGV0ZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG5ld0VkaXRzKSB7XG4gICAgaWYgKCFkb2MuX2lkKSB7XG4gICAgICBkb2MuX2lkID0gdXVpZCgpO1xuICAgIH1cbiAgICBuZXdSZXZJZCA9IHJldiQkMShkb2MsIGRiT3B0cy5kZXRlcm1pbmlzdGljX3JldnMpO1xuICAgIGlmIChkb2MuX3Jldikge1xuICAgICAgcmV2SW5mbyA9IHBhcnNlUmV2aXNpb25JbmZvKGRvYy5fcmV2KTtcbiAgICAgIGlmIChyZXZJbmZvLmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXZJbmZvO1xuICAgICAgfVxuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogcmV2SW5mby5wcmVmaXgsXG4gICAgICAgIGlkczogW3JldkluZm8uaWQsIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtbbmV3UmV2SWQsIG9wdHMsIFtdXV1dXG4gICAgICB9XTtcbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IDEsXG4gICAgICAgIGlkcyA6IFtuZXdSZXZJZCwgb3B0cywgW11dXG4gICAgICB9XTtcbiAgICAgIG5SZXZOdW0gPSAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZG9jLl9yZXZpc2lvbnMpIHtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMoZG9jLl9yZXZpc2lvbnMsIG9wdHMpO1xuICAgICAgblJldk51bSA9IGRvYy5fcmV2aXNpb25zLnN0YXJ0O1xuICAgICAgbmV3UmV2SWQgPSBkb2MuX3JldmlzaW9ucy5pZHNbMF07XG4gICAgfVxuICAgIGlmICghZG9jLl9yZXZfdHJlZSkge1xuICAgICAgcmV2SW5mbyA9IHBhcnNlUmV2aXNpb25JbmZvKGRvYy5fcmV2KTtcbiAgICAgIGlmIChyZXZJbmZvLmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXZJbmZvO1xuICAgICAgfVxuICAgICAgblJldk51bSA9IHJldkluZm8ucHJlZml4O1xuICAgICAgbmV3UmV2SWQgPSByZXZJbmZvLmlkO1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogblJldk51bSxcbiAgICAgICAgaWRzOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgfVxuICB9XG5cbiAgaW52YWxpZElkRXJyb3IoZG9jLl9pZCk7XG5cbiAgZG9jLl9yZXYgPSBuUmV2TnVtICsgJy0nICsgbmV3UmV2SWQ7XG5cbiAgdmFyIHJlc3VsdCA9IHttZXRhZGF0YSA6IHt9LCBkYXRhIDoge319O1xuICBmb3IgKHZhciBrZXkgaW4gZG9jKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYywga2V5KSkge1xuICAgICAgdmFyIHNwZWNpYWxLZXkgPSBrZXlbMF0gPT09ICdfJztcbiAgICAgIGlmIChzcGVjaWFsS2V5ICYmICFyZXNlcnZlZFdvcmRzW2tleV0pIHtcbiAgICAgICAgdmFyIGVycm9yID0gY3JlYXRlRXJyb3IoRE9DX1ZBTElEQVRJT04sIGtleSk7XG4gICAgICAgIGVycm9yLm1lc3NhZ2UgPSBET0NfVkFMSURBVElPTi5tZXNzYWdlICsgJzogJyArIGtleTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9IGVsc2UgaWYgKHNwZWNpYWxLZXkgJiYgIWRhdGFXb3Jkc1trZXldKSB7XG4gICAgICAgIHJlc3VsdC5tZXRhZGF0YVtrZXkuc2xpY2UoMSldID0gZG9jW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQuZGF0YVtrZXldID0gZG9jW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQmFzZTY0KGRhdGEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdGhpc0F0b2IoZGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKTtcbiAgICByZXR1cm4ge2Vycm9yOiBlcnJ9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgdmFyIGFzQmluYXJ5ID0gcGFyc2VCYXNlNjQoYXR0LmRhdGEpO1xuICBpZiAoYXNCaW5hcnkuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soYXNCaW5hcnkuZXJyb3IpO1xuICB9XG5cbiAgYXR0Lmxlbmd0aCA9IGFzQmluYXJ5Lmxlbmd0aDtcbiAgaWYgKGJsb2JUeXBlID09PSAnYmxvYicpIHtcbiAgICBhdHQuZGF0YSA9IGJpblN0cmluZ1RvQmx1ZmZlcihhc0JpbmFyeSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gIH0gZWxzZSBpZiAoYmxvYlR5cGUgPT09ICdiYXNlNjQnKSB7XG4gICAgYXR0LmRhdGEgPSB0aGlzQnRvYShhc0JpbmFyeSk7XG4gIH0gZWxzZSB7IC8vIGJpbmFyeVxuICAgIGF0dC5kYXRhID0gYXNCaW5hcnk7XG4gIH1cbiAgYmluYXJ5TWQ1KGFzQmluYXJ5LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgYXR0LmRpZ2VzdCA9ICdtZDUtJyArIHJlc3VsdDtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0Jsb2IoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgYmluYXJ5TWQ1KGF0dC5kYXRhLCBmdW5jdGlvbiAobWQ1KSB7XG4gICAgYXR0LmRpZ2VzdCA9ICdtZDUtJyArIG1kNTtcbiAgICAvLyBzaXplIGlzIGZvciBibG9icyAoYnJvd3NlciksIGxlbmd0aCBpcyBmb3IgYnVmZmVycyAobm9kZSlcbiAgICBhdHQubGVuZ3RoID0gYXR0LmRhdGEuc2l6ZSB8fCBhdHQuZGF0YS5sZW5ndGggfHwgMDtcbiAgICBpZiAoYmxvYlR5cGUgPT09ICdiaW5hcnknKSB7XG4gICAgICBibG9iVG9CaW5hcnlTdHJpbmcoYXR0LmRhdGEsIGZ1bmN0aW9uIChiaW5TdHJpbmcpIHtcbiAgICAgICAgYXR0LmRhdGEgPSBiaW5TdHJpbmc7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgICAgYmxvYlRvQmFzZTY0KGF0dC5kYXRhLCBmdW5jdGlvbiAoYjY0KSB7XG4gICAgICAgIGF0dC5kYXRhID0gYjY0O1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnQoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgaWYgKGF0dC5zdHViKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhdHQuZGF0YSA9PT0gJ3N0cmluZycpIHsgLy8gaW5wdXQgaXMgYSBiYXNlNjQgc3RyaW5nXG4gICAgcHJlcHJvY2Vzc1N0cmluZyhhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH0gZWxzZSB7IC8vIGlucHV0IGlzIGEgYmxvYlxuICAgIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudHMoZG9jSW5mb3MsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuXG4gIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICB2YXIgZG9jdiA9IDA7XG4gIHZhciBvdmVyYWxsRXJyO1xuXG4gIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICB2YXIgYXR0YWNobWVudHMgPSBkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyA/XG4gICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSA6IFtdO1xuICAgIHZhciByZWN2ID0gMDtcblxuICAgIGlmICghYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NlZEF0dGFjaG1lbnQoZXJyKSB7XG4gICAgICBvdmVyYWxsRXJyID0gZXJyO1xuICAgICAgcmVjdisrO1xuICAgICAgaWYgKHJlY3YgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cywga2V5KSkge1xuICAgICAgICBwcmVwcm9jZXNzQXR0YWNobWVudChkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV0sXG4gICAgICAgICAgYmxvYlR5cGUsIHByb2Nlc3NlZEF0dGFjaG1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBkb2N2Kys7XG4gICAgaWYgKGRvY0luZm9zLmxlbmd0aCA9PT0gZG9jdikge1xuICAgICAgaWYgKG92ZXJhbGxFcnIpIHtcbiAgICAgICAgY2FsbGJhY2sob3ZlcmFsbEVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVEb2MocmV2TGltaXQsIHByZXYsIGRvY0luZm8sIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgaSwgY2IsIHdyaXRlRG9jLCBuZXdFZGl0cykge1xuXG4gIGlmIChyZXZFeGlzdHMocHJldi5yZXZfdHJlZSwgZG9jSW5mby5tZXRhZGF0YS5yZXYpICYmICFuZXdFZGl0cykge1xuICAgIHJlc3VsdHNbaV0gPSBkb2NJbmZvO1xuICAgIHJldHVybiBjYigpO1xuICB9XG5cbiAgLy8gc29tZXRpbWVzIHRoaXMgaXMgcHJlLWNhbGN1bGF0ZWQuIGhpc3RvcmljYWxseSBub3QgYWx3YXlzXG4gIHZhciBwcmV2aW91c1dpbm5pbmdSZXYgPSBwcmV2Lndpbm5pbmdSZXYgfHwgd2lubmluZ1JldihwcmV2KTtcbiAgdmFyIHByZXZpb3VzbHlEZWxldGVkID0gJ2RlbGV0ZWQnIGluIHByZXYgPyBwcmV2LmRlbGV0ZWQgOlxuICAgIGlzRGVsZXRlZChwcmV2LCBwcmV2aW91c1dpbm5pbmdSZXYpO1xuICB2YXIgZGVsZXRlZCA9ICdkZWxldGVkJyBpbiBkb2NJbmZvLm1ldGFkYXRhID8gZG9jSW5mby5tZXRhZGF0YS5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSk7XG4gIHZhciBpc1Jvb3QgPSAvXjEtLy50ZXN0KGRvY0luZm8ubWV0YWRhdGEucmV2KTtcblxuICBpZiAocHJldmlvdXNseURlbGV0ZWQgJiYgIWRlbGV0ZWQgJiYgbmV3RWRpdHMgJiYgaXNSb290KSB7XG4gICAgdmFyIG5ld0RvYyA9IGRvY0luZm8uZGF0YTtcbiAgICBuZXdEb2MuX3JldiA9IHByZXZpb3VzV2lubmluZ1JldjtcbiAgICBuZXdEb2MuX2lkID0gZG9jSW5mby5tZXRhZGF0YS5pZDtcbiAgICBkb2NJbmZvID0gcGFyc2VEb2MobmV3RG9jLCBuZXdFZGl0cyk7XG4gIH1cblxuICB2YXIgbWVyZ2VkID0gbWVyZ2UocHJldi5yZXZfdHJlZSwgZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuXG4gIHZhciBpbkNvbmZsaWN0ID0gbmV3RWRpdHMgJiYgKChcbiAgICAocHJldmlvdXNseURlbGV0ZWQgJiYgZGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzICE9PSAnbmV3X2xlYWYnKSB8fFxuICAgICghcHJldmlvdXNseURlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAocHJldmlvdXNseURlbGV0ZWQgJiYgIWRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyA9PT0gJ25ld19icmFuY2gnKSkpO1xuXG4gIGlmIChpbkNvbmZsaWN0KSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgcmVzdWx0c1tpXSA9IGVycjtcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIHZhciBuZXdSZXYgPSBkb2NJbmZvLm1ldGFkYXRhLnJldjtcbiAgZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZSA9IG1lcmdlZC50cmVlO1xuICBkb2NJbmZvLnN0ZW1tZWRSZXZzID0gbWVyZ2VkLnN0ZW1tZWRSZXZzIHx8IFtdO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAocHJldi5yZXZfbWFwKSB7XG4gICAgZG9jSW5mby5tZXRhZGF0YS5yZXZfbWFwID0gcHJldi5yZXZfbWFwOyAvLyB1c2VkIG9ubHkgYnkgbGV2ZWxkYlxuICB9XG5cbiAgLy8gcmVjYWxjdWxhdGVcbiAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgd2lubmluZ1JldklzRGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxKTtcblxuICAvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBkb2N1bWVudHMgdGhhdCB3ZXJlIGFkZGVkL3JlbW92ZWQsXG4gIC8vIGZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIHRvdGFsX3Jvd3MvZG9jX2NvdW50XG4gIHZhciBkZWx0YSA9IChwcmV2aW91c2x5RGVsZXRlZCA9PT0gd2lubmluZ1JldklzRGVsZXRlZCkgPyAwIDpcbiAgICBwcmV2aW91c2x5RGVsZXRlZCA8IHdpbm5pbmdSZXZJc0RlbGV0ZWQgPyAtMSA6IDE7XG5cbiAgdmFyIG5ld1JldklzRGVsZXRlZDtcbiAgaWYgKG5ld1JldiA9PT0gd2lubmluZ1JldiQkMSkge1xuICAgIC8vIGlmIHRoZSBuZXcgcmV2IGlzIHRoZSBzYW1lIGFzIHRoZSB3aW5uaW5nIHJldiwgd2UgY2FuIHJldXNlIHRoYXQgdmFsdWVcbiAgICBuZXdSZXZJc0RlbGV0ZWQgPSB3aW5uaW5nUmV2SXNEZWxldGVkO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZXkncmUgbm90IHRoZSBzYW1lLCB0aGVuIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGVcbiAgICBuZXdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgbmV3UmV2KTtcbiAgfVxuXG4gIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsIG5ld1JldklzRGVsZXRlZCxcbiAgICB0cnVlLCBkZWx0YSwgaSwgY2IpO1xufVxuXG5mdW5jdGlvbiByb290SXNNaXNzaW5nKGRvY0luZm8pIHtcbiAgcmV0dXJuIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0uaWRzWzFdLnN0YXR1cyA9PT0gJ21pc3NpbmcnO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzRG9jcyhyZXZMaW1pdCwgZG9jSW5mb3MsIGFwaSwgZmV0Y2hlZERvY3MsIHR4LCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgICAgd3JpdGVEb2MsIG9wdHMsIG92ZXJhbGxDYWxsYmFjaykge1xuXG4gIC8vIERlZmF1bHQgdG8gMTAwMCBsb2NhbGx5XG4gIHJldkxpbWl0ID0gcmV2TGltaXQgfHwgMTAwMDtcblxuICBmdW5jdGlvbiBpbnNlcnREb2MoZG9jSW5mbywgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcbiAgICAvLyBDYW50IGluc2VydCBuZXcgZGVsZXRlZCBkb2N1bWVudHNcbiAgICB2YXIgd2lubmluZ1JldiQkMSA9IHdpbm5pbmdSZXYoZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG4gICAgaWYgKCd3YXNfZGVsZXRlJyBpbiBvcHRzICYmIGRlbGV0ZWQpIHtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ2RlbGV0ZWQnKTtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8vIDQ3MTIgLSBkZXRlY3Qgd2hldGhlciBhIG5ldyBkb2N1bWVudCB3YXMgaW5zZXJ0ZWQgd2l0aCBhIF9yZXZcbiAgICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmIHJvb3RJc01pc3NpbmcoZG9jSW5mbyk7XG5cbiAgICBpZiAoaW5Db25mbGljdCkge1xuICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gZXJyO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gZGVsZXRlZCA/IDAgOiAxO1xuXG4gICAgd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgZGVsZXRlZCwgZGVsZXRlZCwgZmFsc2UsXG4gICAgICBkZWx0YSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICB9XG5cbiAgdmFyIG5ld0VkaXRzID0gb3B0cy5uZXdfZWRpdHM7XG4gIHZhciBpZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgZG9jc0RvbmUgPSAwO1xuICB2YXIgZG9jc1RvRG8gPSBkb2NJbmZvcy5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gY2hlY2tBbGxEb2NzRG9uZSgpIHtcbiAgICBpZiAoKytkb2NzRG9uZSA9PT0gZG9jc1RvRG8gJiYgb3ZlcmFsbENhbGxiYWNrKSB7XG4gICAgICBvdmVyYWxsQ2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50RG9jLCByZXN1bHRzSWR4KSB7XG5cbiAgICBpZiAoY3VycmVudERvYy5faWQgJiYgaXNMb2NhbElkKGN1cnJlbnREb2MuX2lkKSkge1xuICAgICAgdmFyIGZ1biA9IGN1cnJlbnREb2MuX2RlbGV0ZWQgPyAnX3JlbW92ZUxvY2FsJyA6ICdfcHV0TG9jYWwnO1xuICAgICAgYXBpW2Z1bl0oY3VycmVudERvYywge2N0eDogdHh9LCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVyciB8fCByZXM7XG4gICAgICAgIGNoZWNrQWxsRG9jc0RvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpZCA9IGN1cnJlbnREb2MubWV0YWRhdGEuaWQ7XG4gICAgaWYgKGlkc1RvRG9jcy5oYXMoaWQpKSB7XG4gICAgICBkb2NzVG9Eby0tOyAvLyBkdXBsaWNhdGVcbiAgICAgIGlkc1RvRG9jcy5nZXQoaWQpLnB1c2goW2N1cnJlbnREb2MsIHJlc3VsdHNJZHhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWRzVG9Eb2NzLnNldChpZCwgW1tjdXJyZW50RG9jLCByZXN1bHRzSWR4XV0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gaW4gdGhlIGNhc2Ugb2YgbmV3X2VkaXRzLCB0aGUgdXNlciBjYW4gcHJvdmlkZSBtdWx0aXBsZSBkb2NzXG4gIC8vIHdpdGggdGhlIHNhbWUgaWQuIHRoZXNlIG5lZWQgdG8gYmUgcHJvY2Vzc2VkIHNlcXVlbnRpYWxseVxuICBpZHNUb0RvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jcywgaWQpIHtcbiAgICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgICBmdW5jdGlvbiBkb2NXcml0dGVuKCkge1xuICAgICAgaWYgKCsrbnVtRG9uZSA8IGRvY3MubGVuZ3RoKSB7XG4gICAgICAgIG5leHREb2MoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrQWxsRG9jc0RvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dERvYygpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGRvY3NbbnVtRG9uZV07XG4gICAgICB2YXIgY3VycmVudERvYyA9IHZhbHVlWzBdO1xuICAgICAgdmFyIHJlc3VsdHNJZHggPSB2YWx1ZVsxXTtcblxuICAgICAgaWYgKGZldGNoZWREb2NzLmhhcyhpZCkpIHtcbiAgICAgICAgdXBkYXRlRG9jKHJldkxpbWl0LCBmZXRjaGVkRG9jcy5nZXQoaWQpLCBjdXJyZW50RG9jLCByZXN1bHRzLFxuICAgICAgICAgIHJlc3VsdHNJZHgsIGRvY1dyaXR0ZW4sIHdyaXRlRG9jLCBuZXdFZGl0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbnN1cmUgc3RlbW1pbmcgYXBwbGllcyB0byBuZXcgd3JpdGVzIGFzIHdlbGxcbiAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlKFtdLCBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlWzBdLCByZXZMaW1pdCk7XG4gICAgICAgIGN1cnJlbnREb2MubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgICAgICAgY3VycmVudERvYy5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgICAgICAgaW5zZXJ0RG9jKGN1cnJlbnREb2MsIHJlc3VsdHNJZHgsIGRvY1dyaXR0ZW4pO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXh0RG9jKCk7XG4gIH0pO1xufVxuXG4vLyBJbmRleGVkREIgcmVxdWlyZXMgYSB2ZXJzaW9uZWQgZGF0YWJhc2Ugc3RydWN0dXJlLCBzbyB3ZSB1c2UgdGhlXG4vLyB2ZXJzaW9uIGhlcmUgdG8gbWFuYWdlIG1pZ3JhdGlvbnMuXG52YXIgQURBUFRFUl9WRVJTSU9OID0gNTtcblxuLy8gVGhlIG9iamVjdCBzdG9yZXMgY3JlYXRlZCBmb3IgZWFjaCBkYXRhYmFzZVxuLy8gRE9DX1NUT1JFIHN0b3JlcyB0aGUgZG9jdW1lbnQgbWV0YSBkYXRhLCBpdHMgcmV2aXNpb24gaGlzdG9yeSBhbmQgc3RhdGVcbi8vIEtleWVkIGJ5IGRvY3VtZW50IGlkXG52YXIgRE9DX1NUT1JFID0gJ2RvY3VtZW50LXN0b3JlJztcbi8vIEJZX1NFUV9TVE9SRSBzdG9yZXMgYSBwYXJ0aWN1bGFyIHZlcnNpb24gb2YgYSBkb2N1bWVudCwga2V5ZWQgYnkgaXRzXG4vLyBzZXF1ZW5jZSBpZFxudmFyIEJZX1NFUV9TVE9SRSA9ICdieS1zZXF1ZW5jZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBhdHRhY2htZW50c1xudmFyIEFUVEFDSF9TVE9SRSA9ICdhdHRhY2gtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbWFueS10by1tYW55IHJlbGF0aW9uc1xuLy8gYmV0d2VlbiBhdHRhY2htZW50IGRpZ2VzdHMgYW5kIHNlcXNcbnZhciBBVFRBQ0hfQU5EX1NFUV9TVE9SRSA9ICdhdHRhY2gtc2VxLXN0b3JlJztcblxuLy8gV2hlcmUgd2Ugc3RvcmUgZGF0YWJhc2Utd2lkZSBtZXRhIGRhdGEgaW4gYSBzaW5nbGUgcmVjb3JkXG4vLyBrZXllZCBieSBpZDogTUVUQV9TVE9SRVxudmFyIE1FVEFfU1RPUkUgPSAnbWV0YS1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBsb2NhbCBkb2N1bWVudHNcbnZhciBMT0NBTF9TVE9SRSA9ICdsb2NhbC1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBkZXRlY3QgYmxvYiBzdXBwb3J0XG52YXIgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSA9ICdkZXRlY3QtYmxvYi1zdXBwb3J0JztcblxuZnVuY3Rpb24gc2FmZUpzb25QYXJzZShzdHIpIHtcbiAgLy8gVGhpcyB0cnkvY2F0Y2ggZ3VhcmRzIGFnYWluc3Qgc3RhY2sgb3ZlcmZsb3cgZXJyb3JzLlxuICAvLyBKU09OLnBhcnNlKCkgaXMgZmFzdGVyIHRoYW4gdnV2dXplbGEucGFyc2UoKSBidXQgdnV2dXplbGFcbiAgLy8gY2Fubm90IG92ZXJmbG93LlxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiB2dXZ1emVsYS5wYXJzZShzdHIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVKc29uU3RyaW5naWZ5KGpzb24pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoanNvbik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiB2dXZ1emVsYS5zdHJpbmdpZnkoanNvbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaWRiRXJyb3IoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChldnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICd1bmtub3duX2Vycm9yJztcbiAgICBpZiAoZXZ0LnRhcmdldCAmJiBldnQudGFyZ2V0LmVycm9yKSB7XG4gICAgICBtZXNzYWdlID0gZXZ0LnRhcmdldC5lcnJvci5uYW1lIHx8IGV2dC50YXJnZXQuZXJyb3IubWVzc2FnZTtcbiAgICB9XG4gICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLCBtZXNzYWdlLCBldnQudHlwZSkpO1xuICB9O1xufVxuXG4vLyBVbmZvcnR1bmF0ZWx5LCB0aGUgbWV0YWRhdGEgaGFzIHRvIGJlIHN0cmluZ2lmaWVkXG4vLyB3aGVuIGl0IGlzIHB1dCBpbnRvIHRoZSBkYXRhYmFzZSwgYmVjYXVzZSBvdGhlcndpc2Vcbi8vIEluZGV4ZWREQiBjYW4gdGhyb3cgZXJyb3JzIGZvciBkZWVwbHktbmVzdGVkIG9iamVjdHMuXG4vLyBPcmlnaW5hbGx5IHdlIGp1c3QgdXNlZCBKU09OLnBhcnNlL0pTT04uc3RyaW5naWZ5OyBub3dcbi8vIHdlIHVzZSB0aGlzIGN1c3RvbSB2dXZ1emVsYSBsaWJyYXJ5IHRoYXQgYXZvaWRzIHJlY3Vyc2lvbi5cbi8vIElmIHdlIGNvdWxkIGRvIGl0IGFsbCBvdmVyIGFnYWluLCB3ZSdkIHByb2JhYmx5IHVzZSBhXG4vLyBmb3JtYXQgZm9yIHRoZSByZXZpc2lvbiB0cmVlcyBvdGhlciB0aGFuIEpTT04uXG5mdW5jdGlvbiBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiwgZGVsZXRlZCkge1xuICByZXR1cm4ge1xuICAgIGRhdGE6IHNhZmVKc29uU3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICB3aW5uaW5nUmV2OiB3aW5uaW5nUmV2LFxuICAgIGRlbGV0ZWRPckxvY2FsOiBkZWxldGVkID8gJzEnIDogJzAnLFxuICAgIHNlcTogbWV0YWRhdGEuc2VxLCAvLyBoaWdoZXN0IHNlcSBmb3IgdGhpcyBkb2NcbiAgICBpZDogbWV0YWRhdGEuaWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KSB7XG4gIGlmICghc3RvcmVkT2JqZWN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIG1ldGFkYXRhID0gc2FmZUpzb25QYXJzZShzdG9yZWRPYmplY3QuZGF0YSk7XG4gIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBzdG9yZWRPYmplY3Qud2lubmluZ1JldjtcbiAgbWV0YWRhdGEuZGVsZXRlZCA9IHN0b3JlZE9iamVjdC5kZWxldGVkT3JMb2NhbCA9PT0gJzEnO1xuICBtZXRhZGF0YS5zZXEgPSBzdG9yZWRPYmplY3Quc2VxO1xuICByZXR1cm4gbWV0YWRhdGE7XG59XG5cbi8vIHJlYWQgdGhlIGRvYyBiYWNrIG91dCBmcm9tIHRoZSBkYXRhYmFzZS4gd2UgZG9uJ3Qgc3RvcmUgdGhlXG4vLyBfaWQgb3IgX3JldiBiZWNhdXNlIHdlIGFscmVhZHkgaGF2ZSBfZG9jX2lkX3Jldi5cbmZ1bmN0aW9uIGRlY29kZURvYyhkb2MpIHtcbiAgaWYgKCFkb2MpIHtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHZhciBpZHggPSBkb2MuX2RvY19pZF9yZXYubGFzdEluZGV4T2YoJzonKTtcbiAgZG9jLl9pZCA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoMCwgaWR4IC0gMSk7XG4gIGRvYy5fcmV2ID0gZG9jLl9kb2NfaWRfcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgZGVsZXRlIGRvYy5fZG9jX2lkX3JldjtcbiAgcmV0dXJuIGRvYztcbn1cblxuLy8gUmVhZCBhIGJsb2IgZnJvbSB0aGUgZGF0YWJhc2UsIGVuY29kaW5nIGFzIG5lY2Vzc2FyeVxuLy8gYW5kIHRyYW5zbGF0aW5nIGZyb20gYmFzZTY0IGlmIHRoZSBJREIgZG9lc24ndCBzdXBwb3J0XG4vLyBuYXRpdmUgQmxvYnNcbmZ1bmN0aW9uIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBhc0Jsb2IsIGNhbGxiYWNrKSB7XG4gIGlmIChhc0Jsb2IpIHtcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUJsb2IoWycnXSwge3R5cGU6IHR5cGV9KSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGJvZHkpO1xuICAgIH0gZWxzZSB7IC8vIG5vIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYjY0VG9CbHVmZmVyKGJvZHksIHR5cGUpKTtcbiAgICB9XG4gIH0gZWxzZSB7IC8vIGFzIGJhc2U2NCBzdHJpbmdcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIGNhbGxiYWNrKCcnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ICE9PSAnc3RyaW5nJykgeyAvLyB3ZSBoYXZlIGJsb2Igc3VwcG9ydFxuICAgICAgcmVhZEFzQmluYXJ5U3RyaW5nKGJvZHksIGZ1bmN0aW9uIChiaW5hcnkpIHtcbiAgICAgICAgY2FsbGJhY2sodGhpc0J0b2EoYmluYXJ5KSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGJvZHkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3NhcnkoZG9jLCBvcHRzLCB0eG4sIGNiKSB7XG4gIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMgfHwge30pO1xuICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYiAmJiBjYigpO1xuICB9XG4gIHZhciBudW1Eb25lID0gMDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgaWYgKCsrbnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoICYmIGNiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCkge1xuICAgIHZhciBhdHRPYmogPSBkb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgdmFyIGRpZ2VzdCA9IGF0dE9iai5kaWdlc3Q7XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgYXR0T2JqLmJvZHkgPSBlLnRhcmdldC5yZXN1bHQuYm9keTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH07XG4gIH1cblxuICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChhdHQpIHtcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgZmV0Y2hBdHRhY2htZW50KGRvYywgYXR0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdLnN0dWIgPSB0cnVlO1xuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gSURCLXNwZWNpZmljIHBvc3Rwcm9jZXNzaW5nIG5lY2Vzc2FyeSBiZWNhdXNlXG4vLyB3ZSBkb24ndCBrbm93IHdoZXRoZXIgd2Ugc3RvcmVkIGEgdHJ1ZSBCbG9iIG9yXG4vLyBhIGJhc2U2NC1lbmNvZGVkIHN0cmluZywgYW5kIGlmIGl0J3MgYSBCbG9iIGl0XG4vLyBuZWVkcyB0byBiZSByZWFkIG91dHNpZGUgb2YgdGhlIHRyYW5zYWN0aW9uIGNvbnRleHRcbmZ1bmN0aW9uIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cywgYXNCbG9iKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHRzLm1hcChmdW5jdGlvbiAocm93KSB7XG4gICAgaWYgKHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIHZhciBhdHROYW1lcyA9IE9iamVjdC5rZXlzKHJvdy5kb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChhdHROYW1lcy5tYXAoZnVuY3Rpb24gKGF0dCkge1xuICAgICAgICB2YXIgYXR0T2JqID0gcm93LmRvYy5fYXR0YWNobWVudHNbYXR0XTtcbiAgICAgICAgaWYgKCEoJ2JvZHknIGluIGF0dE9iaikpIHsgLy8gYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSBhdHRPYmouYm9keTtcbiAgICAgICAgdmFyIHR5cGUgPSBhdHRPYmouY29udGVudF90eXBlO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcm93LmRvYy5fYXR0YWNobWVudHNbYXR0XSA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbihcbiAgICAgICAgICAgICAgcGljayhhdHRPYmosIFsnZGlnZXN0JywgJ2NvbnRlbnRfdHlwZSddKSxcbiAgICAgICAgICAgICAge2RhdGE6IGRhdGF9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gY29tcGFjdFJldnMocmV2cywgZG9jSWQsIHR4bikge1xuXG4gIHZhciBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyA9IFtdO1xuICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgdmFyIGF0dFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gIHZhciBhdHRBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG4gIHZhciBjb3VudCA9IHJldnMubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBjb3VudC0tO1xuICAgIGlmICghY291bnQpIHsgLy8gZG9uZSBwcm9jZXNzaW5nIGFsbCByZXZzXG4gICAgICBkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpIHtcbiAgICBpZiAoIXBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZhciBjb3VudFJlcSA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdkaWdlc3RTZXEnKS5jb3VudChcbiAgICAgICAgSURCS2V5UmFuZ2UuYm91bmQoXG4gICAgICAgICAgZGlnZXN0ICsgJzo6JywgZGlnZXN0ICsgJzo6XFx1ZmZmZicsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgY291bnRSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgLy8gb3JwaGFuZWRcbiAgICAgICAgICBhdHRTdG9yZS5kZWxldGUoZGlnZXN0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldnMuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgdmFyIGluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgdmFyIGtleSA9IGRvY0lkICsgXCI6OlwiICsgcmV2O1xuICAgIGluZGV4LmdldEtleShrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgc2VxID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBzZXEgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBjaGVja0RvbmUoKTtcbiAgICAgIH1cbiAgICAgIHNlcVN0b3JlLmRlbGV0ZShzZXEpO1xuXG4gICAgICB2YXIgY3Vyc29yID0gYXR0QW5kU2VxU3RvcmUuaW5kZXgoJ3NlcScpXG4gICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoc2VxKSk7XG5cbiAgICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gY3Vyc29yLnZhbHVlLmRpZ2VzdFNlcS5zcGxpdCgnOjonKVswXTtcbiAgICAgICAgICBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5wdXNoKGRpZ2VzdCk7XG4gICAgICAgICAgYXR0QW5kU2VxU3RvcmUuZGVsZXRlKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZG9uZVxuICAgICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsIG1vZGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHhuOiBpZGIudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogZXJyXG4gICAgfTtcbiAgfVxufVxuXG52YXIgY2hhbmdlc0hhbmRsZXIgPSBuZXcgQ2hhbmdlcygpO1xuXG5mdW5jdGlvbiBpZGJCdWxrRG9jcyhkYk9wdHMsIHJlcSwgb3B0cywgYXBpLCBpZGIsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2NJbmZvcyA9IHJlcS5kb2NzO1xuICB2YXIgdHhuO1xuICB2YXIgZG9jU3RvcmU7XG4gIHZhciBieVNlcVN0b3JlO1xuICB2YXIgYXR0YWNoU3RvcmU7XG4gIHZhciBhdHRhY2hBbmRTZXFTdG9yZTtcbiAgdmFyIG1ldGFTdG9yZTtcbiAgdmFyIGRvY0luZm9FcnJvcjtcbiAgdmFyIG1ldGFEb2M7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGRvYyA9IGRvY0luZm9zW2ldO1xuICAgIGlmIChkb2MuX2lkICYmIGlzTG9jYWxJZChkb2MuX2lkKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGRvYyA9IGRvY0luZm9zW2ldID0gcGFyc2VEb2MoZG9jLCBvcHRzLm5ld19lZGl0cywgZGJPcHRzKTtcbiAgICBpZiAoZG9jLmVycm9yICYmICFkb2NJbmZvRXJyb3IpIHtcbiAgICAgIGRvY0luZm9FcnJvciA9IGRvYztcbiAgICB9XG4gIH1cblxuICBpZiAoZG9jSW5mb0Vycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGRvY0luZm9FcnJvcik7XG4gIH1cblxuICB2YXIgYWxsRG9jc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICB2YXIgZG9jQ291bnREZWx0YSA9IDA7XG4gIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGRvY0luZm9zLmxlbmd0aCk7XG4gIHZhciBmZXRjaGVkRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICB2YXIgcHJlY29uZGl0aW9uRXJyb3JlZCA9IGZhbHNlO1xuICB2YXIgYmxvYlR5cGUgPSBhcGkuX21ldGEuYmxvYlN1cHBvcnQgPyAnYmxvYicgOiAnYmFzZTY0JztcblxuICBwcmVwcm9jZXNzQXR0YWNobWVudHMoZG9jSW5mb3MsIGJsb2JUeXBlLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHN0YXJ0VHJhbnNhY3Rpb24oKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc3RhcnRUcmFuc2FjdGlvbigpIHtcblxuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSxcbiAgICAgIEFUVEFDSF9TVE9SRSxcbiAgICAgIExPQ0FMX1NUT1JFLCBBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIE1FVEFfU1RPUkVcbiAgICBdO1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkd3JpdGUnKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub250aW1lb3V0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gY29tcGxldGU7XG4gICAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgYXR0YWNoU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICBhdHRhY2hBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG4gICAgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuXG4gICAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICAgIH07XG5cbiAgICB2ZXJpZnlBdHRhY2htZW50cyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByZWNvbmRpdGlvbkVycm9yZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIGZldGNoRXhpc3RpbmdEb2NzKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkFsbERvY3NQcm9jZXNzZWQoKSB7XG4gICAgYWxsRG9jc1Byb2Nlc3NlZCA9IHRydWU7XG4gICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpZGJQcm9jZXNzRG9jcygpIHtcbiAgICBwcm9jZXNzRG9jcyhkYk9wdHMucmV2c19saW1pdCwgZG9jSW5mb3MsIGFwaSwgZmV0Y2hlZERvY3MsXG4gICAgICAgICAgICAgICAgdHhuLCByZXN1bHRzLCB3cml0ZURvYywgb3B0cywgb25BbGxEb2NzUHJvY2Vzc2VkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpIHtcbiAgICBpZiAoIW1ldGFEb2MgfHwgIWFsbERvY3NQcm9jZXNzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gY2FjaGluZyB0aGUgZG9jQ291bnQgc2F2ZXMgYSBsb3Qgb2YgdGltZSBpbiBhbGxEb2NzKCkgYW5kXG4gICAgLy8gaW5mbygpLCB3aGljaCBpcyB3aHkgd2UgZ28gdG8gYWxsIHRoZSB0cm91YmxlIG9mIGRvaW5nIHRoaXNcbiAgICBtZXRhRG9jLmRvY0NvdW50ICs9IGRvY0NvdW50RGVsdGE7XG4gICAgbWV0YVN0b3JlLnB1dChtZXRhRG9jKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoRXhpc3RpbmdEb2NzKCkge1xuXG4gICAgaWYgKCFkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbnVtRmV0Y2hlZCA9IDA7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1GZXRjaGVkID09PSBkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICAgICAgaWRiUHJvY2Vzc0RvY3MoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWFkTWV0YWRhdGEoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuXG4gICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgZmV0Y2hlZERvY3Muc2V0KG1ldGFkYXRhLmlkLCBtZXRhZGF0YSk7XG4gICAgICB9XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZG9jSW5mb3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBkb2NJbmZvID0gZG9jSW5mb3NbaV07XG4gICAgICBpZiAoZG9jSW5mby5faWQgJiYgaXNMb2NhbElkKGRvY0luZm8uX2lkKSkge1xuICAgICAgICBjaGVja0RvbmUoKTsgLy8gc2tpcCBsb2NhbCBkb2NzXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlcSA9IGRvY1N0b3JlLmdldChkb2NJbmZvLm1ldGFkYXRhLmlkKTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSByZWFkTWV0YWRhdGE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgaWYgKHByZWNvbmRpdGlvbkVycm9yZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjaGFuZ2VzSGFuZGxlci5ub3RpZnkoYXBpLl9tZXRhLm5hbWUpO1xuICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmVyaWZ5QXR0YWNobWVudChkaWdlc3QsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVxID0gYXR0YWNoU3RvcmUuZ2V0KGRpZ2VzdCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIWUudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19TVFVCLFxuICAgICAgICAgICd1bmtub3duIHN0dWIgYXR0YWNobWVudCB3aXRoIGRpZ2VzdCAnICtcbiAgICAgICAgICBkaWdlc3QpO1xuICAgICAgICBlcnIuc3RhdHVzID0gNDEyO1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdmVyaWZ5QXR0YWNobWVudHMoZmluaXNoKSB7XG5cblxuICAgIHZhciBkaWdlc3RzID0gW107XG4gICAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jSW5mbykge1xuICAgICAgaWYgKGRvY0luZm8uZGF0YSAmJiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNbZmlsZW5hbWVdO1xuICAgICAgICAgIGlmIChhdHQuc3R1Yikge1xuICAgICAgICAgICAgZGlnZXN0cy5wdXNoKGF0dC5kaWdlc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgIH1cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK251bURvbmUgPT09IGRpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaChlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBkaWdlc3RzLmZvckVhY2goZnVuY3Rpb24gKGRpZ2VzdCkge1xuICAgICAgdmVyaWZ5QXR0YWNobWVudChkaWdlc3QsIGZ1bmN0aW9uIChhdHRFcnIpIHtcbiAgICAgICAgaWYgKGF0dEVyciAmJiAhZXJyKSB7XG4gICAgICAgICAgZXJyID0gYXR0RXJyO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCBkZWx0YSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuICAgIGRvY0luZm8ubWV0YWRhdGEud2lubmluZ1JldiA9IHdpbm5pbmdSZXYkJDE7XG4gICAgZG9jSW5mby5tZXRhZGF0YS5kZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgZG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jLl9yZXYgPSBkb2NJbmZvLm1ldGFkYXRhLnJldjtcblxuICAgIGlmIChuZXdSZXZJc0RlbGV0ZWQpIHtcbiAgICAgIGRvYy5fZGVsZXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGhhc0F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyAmJlxuICAgICAgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoO1xuICAgIGlmIChoYXNBdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIHdyaXRlQXR0YWNobWVudHMoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBkb2NDb3VudERlbHRhICs9IGRlbHRhO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuXG4gICAgZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSW5mby5tZXRhZGF0YTtcblxuICAgIGRvYy5fZG9jX2lkX3JldiA9IG1ldGFkYXRhLmlkICsgJzo6JyArIG1ldGFkYXRhLnJldjtcbiAgICBkZWxldGUgZG9jLl9pZDtcbiAgICBkZWxldGUgZG9jLl9yZXY7XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvYyhlKSB7XG4gICAgICB2YXIgcmV2c1RvRGVsZXRlID0gZG9jSW5mby5zdGVtbWVkUmV2cyB8fCBbXTtcblxuICAgICAgaWYgKGlzVXBkYXRlICYmIGFwaS5hdXRvX2NvbXBhY3Rpb24pIHtcbiAgICAgICAgcmV2c1RvRGVsZXRlID0gcmV2c1RvRGVsZXRlLmNvbmNhdChjb21wYWN0VHJlZShkb2NJbmZvLm1ldGFkYXRhKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXZzVG9EZWxldGUgJiYgcmV2c1RvRGVsZXRlLmxlbmd0aCkge1xuICAgICAgICBjb21wYWN0UmV2cyhyZXZzVG9EZWxldGUsIGRvY0luZm8ubWV0YWRhdGEuaWQsIHR4bik7XG4gICAgICB9XG5cbiAgICAgIG1ldGFkYXRhLnNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIC8vIEN1cnJlbnQgX3JldiBpcyBjYWxjdWxhdGVkIGZyb20gX3Jldl90cmVlIG9uIHJlYWRcbiAgICAgIC8vIGRlbGV0ZSBtZXRhZGF0YS5yZXY7XG4gICAgICB2YXIgbWV0YWRhdGFUb1N0b3JlID0gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsXG4gICAgICAgIHdpbm5pbmdSZXZJc0RlbGV0ZWQpO1xuICAgICAgdmFyIG1ldGFEYXRhUmVxID0gZG9jU3RvcmUucHV0KG1ldGFkYXRhVG9TdG9yZSk7XG4gICAgICBtZXRhRGF0YVJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dE1ldGFkYXRhO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0RG9jRXJyb3IoZSkge1xuICAgICAgLy8gQ29uc3RyYWludEVycm9yLCBuZWVkIHRvIHVwZGF0ZSwgbm90IHB1dCAoc2VlICMxNjM4IGZvciBkZXRhaWxzKVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgdmFyIGluZGV4ID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICAgIHZhciBnZXRLZXlSZXEgPSBpbmRleC5nZXRLZXkoZG9jLl9kb2NfaWRfcmV2KTtcbiAgICAgIGdldEtleVJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcHV0UmVxID0gYnlTZXFTdG9yZS5wdXQoZG9jLCBlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0TWV0YWRhdGEoKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0ge1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgICAgICByZXY6IG1ldGFkYXRhLnJldlxuICAgICAgfTtcbiAgICAgIGZldGNoZWREb2NzLnNldChkb2NJbmZvLm1ldGFkYXRhLmlkLCBkb2NJbmZvLm1ldGFkYXRhKTtcbiAgICAgIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBtZXRhZGF0YS5zZXEsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICB2YXIgcHV0UmVxID0gYnlTZXFTdG9yZS5wdXQoZG9jKTtcblxuICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dERvYztcbiAgICBwdXRSZXEub25lcnJvciA9IGFmdGVyUHV0RG9jRXJyb3I7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG5cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0UmVzdWx0cygpIHtcbiAgICAgIGlmIChudW1Eb25lID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdHRhY2htZW50U2F2ZWQoKSB7XG4gICAgICBudW1Eb25lKys7XG4gICAgICBjb2xsZWN0UmVzdWx0cygpO1xuICAgIH1cblxuICAgIGF0dGFjaG1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGF0dCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgIGlmICghYXR0LnN0dWIpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhdHQuZGF0YTtcbiAgICAgICAgZGVsZXRlIGF0dC5kYXRhO1xuICAgICAgICBhdHQucmV2cG9zID0gcGFyc2VJbnQod2lubmluZ1JldiQkMSwgMTApO1xuICAgICAgICB2YXIgZGlnZXN0ID0gYXR0LmRpZ2VzdDtcbiAgICAgICAgc2F2ZUF0dGFjaG1lbnQoZGlnZXN0LCBkYXRhLCBhdHRhY2htZW50U2F2ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtRG9uZSsrO1xuICAgICAgICBjb2xsZWN0UmVzdWx0cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gbWFwIHNlcXMgdG8gYXR0YWNobWVudCBkaWdlc3RzLCB3aGljaFxuICAvLyB3ZSB3aWxsIG5lZWQgbGF0ZXIgZHVyaW5nIGNvbXBhY3Rpb25cbiAgZnVuY3Rpb24gaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzKGRvY0luZm8sIHNlcSwgY2FsbGJhY2spIHtcblxuICAgIHZhciBhdHRzQWRkZWQgPSAwO1xuICAgIHZhciBhdHRzVG9BZGQgPSBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzIHx8IHt9KTtcblxuICAgIGlmICghYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrYXR0c0FkZGVkID09PSBhdHRzVG9BZGQubGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkKGF0dCkge1xuICAgICAgdmFyIGRpZ2VzdCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNbYXR0XS5kaWdlc3Q7XG4gICAgICB2YXIgcmVxID0gYXR0YWNoQW5kU2VxU3RvcmUucHV0KHtcbiAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgIGRpZ2VzdFNlcTogZGlnZXN0ICsgJzo6JyArIHNlcVxuICAgICAgfSk7XG5cbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBjaGVja0RvbmU7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgaXMgZm9yIGEgY29uc3RhaW50IGVycm9yLCB3aGljaCB3ZSBpZ25vcmVcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGRvY2lkL3JldiBoYXMgYWxyZWFkeSBiZWVuIGFzc29jaWF0ZWQgd2l0aFxuICAgICAgICAvLyB0aGUgZGlnZXN0IChlLmcuIHdoZW4gbmV3X2VkaXRzID09IGZhbHNlKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHNUb0FkZC5sZW5ndGg7IGkrKykge1xuICAgICAgYWRkKGF0dHNUb0FkZFtpXSk7IC8vIGRvIGluIHBhcmFsbGVsXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZUF0dGFjaG1lbnQoZGlnZXN0LCBkYXRhLCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZ2V0S2V5UmVxID0gYXR0YWNoU3RvcmUuY291bnQoZGlnZXN0KTtcbiAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gYWxyZWFkeSBleGlzdHNcbiAgICAgIH1cbiAgICAgIHZhciBuZXdBdHQgPSB7XG4gICAgICAgIGRpZ2VzdDogZGlnZXN0LFxuICAgICAgICBib2R5OiBkYXRhXG4gICAgICB9O1xuICAgICAgdmFyIHB1dFJlcSA9IGF0dGFjaFN0b3JlLnB1dChuZXdBdHQpO1xuICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGNhbGxiYWNrO1xuICAgIH07XG4gIH1cbn1cblxuLy8gQWJzdHJhY3Rpb24gb3ZlciBJREJDdXJzb3IgYW5kIGdldEFsbCgpL2dldEFsbEtleXMoKSB0aGF0IGFsbG93cyB1cyB0byBiYXRjaCBvdXIgb3BlcmF0aW9uc1xuLy8gd2hpbGUgZmFsbGluZyBiYWNrIHRvIGEgbm9ybWFsIElEQkN1cnNvciBvcGVyYXRpb24gb24gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGdldEFsbCgpIG9yXG4vLyBnZXRBbGxLZXlzKCkuIFRoaXMgYWxsb3dzIGZvciBhIG11Y2ggZmFzdGVyIGltcGxlbWVudGF0aW9uIHRoYW4ganVzdCBzdHJhaWdodC11cCBjdXJzb3JzLCBiZWNhdXNlXG4vLyB3ZSdyZSBub3QgcHJvY2Vzc2luZyBlYWNoIGRvY3VtZW50IG9uZS1hdC1hLXRpbWUuXG5mdW5jdGlvbiBydW5CYXRjaGVkQ3Vyc29yKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgZGVzY2VuZGluZywgYmF0Y2hTaXplLCBvbkJhdGNoKSB7XG5cbiAgaWYgKGJhdGNoU2l6ZSA9PT0gLTEpIHtcbiAgICBiYXRjaFNpemUgPSAxMDAwO1xuICB9XG5cbiAgLy8gQmFpbCBvdXQgb2YgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpIGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG4gIC8vIDEpIGVpdGhlciBtZXRob2QgaXMgdW5zdXBwb3J0ZWQgLSB3ZSBuZWVkIGJvdGhcbiAgLy8gMikgYmF0Y2hTaXplIGlzIDEgKG1pZ2h0IGFzIHdlbGwgdXNlIElEQkN1cnNvcilcbiAgLy8gMykgZGVzY2VuZGluZyDigJMgbm8gcmVhbCB3YXkgdG8gZG8gdGhpcyB2aWEgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpXG5cbiAgdmFyIHVzZUdldEFsbCA9IHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGwgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGJhdGNoU2l6ZSA+IDEgJiYgIWRlc2NlbmRpbmc7XG5cbiAgdmFyIGtleXNCYXRjaDtcbiAgdmFyIHZhbHVlc0JhdGNoO1xuICB2YXIgcHNldWRvQ3Vyc29yO1xuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsKGUpIHtcbiAgICB2YWx1ZXNCYXRjaCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoa2V5c0JhdGNoKSB7XG4gICAgICBvbkJhdGNoKGtleXNCYXRjaCwgdmFsdWVzQmF0Y2gsIHBzZXVkb0N1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRBbGxLZXlzKGUpIHtcbiAgICBrZXlzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKHZhbHVlc0JhdGNoKSB7XG4gICAgICBvbkJhdGNoKGtleXNCYXRjaCwgdmFsdWVzQmF0Y2gsIHBzZXVkb0N1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29udGludWVQc2V1ZG9DdXJzb3IoKSB7XG4gICAgaWYgKCFrZXlzQmF0Y2gubGVuZ3RoKSB7IC8vIG5vIG1vcmUgcmVzdWx0c1xuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gZmV0Y2ggbmV4dCBiYXRjaCwgZXhjbHVzaXZlIHN0YXJ0XG4gICAgdmFyIGxhc3RLZXkgPSBrZXlzQmF0Y2hba2V5c0JhdGNoLmxlbmd0aCAtIDFdO1xuICAgIHZhciBuZXdLZXlSYW5nZTtcbiAgICBpZiAoa2V5UmFuZ2UgJiYga2V5UmFuZ2UudXBwZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0tleVJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQobGFzdEtleSwga2V5UmFuZ2UudXBwZXIsXG4gICAgICAgICAgdHJ1ZSwga2V5UmFuZ2UudXBwZXJPcGVuKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUubmFtZSA9PT0gXCJEYXRhRXJyb3JcIiAmJiBlLmNvZGUgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gb25CYXRjaCgpOyAvLyB3ZSdyZSBkb25lLCBzdGFydGtleSBhbmQgZW5ka2V5IGFyZSBlcXVhbFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0tleVJhbmdlID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChsYXN0S2V5LCB0cnVlKTtcbiAgICB9XG4gICAga2V5UmFuZ2UgPSBuZXdLZXlSYW5nZTtcbiAgICBrZXlzQmF0Y2ggPSBudWxsO1xuICAgIHZhbHVlc0JhdGNoID0gbnVsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyhrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbEtleXM7XG4gIH1cblxuICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoIWN1cnNvcikgeyAvLyBkb25lXG4gICAgICByZXR1cm4gb25CYXRjaCgpO1xuICAgIH1cbiAgICAvLyByZWd1bGFyIElEQkN1cnNvciBhY3RzIGxpa2UgYSBiYXRjaCB3aGVyZSBiYXRjaCBzaXplIGlzIGFsd2F5cyAxXG4gICAgb25CYXRjaChbY3Vyc29yLmtleV0sIFtjdXJzb3IudmFsdWVdLCBjdXJzb3IpO1xuICB9XG5cbiAgaWYgKHVzZUdldEFsbCkge1xuICAgIHBzZXVkb0N1cnNvciA9IHtcImNvbnRpbnVlXCI6IGNvbnRpbnVlUHNldWRvQ3Vyc29yfTtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyhrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbEtleXM7XG4gIH0gZWxzZSBpZiAoZGVzY2VuZGluZykge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cbn1cblxuLy8gc2ltcGxlIHNoaW0gZm9yIG9iamVjdFN0b3JlLmdldEFsbCgpLCBmYWxsaW5nIGJhY2sgdG8gSURCQ3Vyc29yXG5mdW5jdGlvbiBnZXRBbGwob2JqZWN0U3RvcmUsIGtleVJhbmdlLCBvblN1Y2Nlc3MpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyB1c2UgbmF0aXZlIGdldEFsbFxuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSkub25zdWNjZXNzID0gb25TdWNjZXNzO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBmYWxsIGJhY2sgdG8gY3Vyc29yc1xuICB2YXIgdmFsdWVzID0gW107XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGN1cnNvcikge1xuICAgICAgdmFsdWVzLnB1c2goY3Vyc29yLnZhbHVlKTtcbiAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IHZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXMoa2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpIHtcbiAgLy8gSXQncyBub3QgZ3VhcmFudGVkIHRvIGJlIHJldHVybmVkIGluIHJpZ2h0IG9yZGVyICBcbiAgdmFyIHZhbHVlc0JhdGNoID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgdmFyIGNvdW50ID0gMDtcbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgZG9jU3RvcmUuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICB2YWx1ZXNCYXRjaFtpbmRleF0gPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0ge2tleToga2V5LCBlcnJvcjogJ25vdF9mb3VuZCd9O1xuICAgICAgfVxuICAgICAgY291bnQrKztcbiAgICAgIGlmIChjb3VudCA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgb25CYXRjaChrZXlzLCB2YWx1ZXNCYXRjaCwge30pO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlSYW5nZShzdGFydCwgZW5kLCBpbmNsdXNpdmVFbmQsIGtleSwgZGVzY2VuZGluZykge1xuICB0cnkge1xuICAgIGlmIChzdGFydCAmJiBlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5ib3VuZChlbmQsIHN0YXJ0LCAhaW5jbHVzaXZlRW5kLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCwgZmFsc2UsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS51cHBlckJvdW5kKHN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHN0YXJ0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVuZCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQoZW5kLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS51cHBlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXkpIHtcbiAgICAgIHJldHVybiBJREJLZXlSYW5nZS5vbmx5KGtleSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlkYkFsbERvY3Mob3B0cywgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgc3RhcnQgPSAnc3RhcnRrZXknIGluIG9wdHMgPyBvcHRzLnN0YXJ0a2V5IDogZmFsc2U7XG4gIHZhciBlbmQgPSAnZW5ka2V5JyBpbiBvcHRzID8gb3B0cy5lbmRrZXkgOiBmYWxzZTtcbiAgdmFyIGtleSA9ICdrZXknIGluIG9wdHMgPyBvcHRzLmtleSA6IGZhbHNlO1xuICB2YXIga2V5cyA9ICdrZXlzJyBpbiBvcHRzID8gb3B0cy5rZXlzIDogZmFsc2U7IFxuICB2YXIgc2tpcCA9IG9wdHMuc2tpcCB8fCAwO1xuICB2YXIgbGltaXQgPSB0eXBlb2Ygb3B0cy5saW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLmxpbWl0IDogLTE7XG4gIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuXG4gIHZhciBrZXlSYW5nZSA7IFxuICB2YXIga2V5UmFuZ2VFcnJvcjtcbiAgaWYgKCFrZXlzKSB7XG4gICAga2V5UmFuZ2UgPSBjcmVhdGVLZXlSYW5nZShzdGFydCwgZW5kLCBpbmNsdXNpdmVFbmQsIGtleSwgb3B0cy5kZXNjZW5kaW5nKTtcbiAgICBrZXlSYW5nZUVycm9yID0ga2V5UmFuZ2UgJiYga2V5UmFuZ2UuZXJyb3I7XG4gICAgaWYgKGtleVJhbmdlRXJyb3IgJiYgXG4gICAgICAhKGtleVJhbmdlRXJyb3IubmFtZSA9PT0gXCJEYXRhRXJyb3JcIiAmJiBrZXlSYW5nZUVycm9yLmNvZGUgPT09IDApKSB7XG4gICAgICAvLyBEYXRhRXJyb3Igd2l0aCBlcnJvciBjb2RlIDAgaW5kaWNhdGVzIHN0YXJ0IGlzIGxlc3MgdGhhbiBlbmQsIHNvXG4gICAgICAvLyBjYW4ganVzdCBkbyBhbiBlbXB0eSBxdWVyeS4gRWxzZSBuZWVkIHRvIHRocm93XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLFxuICAgICAgICBrZXlSYW5nZUVycm9yLm5hbWUsIGtleVJhbmdlRXJyb3IubWVzc2FnZSkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdG9yZXMgPSBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIE1FVEFfU1RPUkVdO1xuXG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgc3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICB9XG4gIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICB0eG4ub25jb21wbGV0ZSA9IG9uVHhuQ29tcGxldGU7XG4gIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBtZXRhU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSk7XG4gIHZhciBkb2NJZFJldkluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBkb2NDb3VudDtcbiAgdmFyIHVwZGF0ZVNlcTtcblxuICBtZXRhU3RvcmUuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZG9jQ291bnQgPSBlLnRhcmdldC5yZXN1bHQuZG9jQ291bnQ7XG4gIH07XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICBnZXRNYXhVcGRhdGVTZXEoc2VxU3RvcmUsIGZ1bmN0aW9uIChlKSB7IFxuICAgICAgaWYgKGUudGFyZ2V0LnJlc3VsdCAmJiBlLnRhcmdldC5yZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICB1cGRhdGVTZXEgPSBlLnRhcmdldC5yZXN1bHRbMF07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNYXhVcGRhdGVTZXEob2JqZWN0U3RvcmUsIG9uU3VjY2Vzcykge1xuICAgIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB2YXIgbWF4S2V5ID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGN1cnNvciAmJiBjdXJzb3Iua2V5KSB7XG4gICAgICAgIG1heEtleSA9IGN1cnNvci5rZXk7XG4gICAgICB9IFxuICAgICAgcmV0dXJuIG9uU3VjY2Vzcyh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHJlc3VsdDogW21heEtleV1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfVxuXG4gIC8vIGlmIHRoZSB1c2VyIHNwZWNpZmllcyBpbmNsdWRlX2RvY3M9dHJ1ZSwgdGhlbiB3ZSBkb24ndFxuICAvLyB3YW50IHRvIGJsb2NrIHRoZSBtYWluIGN1cnNvciB3aGlsZSB3ZSdyZSBmZXRjaGluZyB0aGUgZG9jXG4gIGZ1bmN0aW9uIGZldGNoRG9jQXN5bmNocm9ub3VzbHkobWV0YWRhdGEsIHJvdywgd2lubmluZ1JldiQkMSkge1xuICAgIHZhciBrZXkgPSBtZXRhZGF0YS5pZCArIFwiOjpcIiArIHdpbm5pbmdSZXYkJDE7XG4gICAgZG9jSWRSZXZJbmRleC5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSAgZnVuY3Rpb24gb25HZXREb2MoZSkge1xuICAgICAgcm93LmRvYyA9IGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpIHx8IHt9O1xuICAgICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICByb3cuZG9jLl9jb25mbGljdHMgPSBjb25mbGljdHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeShyb3cuZG9jLCBvcHRzLCB0eG4pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhbGxEb2NzSW5uZXIod2lubmluZ1JldiQkMSwgbWV0YWRhdGEpIHtcbiAgICB2YXIgcm93ID0ge1xuICAgICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgICAga2V5OiBtZXRhZGF0YS5pZCxcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHJldjogd2lubmluZ1JldiQkMVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlbGV0ZWQgPSBtZXRhZGF0YS5kZWxldGVkO1xuICAgIGlmIChkZWxldGVkKSB7XG4gICAgICBpZiAoa2V5cykge1xuICAgICAgICByZXN1bHRzLnB1c2gocm93KTtcbiAgICAgICAgLy8gZGVsZXRlZCBkb2NzIGFyZSBva2F5IHdpdGggXCJrZXlzXCIgcmVxdWVzdHNcbiAgICAgICAgcm93LnZhbHVlLmRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICByb3cuZG9jID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNraXAtLSA8PSAwKSB7XG4gICAgICByZXN1bHRzLnB1c2gocm93KTtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChiYXRjaFZhbHVlcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBiYXRjaFZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSBsaW1pdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBiYXRjaFZhbHVlID0gYmF0Y2hWYWx1ZXNbaV07XG4gICAgICBpZiAoYmF0Y2hWYWx1ZS5lcnJvciAmJiBrZXlzKSB7XG4gICAgICAgIC8vIGtleSB3YXMgbm90IGZvdW5kIHdpdGggXCJrZXlzXCIgcmVxdWVzdHNcbiAgICAgICAgcmVzdWx0cy5wdXNoKGJhdGNoVmFsdWUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGJhdGNoVmFsdWUpO1xuICAgICAgdmFyIHdpbm5pbmdSZXYkJDEgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NCYXRjaChiYXRjaFZhbHVlcyk7XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsKGUpIHtcbiAgICB2YXIgdmFsdWVzID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHZhbHVlcyA9IHZhbHVlcy5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHByb2Nlc3NCYXRjaCh2YWx1ZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25SZXN1bHRzUmVhZHkoKSB7XG4gICAgdmFyIHJldHVyblZhbCA9IHtcbiAgICAgIHRvdGFsX3Jvd3M6IGRvY0NvdW50LFxuICAgICAgb2Zmc2V0OiBvcHRzLnNraXAsXG4gICAgICByb3dzOiByZXN1bHRzXG4gICAgfTtcbiAgICBcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxICYmIHVwZGF0ZVNlcSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5WYWwudXBkYXRlX3NlcSA9IHVwZGF0ZVNlcTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwgcmV0dXJuVmFsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHhuQ29tcGxldGUoKSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cywgb3B0cy5iaW5hcnkpLnRoZW4ob25SZXN1bHRzUmVhZHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblJlc3VsdHNSZWFkeSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGRvbid0IGJvdGhlciBkb2luZyBhbnkgcmVxdWVzdHMgaWYgc3RhcnQgPiBlbmQgb3IgbGltaXQgPT09IDBcbiAgaWYgKGtleVJhbmdlRXJyb3IgfHwgbGltaXQgPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGtleXMpIHtcbiAgICByZXR1cm4gYWxsRG9jc0tleXMob3B0cy5rZXlzLCBkb2NTdG9yZSwgb25CYXRjaCk7XG4gIH1cbiAgaWYgKGxpbWl0ID09PSAtMSkgeyAvLyBqdXN0IGZldGNoIGV2ZXJ5dGhpbmdcbiAgICByZXR1cm4gZ2V0QWxsKGRvY1N0b3JlLCBrZXlSYW5nZSwgb25HZXRBbGwpO1xuICB9XG4gIC8vIGVsc2UgZG8gYSBjdXJzb3JcbiAgLy8gY2hvb3NlIGEgYmF0Y2ggc2l6ZSBiYXNlZCBvbiB0aGUgc2tpcCwgc2luY2Ugd2UnbGwgbmVlZCB0byBza2lwIHRoYXQgbWFueVxuICBydW5CYXRjaGVkQ3Vyc29yKGRvY1N0b3JlLCBrZXlSYW5nZSwgb3B0cy5kZXNjZW5kaW5nLCBsaW1pdCArIHNraXAsIG9uQmF0Y2gpO1xufVxuXG4vL1xuLy8gQmxvYnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gYWxsIHZlcnNpb25zIG9mIEluZGV4ZWREQiwgbm90YWJseVxuLy8gQ2hyb21lIDwzNyBhbmQgQW5kcm9pZCA8NS4gSW4gdGhvc2UgdmVyc2lvbnMsIHN0b3JpbmcgYSBibG9iIHdpbGwgdGhyb3cuXG4vL1xuLy8gVmFyaW91cyBvdGhlciBibG9iIGJ1Z3MgZXhpc3QgaW4gQ2hyb21lIHYzNy00MiAoaW5jbHVzaXZlKS5cbi8vIERldGVjdGluZyB0aGVtIGlzIGV4cGVuc2l2ZSBhbmQgY29uZnVzaW5nIHRvIHVzZXJzLCBhbmQgQ2hyb21lIDM3LTQyXG4vLyBpcyBhdCB2ZXJ5IGxvdyB1c2FnZSB3b3JsZHdpZGUsIHNvIHdlIGRvIGEgaGFja3kgdXNlckFnZW50IGNoZWNrIGluc3RlYWQuXG4vL1xuLy8gY29udGVudC10eXBlIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQwODEyMFxuLy8gNDA0IGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzkxNlxuLy8gRmlsZVJlYWRlciBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc4MzZcbi8vXG5mdW5jdGlvbiBjaGVja0Jsb2JTdXBwb3J0KHR4bikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICB2YXIgYmxvYiQkMSA9IGNyZWF0ZUJsb2IoWycnXSk7XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKS5wdXQoYmxvYiQkMSwgJ2tleScpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtYXRjaGVkQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG4gICAgICB2YXIgbWF0Y2hlZEVkZ2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvLyk7XG4gICAgICAvLyBNUyBFZGdlIHByZXRlbmRzIHRvIGJlIENocm9tZSA0MjpcbiAgICAgIC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaGg4NjkzMDElMjh2PXZzLjg1JTI5LmFzcHhcbiAgICAgIHJlc29sdmUobWF0Y2hlZEVkZ2UgfHwgIW1hdGNoZWRDaHJvbWUgfHxcbiAgICAgICAgcGFyc2VJbnQobWF0Y2hlZENocm9tZVsxXSwgMTApID49IDQzKTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSB0eG4ub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gYWJvcnRzIG5vdyBpdHMgZHVlIHRvIG5vdCBiZWluZyBhYmxlIHRvXG4gICAgICAvLyB3cml0ZSB0byB0aGUgZGF0YWJhc2UsIGxpa2VseSBkdWUgdG8gdGhlIGRpc2sgYmVpbmcgZnVsbFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgIH07XG4gIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yLCBzbyBhc3N1bWUgdW5zdXBwb3J0ZWRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvdW50RG9jcyh0eG4sIGNiKSB7XG4gIHZhciBpbmRleCA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmluZGV4KCdkZWxldGVkT3JMb2NhbCcpO1xuICBpbmRleC5jb3VudChJREJLZXlSYW5nZS5vbmx5KCcwJykpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgY2IoZS50YXJnZXQucmVzdWx0KTtcbiAgfTtcbn1cblxuLy8gVGhpcyB0YXNrIHF1ZXVlIGVuc3VyZXMgdGhhdCBJREIgb3BlbiBjYWxscyBhcmUgZG9uZSBpbiB0aGVpciBvd24gdGlja1xuXG52YXIgcnVubmluZyA9IGZhbHNlO1xudmFyIHF1ZXVlID0gW107XG5cbmZ1bmN0aW9uIHRyeUNvZGUoZnVuLCBlcnIsIHJlcywgUG91Y2hEQikge1xuICB0cnkge1xuICAgIGZ1bihlcnIsIHJlcyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFNob3VsZG4ndCBoYXBwZW4sIGJ1dCBpbiBzb21lIG9kZCBjYXNlc1xuICAgIC8vIEluZGV4ZWREQiBpbXBsZW1lbnRhdGlvbnMgbWlnaHQgdGhyb3cgYSBzeW5jXG4gICAgLy8gZXJyb3IsIGluIHdoaWNoIGNhc2UgdGhpcyB3aWxsIGF0IGxlYXN0IGxvZyBpdC5cbiAgICBQb3VjaERCLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseU5leHQoKSB7XG4gIGlmIChydW5uaW5nIHx8ICFxdWV1ZS5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcnVubmluZyA9IHRydWU7XG4gIHF1ZXVlLnNoaWZ0KCkoKTtcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZVRhc2soYWN0aW9uLCBjYWxsYmFjaywgUG91Y2hEQikge1xuICBxdWV1ZS5wdXNoKGZ1bmN0aW9uIHJ1bkFjdGlvbigpIHtcbiAgICBhY3Rpb24oZnVuY3Rpb24gcnVuQ2FsbGJhY2soZXJyLCByZXMpIHtcbiAgICAgIHRyeUNvZGUoY2FsbGJhY2ssIGVyciwgcmVzLCBQb3VjaERCKTtcbiAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiBydW5OZXh0KCkge1xuICAgICAgICBhcHBseU5leHQoUG91Y2hEQik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGFwcGx5TmV4dCgpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VzKG9wdHMsIGFwaSwgZGJOYW1lLCBpZGIpIHtcbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIGlmIChvcHRzLmNvbnRpbnVvdXMpIHtcbiAgICB2YXIgaWQgPSBkYk5hbWUgKyAnOicgKyB1dWlkKCk7XG4gICAgY2hhbmdlc0hhbmRsZXIuYWRkTGlzdGVuZXIoZGJOYW1lLCBpZCwgYXBpLCBvcHRzKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5ub3RpZnkoZGJOYW1lKTtcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5nZXNIYW5kbGVyLnJlbW92ZUxpc3RlbmVyKGRiTmFtZSwgaWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzICYmIG5ldyBFeHBvcnRlZFNldChvcHRzLmRvY19pZHMpO1xuXG4gIG9wdHMuc2luY2UgPSBvcHRzLnNpbmNlIHx8IDA7XG4gIHZhciBsYXN0U2VxID0gb3B0cy5zaW5jZTtcblxuICB2YXIgbGltaXQgPSAnbGltaXQnIGluIG9wdHMgPyBvcHRzLmxpbWl0IDogLTE7XG4gIGlmIChsaW1pdCA9PT0gMCkge1xuICAgIGxpbWl0ID0gMTsgLy8gcGVyIENvdWNoREIgX2NoYW5nZXMgc3BlY1xuICB9XG5cbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIG51bVJlc3VsdHMgPSAwO1xuICB2YXIgZmlsdGVyID0gZmlsdGVyQ2hhbmdlKG9wdHMpO1xuICB2YXIgZG9jSWRzVG9NZXRhZGF0YSA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIHZhciB0eG47XG4gIHZhciBieVNlcVN0b3JlO1xuICB2YXIgZG9jU3RvcmU7XG4gIHZhciBkb2NJZFJldkluZGV4O1xuXG4gIGZ1bmN0aW9uIG9uQmF0Y2goYmF0Y2hLZXlzLCBiYXRjaFZhbHVlcywgY3Vyc29yKSB7XG4gICAgaWYgKCFjdXJzb3IgfHwgIWJhdGNoS2V5cy5sZW5ndGgpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3aW5uaW5nRG9jcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcbiAgICB2YXIgbWV0YWRhdGFzID0gbmV3IEFycmF5KGJhdGNoS2V5cy5sZW5ndGgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyhtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgdmFyIGNoYW5nZSA9IG9wdHMucHJvY2Vzc0NoYW5nZSh3aW5uaW5nRG9jLCBtZXRhZGF0YSwgb3B0cyk7XG4gICAgICBsYXN0U2VxID0gY2hhbmdlLnNlcSA9IG1ldGFkYXRhLnNlcTtcblxuICAgICAgdmFyIGZpbHRlcmVkID0gZmlsdGVyKGNoYW5nZSk7XG4gICAgICBpZiAodHlwZW9mIGZpbHRlcmVkID09PSAnb2JqZWN0JykgeyAvLyBhbnl0aGluZyBidXQgdHJ1ZS9mYWxzZSBpbmRpY2F0ZXMgZXJyb3JcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZpbHRlcmVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFmaWx0ZXJlZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICBudW1SZXN1bHRzKys7XG4gICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICByZXN1bHRzLnB1c2goY2hhbmdlKTtcbiAgICAgIH1cbiAgICAgIC8vIHByb2Nlc3MgdGhlIGF0dGFjaG1lbnQgaW1tZWRpYXRlbHlcbiAgICAgIC8vIGZvciB0aGUgYmVuZWZpdCBvZiBsaXZlIGxpc3RlbmVyc1xuICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KHdpbm5pbmdEb2MsIG9wdHMsIHR4biwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhbY2hhbmdlXSwgb3B0cy5iaW5hcnkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXNvbHZlKGNoYW5nZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNoYW5nZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25CYXRjaERvbmUoKSB7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB3aW5uaW5nRG9jcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAobnVtUmVzdWx0cyA9PT0gbGltaXQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lubmluZ0RvYyA9IHdpbm5pbmdEb2NzW2ldO1xuICAgICAgICBpZiAoIXdpbm5pbmdEb2MpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBtZXRhZGF0YXNbaV07XG4gICAgICAgIHByb21pc2VzLnB1c2gocHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyhtZXRhZGF0YSwgd2lubmluZ0RvYykpO1xuICAgICAgfVxuXG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGlmIChjaGFuZ2VzW2ldKSB7XG4gICAgICAgICAgICBvcHRzLm9uQ2hhbmdlKGNoYW5nZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2gob3B0cy5jb21wbGV0ZSk7XG5cbiAgICAgIGlmIChudW1SZXN1bHRzICE9PSBsaW1pdCkge1xuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGZXRjaCBhbGwgbWV0YWRhdGFzL3dpbm5pbmdkb2NzIGZyb20gdGhpcyBiYXRjaCBpbiBwYXJhbGxlbCwgdGhlbiBwcm9jZXNzXG4gICAgLy8gdGhlbSBhbGwgb25seSBvbmNlIGFsbCBkYXRhIGhhcyBiZWVuIGNvbGxlY3RlZC4gVGhpcyBpcyBkb25lIGluIHBhcmFsbGVsXG4gICAgLy8gYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIGRvaW5nIGl0IG9uZS1hdC1hLXRpbWUuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIGJhdGNoVmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICB2YXIgZG9jID0gZGVjb2RlRG9jKHZhbHVlKTtcbiAgICAgIHZhciBzZXEgPSBiYXRjaEtleXNbaV07XG4gICAgICBmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YShkb2MsIHNlcSwgZnVuY3Rpb24gKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSB7XG4gICAgICAgIG1ldGFkYXRhc1tpXSA9IG1ldGFkYXRhO1xuICAgICAgICB3aW5uaW5nRG9jc1tpXSA9IHdpbm5pbmdEb2M7XG4gICAgICAgIGlmICgrK251bURvbmUgPT09IGJhdGNoS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICBvbkJhdGNoRG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYikge1xuICAgIGlmIChtZXRhZGF0YS5zZXEgIT09IHNlcSkge1xuICAgICAgLy8gc29tZSBvdGhlciBzZXEgaXMgbGF0ZXJcbiAgICAgIHJldHVybiBjYigpO1xuICAgIH1cblxuICAgIGlmIChtZXRhZGF0YS53aW5uaW5nUmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgLy8gdGhpcyBpcyB0aGUgd2lubmluZyBkb2NcbiAgICAgIHJldHVybiBjYihtZXRhZGF0YSwgZG9jKTtcbiAgICB9XG5cbiAgICAvLyBmZXRjaCB3aW5uaW5nIGRvYyBpbiBzZXBhcmF0ZSByZXF1ZXN0XG4gICAgdmFyIGRvY0lkUmV2ID0gZG9jLl9pZCArICc6OicgKyBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgIHZhciByZXEgPSBkb2NJZFJldkluZGV4LmdldChkb2NJZFJldik7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBjYihtZXRhZGF0YSwgZGVjb2RlRG9jKGUudGFyZ2V0LnJlc3VsdCkpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YShkb2MsIHNlcSwgY2IpIHtcbiAgICBpZiAoZG9jSWRzICYmICFkb2NJZHMuaGFzKGRvYy5faWQpKSB7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICB2YXIgbWV0YWRhdGEgPSBkb2NJZHNUb01ldGFkYXRhLmdldChkb2MuX2lkKTtcbiAgICBpZiAobWV0YWRhdGEpIHsgLy8gY2FjaGVkXG4gICAgICByZXR1cm4gb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKTtcbiAgICB9XG4gICAgLy8gbWV0YWRhdGEgbm90IGNhY2hlZCwgaGF2ZSB0byBnbyBmZXRjaCBpdFxuICAgIGRvY1N0b3JlLmdldChkb2MuX2lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgZG9jSWRzVG9NZXRhZGF0YS5zZXQoZG9jLl9pZCwgbWV0YWRhdGEpO1xuICAgICAgb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge1xuICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgIGxhc3Rfc2VxOiBsYXN0U2VxXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmICghb3B0cy5jb250aW51b3VzICYmIG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIC8vIGNhbm5vdCBndWFyYW50ZWUgdGhhdCBwb3N0UHJvY2Vzc2luZyB3YXMgYWxyZWFkeSBkb25lLFxuICAgICAgLy8gc28gZG8gaXQgYWdhaW5cbiAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cykudGhlbihmaW5pc2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICB2YXIgb2JqZWN0U3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFXTtcbiAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICBvYmplY3RTdG9yZXMucHVzaChBVFRBQ0hfU1RPUkUpO1xuICB9XG4gIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBvYmplY3RTdG9yZXMsICdyZWFkb25seScpO1xuICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgcmV0dXJuIG9wdHMuY29tcGxldGUodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKG9wdHMuY29tcGxldGUpO1xuICB0eG4ub25jb21wbGV0ZSA9IG9uVHhuQ29tcGxldGU7XG5cbiAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICBkb2NJZFJldkluZGV4ID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcblxuICB2YXIga2V5UmFuZ2UgPSAob3B0cy5zaW5jZSAmJiAhb3B0cy5kZXNjZW5kaW5nKSA/XG4gICAgSURCS2V5UmFuZ2UubG93ZXJCb3VuZChvcHRzLnNpbmNlLCB0cnVlKSA6IG51bGw7XG5cbiAgcnVuQmF0Y2hlZEN1cnNvcihieVNlcVN0b3JlLCBrZXlSYW5nZSwgb3B0cy5kZXNjZW5kaW5nLCBsaW1pdCwgb25CYXRjaCk7XG59XG5cbnZhciBjYWNoZWREQnMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbnZhciBibG9iU3VwcG9ydFByb21pc2U7XG52YXIgb3BlblJlcUxpc3QgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuZnVuY3Rpb24gSWRiUG91Y2gob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKHRoaXNDYWxsYmFjaykge1xuICAgIGluaXQoYXBpLCBvcHRzLCB0aGlzQ2FsbGJhY2spO1xuICB9LCBjYWxsYmFjaywgYXBpLmNvbnN0cnVjdG9yKTtcbn1cblxuZnVuY3Rpb24gaW5pdChhcGksIG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZTtcblxuICB2YXIgaWRiID0gbnVsbDtcbiAgdmFyIGlkYkdsb2JhbEZhaWx1cmVFcnJvciA9IG51bGw7XG4gIGFwaS5fbWV0YSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHJlc3VsdCkge1xuICAgICAgaWYgKGVycm9yICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIWVycm9yLnJlYXNvbikge1xuICAgICAgICBpZiAoaWRiR2xvYmFsRmFpbHVyZUVycm9yKSB7XG4gICAgICAgICAgZXJyb3IucmVhc29uID0gaWRiR2xvYmFsRmFpbHVyZUVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKGVycm9yLCByZXN1bHQpO1xuICAgIH07XG4gIH1cblxuICAvLyBjYWxsZWQgd2hlbiBjcmVhdGluZyBhIGZyZXNoIG5ldyBkYXRhYmFzZVxuICBmdW5jdGlvbiBjcmVhdGVTY2hlbWEoZGIpIHtcbiAgICB2YXIgZG9jU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShET0NfU1RPUkUsIHtrZXlQYXRoIDogJ2lkJ30pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSwge2F1dG9JbmNyZW1lbnQ6IHRydWV9KVxuICAgICAgLmNyZWF0ZUluZGV4KCdfZG9jX2lkX3JldicsICdfZG9jX2lkX3JldicsIHt1bmlxdWU6IHRydWV9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUsIHtrZXlQYXRoOiAnZGlnZXN0J30pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKE1FVEFfU1RPUkUsIHtrZXlQYXRoOiAnaWQnLCBhdXRvSW5jcmVtZW50OiBmYWxzZX0pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpO1xuXG4gICAgLy8gYWRkZWQgaW4gdjJcbiAgICBkb2NTdG9yZS5jcmVhdGVJbmRleCgnZGVsZXRlZE9yTG9jYWwnLCAnZGVsZXRlZE9yTG9jYWwnLCB7dW5pcXVlIDogZmFsc2V9KTtcblxuICAgIC8vIGFkZGVkIGluIHYzXG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pO1xuXG4gICAgLy8gYWRkZWQgaW4gdjRcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDJcbiAgLy8gdW5mb3J0dW5hdGVseSBcImRlbGV0ZWRPckxvY2FsXCIgaXMgYSBtaXNub21lciBub3cgdGhhdCB3ZSBubyBsb25nZXJcbiAgLy8gc3RvcmUgbG9jYWwgZG9jcyBpbiB0aGUgbWFpbiBkb2Mtc3RvcmUsIGJ1dCB3aGFkZHlhZ29ubmFkb1xuICBmdW5jdGlvbiBhZGREZWxldGVkT3JMb2NhbEluZGV4KHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICBkb2NTdG9yZS5jcmVhdGVJbmRleCgnZGVsZXRlZE9yTG9jYWwnLCAnZGVsZXRlZE9yTG9jYWwnLCB7dW5pcXVlIDogZmFsc2V9KTtcblxuICAgIGRvY1N0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgbWV0YWRhdGEuZGVsZXRlZE9yTG9jYWwgPSBkZWxldGVkID8gXCIxXCIgOiBcIjBcIjtcbiAgICAgICAgZG9jU3RvcmUucHV0KG1ldGFkYXRhKTtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAzIChwYXJ0IDEpXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEoZGIpIHtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShMT0NBTF9TVE9SRSwge2tleVBhdGg6ICdfaWQnfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAzIChwYXJ0IDIpXG4gIGZ1bmN0aW9uIG1pZ3JhdGVMb2NhbFN0b3JlKHR4biwgY2IpIHtcbiAgICB2YXIgbG9jYWxTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG5cbiAgICB2YXIgY3Vyc29yID0gZG9jU3RvcmUub3BlbkN1cnNvcigpO1xuICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBkb2NJZCA9IG1ldGFkYXRhLmlkO1xuICAgICAgICB2YXIgbG9jYWwgPSBpc0xvY2FsSWQoZG9jSWQpO1xuICAgICAgICB2YXIgcmV2ID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gICAgICAgIGlmIChsb2NhbCkge1xuICAgICAgICAgIHZhciBkb2NJZFJldiA9IGRvY0lkICsgXCI6OlwiICsgcmV2O1xuICAgICAgICAgIC8vIHJlbW92ZSBhbGwgc2VxIGVudHJpZXNcbiAgICAgICAgICAvLyBhc3NvY2lhdGVkIHdpdGggdGhpcyBkb2NJZFxuICAgICAgICAgIHZhciBzdGFydCA9IGRvY0lkICsgXCI6OlwiO1xuICAgICAgICAgIHZhciBlbmQgPSBkb2NJZCArIFwiOjp+XCI7XG4gICAgICAgICAgdmFyIGluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICAgICAgdmFyIHJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICB2YXIgc2VxQ3Vyc29yID0gaW5kZXgub3BlbkN1cnNvcihyYW5nZSk7XG4gICAgICAgICAgc2VxQ3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzZXFDdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAoIXNlcUN1cnNvcikge1xuICAgICAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgICAgIGRvY1N0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBzZXFDdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChkYXRhLl9kb2NfaWRfcmV2ID09PSBkb2NJZFJldikge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmUucHV0KGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNlcVN0b3JlLmRlbGV0ZShzZXFDdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgIHNlcUN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNCAocGFydCAxKVxuICBmdW5jdGlvbiBhZGRBdHRhY2hBbmRTZXFTdG9yZShkYikge1xuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAge2F1dG9JbmNyZW1lbnQ6IHRydWV9KTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnc2VxJywgJ3NlcScpO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdkaWdlc3RTZXEnLCAnZGlnZXN0U2VxJywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNCAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlQXR0c0FuZFNlcXModHhuLCBjYWxsYmFjaykge1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG5cbiAgICAvLyBuZWVkIHRvIGFjdHVhbGx5IHBvcHVsYXRlIHRoZSB0YWJsZS4gdGhpcyBpcyB0aGUgZXhwZW5zaXZlIHBhcnQsXG4gICAgLy8gc28gYXMgYW4gb3B0aW1pemF0aW9uLCBjaGVjayBmaXJzdCB0aGF0IHRoaXMgZGF0YWJhc2UgZXZlblxuICAgIC8vIGNvbnRhaW5zIGF0dGFjaG1lbnRzXG4gICAgdmFyIHJlcSA9IGF0dFN0b3JlLmNvdW50KCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBkb25lXG4gICAgICB9XG5cbiAgICAgIHNlcVN0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBkb25lXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvYyA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIHNlcSA9IGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICB2YXIgYXR0cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMgfHwge30pO1xuICAgICAgICB2YXIgZGlnZXN0TWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2MuX2F0dGFjaG1lbnRzW2F0dHNbal1dO1xuICAgICAgICAgIGRpZ2VzdE1hcFthdHQuZGlnZXN0XSA9IHRydWU7IC8vIHVuaXEgZGlnZXN0cywganVzdCBpbiBjYXNlXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpZ2VzdHMgPSBPYmplY3Qua2V5cyhkaWdlc3RNYXApO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgZGlnZXN0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBkaWdlc3QgPSBkaWdlc3RzW2pdO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgICAgICBzZXE6IHNlcSxcbiAgICAgICAgICAgIGRpZ2VzdFNlcTogZGlnZXN0ICsgJzo6JyArIHNlcVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNVxuICAvLyBJbnN0ZWFkIG9mIHJlbHlpbmcgb24gb24tdGhlLWZseSBtaWdyYXRpb24gb2YgbWV0YWRhdGEsXG4gIC8vIHRoaXMgYnJpbmdzIHRoZSBkb2Mtc3RvcmUgdG8gaXRzIG1vZGVybiBmb3JtOlxuICAvLyAtIG1ldGFkYXRhLndpbm5pbmdyZXZcbiAgLy8gLSBtZXRhZGF0YS5zZXFcbiAgLy8gLSBzdHJpbmdpZnkgdGhlIG1ldGFkYXRhIHdoZW4gc3RvcmluZyBpdFxuICBmdW5jdGlvbiBtaWdyYXRlTWV0YWRhdGEodHhuKSB7XG5cbiAgICBmdW5jdGlvbiBkZWNvZGVNZXRhZGF0YUNvbXBhdChzdG9yZWRPYmplY3QpIHtcbiAgICAgIGlmICghc3RvcmVkT2JqZWN0LmRhdGEpIHtcbiAgICAgICAgLy8gb2xkIGZvcm1hdCwgd2hlbiB3ZSBkaWRuJ3Qgc3RvcmUgaXQgc3RyaW5naWZpZWRcbiAgICAgICAgc3RvcmVkT2JqZWN0LmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgICAgICAgcmV0dXJuIHN0b3JlZE9iamVjdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWNvZGVNZXRhZGF0YShzdG9yZWRPYmplY3QpO1xuICAgIH1cblxuICAgIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IG1ldGFkYXRhIGhhcyBhIHdpbm5pbmdSZXYgYW5kIHNlcSxcbiAgICAvLyB3aGljaCB3YXMgcHJldmlvdXNseSBjcmVhdGVkIG9uLXRoZS1mbHkgYnV0IGJldHRlciB0byBtaWdyYXRlXG4gICAgdmFyIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICB2YXIgY3Vyc29yID0gZG9jU3RvcmUub3BlbkN1cnNvcigpO1xuICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG9uZVxuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGFDb21wYXQoY3Vyc29yLnZhbHVlKTtcblxuICAgICAgbWV0YWRhdGEud2lubmluZ1JldiA9IG1ldGFkYXRhLndpbm5pbmdSZXYgfHxcbiAgICAgICAgd2lubmluZ1JldihtZXRhZGF0YSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZldGNoTWV0YWRhdGFTZXEoKSB7XG4gICAgICAgIC8vIG1ldGFkYXRhLnNlcSB3YXMgYWRkZWQgcG9zdC0zLjIuMCwgc28gaWYgaXQncyBtaXNzaW5nLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZldGNoIGl0IG1hbnVhbGx5XG4gICAgICAgIHZhciBzdGFydCA9IG1ldGFkYXRhLmlkICsgJzo6JztcbiAgICAgICAgdmFyIGVuZCA9IG1ldGFkYXRhLmlkICsgJzo6XFx1ZmZmZic7XG4gICAgICAgIHZhciByZXEgPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpLm9wZW5DdXJzb3IoXG4gICAgICAgICAgSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCkpO1xuXG4gICAgICAgIHZhciBtZXRhZGF0YVNlcSA9IDA7XG4gICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLnNlcSA9IG1ldGFkYXRhU2VxO1xuICAgICAgICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGFTZXEoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHNlcSA9IGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICAgIGlmIChzZXEgPiBtZXRhZGF0YVNlcSkge1xuICAgICAgICAgICAgbWV0YWRhdGFTZXEgPSBzZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhU2VxKCkge1xuICAgICAgICB2YXIgbWV0YWRhdGFUb1N0b3JlID0gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsXG4gICAgICAgICAgbWV0YWRhdGEud2lubmluZ1JldiwgbWV0YWRhdGEuZGVsZXRlZCk7XG5cbiAgICAgICAgdmFyIHJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAobWV0YWRhdGEuc2VxKSB7XG4gICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICB9XG5cbiAgICAgIGZldGNoTWV0YWRhdGFTZXEoKTtcbiAgICB9O1xuXG4gIH1cblxuICBhcGkuX3JlbW90ZSA9IGZhbHNlO1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2lkYic7XG4gIH07XG5cbiAgYXBpLl9pZCA9IHRvUHJvbWlzZShmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayhudWxsLCBhcGkuX21ldGEuaW5zdGFuY2VJZCk7XG4gIH0pO1xuXG4gIGFwaS5fYnVsa0RvY3MgPSBmdW5jdGlvbiBpZGJfYnVsa0RvY3MocmVxLCByZXFPcHRzLCBjYWxsYmFjaykge1xuICAgIGlkYkJ1bGtEb2NzKG9wdHMsIHJlcSwgcmVxT3B0cywgYXBpLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICAvLyBGaXJzdCB3ZSBsb29rIHVwIHRoZSBtZXRhZGF0YSBpbiB0aGUgaWRzIGRhdGFiYXNlLCB0aGVuIHdlIGZldGNoIHRoZVxuICAvLyBjdXJyZW50IHJldmlzaW9uKHMpIGZyb20gdGhlIGJ5IHNlcXVlbmNlIHN0b3JlXG4gIGFwaS5fZ2V0ID0gZnVuY3Rpb24gaWRiX2dldChpZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgZG9jO1xuICAgIHZhciBtZXRhZGF0YTtcbiAgICB2YXIgZXJyO1xuICAgIHZhciB0eG4gPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4bikge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsXG4gICAgICAgIFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgQVRUQUNIX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgICBjYWxsYmFjayhlcnIsIHtkb2M6IGRvYywgbWV0YWRhdGE6IG1ldGFkYXRhLCBjdHg6IHR4bn0pO1xuICAgIH1cblxuICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChpZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIC8vIHdlIGNhbiBkZXRlcm1pbmUgdGhlIHJlc3VsdCBoZXJlIGlmOlxuICAgICAgLy8gMS4gdGhlcmUgaXMgbm8gc3VjaCBkb2N1bWVudFxuICAgICAgLy8gMi4gdGhlIGRvY3VtZW50IGlzIGRlbGV0ZWQgYW5kIHdlIGRvbid0IGFzayBhYm91dCBzcGVjaWZpYyByZXZcbiAgICAgIC8vIFdoZW4gd2UgYXNrIHdpdGggb3B0cy5yZXYgd2UgZXhwZWN0IHRoZSBhbnN3ZXIgdG8gYmUgZWl0aGVyXG4gICAgICAvLyBkb2MgKHBvc3NpYmx5IHdpdGggX2RlbGV0ZWQ9dHJ1ZSkgb3IgbWlzc2luZyBlcnJvclxuICAgICAgaWYgKCFtZXRhZGF0YSkge1xuICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV2O1xuICAgICAgaWYgKCFvcHRzLnJldikge1xuICAgICAgICByZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsIFwiZGVsZXRlZFwiKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldiA9IG9wdHMubGF0ZXN0ID8gbGF0ZXN0KG9wdHMucmV2LCBtZXRhZGF0YSkgOiBvcHRzLnJldjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9iamVjdFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyAnOjonICsgcmV2O1xuXG4gICAgICBvYmplY3RTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICBkb2MgPSBkZWNvZGVEb2MoZG9jKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvYykge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnbWlzc2luZycpO1xuICAgICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2goKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2dldEF0dGFjaG1lbnQgPSBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaElkLCBhdHRhY2htZW50LCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG47XG4gICAgaWYgKG9wdHMuY3R4KSB7XG4gICAgICB0eG4gPSBvcHRzLmN0eDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsXG4gICAgICAgIFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgQVRUQUNIX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB9XG4gICAgdmFyIGRpZ2VzdCA9IGF0dGFjaG1lbnQuZGlnZXN0O1xuICAgIHZhciB0eXBlID0gYXR0YWNobWVudC5jb250ZW50X3R5cGU7XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGJvZHkgPSBlLnRhcmdldC5yZXN1bHQuYm9keTtcbiAgICAgIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBvcHRzLmJpbmFyeSwgZnVuY3Rpb24gKGJsb2JEYXRhKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGJsb2JEYXRhKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9pbmZvID0gZnVuY3Rpb24gaWRiX2luZm8oY2FsbGJhY2spIHtcbiAgICB2YXIgdXBkYXRlU2VxO1xuICAgIHZhciBkb2NDb3VudDtcblxuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTUVUQV9TVE9SRSwgQllfU0VRX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICAgIH07XG4gICAgdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSkub3BlbkN1cnNvcihudWxsLCAncHJldicpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdXBkYXRlU2VxID0gY3Vyc29yID8gY3Vyc29yLmtleSA6IDA7XG4gICAgfTtcblxuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICBkb2NfY291bnQ6IGRvY0NvdW50LFxuICAgICAgICB1cGRhdGVfc2VxOiB1cGRhdGVTZXEsXG4gICAgICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWRiX2F0dGFjaG1lbnRfZm9ybWF0OiAoYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2JpbmFyeScgOiAnYmFzZTY0JylcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9hbGxEb2NzID0gZnVuY3Rpb24gaWRiX2FsbERvY3Mob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykpO1xuICB9O1xuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIGlkYkNoYW5nZXMob3B0cykge1xuICAgIHJldHVybiBjaGFuZ2VzKG9wdHMsIGFwaSwgZGJOYW1lLCBpZGIpO1xuICB9O1xuXG4gIGFwaS5fY2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0luZGV4ZWREQi9JREJEYXRhYmFzZSNjbG9zZVxuICAgIC8vIFwiUmV0dXJucyBpbW1lZGlhdGVseSBhbmQgY2xvc2VzIHRoZSBjb25uZWN0aW9uIGluIGEgc2VwYXJhdGUgdGhyZWFkLi4uXCJcbiAgICBpZGIuY2xvc2UoKTtcbiAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2dldFJldmlzaW9uVHJlZSA9IGZ1bmN0aW9uIChkb2NJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0RPQ19TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuZ2V0KGRvY0lkKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZG9jID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZG9jLnJldl90cmVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyByZXZpc2lvbnMgb2YgZG9jdW1lbnQgZG9jSWRcbiAgLy8gd2hpY2ggYXJlIGxpc3RlZCBpbiByZXZzIGFuZCBzZXRzIHRoaXMgZG9jdW1lbnRcbiAgLy8gcmV2aXNpb24gdG8gdG8gcmV2X3RyZWVcbiAgYXBpLl9kb0NvbXBhY3Rpb24gPSBmdW5jdGlvbiAoZG9jSWQsIHJldnMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0b3JlcyA9IFtcbiAgICAgIERPQ19TVE9SRSxcbiAgICAgIEJZX1NFUV9TVE9SRSxcbiAgICAgIEFUVEFDSF9TVE9SRSxcbiAgICAgIEFUVEFDSF9BTkRfU0VRX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuXG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG5cbiAgICBkb2NTdG9yZS5nZXQoZG9jSWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICB0cmF2ZXJzZVJldlRyZWUobWV0YWRhdGEucmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgICAgaWYgKHJldnMuaW5kZXhPZihyZXYpICE9PSAtMSkge1xuICAgICAgICAgIG9wdHMuc3RhdHVzID0gJ21pc3NpbmcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pO1xuICAgICAgdmFyIHdpbm5pbmdSZXYkJDEgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgdmFyIGRlbGV0ZWQgPSBtZXRhZGF0YS5kZWxldGVkO1xuICAgICAgdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkucHV0KFxuICAgICAgICBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiQkMSwgZGVsZXRlZCkpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH07XG4gIH07XG5cblxuICBhcGkuX2dldExvY2FsID0gZnVuY3Rpb24gKGlkLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICB2YXIgcmVxID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBkb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGRvY1snX2RvY19pZF9yZXYnXTsgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZG9jKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fcHV0TG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBkZWxldGUgZG9jLl9yZXZpc2lvbnM7IC8vIGlnbm9yZSB0aGlzLCB0cnVzdCB0aGUgcmV2XG4gICAgdmFyIG9sZFJldiA9IGRvYy5fcmV2O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgaWYgKCFvbGRSZXYpIHtcbiAgICAgIGRvYy5fcmV2ID0gJzAtMSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fcmV2ID0gJzAtJyArIChwYXJzZUludChvbGRSZXYuc3BsaXQoJy0nKVsxXSwgMTApICsgMSk7XG4gICAgfVxuXG4gICAgdmFyIHR4ID0gb3B0cy5jdHg7XG4gICAgdmFyIHJldDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgICB0eC5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgb1N0b3JlID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciByZXE7XG4gICAgaWYgKG9sZFJldikge1xuICAgICAgcmVxID0gb1N0b3JlLmdldChpZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG9sZERvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFvbGREb2MgfHwgb2xkRG9jLl9yZXYgIT09IG9sZFJldikge1xuICAgICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICB9IGVsc2UgeyAvLyB1cGRhdGVcbiAgICAgICAgICB2YXIgcmVxID0gb1N0b3JlLnB1dChkb2MpO1xuICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7IC8vIG5ldyBkb2NcbiAgICAgIHJlcSA9IG9TdG9yZS5hZGQoZG9jKTtcbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gY29uc3RyYWludCBlcnJvciwgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgfTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgYXBpLl9yZW1vdmVMb2NhbCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIGlmICghdHgpIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdmFyIGlkID0gZG9jLl9pZDtcbiAgICB2YXIgb1N0b3JlID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciByZXEgPSBvU3RvcmUuZ2V0KGlkKTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIG9sZERvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBkb2MuX3Jldikge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb1N0b3JlLmRlbGV0ZShpZCk7XG4gICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGlkLCByZXY6ICcwLTAnfTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGNoYW5nZXNIYW5kbGVyLnJlbW92ZUFsbExpc3RlbmVycyhkYk5hbWUpO1xuXG4gICAgLy9DbG9zZSBvcGVuIHJlcXVlc3QgZm9yIFwiZGJOYW1lXCIgZGF0YWJhc2UgdG8gZml4IGllIGRlbGF5LlxuICAgIHZhciBvcGVuUmVxID0gb3BlblJlcUxpc3QuZ2V0KGRiTmFtZSk7XG4gICAgaWYgKG9wZW5SZXEgJiYgb3BlblJlcS5yZXN1bHQpIHtcbiAgICAgIG9wZW5SZXEucmVzdWx0LmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfVxuICAgIHZhciByZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGJOYW1lKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL1JlbW92ZSBvcGVuIHJlcXVlc3QgZnJvbSB0aGUgbGlzdC5cbiAgICAgIG9wZW5SZXFMaXN0LmRlbGV0ZShkYk5hbWUpO1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpICYmIChkYk5hbWUgaW4gbG9jYWxTdG9yYWdlKSkge1xuICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW2RiTmFtZV07XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCB7ICdvayc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB9O1xuXG4gIHZhciBjYWNoZWQgPSBjYWNoZWREQnMuZ2V0KGRiTmFtZSk7XG5cbiAgaWYgKGNhY2hlZCkge1xuICAgIGlkYiA9IGNhY2hlZC5pZGI7XG4gICAgYXBpLl9tZXRhID0gY2FjaGVkLmdsb2JhbDtcbiAgICByZXR1cm4gaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgcmVxID0gaW5kZXhlZERCLm9wZW4oZGJOYW1lLCBBREFQVEVSX1ZFUlNJT04pO1xuICBvcGVuUmVxTGlzdC5zZXQoZGJOYW1lLCByZXEpO1xuXG4gIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBkYiA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgMSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNjaGVtYShkYik7IC8vIG5ldyBkYiwgaW5pdGlhbCBzY2hlbWFcbiAgICB9XG4gICAgLy8gZG8gbWlncmF0aW9uc1xuXG4gICAgdmFyIHR4biA9IGUuY3VycmVudFRhcmdldC50cmFuc2FjdGlvbjtcbiAgICAvLyB0aGVzZSBtaWdyYXRpb25zIGhhdmUgdG8gYmUgZG9uZSBpbiB0aGlzIGZ1bmN0aW9uLCBiZWZvcmVcbiAgICAvLyBjb250cm9sIGlzIHJldHVybmVkIHRvIHRoZSBldmVudCBsb29wLCBiZWNhdXNlIEluZGV4ZWREQlxuXG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDMpIHtcbiAgICAgIGNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEoZGIpOyAvLyB2MiAtPiB2M1xuICAgIH1cbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgNCkge1xuICAgICAgYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpOyAvLyB2MyAtPiB2NFxuICAgIH1cblxuICAgIHZhciBtaWdyYXRpb25zID0gW1xuICAgICAgYWRkRGVsZXRlZE9yTG9jYWxJbmRleCwgLy8gdjEgLT4gdjJcbiAgICAgIG1pZ3JhdGVMb2NhbFN0b3JlLCAgICAgIC8vIHYyIC0+IHYzXG4gICAgICBtaWdyYXRlQXR0c0FuZFNlcXMsICAgICAvLyB2MyAtPiB2NFxuICAgICAgbWlncmF0ZU1ldGFkYXRhICAgICAgICAgLy8gdjQgLT4gdjVcbiAgICBdO1xuXG4gICAgdmFyIGkgPSBlLm9sZFZlcnNpb247XG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgdmFyIG1pZ3JhdGlvbiA9IG1pZ3JhdGlvbnNbaSAtIDFdO1xuICAgICAgaSsrO1xuICAgICAgaWYgKG1pZ3JhdGlvbikge1xuICAgICAgICBtaWdyYXRpb24odHhuLCBuZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0KCk7XG4gIH07XG5cbiAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICBpZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG5cbiAgICBpZGIub252ZXJzaW9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWRiLmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfTtcblxuICAgIGlkYi5vbmFib3J0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdEYXRhYmFzZSBoYXMgYSBnbG9iYWwgZmFpbHVyZScsIGUudGFyZ2V0LmVycm9yKTtcbiAgICAgIGlkYkdsb2JhbEZhaWx1cmVFcnJvciA9IGUudGFyZ2V0LmVycm9yO1xuICAgICAgaWRiLmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfTtcblxuICAgIC8vIERvIGEgZmV3IHNldHVwIG9wZXJhdGlvbnMgKGluIHBhcmFsbGVsIGFzIG11Y2ggYXMgcG9zc2libGUpOlxuICAgIC8vIDEuIEZldGNoIG1ldGEgZG9jXG4gICAgLy8gMi4gQ2hlY2sgYmxvYiBzdXBwb3J0XG4gICAgLy8gMy4gQ2FsY3VsYXRlIGRvY0NvdW50XG4gICAgLy8gNC4gR2VuZXJhdGUgYW4gaW5zdGFuY2VJZCBpZiBuZWNlc3NhcnlcbiAgICAvLyA1LiBTdG9yZSBkb2NDb3VudCBhbmQgaW5zdGFuY2VJZCBvbiBtZXRhIGRvY1xuXG4gICAgdmFyIHR4biA9IGlkYi50cmFuc2FjdGlvbihbXG4gICAgICBNRVRBX1NUT1JFLFxuICAgICAgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSxcbiAgICAgIERPQ19TVE9SRVxuICAgIF0sICdyZWFkd3JpdGUnKTtcblxuICAgIHZhciBzdG9yZWRNZXRhRG9jID0gZmFsc2U7XG4gICAgdmFyIG1ldGFEb2M7XG4gICAgdmFyIGRvY0NvdW50O1xuICAgIHZhciBibG9iU3VwcG9ydDtcbiAgICB2YXIgaW5zdGFuY2VJZDtcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlU2V0dXAoKSB7XG4gICAgICBpZiAodHlwZW9mIGJsb2JTdXBwb3J0ID09PSAndW5kZWZpbmVkJyB8fCAhc3RvcmVkTWV0YURvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkuX21ldGEgPSB7XG4gICAgICAgIG5hbWU6IGRiTmFtZSxcbiAgICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2VJZCxcbiAgICAgICAgYmxvYlN1cHBvcnQ6IGJsb2JTdXBwb3J0XG4gICAgICB9O1xuXG4gICAgICBjYWNoZWREQnMuc2V0KGRiTmFtZSwge1xuICAgICAgICBpZGI6IGlkYixcbiAgICAgICAgZ2xvYmFsOiBhcGkuX21ldGFcbiAgICAgIH0pO1xuICAgICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9yZU1ldGFEb2NJZlJlYWR5KCkge1xuICAgICAgaWYgKHR5cGVvZiBkb2NDb3VudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIG1ldGFEb2MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbnN0YW5jZUtleSA9IGRiTmFtZSArICdfaWQnO1xuICAgICAgaWYgKGluc3RhbmNlS2V5IGluIG1ldGFEb2MpIHtcbiAgICAgICAgaW5zdGFuY2VJZCA9IG1ldGFEb2NbaW5zdGFuY2VLZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0YURvY1tpbnN0YW5jZUtleV0gPSBpbnN0YW5jZUlkID0gdXVpZCgpO1xuICAgICAgfVxuICAgICAgbWV0YURvYy5kb2NDb3VudCA9IGRvY0NvdW50O1xuICAgICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLnB1dChtZXRhRG9jKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGZldGNoIG9yIGdlbmVyYXRlIHRoZSBpbnN0YW5jZUlkXG4gICAgLy9cbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhRG9jID0gZS50YXJnZXQucmVzdWx0IHx8IHsgaWQ6IE1FVEFfU1RPUkUgfTtcbiAgICAgIHN0b3JlTWV0YURvY0lmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgLy9cbiAgICAvLyBjb3VudERvY3NcbiAgICAvL1xuICAgIGNvdW50RG9jcyh0eG4sIGZ1bmN0aW9uIChjb3VudCkge1xuICAgICAgZG9jQ291bnQgPSBjb3VudDtcbiAgICAgIHN0b3JlTWV0YURvY0lmUmVhZHkoKTtcbiAgICB9KTtcblxuICAgIC8vXG4gICAgLy8gY2hlY2sgYmxvYiBzdXBwb3J0XG4gICAgLy9cbiAgICBpZiAoIWJsb2JTdXBwb3J0UHJvbWlzZSkge1xuICAgICAgLy8gbWFrZSBzdXJlIGJsb2Igc3VwcG9ydCBpcyBvbmx5IGNoZWNrZWQgb25jZVxuICAgICAgYmxvYlN1cHBvcnRQcm9taXNlID0gY2hlY2tCbG9iU3VwcG9ydCh0eG4pO1xuICAgIH1cblxuICAgIGJsb2JTdXBwb3J0UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIGJsb2JTdXBwb3J0ID0gdmFsO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH0pO1xuXG4gICAgLy8gb25seSB3aGVuIHRoZSBtZXRhZGF0YSBwdXQgdHJhbnNhY3Rpb24gaGFzIGNvbXBsZXRlZCxcbiAgICAvLyBjb25zaWRlciB0aGUgc2V0dXAgZG9uZVxuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc3RvcmVkTWV0YURvYyA9IHRydWU7XG4gICAgICBjb21wbGV0ZVNldHVwKCk7XG4gICAgfTtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1zZyA9IGUudGFyZ2V0LmVycm9yICYmIGUudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG5cbiAgICBpZiAoIW1zZykge1xuICAgICAgbXNnID0gJ0ZhaWxlZCB0byBvcGVuIGluZGV4ZWREQiwgYXJlIHlvdSBpbiBwcml2YXRlIGJyb3dzaW5nIG1vZGU/JztcbiAgICB9IGVsc2UgaWYgKG1zZy5pbmRleE9mKFwic3RvcmVkIGRhdGFiYXNlIGlzIGEgaGlnaGVyIHZlcnNpb25cIikgIT09IC0xKSB7XG4gICAgICBtc2cgPSBuZXcgRXJyb3IoJ1RoaXMgREIgd2FzIGNyZWF0ZWQgd2l0aCB0aGUgbmV3ZXIgXCJpbmRleGVkZGJcIiBhZGFwdGVyLCBidXQgeW91IGFyZSB0cnlpbmcgdG8gb3BlbiBpdCB3aXRoIHRoZSBvbGRlciBcImlkYlwiIGFkYXB0ZXInKTtcbiAgICB9XG5cbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBtc2cpO1xuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbXNnKSk7XG4gIH07XG59XG5cbklkYlBvdWNoLnZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAvLyBGb2xsb3dpbmcgIzcwODUgYnVnZ3kgaWRiIHZlcnNpb25zICh0eXBpY2FsbHkgU2FmYXJpIDwgMTAuMSkgYXJlXG4gIC8vIGNvbnNpZGVyZWQgdmFsaWQuXG5cbiAgLy8gT24gRmlyZWZveCBTZWN1cml0eUVycm9yIGlzIHRocm93biB3aGlsZSByZWZlcmVuY2luZyBpbmRleGVkREIgaWYgY29va2llc1xuICAvLyBhcmUgbm90IGFsbG93ZWQuIGB0eXBlb2YgaW5kZXhlZERCYCBhbHNvIHRyaWdnZXJzIHRoZSBlcnJvci5cbiAgdHJ5IHtcbiAgICAvLyBzb21lIG91dGRhdGVkIGltcGxlbWVudGF0aW9ucyBvZiBJREIgdGhhdCBhcHBlYXIgb24gU2Ftc3VuZ1xuICAgIC8vIGFuZCBIVEMgQW5kcm9pZCBkZXZpY2VzIDw0LjQgYXJlIG1pc3NpbmcgSURCS2V5UmFuZ2VcbiAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIElEQktleVJhbmdlICE9PSAndW5kZWZpbmVkJztcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZnVuY3Rpb24gSURCUG91Y2ggKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdpZGInLCBJZGJQb3VjaCwgdHJ1ZSk7XG59XG5cbi8vIGRlYWQgc2ltcGxlIHByb21pc2UgcG9vbCwgaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL3RpbWRwL2VzNi1wcm9taXNlLXBvb2xcbi8vIGJ1dCBtdWNoIHNtYWxsZXIgaW4gY29kZSBzaXplLiBsaW1pdHMgdGhlIG51bWJlciBvZiBjb25jdXJyZW50IHByb21pc2VzIHRoYXQgYXJlIGV4ZWN1dGVkXG5cblxuZnVuY3Rpb24gcG9vbChwcm9taXNlRmFjdG9yaWVzLCBsaW1pdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBydW5uaW5nID0gMDtcbiAgICB2YXIgY3VycmVudCA9IDA7XG4gICAgdmFyIGRvbmUgPSAwO1xuICAgIHZhciBsZW4gPSBwcm9taXNlRmFjdG9yaWVzLmxlbmd0aDtcbiAgICB2YXIgZXJyO1xuXG4gICAgZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgIHJ1bm5pbmcrKztcbiAgICAgIHByb21pc2VGYWN0b3JpZXNbY3VycmVudCsrXSgpLnRoZW4ob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb05leHQoKSB7XG4gICAgICBpZiAoKytkb25lID09PSBsZW4pIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJ1bk5leHRCYXRjaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtcbiAgICAgIHJ1bm5pbmctLTtcbiAgICAgIGRvTmV4dCgpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gb25FcnJvcih0aGlzRXJyKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBlcnIgPSBlcnIgfHwgdGhpc0VycjtcbiAgICAgIGRvTmV4dCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bk5leHRCYXRjaCgpIHtcbiAgICAgIHdoaWxlIChydW5uaW5nIDwgbGltaXQgJiYgY3VycmVudCA8IGxlbikge1xuICAgICAgICBydW5OZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcnVuTmV4dEJhdGNoKCk7XG4gIH0pO1xufVxuXG52YXIgQ0hBTkdFU19CQVRDSF9TSVpFID0gMjU7XG52YXIgTUFYX1NJTVVMVEFORU9VU19SRVZTID0gNTA7XG52YXIgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiA9IDUwMDA7XG52YXIgREVGQVVMVF9IRUFSVEJFQVQgPSAxMDAwMDtcblxudmFyIHN1cHBvcnRzQnVsa0dldE1hcCA9IHt9O1xuXG5mdW5jdGlvbiByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyb3cpIHtcbiAgdmFyIGRvYyA9IHJvdy5kb2MgfHwgcm93Lm9rO1xuICB2YXIgYXR0cyA9IGRvYyAmJiBkb2MuX2F0dGFjaG1lbnRzO1xuICBpZiAoIWF0dHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgYXR0LmRhdGEgPSBiNjRUb0JsdWZmZXIoYXR0LmRhdGEsIGF0dC5jb250ZW50X3R5cGUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlRG9jSWQoaWQpIHtcbiAgaWYgKC9eX2Rlc2lnbi8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19kZXNpZ24vJyArIGVuY29kZVVSSUNvbXBvbmVudChpZC5zbGljZSg4KSk7XG4gIH1cbiAgaWYgKC9eX2xvY2FsLy50ZXN0KGlkKSkge1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoNykpO1xuICB9XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoaWQpO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudHMkMShkb2MpIHtcbiAgaWYgKCFkb2MuX2F0dGFjaG1lbnRzIHx8ICFPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBhdHRhY2htZW50ID0gZG9jLl9hdHRhY2htZW50c1trZXldO1xuICAgIGlmIChhdHRhY2htZW50LmRhdGEgJiYgdHlwZW9mIGF0dGFjaG1lbnQuZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBibG9iVG9CYXNlNjQoYXR0YWNobWVudC5kYXRhLCByZXNvbHZlKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHRhY2htZW50LmRhdGEgPSBiNjQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gaGFzVXJsUHJlZml4KG9wdHMpIHtcbiAgaWYgKCFvcHRzLnByZWZpeCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG9jb2wgPSBwYXJzZVVyaShvcHRzLnByZWZpeCkucHJvdG9jb2w7XG4gIHJldHVybiBwcm90b2NvbCA9PT0gJ2h0dHAnIHx8IHByb3RvY29sID09PSAnaHR0cHMnO1xufVxuXG4vLyBHZXQgYWxsIHRoZSBpbmZvcm1hdGlvbiB5b3UgcG9zc2libHkgY2FuIGFib3V0IHRoZSBVUkkgZ2l2ZW4gYnkgbmFtZSBhbmRcbi8vIHJldHVybiBpdCBhcyBhIHN1aXRhYmxlIG9iamVjdC5cbmZ1bmN0aW9uIGdldEhvc3QobmFtZSwgb3B0cykge1xuICAvLyBlbmNvZGUgZGIgbmFtZSBpZiBvcHRzLnByZWZpeCBpcyBhIHVybCAoIzU1NzQpXG4gIGlmIChoYXNVcmxQcmVmaXgob3B0cykpIHtcbiAgICB2YXIgZGJOYW1lID0gb3B0cy5uYW1lLnN1YnN0cihvcHRzLnByZWZpeC5sZW5ndGgpO1xuICAgIC8vIEVuc3VyZSBwcmVmaXggaGFzIGEgdHJhaWxpbmcgc2xhc2hcbiAgICB2YXIgcHJlZml4ID0gb3B0cy5wcmVmaXgucmVwbGFjZSgvXFwvPyQvLCAnLycpO1xuICAgIG5hbWUgPSBwcmVmaXggKyBlbmNvZGVVUklDb21wb25lbnQoZGJOYW1lKTtcbiAgfVxuXG4gIHZhciB1cmkgPSBwYXJzZVVyaShuYW1lKTtcbiAgaWYgKHVyaS51c2VyIHx8IHVyaS5wYXNzd29yZCkge1xuICAgIHVyaS5hdXRoID0ge3VzZXJuYW1lOiB1cmkudXNlciwgcGFzc3dvcmQ6IHVyaS5wYXNzd29yZH07XG4gIH1cblxuICAvLyBTcGxpdCB0aGUgcGF0aCBwYXJ0IG9mIHRoZSBVUkkgaW50byBwYXJ0cyB1c2luZyAnLycgYXMgdGhlIGRlbGltaXRlclxuICAvLyBhZnRlciByZW1vdmluZyBhbnkgbGVhZGluZyAnLycgYW5kIGFueSB0cmFpbGluZyAnLydcbiAgdmFyIHBhcnRzID0gdXJpLnBhdGgucmVwbGFjZSgvKF5cXC98XFwvJCkvZywgJycpLnNwbGl0KCcvJyk7XG5cbiAgdXJpLmRiID0gcGFydHMucG9wKCk7XG4gIC8vIFByZXZlbnQgZG91YmxlIGVuY29kaW5nIG9mIFVSSSBjb21wb25lbnRcbiAgaWYgKHVyaS5kYi5pbmRleE9mKCclJykgPT09IC0xKSB7XG4gICAgdXJpLmRiID0gZW5jb2RlVVJJQ29tcG9uZW50KHVyaS5kYik7XG4gIH1cblxuICB1cmkucGF0aCA9IHBhcnRzLmpvaW4oJy8nKTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlbkRCVXJsKG9wdHMsIHBhdGgpIHtcbiAgcmV0dXJuIGdlblVybChvcHRzLCBvcHRzLmRiICsgJy8nICsgcGF0aCk7XG59XG5cbi8vIEdlbmVyYXRlIGEgVVJMIHdpdGggdGhlIGhvc3QgZGF0YSBnaXZlbiBieSBvcHRzIGFuZCB0aGUgZ2l2ZW4gcGF0aFxuZnVuY3Rpb24gZ2VuVXJsKG9wdHMsIHBhdGgpIHtcbiAgLy8gSWYgdGhlIGhvc3QgYWxyZWFkeSBoYXMgYSBwYXRoLCB0aGVuIHdlIG5lZWQgdG8gaGF2ZSBhIHBhdGggZGVsaW1pdGVyXG4gIC8vIE90aGVyd2lzZSwgdGhlIHBhdGggZGVsaW1pdGVyIGlzIHRoZSBlbXB0eSBzdHJpbmdcbiAgdmFyIHBhdGhEZWwgPSAhb3B0cy5wYXRoID8gJycgOiAnLyc7XG5cbiAgLy8gSWYgdGhlIGhvc3QgYWxyZWFkeSBoYXMgYSBwYXRoLCB0aGVuIHdlIG5lZWQgdG8gaGF2ZSBhIHBhdGggZGVsaW1pdGVyXG4gIC8vIE90aGVyd2lzZSwgdGhlIHBhdGggZGVsaW1pdGVyIGlzIHRoZSBlbXB0eSBzdHJpbmdcbiAgcmV0dXJuIG9wdHMucHJvdG9jb2wgKyAnOi8vJyArIG9wdHMuaG9zdCArXG4gICAgICAgICAob3B0cy5wb3J0ID8gKCc6JyArIG9wdHMucG9ydCkgOiAnJykgK1xuICAgICAgICAgJy8nICsgb3B0cy5wYXRoICsgcGF0aERlbCArIHBhdGg7XG59XG5cbmZ1bmN0aW9uIHBhcmFtc1RvU3RyKHBhcmFtcykge1xuICByZXR1cm4gJz8nICsgT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba10pO1xuICB9KS5qb2luKCcmJyk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZENhY2hlQnVzdChvcHRzKSB7XG4gIHZhciB1YSA9ICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50KSA/XG4gICAgICBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgdmFyIGlzSUUgPSB1YS5pbmRleE9mKCdtc2llJykgIT09IC0xO1xuICB2YXIgaXNUcmlkZW50ID0gdWEuaW5kZXhPZigndHJpZGVudCcpICE9PSAtMTtcbiAgdmFyIGlzRWRnZSA9IHVhLmluZGV4T2YoJ2VkZ2UnKSAhPT0gLTE7XG4gIHZhciBpc0dFVCA9ICEoJ21ldGhvZCcgaW4gb3B0cykgfHwgb3B0cy5tZXRob2QgPT09ICdHRVQnO1xuICByZXR1cm4gKGlzSUUgfHwgaXNUcmlkZW50IHx8IGlzRWRnZSkgJiYgaXNHRVQ7XG59XG5cbi8vIEltcGxlbWVudHMgdGhlIFBvdWNoREIgQVBJIGZvciBkZWFsaW5nIHdpdGggQ291Y2hEQiBpbnN0YW5jZXMgb3ZlciBIVFRQXG5mdW5jdGlvbiBIdHRwUG91Y2gob3B0cywgY2FsbGJhY2spIHtcblxuICAvLyBUaGUgZnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBwdWJsaWNseSBhdmFpbGFibGUgZm9yIEh0dHBQb3VjaFxuICB2YXIgYXBpID0gdGhpcztcblxuICB2YXIgaG9zdCA9IGdldEhvc3Qob3B0cy5uYW1lLCBvcHRzKTtcbiAgdmFyIGRiVXJsID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuXG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICB2YXIgb3VyRmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIG9wdGlvbnMuY3JlZGVudGlhbHMgPSAnaW5jbHVkZSc7XG5cbiAgICBpZiAob3B0cy5hdXRoIHx8IGhvc3QuYXV0aCkge1xuICAgICAgdmFyIG5BdXRoID0gb3B0cy5hdXRoIHx8IGhvc3QuYXV0aDtcbiAgICAgIHZhciBzdHIgPSBuQXV0aC51c2VybmFtZSArICc6JyArIG5BdXRoLnBhc3N3b3JkO1xuICAgICAgdmFyIHRva2VuID0gdGhpc0J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpKTtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIHRva2VuKTtcbiAgICB9XG5cbiAgICB2YXIgaGVhZGVycyA9IG9wdHMuaGVhZGVycyB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5hcHBlbmQoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgIH0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNob3VsZENhY2hlQnVzdChvcHRpb25zKSkge1xuICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyAnX25vbmNlPScgKyBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIHZhciBmZXRjaEZ1biA9IG9wdHMuZmV0Y2ggfHwgZiQxO1xuICAgIHJldHVybiBmZXRjaEZ1bih1cmwsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFkYXB0ZXJGdW4kJDEobmFtZSwgZnVuKSB7XG4gICAgcmV0dXJuIGFkYXB0ZXJGdW4obmFtZSwgZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICB9KTtcbiAgICB9KSkuYmluZChhcGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hKU09OKHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCBuZXcgaCgpO1xuXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMuZ2V0KCdBY2NlcHQnKSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3VyRmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmVzdWx0Lm9rID0gcmVzcG9uc2Uub2s7XG4gICAgICByZXN1bHQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICByZXN1bHQuZGF0YSA9IGpzb247XG4gICAgICBpZiAoIXJlc3VsdC5vaykge1xuICAgICAgICByZXN1bHQuZGF0YS5zdGF0dXMgPSByZXN1bHQuc3RhdHVzO1xuICAgICAgICB2YXIgZXJyID0gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQuZGF0YSk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YSkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGEgPSByZXN1bHQuZGF0YS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBpZiAodi5lcnJvciB8fCB2Lm1pc3NpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzZXR1cFByb21pc2U7XG5cbiAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgaWYgKG9wdHMuc2tpcF9zZXR1cCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIGEgc2V0dXAgaW4gcHJvY2VzcyBvciBwcmV2aW91cyBzdWNjZXNzZnVsIHNldHVwXG4gICAgLy8gZG9uZSB0aGVuIHdlIHdpbGwgdXNlIHRoYXRcbiAgICAvLyBJZiBwcmV2aW91cyBzZXR1cHMgaGF2ZSBiZWVuIHJlamVjdGVkIHdlIHdpbGwgdHJ5IGFnYWluXG4gICAgaWYgKHNldHVwUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHNldHVwUHJvbWlzZTtcbiAgICB9XG5cbiAgICBzZXR1cFByb21pc2UgPSBmZXRjaEpTT04oZGJVcmwpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyAmJiBlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgLy8gRG9lc250IGV4aXN0LCBjcmVhdGUgaXRcbiAgICAgICAgZXhwbGFpbkVycm9yKDQwNCwgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSBleGlzdHMuJyk7XG4gICAgICAgIHJldHVybiBmZXRjaEpTT04oZGJVcmwsIHttZXRob2Q6ICdQVVQnfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvLyBJZiB3ZSB0cnkgdG8gY3JlYXRlIGEgZGF0YWJhc2UgdGhhdCBhbHJlYWR5IGV4aXN0cywgc2tpcHBlZCBpblxuICAgICAgLy8gaXN0YW5idWwgc2luY2UgaXRzIGNhdGNoaW5nIGEgcmFjZSBjb25kaXRpb24uXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyAmJiBlcnIuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTtcblxuICAgIHNldHVwUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICBzZXR1cFByb21pc2UgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNldHVwUHJvbWlzZTtcbiAgfVxuXG4gIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgfSk7XG5cbiAgYXBpLl9yZW1vdGUgPSB0cnVlO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGFwaS50eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnaHR0cCc7XG4gIH07XG5cbiAgYXBpLmlkID0gYWRhcHRlckZ1biQkMSgnaWQnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBvdXJGZXRjaChnZW5VcmwoaG9zdCwgJycpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAvLyBCYWQgcmVzcG9uc2Ugb3IgbWlzc2luZyBgdXVpZGAgc2hvdWxkIG5vdCBwcmV2ZW50IElEIGdlbmVyYXRpb24uXG4gICAgICB2YXIgdXVpZCQkMSA9IChyZXN1bHQgJiYgcmVzdWx0LnV1aWQpID9cbiAgICAgICAgICAocmVzdWx0LnV1aWQgKyBob3N0LmRiKSA6IGdlbkRCVXJsKGhvc3QsICcnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHV1aWQkJDEpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBTZW5kcyBhIFBPU1QgcmVxdWVzdCB0byB0aGUgaG9zdCBjYWxsaW5nIHRoZSBjb3VjaGRiIF9jb21wYWN0IGZ1bmN0aW9uXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuY29tcGFjdCA9IGFkYXB0ZXJGdW4kJDEoJ2NvbXBhY3QnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfY29tcGFjdCcpLCB7bWV0aG9kOiAnUE9TVCd9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHBpbmcoKSB7XG4gICAgICAgIGFwaS5pbmZvKGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIC8vIENvdWNoREIgbWF5IHNlbmQgYSBcImNvbXBhY3RfcnVubmluZzp0cnVlXCIgaWYgaXQnc1xuICAgICAgICAgIC8vIGFscmVhZHkgY29tcGFjdGluZy4gUG91Y2hEQiBTZXJ2ZXIgZG9lc24ndC5cbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChyZXMgJiYgIXJlcy5jb21wYWN0X3J1bm5pbmcpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHBpbmcsIG9wdHMuaW50ZXJ2YWwgfHwgMjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gUGluZyB0aGUgaHR0cCBpZiBpdCdzIGZpbmlzaGVkIGNvbXBhY3Rpb25cbiAgICAgIHBpbmcoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgYXBpLmJ1bGtHZXQgPSBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZG9CdWxrR2V0KGNiKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5sYXRlc3QpIHtcbiAgICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgICB9XG4gICAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2dldCcgKyBwYXJhbXNUb1N0cihwYXJhbXMpKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBkb2NzOiBvcHRzLmRvY3N9KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgcmVzdWx0LmRhdGEucmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIHJlcy5kb2NzLmZvckVhY2gocmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNiKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0pLmNhdGNoKGNiKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIGRvQnVsa0dldFNoaW0oKSB7XG4gICAgICAvLyBhdm9pZCBcInVybCB0b28gbG9uZyBlcnJvclwiIGJ5IHNwbGl0dGluZyB1cCBpbnRvIG11bHRpcGxlIHJlcXVlc3RzXG4gICAgICB2YXIgYmF0Y2hTaXplID0gTUFYX1NJTVVMVEFORU9VU19SRVZTO1xuICAgICAgdmFyIG51bUJhdGNoZXMgPSBNYXRoLmNlaWwob3B0cy5kb2NzLmxlbmd0aCAvIGJhdGNoU2l6ZSk7XG4gICAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShudW1CYXRjaGVzKTtcblxuICAgICAgZnVuY3Rpb24gb25SZXN1bHQoYmF0Y2hOdW0pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIC8vIGVyciBpcyBpbXBvc3NpYmxlIGJlY2F1c2Ugc2hpbSByZXR1cm5zIGEgbGlzdCBvZiBlcnJzIGluIHRoYXQgY2FzZVxuICAgICAgICAgIHJlc3VsdHNbYmF0Y2hOdW1dID0gcmVzLnJlc3VsdHM7XG4gICAgICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gbnVtQmF0Y2hlcykge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IGZsYXR0ZW4ocmVzdWx0cyl9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQmF0Y2hlczsgaSsrKSB7XG4gICAgICAgIHZhciBzdWJPcHRzID0gcGljayhvcHRzLCBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2xhdGVzdCddKTtcbiAgICAgICAgc3ViT3B0cy5kb2NzID0gb3B0cy5kb2NzLnNsaWNlKGkgKiBiYXRjaFNpemUsXG4gICAgICAgICAgTWF0aC5taW4ob3B0cy5kb2NzLmxlbmd0aCwgKGkgKyAxKSAqIGJhdGNoU2l6ZSkpO1xuICAgICAgICBidWxrR2V0KHNlbGYsIHN1Yk9wdHMsIG9uUmVzdWx0KGkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtYXJrIHRoZSB3aG9sZSBkYXRhYmFzZSBhcyBlaXRoZXIgc3VwcG9ydGluZyBvciBub3Qgc3VwcG9ydGluZyBfYnVsa19nZXRcbiAgICB2YXIgZGJVcmwgPSBnZW5VcmwoaG9zdCwgJycpO1xuICAgIHZhciBzdXBwb3J0c0J1bGtHZXQgPSBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIHN1cHBvcnRzQnVsa0dldCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAvLyBjaGVjayBpZiB0aGlzIGRhdGFiYXNlIHN1cHBvcnRzIF9idWxrX2dldFxuICAgICAgZG9CdWxrR2V0KGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IGZhbHNlO1xuICAgICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICAgIGVyci5zdGF0dXMsXG4gICAgICAgICAgICAnUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlICcgK1xuICAgICAgICAgICAgJ3N1cHBvcnRzIHRoZSBfYnVsa19nZXQgQVBJLidcbiAgICAgICAgICApO1xuICAgICAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdID0gdHJ1ZTtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRzQnVsa0dldCkge1xuICAgICAgZG9CdWxrR2V0KGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9CdWxrR2V0U2hpbSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQ2FsbHMgR0VUIG9uIHRoZSBob3N0LCB3aGljaCBnZXRzIGJhY2sgYSBKU09OIHN0cmluZyBjb250YWluaW5nXG4gIC8vICAgIGNvdWNoZGI6IEEgd2VsY29tZSBzdHJpbmdcbiAgLy8gICAgdmVyc2lvbjogVGhlIHZlcnNpb24gb2YgQ291Y2hEQiBpdCBpcyBydW5uaW5nXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb3VyRmV0Y2goZ2VuREJVcmwoaG9zdCwgJycpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICBpbmZvLmhvc3QgPSBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH07XG5cbiAgYXBpLmZldGNoID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB1cmwgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nID9cbiAgICAgICAgZ2VuVXJsKGhvc3QsIHBhdGguc3Vic3RyaW5nKDEpKSA6XG4gICAgICAgIGdlbkRCVXJsKGhvc3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICAvLyBUaGUgaWQgY291bGQgYmUgc29sZWx5IHRoZSBfaWQgaW4gdGhlIGRhdGFiYXNlLCBvciBpdCBtYXkgYmUgYVxuICAvLyBfZGVzaWduL0lEIG9yIF9sb2NhbC9JRCBwYXRoXG4gIGFwaS5nZXQgPSBhZGFwdGVyRnVuJCQxKCdnZXQnLCBmdW5jdGlvbiAoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIEdFVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuXG4gICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgcGFyYW1zLnJldnMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldnNfaW5mbykge1xuICAgICAgcGFyYW1zLnJldnNfaW5mbyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICBwYXJhbXMubGF0ZXN0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5vcGVuX3JldnMpIHtcbiAgICAgIGlmIChvcHRzLm9wZW5fcmV2cyAhPT0gXCJhbGxcIikge1xuICAgICAgICBvcHRzLm9wZW5fcmV2cyA9IEpTT04uc3RyaW5naWZ5KG9wdHMub3Blbl9yZXZzKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5vcGVuX3JldnMgPSBvcHRzLm9wZW5fcmV2cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXYpIHtcbiAgICAgIHBhcmFtcy5yZXYgPSBvcHRzLnJldjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSBvcHRzLmNvbmZsaWN0cztcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IG9wdHMudXBkYXRlX3NlcTtcbiAgICB9XG5cbiAgICBpZCA9IGVuY29kZURvY0lkKGlkKTtcblxuICAgIGZ1bmN0aW9uIGZldGNoQXR0YWNobWVudHMoZG9jKSB7XG4gICAgICB2YXIgYXR0cyA9IGRvYy5fYXR0YWNobWVudHM7XG4gICAgICB2YXIgZmlsZW5hbWVzID0gYXR0cyAmJiBPYmplY3Qua2V5cyhhdHRzKTtcbiAgICAgIGlmICghYXR0cyB8fCAhZmlsZW5hbWVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyB3ZSBmZXRjaCB0aGVzZSBtYW51YWxseSBpbiBzZXBhcmF0ZSBYSFJzLCBiZWNhdXNlXG4gICAgICAvLyBTeW5jIEdhdGV3YXkgd291bGQgbm9ybWFsbHkgc2VuZCBpdCBiYWNrIGFzIG11bHRpcGFydC9taXhlZCxcbiAgICAgIC8vIHdoaWNoIHdlIGNhbm5vdCBwYXJzZS4gQWxzbywgdGhpcyBpcyBtb3JlIGVmZmljaWVudCB0aGFuXG4gICAgICAvLyByZWNlaXZpbmcgYXR0YWNobWVudHMgYXMgYmFzZTY0LWVuY29kZWQgc3RyaW5ncy5cbiAgICAgIGZ1bmN0aW9uIGZldGNoRGF0YShmaWxlbmFtZSkge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgICAgIHZhciBwYXRoID0gZW5jb2RlRG9jSWQoZG9jLl9pZCkgKyAnLycgKyBlbmNvZGVBdHRhY2htZW50SWQoZmlsZW5hbWUpICtcbiAgICAgICAgICAgICc/cmV2PScgKyBkb2MuX3JldjtcbiAgICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsIHBhdGgpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGlmICgnYnVmZmVyJyBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJ1ZmZlcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgICAgICBpZiAob3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgIHZhciB0eXBlRmllbGREZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihibG9iLl9fcHJvdG9fXywgJ3R5cGUnKTtcbiAgICAgICAgICAgIGlmICghdHlwZUZpZWxkRGVzY3JpcHRvciB8fCB0eXBlRmllbGREZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgICBibG9iLnR5cGUgPSBhdHQuY29udGVudF90eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJsb2I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgYmxvYlRvQmFzZTY0KGJsb2IsIHJlc29sdmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGF0dC5kYXRhID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlRmFjdG9yaWVzID0gZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hEYXRhKGZpbGVuYW1lKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlzIGxpbWl0cyB0aGUgbnVtYmVyIG9mIHBhcmFsbGVsIHhociByZXF1ZXN0cyB0byA1IGFueSB0aW1lXG4gICAgICAvLyB0byBhdm9pZCBpc3N1ZXMgd2l0aCBtYXhpbXVtIGJyb3dzZXIgcmVxdWVzdCBsaW1pdHNcbiAgICAgIHJldHVybiBwb29sKHByb21pc2VGYWN0b3JpZXMsIDUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoQWxsQXR0YWNobWVudHMoZG9jT3JEb2NzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkb2NPckRvY3MpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb2NPckRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hBdHRhY2htZW50cyhkb2Mub2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jT3JEb2NzKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgaWQgKyBwYXJhbXNUb1N0cihwYXJhbXMpKTtcbiAgICBmZXRjaEpTT04odXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hBbGxBdHRhY2htZW50cyhyZXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMuZGF0YSk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgZS5kb2NJZCA9IGlkO1xuICAgICAgY2FsbGJhY2soZSk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLy8gRGVsZXRlIHRoZSBkb2N1bWVudCBnaXZlbiBieSBkb2MgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLnJlbW92ZSA9IGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNiKSB7XG4gICAgdmFyIGRvYztcbiAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgICBkb2MgPSB7XG4gICAgICAgIF9pZDogZG9jT3JJZCxcbiAgICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgICB9O1xuICAgICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0cztcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkb2MsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgICBkb2MgPSBkb2NPcklkO1xuICAgICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzT3JSZXY7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiID0gb3B0cztcbiAgICAgICAgb3B0cyA9IG9wdHNPclJldjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmV2ID0gKGRvYy5fcmV2IHx8IG9wdHMucmV2KTtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpICsgJz9yZXY9JyArIHJldjtcblxuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2IpLmNhdGNoKGNiKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkge1xuICAgIHJldHVybiBhdHRhY2htZW50SWQuc3BsaXQoXCIvXCIpLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCIvXCIpO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBhdHRhY2htZW50XG4gIGFwaS5nZXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgnZ2V0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgdmFyIHBhcmFtcyA9IG9wdHMucmV2ID8gKCc/cmV2PScgKyBvcHRzLnJldikgOiAnJztcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jSWQpKSArICcvJyArXG4gICAgICAgIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpICsgcGFyYW1zO1xuICAgIHZhciBjb250ZW50VHlwZTtcbiAgICBvdXJGZXRjaCh1cmwsIHttZXRob2Q6ICdHRVQnfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3NlciAmJiB0eXBlb2YgcmVzcG9uc2UuYnVmZmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJ1ZmZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgIC8vIFRPRE86IGFsc28gcmVtb3ZlXG4gICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIpIHtcbiAgICAgICAgYmxvYi50eXBlID0gY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCBibG9iKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBSZW1vdmUgdGhlIGF0dGFjaG1lbnQgZ2l2ZW4gYnkgdGhlIGlkIGFuZCByZXZcbiAgYXBpLnJlbW92ZUF0dGFjaG1lbnQgPSAgYWRhcHRlckZ1biQkMSgncmVtb3ZlQXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArXG4gICAgICAgICAgICAgICAgICAgICAgIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpKSArICc/cmV2PScgKyByZXY7XG4gICAgZmV0Y2hKU09OKHVybCwge21ldGhvZDogJ0RFTEVURSd9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBBZGQgdGhlIGF0dGFjaG1lbnQgZ2l2ZW4gYnkgYmxvYiBhbmQgaXRzIGNvbnRlbnRUeXBlIHByb3BlcnR5XG4gIC8vIHRvIHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBpZCwgdGhlIHJldmlzaW9uIGdpdmVuIGJ5IHJldiwgYW5kXG4gIC8vIGFkZCBpdCB0byB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLnB1dEF0dGFjaG1lbnQgPSBhZGFwdGVyRnVuJCQxKCdwdXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXYsIGJsb2IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSB0eXBlO1xuICAgICAgdHlwZSA9IGJsb2I7XG4gICAgICBibG9iID0gcmV2O1xuICAgICAgcmV2ID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGlkID0gZW5jb2RlRG9jSWQoZG9jSWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCk7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkKTtcbiAgICBpZiAocmV2KSB7XG4gICAgICB1cmwgKz0gJz9yZXY9JyArIHJldjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpbnB1dCBpcyBhc3N1bWVkIHRvIGJlIGEgYmFzZTY0IHN0cmluZ1xuICAgICAgdmFyIGJpbmFyeTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGJpbmFyeSA9IHRoaXNBdG9iKGJsb2IpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihCQURfQVJHLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0F0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZycpKTtcbiAgICAgIH1cbiAgICAgIGJsb2IgPSBiaW5hcnkgPyBiaW5TdHJpbmdUb0JsdWZmZXIoYmluYXJ5LCB0eXBlKSA6ICcnO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgYXR0YWNobWVudFxuICAgIGZldGNoSlNPTih1cmwsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogdHlwZX0pLFxuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGJvZHk6IGJsb2JcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBVcGRhdGUvY3JlYXRlIG11bHRpcGxlIGRvY3VtZW50cyBnaXZlbiBieSByZXEgaW4gdGhlIGRhdGFiYXNlXG4gIC8vIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5fYnVsa0RvY3MgPSBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5ld19lZGl0cz1mYWxzZSB0aGVuIGl0IHByZXZlbnRzIHRoZSBkYXRhYmFzZSBmcm9tIGNyZWF0aW5nXG4gICAgLy8gbmV3IHJldmlzaW9uIG51bWJlcnMgZm9yIHRoZSBkb2N1bWVudHMuIEluc3RlYWQgaXQganVzdCB1c2VzXG4gICAgLy8gdGhlIG9sZCBvbmVzLiBUaGlzIGlzIHVzZWQgaW4gZGF0YWJhc2UgcmVwbGljYXRpb24uXG4gICAgcmVxLm5ld19lZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuXG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXEuZG9jcy5tYXAocHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFVwZGF0ZS9jcmVhdGUgdGhlIGRvY3VtZW50c1xuICAgICAgcmV0dXJuIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2J1bGtfZG9jcycpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEpXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBkb2N1bWVudFxuICBhcGkuX3B1dCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcmVwcm9jZXNzQXR0YWNobWVudHMkMShkb2MpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZldGNoSlNPTihnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2MuX2lkKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZG9jKVxuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gZG9jICYmIGRvYy5faWQ7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9O1xuXG5cbiAgLy8gR2V0IGEgbGlzdGluZyBvZiB0aGUgZG9jdW1lbnRzIGluIHRoZSBkYXRhYmFzZSBnaXZlblxuICAvLyBieSBob3N0IGFuZCBvcmRlcmVkIGJ5IGluY3JlYXNpbmcgaWQuXG4gIGFwaS5hbGxEb2NzID0gYWRhcHRlckZ1biQkMSgnYWxsRG9jcycsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBhZGRlZCBpbiBDb3VjaERCIDEuNi4wXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMua2V5KSB7XG4gICAgICBwYXJhbXMua2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5rZXkpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgICAgb3B0cy5zdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICAgIH1cblxuICAgIGlmIChvcHRzLnN0YXJ0a2V5KSB7XG4gICAgICBwYXJhbXMuc3RhcnRrZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLnN0YXJ0a2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgICBvcHRzLmVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmRrZXkpIHtcbiAgICAgIHBhcmFtcy5lbmRrZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLmVuZGtleSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmluY2x1c2l2ZV9lbmQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMuaW5jbHVzaXZlX2VuZCA9ICEhb3B0cy5pbmNsdXNpdmVfZW5kO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5saW1pdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5saW1pdCA9IG9wdHMubGltaXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLnNraXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMuc2tpcCA9IG9wdHMuc2tpcDtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1TdHIgPSBwYXJhbXNUb1N0cihwYXJhbXMpO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge2tleXM6IG9wdHMua2V5c307XG4gICAgfVxuXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYWxsX2RvY3MnICsgcGFyYW1TdHIpLCB7XG4gICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGEucm93cy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIEdldCBhIGxpc3Qgb2YgY2hhbmdlcyBtYWRlIHRvIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVE9ETyBBY2NvcmRpbmcgdG8gdGhlIFJFQURNRSwgdGhlcmUgc2hvdWxkIGJlIHR3byBvdGhlciBtZXRob2RzIGhlcmUsXG4gIC8vIGFwaS5jaGFuZ2VzLmFkZExpc3RlbmVyIGFuZCBhcGkuY2hhbmdlcy5yZW1vdmVMaXN0ZW5lci5cbiAgYXBpLl9jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcblxuICAgIC8vIFdlIGludGVybmFsbHkgcGFnZSB0aGUgcmVzdWx0cyBvZiBhIGNoYW5nZXMgcmVxdWVzdCwgdGhpcyBtZWFuc1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgbGFyZ2Ugc2V0IG9mIGNoYW5nZXMgdG8gYmUgcmV0dXJuZWQgd2UgY2FuIHN0YXJ0XG4gICAgLy8gcHJvY2Vzc2luZyB0aGVtIHF1aWNrZXIgaW5zdGVhZCBvZiB3YWl0aW5nIG9uIHRoZSBlbnRpcmVcbiAgICAvLyBzZXQgb2YgY2hhbmdlcyB0byByZXR1cm4gYW5kIGF0dGVtcHRpbmcgdG8gcHJvY2VzcyB0aGVtIGF0IG9uY2VcbiAgICB2YXIgYmF0Y2hTaXplID0gJ2JhdGNoX3NpemUnIGluIG9wdHMgPyBvcHRzLmJhdGNoX3NpemUgOiBDSEFOR0VTX0JBVENIX1NJWkU7XG5cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzICYmICEoJ2hlYXJ0YmVhdCcgaW4gb3B0cykpIHtcbiAgICAgIG9wdHMuaGVhcnRiZWF0ID0gREVGQVVMVF9IRUFSVEJFQVQ7XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3RUaW1lb3V0ID0gKCd0aW1lb3V0JyBpbiBvcHRzKSA/IG9wdHMudGltZW91dCA6IDMwICogMTAwMDtcblxuICAgIC8vIGVuc3VyZSBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSIGFwcGxpZXNcbiAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMgJiYgb3B0cy50aW1lb3V0ICYmXG4gICAgICAocmVxdWVzdFRpbWVvdXQgLSBvcHRzLnRpbWVvdXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMudGltZW91dCArIENIQU5HRVNfVElNRU9VVF9CVUZGRVI7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMgJiYgb3B0cy5oZWFydGJlYXQgJiZcbiAgICAgICAocmVxdWVzdFRpbWVvdXQgLSBvcHRzLmhlYXJ0YmVhdCkgPCBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSKSB7XG4gICAgICAgIHJlcXVlc3RUaW1lb3V0ID0gb3B0cy5oZWFydGJlYXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMgJiYgb3B0cy50aW1lb3V0KSB7XG4gICAgICBwYXJhbXMudGltZW91dCA9IG9wdHMudGltZW91dDtcbiAgICB9XG5cbiAgICB2YXIgbGltaXQgPSAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSA/IG9wdHMubGltaXQgOiBmYWxzZTtcbiAgICB2YXIgbGVmdFRvRmV0Y2ggPSBsaW1pdDtcblxuICAgIGlmIChvcHRzLnN0eWxlKSB7XG4gICAgICBwYXJhbXMuc3R5bGUgPSBvcHRzLnN0eWxlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyB8fCBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBhcmFtcy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbnRpbnVvdXMpIHtcbiAgICAgIHBhcmFtcy5mZWVkID0gJ2xvbmdwb2xsJztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zZXFfaW50ZXJ2YWwpIHtcbiAgICAgIHBhcmFtcy5zZXFfaW50ZXJ2YWwgPSBvcHRzLnNlcV9pbnRlcnZhbDtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHBhcmFtcy5kZXNjZW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMpIHtcbiAgICAgIC8vIElmIHRoZSBoZWFydGJlYXQgdmFsdWUgaXMgZmFsc2UsIGl0IGRpc2FibGVzIHRoZSBkZWZhdWx0IGhlYXJ0YmVhdFxuICAgICAgaWYgKG9wdHMuaGVhcnRiZWF0KSB7XG4gICAgICAgIHBhcmFtcy5oZWFydGJlYXQgPSBvcHRzLmhlYXJ0YmVhdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgICAgcGFyYW1zLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnZpZXcgJiYgdHlwZW9mIG9wdHMudmlldyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3ZpZXcnO1xuICAgICAgcGFyYW1zLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgfVxuXG4gICAgLy8gSWYgb3B0cy5xdWVyeV9wYXJhbXMgZXhpc3RzLCBwYXNzIGl0IHRocm91Z2ggdG8gdGhlIGNoYW5nZXMgcmVxdWVzdC5cbiAgICAvLyBUaGVzZSBwYXJhbWV0ZXJzIG1heSBiZSB1c2VkIGJ5IHRoZSBmaWx0ZXIgb24gdGhlIHNvdXJjZSBkYXRhYmFzZS5cbiAgICBpZiAob3B0cy5xdWVyeV9wYXJhbXMgJiYgdHlwZW9mIG9wdHMucXVlcnlfcGFyYW1zID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdHMucXVlcnlfcGFyYW1zLCBwYXJhbV9uYW1lKSkge1xuICAgICAgICAgIHBhcmFtc1twYXJhbV9uYW1lXSA9IG9wdHMucXVlcnlfcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciBib2R5O1xuXG4gICAgaWYgKG9wdHMuZG9jX2lkcykge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXI7IGl0J3MgYW5ub3lpbmcgdGhhdCBjb3VjaGRiXG4gICAgICAvLyByZXF1aXJlcyBib3RoIGEgXCJmaWx0ZXJcIiBhbmQgYSBcImRvY19pZHNcIiBwYXJhbS5cbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX2RvY19pZHMnO1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtkb2NfaWRzOiBvcHRzLmRvY19pZHMgfTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBlbHNlIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgICAvLyBzZXQgdGhpcyBhdXRvbWFnaWNhbGx5IGZvciB0aGUgdXNlciwgc2ltaWxhciB0byBhYm92ZVxuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfc2VsZWN0b3InO1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtzZWxlY3Rvcjogb3B0cy5zZWxlY3RvciB9O1xuICAgIH1cblxuICAgIHZhciBjb250cm9sbGVyID0gbmV3IGEoKTtcbiAgICB2YXIgbGFzdEZldGNoZWRTZXE7XG5cbiAgICAvLyBHZXQgYWxsIHRoZSBjaGFuZ2VzIHN0YXJ0aW5nIHd0aWggdGhlIG9uZSBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAgICAvLyBzZXF1ZW5jZSBudW1iZXIgZ2l2ZW4gYnkgc2luY2UuXG4gICAgdmFyIGZldGNoRGF0YSA9IGZ1bmN0aW9uIChzaW5jZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnNpbmNlID0gc2luY2U7XG4gICAgICAvLyBcInNpbmNlXCIgY2FuIGJlIGFueSBraW5kIG9mIGpzb24gb2JqZWN0IGluIENsb3VkYW50L0NvdWNoREIgMi54XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuc2luY2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcGFyYW1zLnNpbmNlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLnNpbmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICBwYXJhbXMubGltaXQgPSBsZWZ0VG9GZXRjaDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zLmxpbWl0ID0gKCFsaW1pdCB8fCBsZWZ0VG9GZXRjaCA+IGJhdGNoU2l6ZSkgP1xuICAgICAgICAgIGJhdGNoU2l6ZSA6IGxlZnRUb0ZldGNoO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdGhlIG9wdGlvbnMgZm9yIHRoZSBhamF4IGNhbGxcbiAgICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCAnX2NoYW5nZXMnICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgICB2YXIgZmV0Y2hPcHRzID0ge1xuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH07XG4gICAgICBsYXN0RmV0Y2hlZFNlcSA9IHNpbmNlO1xuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIGNoYW5nZXNcbiAgICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaEpTT04odXJsLCBmZXRjaE9wdHMsIGNhbGxiYWNrKTtcbiAgICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgLy8gSWYgb3B0cy5zaW5jZSBleGlzdHMsIGdldCBhbGwgdGhlIGNoYW5nZXMgZnJvbSB0aGUgc2VxdWVuY2VcbiAgICAvLyBudW1iZXIgZ2l2ZW4gYnkgb3B0cy5zaW5jZS4gT3RoZXJ3aXNlLCBnZXQgYWxsIHRoZSBjaGFuZ2VzXG4gICAgLy8gZnJvbSB0aGUgc2VxdWVuY2UgbnVtYmVyIDAuXG4gICAgdmFyIHJlc3VsdHMgPSB7cmVzdWx0czogW119O1xuXG4gICAgdmFyIGZldGNoZWQgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJhd19yZXN1bHRzX2xlbmd0aCA9IDA7XG4gICAgICAvLyBJZiB0aGUgcmVzdWx0IG9mIHRoZSBhamF4IGNhbGwgKHJlcykgY29udGFpbnMgY2hhbmdlcyAocmVzLnJlc3VsdHMpXG4gICAgICBpZiAocmVzICYmIHJlcy5yZXN1bHRzKSB7XG4gICAgICAgIHJhd19yZXN1bHRzX2xlbmd0aCA9IHJlcy5yZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgcmVzdWx0cy5sYXN0X3NlcSA9IHJlcy5sYXN0X3NlcTtcbiAgICAgICAgdmFyIHBlbmRpbmcgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFNlcSA9IG51bGw7XG4gICAgICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodHlwZW9mIHJlcy5wZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHBlbmRpbmcgPSByZXMucGVuZGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdHMubGFzdF9zZXEgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGxhc3RTZXEgPSByZXN1bHRzLmxhc3Rfc2VxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBlYWNoIGNoYW5nZVxuICAgICAgICB2YXIgcmVxID0ge307XG4gICAgICAgIHJlcS5xdWVyeSA9IG9wdHMucXVlcnlfcGFyYW1zO1xuICAgICAgICByZXMucmVzdWx0cyA9IHJlcy5yZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGxlZnRUb0ZldGNoLS07XG4gICAgICAgICAgdmFyIHJldCA9IGZpbHRlckNoYW5nZShvcHRzKShjKTtcbiAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgICAgICByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLnJldHVybl9kb2NzKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAvLyBJbiBjYXNlIG9mIGFuIGVycm9yLCBzdG9wIGxpc3RlbmluZyBmb3IgY2hhbmdlcyBhbmQgY2FsbFxuICAgICAgICAvLyBvcHRzLmNvbXBsZXRlXG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIG9wdHMuY29tcGxldGUoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY2hhbmdlcyBmZWVkIG1heSBoYXZlIHRpbWVkIG91dCB3aXRoIG5vIHJlc3VsdHNcbiAgICAgIC8vIGlmIHNvIHJldXNlIGxhc3QgdXBkYXRlIHNlcXVlbmNlXG4gICAgICBpZiAocmVzICYmIHJlcy5sYXN0X3NlcSkge1xuICAgICAgICBsYXN0RmV0Y2hlZFNlcSA9IHJlcy5sYXN0X3NlcTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbmlzaGVkID0gKGxpbWl0ICYmIGxlZnRUb0ZldGNoIDw9IDApIHx8XG4gICAgICAgIChyZXMgJiYgcmF3X3Jlc3VsdHNfbGVuZ3RoIDwgYmF0Y2hTaXplKSB8fFxuICAgICAgICAob3B0cy5kZXNjZW5kaW5nKTtcblxuICAgICAgaWYgKChvcHRzLmNvbnRpbnVvdXMgJiYgIShsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSkgfHwgIWZpbmlzaGVkKSB7XG4gICAgICAgIC8vIFF1ZXVlIGEgY2FsbCB0byBmZXRjaCBhZ2FpbiB3aXRoIHRoZSBuZXdlc3Qgc2VxdWVuY2UgbnVtYmVyXG4gICAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7IGZldGNoRGF0YShsYXN0RmV0Y2hlZFNlcSwgZmV0Y2hlZCk7IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UncmUgZG9uZSwgY2FsbCB0aGUgY2FsbGJhY2tcbiAgICAgICAgb3B0cy5jb21wbGV0ZShudWxsLCByZXN1bHRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hEYXRhKG9wdHMuc2luY2UgfHwgMCwgZmV0Y2hlZCk7XG5cbiAgICAvLyBSZXR1cm4gYSBtZXRob2QgdG8gY2FuY2VsIHRoaXMgbWV0aG9kIGZyb20gcHJvY2Vzc2luZyBhbnkgbW9yZVxuICAgIHJldHVybiB7XG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3B0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBzZXQgb2YgZG9jdW1lbnQvcmV2aXNpb24gSURzIChnaXZlbiBieSByZXEpLCB0ZXRzIHRoZSBzdWJzZXQgb2ZcbiAgLy8gdGhvc2UgdGhhdCBkbyBOT1QgY29ycmVzcG9uZCB0byByZXZpc2lvbnMgc3RvcmVkIGluIHRoZSBkYXRhYmFzZS5cbiAgLy8gU2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IdHRwUG9zdFJldnNEaWZmXG4gIGFwaS5yZXZzRGlmZiA9IGFkYXB0ZXJGdW4kJDEoJ3JldnNEaWZmJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBubyBvcHRpb25zIHdlcmUgZ2l2ZW4sIHNldCB0aGUgY2FsbGJhY2sgdG8gYmUgdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIG1pc3NpbmcgZG9jdW1lbnQvcmV2aXNpb24gSURzXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfcmV2c19kaWZmJyksIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgIH0sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIGFwaS5fY2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGFwaS5fZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnJyksIHttZXRob2Q6ICdERUxFVEUnfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgY2FsbGJhY2sobnVsbCwganNvbik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gSHR0cFBvdWNoIGlzIGEgdmFsaWQgYWRhcHRlci5cbkh0dHBQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBIdHRwUG91Y2gkMSAoUG91Y2hEQikge1xuICBQb3VjaERCLmFkYXB0ZXIoJ2h0dHAnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwcycsIEh0dHBQb3VjaCwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBRdWVyeVBhcnNlRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDQwMDtcbiAgdGhpcy5uYW1lID0gJ3F1ZXJ5X3BhcnNlX2Vycm9yJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgUXVlcnlQYXJzZUVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoUXVlcnlQYXJzZUVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIE5vdEZvdW5kRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDQwNDtcbiAgdGhpcy5uYW1lID0gJ25vdF9mb3VuZCc7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIE5vdEZvdW5kRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhOb3RGb3VuZEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIEJ1aWx0SW5FcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNTAwO1xuICB0aGlzLm5hbWUgPSAnaW52YWxpZF92YWx1ZSc7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEJ1aWx0SW5FcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKEJ1aWx0SW5FcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2socmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeShmdW4pIHtcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBjYiA9IGFyZ3MucG9wKCk7XG4gICAgdmFyIHByb21pc2UgPSBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9KTtcbn1cblxuLy8gUHJvbWlzZSBmaW5hbGx5IHV0aWwgc2ltaWxhciB0byBRLmZpbmFsbHlcbmZ1bmN0aW9uIGZpbihwcm9taXNlLCBmaW5hbFByb21pc2VGYWN0b3J5KSB7XG4gIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIGZpbmFsUHJvbWlzZUZhY3RvcnkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IHJlYXNvbjtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlcXVlbnRpYWxpemUocXVldWUsIHByb21pc2VGYWN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHJldHVybiBxdWV1ZS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb21pc2VGYWN0b3J5LmFwcGx5KHRoYXQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xufVxuXG4vLyB1bmlxIGFuIGFycmF5IG9mIHN0cmluZ3MsIG9yZGVyIG5vdCBndWFyYW50ZWVkXG4vLyBzaW1pbGFyIHRvIHVuZGVyc2NvcmUvbG9kYXNoIF8udW5pcVxuZnVuY3Rpb24gdW5pcShhcnIpIHtcbiAgdmFyIHRoZVNldCA9IG5ldyBFeHBvcnRlZFNldChhcnIpO1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KHRoZVNldC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIHRoZVNldC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbWFwVG9LZXlzQXJyYXkobWFwKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgQXJyYXkobWFwLnNpemUpO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgbWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBrZXk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWlsdEluRXJyb3IobmFtZSkge1xuICB2YXIgbWVzc2FnZSA9ICdidWlsdGluICcgKyBuYW1lICtcbiAgICAnIGZ1bmN0aW9uIHJlcXVpcmVzIG1hcCB2YWx1ZXMgdG8gYmUgbnVtYmVycycgK1xuICAgICcgb3IgbnVtYmVyIGFycmF5cyc7XG4gIHJldHVybiBuZXcgQnVpbHRJbkVycm9yKG1lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiBzdW0odmFsdWVzKSB7XG4gIHZhciByZXN1bHQgPSAwO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIG51bSA9IHZhbHVlc1tpXTtcbiAgICBpZiAodHlwZW9mIG51bSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG51bSkpIHtcbiAgICAgICAgLy8gbGlzdHMgb2YgbnVtYmVycyBhcmUgYWxzbyBhbGxvd2VkLCBzdW0gdGhlbSBzZXBhcmF0ZWx5XG4gICAgICAgIHJlc3VsdCA9IHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInID8gW3Jlc3VsdF0gOiByZXN1bHQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqTGVuID0gbnVtLmxlbmd0aDsgaiA8IGpMZW47IGorKykge1xuICAgICAgICAgIHZhciBqTnVtID0gbnVtW2pdO1xuICAgICAgICAgIGlmICh0eXBlb2Ygak51bSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdFtqXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGpOdW0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbal0gKz0gak51bTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIG5vdCBhcnJheS9udW1iZXJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnVpbHRJbkVycm9yKCdfc3VtJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJykge1xuICAgICAgcmVzdWx0ICs9IG51bTtcbiAgICB9IGVsc2UgeyAvLyBhZGQgbnVtYmVyIHRvIGFycmF5XG4gICAgICByZXN1bHRbMF0gKz0gbnVtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgbG9nID0gZ3VhcmRlZENvbnNvbGUuYmluZChudWxsLCAnbG9nJyk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgdG9KU09OID0gSlNPTi5wYXJzZTtcblxuZnVuY3Rpb24gZXZhbEZ1bmN0aW9uV2l0aEV2YWwoZnVuYywgZW1pdCkge1xuICByZXR1cm4gc2NvcGVFdmFsKFxuICAgIFwicmV0dXJuIChcIiArIGZ1bmMucmVwbGFjZSgvO1xccyokLywgXCJcIikgKyBcIik7XCIsXG4gICAge1xuICAgICAgZW1pdDogZW1pdCxcbiAgICAgIHN1bTogc3VtLFxuICAgICAgbG9nOiBsb2csXG4gICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgdG9KU09OOiB0b0pTT05cbiAgICB9XG4gICk7XG59XG5cbi8qXG4gKiBTaW1wbGUgdGFzayBxdWV1ZSB0byBzZXF1ZW50aWFsaXplIGFjdGlvbnMuIEFzc3VtZXNcbiAqIGNhbGxiYWNrcyB3aWxsIGV2ZW50dWFsbHkgZmlyZSAob25jZSkuXG4gKi9cblxuXG5mdW5jdGlvbiBUYXNrUXVldWUkMSgpIHtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwpIHtmdWxmaWxsKCk7IH0pO1xufVxuVGFza1F1ZXVlJDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChwcm9taXNlRmFjdG9yeSkge1xuICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIC8vIGp1c3QgcmVjb3ZlclxuICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvbWlzZUZhY3RvcnkoKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuVGFza1F1ZXVlJDEucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCkge1xuICBpZiAoIWlucHV0KSB7XG4gICAgcmV0dXJuICd1bmRlZmluZWQnOyAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBlbXB0eSByZWR1Y2VcbiAgfVxuICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIG1hcHJlZHVjZSwgZnVuY3Rpb25zL3N0cmluZ3MgYXJlIHN0cmluZ2lmaWVkXG4gIC8vIGFzLWlzLiBldmVyeXRoaW5nIGVsc2UgaXMgSlNPTi1zdHJpbmdpZmllZC5cbiAgc3dpdGNoICh0eXBlb2YgaW5wdXQpIHtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIG1hcFxuICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCk7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIC8vIGUuZy4gYSBtYXByZWR1Y2UgYnVpbHQtaW4gX3JlZHVjZSBmdW5jdGlvblxuICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGUuZy4gYSBKU09OIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBtYW5nbyBxdWVyaWVzXG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5wdXQpO1xuICB9XG59XG5cbi8qIGNyZWF0ZSBhIHN0cmluZyBzaWduYXR1cmUgZm9yIGEgdmlldyBzbyB3ZSBjYW4gY2FjaGUgaXQgYW5kIHVuaXEgaXQgKi9cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdTaWduYXR1cmUobWFwRnVuLCByZWR1Y2VGdW4pIHtcbiAgLy8gdGhlIFwidW5kZWZpbmVkXCIgcGFydCBpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgcmV0dXJuIHN0cmluZ2lmeShtYXBGdW4pICsgc3RyaW5naWZ5KHJlZHVjZUZ1bikgKyAndW5kZWZpbmVkJztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVmlldyhzb3VyY2VEQiwgdmlld05hbWUsIG1hcEZ1biwgcmVkdWNlRnVuLCB0ZW1wb3JhcnksIGxvY2FsRG9jTmFtZSkge1xuICB2YXIgdmlld1NpZ25hdHVyZSA9IGNyZWF0ZVZpZXdTaWduYXR1cmUobWFwRnVuLCByZWR1Y2VGdW4pO1xuXG4gIHZhciBjYWNoZWRWaWV3cztcbiAgaWYgKCF0ZW1wb3JhcnkpIHtcbiAgICAvLyBjYWNoZSB0aGlzIHRvIGVuc3VyZSB3ZSBkb24ndCB0cnkgdG8gdXBkYXRlIHRoZSBzYW1lIHZpZXcgdHdpY2VcbiAgICBjYWNoZWRWaWV3cyA9IHNvdXJjZURCLl9jYWNoZWRWaWV3cyA9IHNvdXJjZURCLl9jYWNoZWRWaWV3cyB8fCB7fTtcbiAgICBpZiAoY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0pIHtcbiAgICAgIHJldHVybiBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvbWlzZUZvclZpZXcgPSBzb3VyY2VEQi5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuXG4gICAgdmFyIGRlcERiTmFtZSA9IGluZm8uZGJfbmFtZSArICctbXJ2aWV3LScgK1xuICAgICAgKHRlbXBvcmFyeSA/ICd0ZW1wJyA6IHN0cmluZ01kNSh2aWV3U2lnbmF0dXJlKSk7XG5cbiAgICAvLyBzYXZlIHRoZSB2aWV3IG5hbWUgaW4gdGhlIHNvdXJjZSBkYiBzbyBpdCBjYW4gYmUgY2xlYW5lZCB1cCBpZiBuZWNlc3NhcnlcbiAgICAvLyAoZS5nLiB3aGVuIHRoZSBfZGVzaWduIGRvYyBpcyBkZWxldGVkLCByZW1vdmUgYWxsIGFzc29jaWF0ZWQgdmlldyBkYXRhKVxuICAgIGZ1bmN0aW9uIGRpZmZGdW5jdGlvbihkb2MpIHtcbiAgICAgIGRvYy52aWV3cyA9IGRvYy52aWV3cyB8fCB7fTtcbiAgICAgIHZhciBmdWxsVmlld05hbWUgPSB2aWV3TmFtZTtcbiAgICAgIGlmIChmdWxsVmlld05hbWUuaW5kZXhPZignLycpID09PSAtMSkge1xuICAgICAgICBmdWxsVmlld05hbWUgPSB2aWV3TmFtZSArICcvJyArIHZpZXdOYW1lO1xuICAgICAgfVxuICAgICAgdmFyIGRlcERicyA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdID0gZG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0gfHwge307XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChkZXBEYnNbZGVwRGJOYW1lXSkge1xuICAgICAgICByZXR1cm47IC8vIG5vIHVwZGF0ZSBuZWNlc3NhcnlcbiAgICAgIH1cbiAgICAgIGRlcERic1tkZXBEYk5hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBkb2M7XG4gICAgfVxuICAgIHJldHVybiB1cHNlcnQoc291cmNlREIsICdfbG9jYWwvJyArIGxvY2FsRG9jTmFtZSwgZGlmZkZ1bmN0aW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEQi5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlKGRlcERiTmFtZSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciBkYiA9IHJlcy5kYjtcbiAgICAgICAgZGIuYXV0b19jb21wYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIHZpZXcgPSB7XG4gICAgICAgICAgbmFtZTogZGVwRGJOYW1lLFxuICAgICAgICAgIGRiOiBkYixcbiAgICAgICAgICBzb3VyY2VEQjogc291cmNlREIsXG4gICAgICAgICAgYWRhcHRlcjogc291cmNlREIuYWRhcHRlcixcbiAgICAgICAgICBtYXBGdW46IG1hcEZ1bixcbiAgICAgICAgICByZWR1Y2VGdW46IHJlZHVjZUZ1blxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdmlldy5kYi5nZXQoJ19sb2NhbC9sYXN0U2VxJykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGxhc3RTZXFEb2MpIHtcbiAgICAgICAgICB2aWV3LnNlcSA9IGxhc3RTZXFEb2MgPyBsYXN0U2VxRG9jLnNlcSA6IDA7XG4gICAgICAgICAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgICAgICAgICB2aWV3LmRiLm9uY2UoJ2Rlc3Ryb3llZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBpZiAoY2FjaGVkVmlld3MpIHtcbiAgICBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXSA9IHByb21pc2VGb3JWaWV3O1xuICB9XG4gIHJldHVybiBwcm9taXNlRm9yVmlldztcbn1cblxudmFyIHBlcnNpc3RlbnRRdWV1ZXMgPSB7fTtcbnZhciB0ZW1wVmlld1F1ZXVlID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG52YXIgQ0hBTkdFU19CQVRDSF9TSVpFJDEgPSA1MDtcblxuZnVuY3Rpb24gcGFyc2VWaWV3TmFtZShuYW1lKSB7XG4gIC8vIGNhbiBiZSBlaXRoZXIgJ2Rkb2NuYW1lL3ZpZXduYW1lJyBvciBqdXN0ICd2aWV3bmFtZSdcbiAgLy8gKHdoZXJlIHRoZSBkZG9jIG5hbWUgaXMgdGhlIHNhbWUpXG4gIHJldHVybiBuYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEgPyBbbmFtZSwgbmFtZV0gOiBuYW1lLnNwbGl0KCcvJyk7XG59XG5cbmZ1bmN0aW9uIGlzR2VuT25lKGNoYW5nZXMpIHtcbiAgLy8gb25seSByZXR1cm4gdHJ1ZSBpZiB0aGUgY3VycmVudCBjaGFuZ2UgaXMgMS1cbiAgLy8gYW5kIHRoZXJlIGFyZSBubyBvdGhlciBsZWFmc1xuICByZXR1cm4gY2hhbmdlcy5sZW5ndGggPT09IDEgJiYgL14xLS8udGVzdChjaGFuZ2VzWzBdLnJldik7XG59XG5cbmZ1bmN0aW9uIGVtaXRFcnJvcihkYiwgZSkge1xuICB0cnkge1xuICAgIGRiLmVtaXQoJ2Vycm9yJywgZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsXG4gICAgICAnVGhlIHVzZXJcXCdzIG1hcC9yZWR1Y2UgZnVuY3Rpb24gdGhyZXcgYW4gdW5jYXVnaHQgZXJyb3IuXFxuJyArXG4gICAgICAnWW91IGNhbiBkZWJ1ZyB0aGlzIGVycm9yIGJ5IGRvaW5nOlxcbicgK1xuICAgICAgJ215RGF0YWJhc2Uub24oXFwnZXJyb3JcXCcsIGZ1bmN0aW9uIChlcnIpIHsgZGVidWdnZXI7IH0pO1xcbicgK1xuICAgICAgJ1BsZWFzZSBkb3VibGUtY2hlY2sgeW91ciBtYXAvcmVkdWNlIGZ1bmN0aW9uLicpO1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsIGUpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBcImFic3RyYWN0XCIgbWFwcmVkdWNlIG9iamVjdCBvZiB0aGUgZm9ybTpcbiAqXG4gKiAgIHtcbiAqICAgICBxdWVyeTogcXVlcnlGdW4sXG4gKiAgICAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwRnVuXG4gKiAgIH1cbiAqXG4gKiBBcmd1bWVudHMgYXJlOlxuICpcbiAqIGxvY2FsRG9jOiBzdHJpbmdcbiAqICAgVGhpcyBpcyBmb3IgdGhlIGxvY2FsIGRvYyB0aGF0IGdldHMgc2F2ZWQgaW4gb3JkZXIgdG8gdHJhY2sgdGhlXG4gKiAgIFwiZGVwZW5kZW50XCIgREJzIGFuZCBjbGVhbiB0aGVtIHVwIGZvciB2aWV3Q2xlYW51cC4gSXQgc2hvdWxkIGJlXG4gKiAgIHVuaXF1ZSwgc28gdGhhdCBpbmRleGVyIHBsdWdpbnMgZG9uJ3QgY29sbGlkZSB3aXRoIGVhY2ggb3RoZXIuXG4gKiBtYXBwZXI6IGZ1bmN0aW9uIChtYXBGdW5EZWYsIGVtaXQpXG4gKiAgIFJldHVybnMgYSBtYXAgZnVuY3Rpb24gYmFzZWQgb24gdGhlIG1hcEZ1bkRlZiwgd2hpY2ggaW4gdGhlIGNhc2Ugb2ZcbiAqICAgbm9ybWFsIG1hcC9yZWR1Y2UgaXMganVzdCB0aGUgZGUtc3RyaW5naWZpZWQgZnVuY3Rpb24sIGJ1dCBtYXkgYmVcbiAqICAgc29tZXRoaW5nIGVsc2UsIHN1Y2ggYXMgYW4gb2JqZWN0IGluIHRoZSBjYXNlIG9mIHBvdWNoZGItZmluZC5cbiAqIHJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VGdW5EZWYpXG4gKiAgIERpdHRvLCBidXQgZm9yIHJlZHVjaW5nLiBNb2R1bGVzIGRvbid0IGhhdmUgdG8gc3VwcG9ydCByZWR1Y2luZ1xuICogICAoZS5nLiBwb3VjaGRiLWZpbmQpLlxuICogZGRvY1ZhbGlkYXRvcjogZnVuY3Rpb24gKGRkb2MsIHZpZXdOYW1lKVxuICogICBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGRkb2Mgb3Igdmlld05hbWUgaXMgbm90IHZhbGlkLlxuICogICBUaGlzIGNvdWxkIGJlIGEgd2F5IHRvIGNvbW11bmljYXRlIHRvIHRoZSB1c2VyIHRoYXQgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZVxuICogICBpbmRleGVyIGlzIGludmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlKGxvY2FsRG9jTmFtZSwgbWFwcGVyLCByZWR1Y2VyLCBkZG9jVmFsaWRhdG9yKSB7XG5cbiAgZnVuY3Rpb24gdHJ5TWFwKGRiLCBmdW4sIGRvYykge1xuICAgIC8vIGVtaXQgYW4gZXZlbnQgaWYgdGhlcmUgd2FzIGFuIGVycm9yIHRocm93biBieSBhIG1hcCBmdW5jdGlvbi5cbiAgICAvLyBwdXR0aW5nIHRyeS9jYXRjaGVzIGluIGEgc2luZ2xlIGZ1bmN0aW9uIGFsc28gYXZvaWRzIGRlb3B0aW1pemF0aW9ucy5cbiAgICB0cnkge1xuICAgICAgZnVuKGRvYyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZW1pdEVycm9yKGRiLCBlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlSZWR1Y2UoZGIsIGZ1biwga2V5cywgdmFsdWVzLCByZXJlZHVjZSkge1xuICAgIC8vIHNhbWUgYXMgYWJvdmUsIGJ1dCByZXR1cm5pbmcgdGhlIHJlc3VsdCBvciBhbiBlcnJvci4gdGhlcmUgYXJlIHR3byBzZXBhcmF0ZVxuICAgIC8vIGZ1bmN0aW9ucyB0byBhdm9pZCBleHRyYSBtZW1vcnkgYWxsb2NhdGlvbnMgc2luY2UgdGhlIHRyeUNvZGUoKSBjYXNlIGlzIHVzZWRcbiAgICAvLyBmb3IgY3VzdG9tIG1hcCBmdW5jdGlvbnMgKGNvbW1vbikgdnMgdGhpcyBmdW5jdGlvbiwgd2hpY2ggaXMgb25seSB1c2VkIGZvclxuICAgIC8vIGN1c3RvbSByZWR1Y2UgZnVuY3Rpb25zIChyYXJlKVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge291dHB1dCA6IGZ1bihrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKX07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZW1pdEVycm9yKGRiLCBlKTtcbiAgICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNvcnRCeUtleVRoZW5WYWx1ZSh4LCB5KSB7XG4gICAgdmFyIGtleUNvbXBhcmUgPSBjb2xsYXRlKHgua2V5LCB5LmtleSk7XG4gICAgcmV0dXJuIGtleUNvbXBhcmUgIT09IDAgPyBrZXlDb21wYXJlIDogY29sbGF0ZSh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNsaWNlUmVzdWx0cyhyZXN1bHRzLCBsaW1pdCwgc2tpcCkge1xuICAgIHNraXAgPSBza2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXAsIGxpbWl0ICsgc2tpcCk7XG4gICAgfSBlbHNlIGlmIChza2lwID4gMCkge1xuICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2Uoc2tpcCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gcm93VG9Eb2NJZChyb3cpIHtcbiAgICB2YXIgdmFsID0gcm93LnZhbHVlO1xuICAgIC8vIFVzZXJzIGNhbiBleHBsaWNpdGx5IHNwZWNpZnkgYSBqb2luZWQgZG9jIF9pZCwgb3IgaXRcbiAgICAvLyBkZWZhdWx0cyB0byB0aGUgZG9jIF9pZCB0aGF0IGVtaXR0ZWQgdGhlIGtleS92YWx1ZS5cbiAgICB2YXIgZG9jSWQgPSAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbC5faWQpIHx8IHJvdy5pZDtcbiAgICByZXR1cm4gZG9jSWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyZXMpIHtcbiAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHZhciBhdHRzID0gcm93LmRvYyAmJiByb3cuZG9jLl9hdHRhY2htZW50cztcbiAgICAgIGlmICghYXR0cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgICAgIGF0dHNbZmlsZW5hbWVdLmRhdGEgPSBiNjRUb0JsdWZmZXIoYXR0LmRhdGEsIGF0dC5jb250ZW50X3R5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlcykge1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEh0dHBQYXJhbShwYXJhbU5hbWUsIG9wdHMsIHBhcmFtcywgYXNKc29uKSB7XG4gICAgLy8gYWRkIGFuIGh0dHAgcGFyYW0gZnJvbSBvcHRzIHRvIHBhcmFtcywgb3B0aW9uYWxseSBqc29uLWVuY29kZWRcbiAgICB2YXIgdmFsID0gb3B0c1twYXJhbU5hbWVdO1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGFzSnNvbikge1xuICAgICAgICB2YWwgPSBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsKSk7XG4gICAgICB9XG4gICAgICBwYXJhbXMucHVzaChwYXJhbU5hbWUgKyAnPScgKyB2YWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvZXJjZUludGVnZXIoaW50ZWdlckNhbmRpZGF0ZSkge1xuICAgIGlmICh0eXBlb2YgaW50ZWdlckNhbmRpZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBhc051bWJlciA9IE51bWJlcihpbnRlZ2VyQ2FuZGlkYXRlKTtcbiAgICAgIC8vIHByZXZlbnRzIGUuZy4gJzFmb28nIG9yICcxLjEnIGJlaW5nIGNvZXJjZWQgdG8gMVxuICAgICAgaWYgKCFpc05hTihhc051bWJlcikgJiYgYXNOdW1iZXIgPT09IHBhcnNlSW50KGludGVnZXJDYW5kaWRhdGUsIDEwKSkge1xuICAgICAgICByZXR1cm4gYXNOdW1iZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW50ZWdlckNhbmRpZGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VPcHRpb25zKG9wdHMpIHtcbiAgICBvcHRzLmdyb3VwX2xldmVsID0gY29lcmNlSW50ZWdlcihvcHRzLmdyb3VwX2xldmVsKTtcbiAgICBvcHRzLmxpbWl0ID0gY29lcmNlSW50ZWdlcihvcHRzLmxpbWl0KTtcbiAgICBvcHRzLnNraXAgPSBjb2VyY2VJbnRlZ2VyKG9wdHMuc2tpcCk7XG4gICAgcmV0dXJuIG9wdHM7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1Bvc2l0aXZlSW50ZWdlcihudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyKSB7XG4gICAgICBpZiAodHlwZW9mIG51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuICBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBpbnRlZ2VyOiBcIicgK1xuICAgICAgICAgIG51bWJlciArICdcIicpO1xuICAgICAgfVxuICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeVBhcnNlRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIHBvc2l0aXZlIGludGVnZXI6ICcgK1xuICAgICAgICAgICdcIicgKyBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRpb25zLCBmdW4pIHtcbiAgICB2YXIgc3RhcnRrZXlOYW1lID0gb3B0aW9ucy5kZXNjZW5kaW5nID8gJ2VuZGtleScgOiAnc3RhcnRrZXknO1xuICAgIHZhciBlbmRrZXlOYW1lID0gb3B0aW9ucy5kZXNjZW5kaW5nID8gJ3N0YXJ0a2V5JyA6ICdlbmRrZXknO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zW3N0YXJ0a2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2Ygb3B0aW9uc1tlbmRrZXlOYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIGNvbGxhdGUob3B0aW9uc1tzdGFydGtleU5hbWVdLCBvcHRpb25zW2VuZGtleU5hbWVdKSA+IDApIHtcbiAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ05vIHJvd3MgY2FuIG1hdGNoIHlvdXIga2V5IHJhbmdlLCAnICtcbiAgICAgICAgJ3JldmVyc2UgeW91ciBzdGFydF9rZXkgYW5kIGVuZF9rZXkgb3Igc2V0IHtkZXNjZW5kaW5nIDogdHJ1ZX0nKTtcbiAgICB9IGVsc2UgaWYgKGZ1bi5yZWR1Y2UgJiYgb3B0aW9ucy5yZWR1Y2UgIT09IGZhbHNlKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcigne2luY2x1ZGVfZG9jczp0cnVlfSBpcyBpbnZhbGlkIGZvciByZWR1Y2UnKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5rZXlzICYmIG9wdGlvbnMua2V5cy5sZW5ndGggPiAxICYmXG4gICAgICAgICFvcHRpb25zLmdyb3VwICYmICFvcHRpb25zLmdyb3VwX2xldmVsKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ011bHRpLWtleSBmZXRjaGVzIGZvciByZWR1Y2Ugdmlld3MgbXVzdCB1c2UgJyArXG4gICAgICAgICAgJ3tncm91cDogdHJ1ZX0nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgWydncm91cF9sZXZlbCcsICdsaW1pdCcsICdza2lwJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uTmFtZSkge1xuICAgICAgdmFyIGVycm9yID0gY2hlY2tQb3NpdGl2ZUludGVnZXIob3B0aW9uc1tvcHRpb25OYW1lXSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIFBVVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgIHZhciBib2R5O1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgb2ssIHN0YXR1cztcblxuICAgIC8vIElmIG9wdHMucmVkdWNlIGV4aXN0cyBhbmQgaXMgZGVmaW5lZCwgdGhlbiBhZGQgaXQgdG8gdGhlIGxpc3RcbiAgICAvLyBvZiBwYXJhbWV0ZXJzLlxuICAgIC8vIElmIHJlZHVjZT1mYWxzZSB0aGVuIHRoZSByZXN1bHRzIGFyZSB0aGF0IG9mIG9ubHkgdGhlIG1hcCBmdW5jdGlvblxuICAgIC8vIG5vdCB0aGUgZmluYWwgcmVzdWx0IG9mIG1hcCBhbmQgcmVkdWNlLlxuICAgIGFkZEh0dHBQYXJhbSgncmVkdWNlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2luY2x1ZGVfZG9jcycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdhdHRhY2htZW50cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdsaW1pdCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdkZXNjZW5kaW5nJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2dyb3VwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2dyb3VwX2xldmVsJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3NraXAnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhbGUnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnY29uZmxpY3RzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YXJ0a2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YXJ0X2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdlbmRrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5kX2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdXNpdmVfZW5kJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCd1cGRhdGVfc2VxJywgb3B0cywgcGFyYW1zKTtcblxuICAgIC8vIEZvcm1hdCB0aGUgbGlzdCBvZiBwYXJhbWV0ZXJzIGludG8gYSB2YWxpZCBVUkkgcXVlcnkgc3RyaW5nXG4gICAgcGFyYW1zID0gcGFyYW1zLmpvaW4oJyYnKTtcbiAgICBwYXJhbXMgPSBwYXJhbXMgPT09ICcnID8gJycgOiAnPycgKyBwYXJhbXM7XG5cbiAgICAvLyBJZiBrZXlzIGFyZSBzdXBwbGllZCwgaXNzdWUgYSBQT1NUIHRvIGNpcmN1bXZlbnQgR0VUIHF1ZXJ5IHN0cmluZyBsaW1pdHNcbiAgICAvLyBzZWUgaHR0cDovL3dpa2kuYXBhY2hlLm9yZy9jb3VjaGRiL0hUVFBfdmlld19BUEkjUXVlcnlpbmdfT3B0aW9uc1xuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIE1BWF9VUkxfTEVOR1RIID0gMjAwMDtcbiAgICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80MTcxODQvNjgwNzQyLFxuICAgICAgLy8gdGhlIGRlIGZhY3RvIFVSTCBsZW5ndGggbGltaXQgaXMgMjAwMCBjaGFyYWN0ZXJzXG5cbiAgICAgIHZhciBrZXlzQXNTdHJpbmcgPVxuICAgICAgICAna2V5cz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG9wdHMua2V5cykpO1xuICAgICAgaWYgKGtleXNBc1N0cmluZy5sZW5ndGggKyBwYXJhbXMubGVuZ3RoICsgMSA8PSBNQVhfVVJMX0xFTkdUSCkge1xuICAgICAgICAvLyBJZiB0aGUga2V5cyBhcmUgc2hvcnQgZW5vdWdoLCBkbyBhIEdFVC4gd2UgZG8gdGhpcyB0byB3b3JrIGFyb3VuZFxuICAgICAgICAvLyBTYWZhcmkgbm90IHVuZGVyc3RhbmRpbmcgMzA0cyBvbiBQT1NUcyAoc2VlIHBvdWNoZGIvcG91Y2hkYiMxMjM5KVxuICAgICAgICBwYXJhbXMgKz0gKHBhcmFtc1swXSA9PT0gJz8nID8gJyYnIDogJz8nKSArIGtleXNBc1N0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgaWYgKHR5cGVvZiBmdW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgICAgICB9IGVsc2UgeyAvLyBmdW4gaXMge21hcCA6IG1hcGZ1bn0sIHNvIGFwcGVuZCB0byB0aGlzXG4gICAgICAgICAgZnVuLmtleXMgPSBvcHRzLmtleXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgcmVmZXJlbmNpbmcgYSBxdWVyeSBkZWZpbmVkIGluIHRoZSBkZXNpZ24gZG9jXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bik7XG4gICAgICByZXR1cm4gZGIuZmV0Y2goJ19kZXNpZ24vJyArIHBhcnRzWzBdICsgJy9fdmlldy8nICsgcGFydHNbMV0gKyBwYXJhbXMsIHtcbiAgICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZhaWwgdGhlIGVudGlyZSByZXF1ZXN0IGlmIHRoZSByZXN1bHQgY29udGFpbnMgYW4gZXJyb3JcbiAgICAgICAgcmVzdWx0LnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKHJvdy52YWx1ZSAmJiByb3cudmFsdWUuZXJyb3IgJiYgcm93LnZhbHVlLmVycm9yID09PSBcImJ1aWx0aW5fcmVkdWNlX2Vycm9yXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyb3cucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSkudGhlbihwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpKTtcbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgdXNpbmcgYSB0ZW1wb3JhcnkgdmlldywgdGVycmlibGUgZm9yIHBlcmZvcm1hbmNlLCBnb29kIGZvciB0ZXN0aW5nXG4gICAgYm9keSA9IGJvZHkgfHwge307XG4gICAgT2JqZWN0LmtleXMoZnVuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGZ1bltrZXldKSkge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHlba2V5XSA9IGZ1bltrZXldLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGIuZmV0Y2goJ190ZW1wX3ZpZXcnICsgcGFyYW1zLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIG9rID0gcmVzcG9uc2Uub2s7XG4gICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAoIW9rKSB7XG4gICAgICAgIHJlc3VsdC5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkudGhlbihwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpKTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3F1ZXJ5XG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21RdWVyeShkYiwgZnVuLCBvcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGRiLl9xdWVyeShmdW4sIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gY3VzdG9tIGFkYXB0ZXJzIGNhbiBkZWZpbmUgdGhlaXIgb3duIGFwaS5fdmlld0NsZWFudXBcbiAgLy8gYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIGN1c3RvbVZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGRiLl92aWV3Q2xlYW51cChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHRzVG8odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChyZWFzb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyByZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBsaXN0IG9mIGRvY3MgdG8gdXBkYXRlLCBiYXNlZCBvbiB0aGUgaW5wdXQgZG9jSWQuXG4gIC8vIHRoZSBvcmRlciBkb2Vzbid0IG1hdHRlciwgYmVjYXVzZSBwb3N0LTMuMi4wLCBidWxrRG9jc1xuICAvLyBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIGluIGFsbCB0aHJlZSBhZGFwdGVycy5cbiAgZnVuY3Rpb24gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpIHtcbiAgICB2YXIgbWV0YURvY0lkID0gJ19sb2NhbC9kb2NfJyArIGRvY0lkO1xuICAgIHZhciBkZWZhdWx0TWV0YURvYyA9IHtfaWQ6IG1ldGFEb2NJZCwga2V5czogW119O1xuICAgIHZhciBkb2NEYXRhID0gZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMuZ2V0KGRvY0lkKTtcbiAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gZG9jRGF0YVswXTtcbiAgICB2YXIgY2hhbmdlcyA9IGRvY0RhdGFbMV07XG5cbiAgICBmdW5jdGlvbiBnZXRNZXRhRG9jKCkge1xuICAgICAgaWYgKGlzR2VuT25lKGNoYW5nZXMpKSB7XG4gICAgICAgIC8vIGdlbmVyYXRpb24gMSwgc28gd2UgY2FuIHNhZmVseSBhc3N1bWUgaW5pdGlhbCBzdGF0ZVxuICAgICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoYXZvaWRzIHVubmVjZXNzYXJ5IEdFVHMpXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVmYXVsdE1ldGFEb2MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KG1ldGFEb2NJZCkuY2F0Y2goZGVmYXVsdHNUbyhkZWZhdWx0TWV0YURvYykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKSB7XG4gICAgICBpZiAoIW1ldGFEb2Mua2V5cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gbm8ga2V5cywgbm8gbmVlZCBmb3IgYSBsb29rdXBcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7cm93czogW119KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Moe1xuICAgICAgICBrZXlzOiBtZXRhRG9jLmtleXMsXG4gICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0tleVZhbHVlRG9jcyhtZXRhRG9jLCBrdkRvY3NSZXMpIHtcbiAgICAgIHZhciBrdkRvY3MgPSBbXTtcbiAgICAgIHZhciBvbGRLZXlzID0gbmV3IEV4cG9ydGVkU2V0KCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrdkRvY3NSZXMucm93cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgcm93ID0ga3ZEb2NzUmVzLnJvd3NbaV07XG4gICAgICAgIHZhciBkb2MgPSByb3cuZG9jO1xuICAgICAgICBpZiAoIWRvYykgeyAvLyBkZWxldGVkXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAga3ZEb2NzLnB1c2goZG9jKTtcbiAgICAgICAgb2xkS2V5cy5hZGQoZG9jLl9pZCk7XG4gICAgICAgIGRvYy5fZGVsZXRlZCA9ICFpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuaGFzKGRvYy5faWQpO1xuICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5nZXQoZG9jLl9pZCk7XG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4ga2V5VmFsdWUpIHtcbiAgICAgICAgICAgIGRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG5ld0tleXMgPSBtYXBUb0tleXNBcnJheShpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMpO1xuICAgICAgbmV3S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFvbGRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgLy8gbmV3IGRvY1xuICAgICAgICAgIHZhciBrdkRvYyA9IHtcbiAgICAgICAgICAgIF9pZDoga2V5XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGtleSk7XG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4ga2V5VmFsdWUpIHtcbiAgICAgICAgICAgIGt2RG9jLnZhbHVlID0ga2V5VmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGt2RG9jcy5wdXNoKGt2RG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtZXRhRG9jLmtleXMgPSB1bmlxKG5ld0tleXMuY29uY2F0KG1ldGFEb2Mua2V5cykpO1xuICAgICAga3ZEb2NzLnB1c2gobWV0YURvYyk7XG5cbiAgICAgIHJldHVybiBrdkRvY3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE1ldGFEb2MoKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICByZXR1cm4gZ2V0S2V5VmFsdWVEb2NzKG1ldGFEb2MpLnRoZW4oZnVuY3Rpb24gKGt2RG9jc1Jlcykge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc0tleVZhbHVlRG9jcyhtZXRhRG9jLCBrdkRvY3NSZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyB1cGRhdGVzIGFsbCBlbWl0dGVkIGtleS92YWx1ZSBkb2NzIGFuZCBtZXRhRG9jcyBpbiB0aGUgbXJ2aWV3IGRhdGFiYXNlXG4gIC8vIGZvciB0aGUgZ2l2ZW4gYmF0Y2ggb2YgZG9jdW1lbnRzIGZyb20gdGhlIHNvdXJjZSBkYXRhYmFzZVxuICBmdW5jdGlvbiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICB2YXIgc2VxRG9jSWQgPSAnX2xvY2FsL2xhc3RTZXEnO1xuICAgIHJldHVybiB2aWV3LmRiLmdldChzZXFEb2NJZClcbiAgICAgIC5jYXRjaChkZWZhdWx0c1RvKHtfaWQ6IHNlcURvY0lkLCBzZXE6IDB9KSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgIHZhciBkb2NJZHMgPSBtYXBUb0tleXNBcnJheShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb2NJZHMubWFwKGZ1bmN0aW9uIChkb2NJZCkge1xuICAgICAgICAgIHJldHVybiBnZXREb2NzVG9QZXJzaXN0KGRvY0lkLCB2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyk7XG4gICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChsaXN0T2ZEb2NzVG9QZXJzaXN0KSB7XG4gICAgICAgICAgdmFyIGRvY3NUb1BlcnNpc3QgPSBmbGF0dGVuKGxpc3RPZkRvY3NUb1BlcnNpc3QpO1xuICAgICAgICAgIGxhc3RTZXFEb2Muc2VxID0gc2VxO1xuICAgICAgICAgIGRvY3NUb1BlcnNpc3QucHVzaChsYXN0U2VxRG9jKTtcbiAgICAgICAgICAvLyB3cml0ZSBhbGwgZG9jcyBpbiBhIHNpbmdsZSBvcGVyYXRpb24sIHVwZGF0ZSB0aGUgc2VxIG9uY2VcbiAgICAgICAgICByZXR1cm4gdmlldy5kYi5idWxrRG9jcyh7ZG9jcyA6IGRvY3NUb1BlcnNpc3R9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXVlKHZpZXcpIHtcbiAgICB2YXIgdmlld05hbWUgPSB0eXBlb2YgdmlldyA9PT0gJ3N0cmluZycgPyB2aWV3IDogdmlldy5uYW1lO1xuICAgIHZhciBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdO1xuICAgIGlmICghcXVldWUpIHtcbiAgICAgIHF1ZXVlID0gcGVyc2lzdGVudFF1ZXVlc1t2aWV3TmFtZV0gPSBuZXcgVGFza1F1ZXVlJDEoKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXVlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlldyh2aWV3LCBvcHRzKSB7XG4gICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlldyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1cGRhdGVWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cykge1xuICAgIC8vIGJpbmQgdGhlIGVtaXQgZnVuY3Rpb24gb25jZVxuICAgIHZhciBtYXBSZXN1bHRzO1xuICAgIHZhciBkb2M7XG5cbiAgICBmdW5jdGlvbiBlbWl0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvdXRwdXQgPSB7aWQ6IGRvYy5faWQsIGtleTogbm9ybWFsaXplS2V5KGtleSl9O1xuICAgICAgLy8gRG9uJ3QgZXhwbGljaXRseSBzdG9yZSB0aGUgdmFsdWUgdW5sZXNzIGl0J3MgZGVmaW5lZCBhbmQgbm9uLW51bGwuXG4gICAgICAvLyBUaGlzIHNhdmVzIG9uIHN0b3JhZ2Ugc3BhY2UsIGJlY2F1c2Ugb2Z0ZW4gcGVvcGxlIGRvbid0IHVzZSBpdC5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIG91dHB1dC52YWx1ZSA9IG5vcm1hbGl6ZUtleSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBtYXBSZXN1bHRzLnB1c2gob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgbWFwRnVuID0gbWFwcGVyKHZpZXcubWFwRnVuLCBlbWl0KTtcblxuICAgIHZhciBjdXJyZW50U2VxID0gdmlldy5zZXEgfHwgMDtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNhdmVLZXlWYWx1ZXModmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCBpbmRleGVkX2RvY3MgPSAwO1xuICAgIGxldCBwcm9ncmVzcyA9IHtcbiAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgIGluZGV4ZWRfZG9jczogaW5kZXhlZF9kb2NzXG4gICAgfTtcbiAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuXG4gICAgdmFyIHF1ZXVlID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTmV4dEJhdGNoKCkge1xuICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuY2hhbmdlcyh7XG4gICAgICAgIHJldHVybl9kb2NzOiB0cnVlLFxuICAgICAgICBjb25mbGljdHM6IHRydWUsXG4gICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgc3R5bGU6ICdhbGxfZG9jcycsXG4gICAgICAgIHNpbmNlOiBjdXJyZW50U2VxLFxuICAgICAgICBsaW1pdDogb3B0cy5jaGFuZ2VzX2JhdGNoX3NpemVcbiAgICAgIH0pLnRoZW4ocHJvY2Vzc0JhdGNoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2gocmVzcG9uc2UpIHtcbiAgICAgIHZhciByZXN1bHRzID0gcmVzcG9uc2UucmVzdWx0cztcbiAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzID0gY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMocmVzdWx0cyk7XG4gICAgICBxdWV1ZS5hZGQocHJvY2Vzc0NoYW5nZShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgY3VycmVudFNlcSkpO1xuXG4gICAgICBpbmRleGVkX2RvY3MgPSBpbmRleGVkX2RvY3MgKyByZXN1bHRzLmxlbmd0aDtcbiAgICAgIGxldCBwcm9ncmVzcyA9IHtcbiAgICAgICAgdmlldzogdmlldy5uYW1lLFxuICAgICAgICBsYXN0X3NlcTogcmVzcG9uc2UubGFzdF9zZXEsXG4gICAgICAgIHJlc3VsdHNfY291bnQ6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgICAgfTtcbiAgICAgIHZpZXcuc291cmNlREIuZW1pdCgnaW5kZXhpbmcnLCBwcm9ncmVzcyk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMocmVzdWx0cykge1xuICAgICAgdmFyIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY2hhbmdlID0gcmVzdWx0c1tpXTtcbiAgICAgICAgaWYgKGNoYW5nZS5kb2MuX2lkWzBdICE9PSAnXycpIHtcbiAgICAgICAgICBtYXBSZXN1bHRzID0gW107XG4gICAgICAgICAgZG9jID0gY2hhbmdlLmRvYztcblxuICAgICAgICAgIGlmICghZG9jLl9kZWxldGVkKSB7XG4gICAgICAgICAgICB0cnlNYXAodmlldy5zb3VyY2VEQiwgbWFwRnVuLCBkb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXBSZXN1bHRzLnNvcnQoc29ydEJ5S2V5VGhlblZhbHVlKTtcblxuICAgICAgICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cyk7XG4gICAgICAgICAgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMuc2V0KGNoYW5nZS5kb2MuX2lkLCBbXG4gICAgICAgICAgICBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMsXG4gICAgICAgICAgICBjaGFuZ2UuY2hhbmdlc1xuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRTZXEgPSBjaGFuZ2Uuc2VxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyhtYXBSZXN1bHRzKSB7XG4gICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICB2YXIgbGFzdEtleTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtYXBSZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBlbWl0dGVkS2V5VmFsdWUgPSBtYXBSZXN1bHRzW2ldO1xuICAgICAgICB2YXIgY29tcGxleEtleSA9IFtlbWl0dGVkS2V5VmFsdWUua2V5LCBlbWl0dGVkS2V5VmFsdWUuaWRdO1xuICAgICAgICBpZiAoaSA+IDAgJiYgY29sbGF0ZShlbWl0dGVkS2V5VmFsdWUua2V5LCBsYXN0S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGNvbXBsZXhLZXkucHVzaChpKTsgLy8gZHVwIGtleStpZCwgc28gbWFrZSBpdCB1bmlxdWVcbiAgICAgICAgfVxuICAgICAgICBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuc2V0KHRvSW5kZXhhYmxlU3RyaW5nKGNvbXBsZXhLZXkpLCBlbWl0dGVkS2V5VmFsdWUpO1xuICAgICAgICBsYXN0S2V5ID0gZW1pdHRlZEtleVZhbHVlLmtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb2Nlc3NOZXh0QmF0Y2goKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWV1ZS5maW5pc2goKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZpZXcuc2VxID0gY3VycmVudFNlcTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZHVjZVZpZXcodmlldywgcmVzdWx0cywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmdyb3VwX2xldmVsID09PSAwKSB7XG4gICAgICBkZWxldGUgb3B0aW9ucy5ncm91cF9sZXZlbDtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkR3JvdXAgPSBvcHRpb25zLmdyb3VwIHx8IG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG5cbiAgICB2YXIgcmVkdWNlRnVuID0gcmVkdWNlcih2aWV3LnJlZHVjZUZ1bik7XG5cbiAgICB2YXIgZ3JvdXBzID0gW107XG4gICAgdmFyIGx2bCA9IGlzTmFOKG9wdGlvbnMuZ3JvdXBfbGV2ZWwpID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDpcbiAgICAgIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgbGFzdCA9IGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgZ3JvdXBLZXkgPSBzaG91bGRHcm91cCA/IGUua2V5IDogbnVsbDtcblxuICAgICAgLy8gb25seSBzZXQgZ3JvdXBfbGV2ZWwgZm9yIGFycmF5IGtleXNcbiAgICAgIGlmIChzaG91bGRHcm91cCAmJiBBcnJheS5pc0FycmF5KGdyb3VwS2V5KSkge1xuICAgICAgICBncm91cEtleSA9IGdyb3VwS2V5LnNsaWNlKDAsIGx2bCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXN0ICYmIGNvbGxhdGUobGFzdC5ncm91cEtleSwgZ3JvdXBLZXkpID09PSAwKSB7XG4gICAgICAgIGxhc3Qua2V5cy5wdXNoKFtlLmtleSwgZS5pZF0pO1xuICAgICAgICBsYXN0LnZhbHVlcy5wdXNoKGUudmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBncm91cHMucHVzaCh7XG4gICAgICAgIGtleXM6IFtbZS5rZXksIGUuaWRdXSxcbiAgICAgICAgdmFsdWVzOiBbZS52YWx1ZV0sXG4gICAgICAgIGdyb3VwS2V5OiBncm91cEtleVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBncm91cHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBlID0gZ3JvdXBzW2ldO1xuICAgICAgdmFyIHJlZHVjZVRyeSA9IHRyeVJlZHVjZSh2aWV3LnNvdXJjZURCLCByZWR1Y2VGdW4sIGUua2V5cywgZS52YWx1ZXMsIGZhbHNlKTtcbiAgICAgIGlmIChyZWR1Y2VUcnkuZXJyb3IgJiYgcmVkdWNlVHJ5LmVycm9yIGluc3RhbmNlb2YgQnVpbHRJbkVycm9yKSB7XG4gICAgICAgIC8vIENvdWNoREIgcmV0dXJucyBhbiBlcnJvciBpZiBhIGJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdGhyb3cgcmVkdWNlVHJ5LmVycm9yO1xuICAgICAgfVxuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgLy8gQ291Y2hEQiBqdXN0IHNldHMgdGhlIHZhbHVlIHRvIG51bGwgaWYgYSBub24tYnVpbHQtaW4gZXJyb3JzIG91dFxuICAgICAgICB2YWx1ZTogcmVkdWNlVHJ5LmVycm9yID8gbnVsbCA6IHJlZHVjZVRyeS5vdXRwdXQsXG4gICAgICAgIGtleTogZS5ncm91cEtleVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG5vIHRvdGFsX3Jvd3Mvb2Zmc2V0IHdoZW4gcmVkdWNpbmdcbiAgICByZXR1cm4ge3Jvd3M6IHNsaWNlUmVzdWx0cyhyZXN1bHRzLCBvcHRpb25zLmxpbWl0LCBvcHRpb25zLnNraXApfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKSB7XG4gICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlldyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpO1xuICAgIH0pKCk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICB2YXIgdG90YWxSb3dzO1xuICAgIHZhciBzaG91bGRSZWR1Y2UgPSB2aWV3LnJlZHVjZUZ1biAmJiBvcHRzLnJlZHVjZSAhPT0gZmFsc2U7XG4gICAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcgJiYgIW9wdHMua2V5cy5sZW5ndGgpIHtcbiAgICAgIC8vIGVxdWl2YWxlbnQgcXVlcnlcbiAgICAgIG9wdHMubGltaXQgPSAwO1xuICAgICAgZGVsZXRlIG9wdHMua2V5cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKSB7XG4gICAgICB2aWV3T3B0cy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIHZpZXcuZGIuYWxsRG9jcyh2aWV3T3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRvdGFsUm93cyA9IHJlcy50b3RhbF9yb3dzO1xuICAgICAgICByZXR1cm4gcmVzLnJvd3MubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgICAgICAgIC8vIGltcGxpY2l0IG1pZ3JhdGlvbiAtIGluIG9sZGVyIHZlcnNpb25zIG9mIFBvdWNoREIsXG4gICAgICAgICAgLy8gd2UgZXhwbGljaXRseSBzdG9yZWQgdGhlIGRvYyBhcyB7aWQ6IC4uLiwga2V5OiAuLi4sIHZhbHVlOiAuLi59XG4gICAgICAgICAgLy8gdGhpcyBpcyB0ZXN0ZWQgaW4gYSBtaWdyYXRpb24gdGVzdFxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4gcmVzdWx0LmRvYyAmJiB0eXBlb2YgcmVzdWx0LmRvYy52YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHJlc3VsdC5kb2MudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVzdWx0LmRvYy52YWx1ZSkuc29ydCgpO1xuICAgICAgICAgICAgLy8gdGhpcyBkZXRlY3Rpb24gbWV0aG9kIGlzIG5vdCBwZXJmZWN0LCBidXQgaXQncyB1bmxpa2VseSB0aGUgdXNlclxuICAgICAgICAgICAgLy8gZW1pdHRlZCBhIHZhbHVlIHdoaWNoIHdhcyBhbiBvYmplY3Qgd2l0aCB0aGVzZSAzIGV4YWN0IGtleXNcbiAgICAgICAgICAgIHZhciBleHBlY3RlZEtleXMgPSBbJ2lkJywgJ2tleScsICd2YWx1ZSddO1xuICAgICAgICAgICAgaWYgKCEoa2V5cyA8IGV4cGVjdGVkS2V5cyB8fCBrZXlzID4gZXhwZWN0ZWRLZXlzKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvYy52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcGFyc2VkS2V5QW5kRG9jSWQgPSBwYXJzZUluZGV4YWJsZVN0cmluZyhyZXN1bHQuZG9jLl9pZCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogcGFyc2VkS2V5QW5kRG9jSWRbMF0sXG4gICAgICAgICAgICBpZDogcGFyc2VkS2V5QW5kRG9jSWRbMV0sXG4gICAgICAgICAgICB2YWx1ZTogKCd2YWx1ZScgaW4gcmVzdWx0LmRvYyA/IHJlc3VsdC5kb2MudmFsdWUgOiBudWxsKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NYXBSZXN1bHRzUmVhZHkocm93cykge1xuICAgICAgdmFyIGZpbmFsUmVzdWx0cztcbiAgICAgIGlmIChzaG91bGRSZWR1Y2UpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzID0gcmVkdWNlVmlldyh2aWV3LCByb3dzLCBvcHRzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdHMua2V5cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogcm93c1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3VwcG9ydCBsaW1pdCwgc2tpcCBmb3Iga2V5cyBxdWVyeVxuICAgICAgICBmaW5hbFJlc3VsdHMgPSB7XG4gICAgICAgICAgdG90YWxfcm93czogdG90YWxSb3dzLFxuICAgICAgICAgIG9mZnNldDogc2tpcCxcbiAgICAgICAgICByb3dzOiBzbGljZVJlc3VsdHMocm93cyxvcHRzLmxpbWl0LG9wdHMuc2tpcClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICBmaW5hbFJlc3VsdHMudXBkYXRlX3NlcSA9IHZpZXcuc2VxO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHZhciBkb2NJZHMgPSB1bmlxKHJvd3MubWFwKHJvd1RvRG9jSWQpKTtcblxuICAgICAgICByZXR1cm4gdmlldy5zb3VyY2VEQi5hbGxEb2NzKHtcbiAgICAgICAgICBrZXlzOiBkb2NJZHMsXG4gICAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgICAgIGNvbmZsaWN0czogb3B0cy5jb25mbGljdHMsXG4gICAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChhbGxEb2NzUmVzKSB7XG4gICAgICAgICAgdmFyIGRvY0lkc1RvRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgICAgIGFsbERvY3NSZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIGRvY0lkc1RvRG9jcy5zZXQocm93LmlkLCByb3cuZG9jKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgdmFyIGRvY0lkID0gcm93VG9Eb2NJZChyb3cpO1xuICAgICAgICAgICAgdmFyIGRvYyA9IGRvY0lkc1RvRG9jcy5nZXQoZG9jSWQpO1xuICAgICAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgICAgICByb3cuZG9jID0gZG9jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0cztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBrZXlzID0gb3B0cy5rZXlzO1xuICAgICAgdmFyIGZldGNoUHJvbWlzZXMgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2aWV3T3B0cyA9IHtcbiAgICAgICAgICBzdGFydGtleSA6IHRvSW5kZXhhYmxlU3RyaW5nKFtrZXldKSxcbiAgICAgICAgICBlbmRrZXkgICA6IHRvSW5kZXhhYmxlU3RyaW5nKFtrZXksIHt9XSlcbiAgICAgICAgfTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgICB2aWV3T3B0cy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChmZXRjaFByb21pc2VzKS50aGVuKGZsYXR0ZW4pLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBxdWVyeSwgbm8gJ2tleXMnXG4gICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgIGRlc2NlbmRpbmcgOiBvcHRzLmRlc2NlbmRpbmdcbiAgICAgIH07XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgc3RhcnRrZXk7XG4gICAgICB2YXIgZW5ka2V5O1xuICAgICAgaWYgKCdzdGFydF9rZXknIGluIG9wdHMpIHtcbiAgICAgICAgc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICAgIH1cbiAgICAgIGlmICgnc3RhcnRrZXknIGluIG9wdHMpIHtcbiAgICAgICAgc3RhcnRrZXkgPSBvcHRzLnN0YXJ0a2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdlbmRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIGVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5ka2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIGVuZGtleSA9IG9wdHMuZW5ka2V5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBzdGFydGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBvcHRzLmRlc2NlbmRpbmcgP1xuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleSwge31dKSA6XG4gICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoW3N0YXJ0a2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGluY2x1c2l2ZUVuZCA9IG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgICBpbmNsdXNpdmVFbmQgPSAhaW5jbHVzaXZlRW5kO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlld09wdHMuZW5ka2V5ID0gdG9JbmRleGFibGVTdHJpbmcoXG4gICAgICAgICAgaW5jbHVzaXZlRW5kID8gW2VuZGtleSwge31dIDogW2VuZGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRzLmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGtleVN0YXJ0ID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5XSk7XG4gICAgICAgIHZhciBrZXlFbmQgPSB0b0luZGV4YWJsZVN0cmluZyhbb3B0cy5rZXksIHt9XSk7XG4gICAgICAgIGlmICh2aWV3T3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBrZXlFbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBrZXlTdGFydDtcbiAgICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSBrZXlFbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5saW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB2aWV3T3B0cy5saW1pdCA9IG9wdHMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmlld09wdHMuc2tpcCA9IHNraXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykudGhlbihvbk1hcFJlc3VsdHNSZWFkeSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdmlld19jbGVhbnVwJywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhbFZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIGRiLmdldCgnX2xvY2FsLycgKyBsb2NhbERvY05hbWUpLnRoZW4oZnVuY3Rpb24gKG1ldGFEb2MpIHtcbiAgICAgIHZhciBkb2NzVG9WaWV3cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgT2JqZWN0LmtleXMobWV0YURvYy52aWV3cykuZm9yRWFjaChmdW5jdGlvbiAoZnVsbFZpZXdOYW1lKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVsbFZpZXdOYW1lKTtcbiAgICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSAnX2Rlc2lnbi8nICsgcGFydHNbMF07XG4gICAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgICB2YXIgdmlld3MgPSBkb2NzVG9WaWV3cy5nZXQoZGVzaWduRG9jTmFtZSk7XG4gICAgICAgIGlmICghdmlld3MpIHtcbiAgICAgICAgICB2aWV3cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuICAgICAgICAgIGRvY3NUb1ZpZXdzLnNldChkZXNpZ25Eb2NOYW1lLCB2aWV3cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmlld3MuYWRkKHZpZXdOYW1lKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgIGtleXMgOiBtYXBUb0tleXNBcnJheShkb2NzVG9WaWV3cyksXG4gICAgICAgIGluY2x1ZGVfZG9jcyA6IHRydWVcbiAgICAgIH07XG4gICAgICByZXR1cm4gZGIuYWxsRG9jcyhvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIHZpZXdzVG9TdGF0dXMgPSB7fTtcbiAgICAgICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgdmFyIGRkb2NOYW1lID0gcm93LmtleS5zdWJzdHJpbmcoOCk7IC8vIGN1dHMgb2ZmICdfZGVzaWduLydcbiAgICAgICAgICBkb2NzVG9WaWV3cy5nZXQocm93LmtleSkuZm9yRWFjaChmdW5jdGlvbiAodmlld05hbWUpIHtcbiAgICAgICAgICAgIHZhciBmdWxsVmlld05hbWUgPSBkZG9jTmFtZSArICcvJyArIHZpZXdOYW1lO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoIW1ldGFEb2Mudmlld3NbZnVsbFZpZXdOYW1lXSkge1xuICAgICAgICAgICAgICAvLyBuZXcgZm9ybWF0LCB3aXRob3V0IHNsYXNoZXMsIHRvIHN1cHBvcnQgUG91Y2hEQiAyLjIuMFxuICAgICAgICAgICAgICAvLyBtaWdyYXRpb24gdGVzdCBpbiBwb3VjaGRiJ3MgYnJvd3Nlci5taWdyYXRpb24uanMgdmVyaWZpZXMgdGhpc1xuICAgICAgICAgICAgICBmdWxsVmlld05hbWUgPSB2aWV3TmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2aWV3REJOYW1lcyA9IE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3NbZnVsbFZpZXdOYW1lXSk7XG4gICAgICAgICAgICAvLyBkZXNpZ24gZG9jIGRlbGV0ZWQsIG9yIHZpZXcgZnVuY3Rpb24gbm9uZXhpc3RlbnRcbiAgICAgICAgICAgIHZhciBzdGF0dXNJc0dvb2QgPSByb3cuZG9jICYmIHJvdy5kb2Mudmlld3MgJiZcbiAgICAgICAgICAgICAgcm93LmRvYy52aWV3c1t2aWV3TmFtZV07XG4gICAgICAgICAgICB2aWV3REJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7XG4gICAgICAgICAgICAgIHZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV0gPVxuICAgICAgICAgICAgICAgIHZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV0gfHwgc3RhdHVzSXNHb29kO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZGJzVG9EZWxldGUgPSBPYmplY3Qua2V5cyh2aWV3c1RvU3RhdHVzKS5maWx0ZXIoXG4gICAgICAgICAgZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHsgcmV0dXJuICF2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdOyB9KTtcbiAgICAgICAgdmFyIGRlc3Ryb3lQcm9taXNlcyA9IGRic1RvRGVsZXRlLm1hcChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXdEQk5hbWUpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGRiLmNvbnN0cnVjdG9yKHZpZXdEQk5hbWUsIGRiLl9fb3B0cykuZGVzdHJveSgpO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZGVzdHJveVByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4ge29rOiB0cnVlfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCBkZWZhdWx0c1RvKHtvazogdHJ1ZX0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5UHJvbWlzZWQoZGIsIGZ1biwgb3B0cykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBkYi5fcXVlcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjdXN0b21RdWVyeShkYiwgZnVuLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKGlzUmVtb3RlKGRiKSkge1xuICAgICAgcmV0dXJuIGh0dHBRdWVyeShkYiwgZnVuLCBvcHRzKTtcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlVmlld09wdHMgPSB7XG4gICAgICBjaGFuZ2VzX2JhdGNoX3NpemU6IGRiLl9fb3B0cy52aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUgfHwgQ0hBTkdFU19CQVRDSF9TSVpFJDFcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBmdW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyB0ZW1wX3ZpZXdcbiAgICAgIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdHMsIGZ1bik7XG5cbiAgICAgIHRlbXBWaWV3UXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNyZWF0ZVZpZXdQcm9taXNlID0gY3JlYXRlVmlldyhcbiAgICAgICAgICAvKiBzb3VyY2VEQiAqLyBkYixcbiAgICAgICAgICAvKiB2aWV3TmFtZSAqLyAndGVtcF92aWV3L3RlbXBfdmlldycsXG4gICAgICAgICAgLyogbWFwRnVuICovIGZ1bi5tYXAsXG4gICAgICAgICAgLyogcmVkdWNlRnVuICovIGZ1bi5yZWR1Y2UsXG4gICAgICAgICAgLyogdGVtcG9yYXJ5ICovIHRydWUsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgcmV0dXJuIGZpbih1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LmRiLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0ZW1wVmlld1F1ZXVlLmZpbmlzaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBwZXJzaXN0ZW50IHZpZXdcbiAgICAgIHZhciBmdWxsVmlld05hbWUgPSBmdW47XG4gICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICB2YXIgZGVzaWduRG9jTmFtZSA9IHBhcnRzWzBdO1xuICAgICAgdmFyIHZpZXdOYW1lID0gcGFydHNbMV07XG4gICAgICByZXR1cm4gZGIuZ2V0KCdfZGVzaWduLycgKyBkZXNpZ25Eb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgdmFyIGZ1biA9IGRvYy52aWV3cyAmJiBkb2Mudmlld3Nbdmlld05hbWVdO1xuXG4gICAgICAgIGlmICghZnVuKSB7XG4gICAgICAgICAgLy8gYmFzaWMgdmFsaWRhdG9yOyBpdCdzIGFzc3VtZWQgdGhhdCBldmVyeSBzdWJjbGFzcyB3b3VsZCB3YW50IHRoaXNcbiAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZG9jLl9pZCArICcgaGFzIG5vIHZpZXcgbmFtZWQgJyArXG4gICAgICAgICAgICB2aWV3TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkZG9jVmFsaWRhdG9yKGRvYywgdmlld05hbWUpO1xuICAgICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gZnVsbFZpZXdOYW1lLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyBmYWxzZSxcbiAgICAgICAgICAvKiBsb2NhbERvY05hbWUgKi8gbG9jYWxEb2NOYW1lKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZpZXdQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICBpZiAob3B0cy5zdGFsZSA9PT0gJ29rJyB8fCBvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICd1cGRhdGVfYWZ0ZXInKSB7XG4gICAgICAgICAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBzdGFsZSBub3Qgb2tcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhYnN0cmFjdFF1ZXJ5KGZ1biwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgZGIgPSB0aGlzO1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gb3B0cyA/IGNvZXJjZU9wdGlvbnMob3B0cykgOiB7fTtcblxuICAgIGlmICh0eXBlb2YgZnVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmdW4gPSB7bWFwIDogZnVufTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5UHJvbWlzZWQoZGIsIGZ1biwgb3B0cyk7XG4gICAgfSk7XG4gICAgcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2YXIgYWJzdHJhY3RWaWV3Q2xlYW51cCA9IGNhbGxiYWNraWZ5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGIgPSB0aGlzO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBkYi5fdmlld0NsZWFudXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjdXN0b21WaWV3Q2xlYW51cChkYik7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxWaWV3Q2xlYW51cChkYik7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcXVlcnk6IGFic3RyYWN0UXVlcnksXG4gICAgdmlld0NsZWFudXA6IGFic3RyYWN0Vmlld0NsZWFudXBcbiAgfTtcbn1cblxudmFyIGJ1aWx0SW5SZWR1Y2UgPSB7XG4gIF9zdW06IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gc3VtKHZhbHVlcyk7XG4gIH0sXG5cbiAgX2NvdW50OiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGg7XG4gIH0sXG5cbiAgX3N0YXRzOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgLy8gbm8gbmVlZCB0byBpbXBsZW1lbnQgcmVyZWR1Y2U9dHJ1ZSwgYmVjYXVzZSBQb3VjaFxuICAgIC8vIHdpbGwgbmV2ZXIgY2FsbCBpdFxuICAgIGZ1bmN0aW9uIHN1bXNxcih2YWx1ZXMpIHtcbiAgICAgIHZhciBfc3Vtc3FyID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIG51bSA9IHZhbHVlc1tpXTtcbiAgICAgICAgX3N1bXNxciArPSAobnVtICogbnVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfc3Vtc3FyO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3VtICAgICA6IHN1bSh2YWx1ZXMpLFxuICAgICAgbWluICAgICA6IE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBtYXggICAgIDogTWF0aC5tYXguYXBwbHkobnVsbCwgdmFsdWVzKSxcbiAgICAgIGNvdW50ICAgOiB2YWx1ZXMubGVuZ3RoLFxuICAgICAgc3Vtc3FyIDogc3Vtc3FyKHZhbHVlcylcbiAgICB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRCdWlsdEluKHJlZHVjZUZ1blN0cmluZykge1xuICBpZiAoL15fc3VtLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3VtO1xuICB9IGVsc2UgaWYgKC9eX2NvdW50Ly50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fY291bnQ7XG4gIH0gZWxzZSBpZiAoL15fc3RhdHMvLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9zdGF0cztcbiAgfSBlbHNlIGlmICgvXl8vLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihyZWR1Y2VGdW5TdHJpbmcgKyAnIGlzIG5vdCBhIHN1cHBvcnRlZCByZWR1Y2UgZnVuY3Rpb24uJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwcGVyKG1hcEZ1biwgZW1pdCkge1xuICAvLyBmb3IgdGVtcF92aWV3cyBvbmUgY2FuIHVzZSBlbWl0KGRvYywgZW1pdCksIHNlZSAjMzhcbiAgaWYgKHR5cGVvZiBtYXBGdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBtYXBGdW4ubGVuZ3RoID09PSAyKSB7XG4gICAgdmFyIG9yaWdNYXAgPSBtYXBGdW47XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBvcmlnTWFwKGRvYywgZW1pdCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXZhbEZ1bmN0aW9uV2l0aEV2YWwobWFwRnVuLnRvU3RyaW5nKCksIGVtaXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZHVjZXIocmVkdWNlRnVuKSB7XG4gIHZhciByZWR1Y2VGdW5TdHJpbmcgPSByZWR1Y2VGdW4udG9TdHJpbmcoKTtcbiAgdmFyIGJ1aWx0SW4gPSBnZXRCdWlsdEluKHJlZHVjZUZ1blN0cmluZyk7XG4gIGlmIChidWlsdEluKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKHJlZHVjZUZ1blN0cmluZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGRvY1ZhbGlkYXRvcihkZG9jLCB2aWV3TmFtZSkge1xuICB2YXIgZnVuID0gZGRvYy52aWV3cyAmJiBkZG9jLnZpZXdzW3ZpZXdOYW1lXTtcbiAgaWYgKHR5cGVvZiBmdW4ubWFwICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdkZG9jICcgKyBkZG9jLl9pZCArICcgaGFzIG5vIHN0cmluZyB2aWV3IG5hbWVkICcgK1xuICAgICAgdmlld05hbWUgKyAnLCBpbnN0ZWFkIGZvdW5kIG9iamVjdCBvZiB0eXBlOiAnICsgdHlwZW9mIGZ1bi5tYXApO1xuICB9XG59XG5cbnZhciBsb2NhbERvY05hbWUgPSAnbXJ2aWV3cyc7XG52YXIgYWJzdHJhY3QgPSBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIHF1ZXJ5KGZ1biwgb3B0cywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGFic3RyYWN0LnF1ZXJ5LmNhbGwodGhpcywgZnVuLCBvcHRzLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIHZpZXdDbGVhbnVwKGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC52aWV3Q2xlYW51cC5jYWxsKHRoaXMsIGNhbGxiYWNrKTtcbn1cblxudmFyIG1hcHJlZHVjZSA9IHtcbiAgcXVlcnk6IHF1ZXJ5LFxuICB2aWV3Q2xlYW51cDogdmlld0NsZWFudXBcbn07XG5cbmZ1bmN0aW9uIGlzR2VuT25lJDEocmV2KSB7XG4gIHJldHVybiAvXjEtLy50ZXN0KHJldik7XG59XG5cbmZ1bmN0aW9uIGZpbGVIYXNDaGFuZ2VkKGxvY2FsRG9jLCByZW1vdGVEb2MsIGZpbGVuYW1lKSB7XG4gIHJldHVybiAhbG9jYWxEb2MuX2F0dGFjaG1lbnRzIHx8XG4gICAgICAgICAhbG9jYWxEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXSB8fFxuICAgICAgICAgbG9jYWxEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3QgIT09IHJlbW90ZURvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdLmRpZ2VzdDtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jQXR0YWNobWVudHMoZGIsIGRvYykge1xuICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG4gIHJldHVybiBQcm9taXNlLmFsbChmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgIHJldHVybiBkYi5nZXRBdHRhY2htZW50KGRvYy5faWQsIGZpbGVuYW1lLCB7cmV2OiBkb2MuX3Jldn0pO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCBkb2MpIHtcbiAgdmFyIGRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzID0gaXNSZW1vdGUoc3JjKSAmJiAhaXNSZW1vdGUodGFyZ2V0KTtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gIGlmICghZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMpIHtcbiAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHMoc3JjLCBkb2MpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldC5nZXQoZG9jLl9pZCkudGhlbihmdW5jdGlvbiAobG9jYWxEb2MpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgIGlmIChmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgZG9jLCBmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5nZXRBdHRhY2htZW50KGRvYy5faWQsIGZpbGVuYW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldC5nZXRBdHRhY2htZW50KGxvY2FsRG9jLl9pZCwgZmlsZW5hbWUpO1xuICAgIH0pKTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycm9yLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHMoc3JjLCBkb2MpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVsa0dldE9wdHMoZGlmZnMpIHtcbiAgdmFyIHJlcXVlc3RzID0gW107XG4gIE9iamVjdC5rZXlzKGRpZmZzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciBtaXNzaW5nUmV2cyA9IGRpZmZzW2lkXS5taXNzaW5nO1xuICAgIG1pc3NpbmdSZXZzLmZvckVhY2goZnVuY3Rpb24gKG1pc3NpbmdSZXYpIHtcbiAgICAgIHJlcXVlc3RzLnB1c2goe1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHJldjogbWlzc2luZ1JldlxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgZG9jczogcmVxdWVzdHMsXG4gICAgcmV2czogdHJ1ZSxcbiAgICBsYXRlc3Q6IHRydWVcbiAgfTtcbn1cblxuLy9cbi8vIEZldGNoIGFsbCB0aGUgZG9jdW1lbnRzIGZyb20gdGhlIHNyYyBhcyBkZXNjcmliZWQgaW4gdGhlIFwiZGlmZnNcIixcbi8vIHdoaWNoIGlzIGEgbWFwcGluZyBvZiBkb2NzIElEcyB0byByZXZpc2lvbnMuIElmIHRoZSBzdGF0ZSBldmVyXG4vLyBjaGFuZ2VzIHRvIFwiY2FuY2VsbGVkXCIsIHRoZW4gdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZC5cbi8vIEVsc2UgaXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGEgbGlzdCBvZiBmZXRjaGVkIGRvY3VtZW50cy5cbi8vXG5mdW5jdGlvbiBnZXREb2NzKHNyYywgdGFyZ2V0LCBkaWZmcywgc3RhdGUpIHtcbiAgZGlmZnMgPSBjbG9uZShkaWZmcyk7IC8vIHdlIGRvIG5vdCBuZWVkIHRvIG1vZGlmeSB0aGlzXG5cbiAgdmFyIHJlc3VsdERvY3MgPSBbXSxcbiAgICAgIG9rID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBnZXRBbGxEb2NzKCkge1xuXG4gICAgdmFyIGJ1bGtHZXRPcHRzID0gY3JlYXRlQnVsa0dldE9wdHMoZGlmZnMpO1xuXG4gICAgaWYgKCFidWxrR2V0T3B0cy5kb2NzLmxlbmd0aCkgeyAvLyBvcHRpbWl6YXRpb246IHNraXAgZW1wdHkgcmVxdWVzdHNcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjLmJ1bGtHZXQoYnVsa0dldE9wdHMpLnRoZW4oZnVuY3Rpb24gKGJ1bGtHZXRSZXNwb25zZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoc3RhdGUuY2FuY2VsbGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYnVsa0dldFJlc3BvbnNlLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChidWxrR2V0SW5mbykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYnVsa0dldEluZm8uZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIHZhciByZW1vdGVEb2MgPSBkb2Mub2s7XG5cbiAgICAgICAgICBpZiAoZG9jLmVycm9yKSB7XG4gICAgICAgICAgICAvLyB3aGVuIEFVVE9fQ09NUEFDVElPTiBpcyBzZXQsIGRvY3MgY2FuIGJlIHJldHVybmVkIHdoaWNoIGxvb2tcbiAgICAgICAgICAgIC8vIGxpa2UgdGhpczoge1wibWlzc2luZ1wiOlwiMS03YzNhYzI1NmI2OTNjNDYyYWY4NDQyZjk5MmI4MzY5NlwifVxuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXJlbW90ZURvYyB8fCAhcmVtb3RlRG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UodGFyZ2V0LCBzcmMsIHJlbW90ZURvYylcbiAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhyZW1vdGVEb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChhdHRhY2htZW50LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dCA9IHJlbW90ZURvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0LmRhdGEgPSBhdHRhY2htZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3RlRG9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKVxuXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICByZXN1bHREb2NzID0gcmVzdWx0RG9jcy5jb25jYXQoZmxhdHRlbihyZXN1bHRzKS5maWx0ZXIoQm9vbGVhbikpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNBdHRhY2htZW50cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9hdHRhY2htZW50cyAmJiBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQ29uZmxpY3RzKGRvYykge1xuICAgIHJldHVybiBkb2MuX2NvbmZsaWN0cyAmJiBkb2MuX2NvbmZsaWN0cy5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hSZXZpc2lvbk9uZURvY3MoaWRzKSB7XG4gICAgLy8gT3B0aW1pemF0aW9uOiBmZXRjaCBnZW4tMSBkb2NzIGFuZCBhdHRhY2htZW50cyBpblxuICAgIC8vIGEgc2luZ2xlIHJlcXVlc3QgdXNpbmcgX2FsbF9kb2NzXG4gICAgcmV0dXJuIHNyYy5hbGxEb2NzKHtcbiAgICAgIGtleXM6IGlkcyxcbiAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgIGNvbmZsaWN0czogdHJ1ZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIGlmIChyb3cuZGVsZXRlZCB8fCAhcm93LmRvYyB8fCAhaXNHZW5PbmUkMShyb3cudmFsdWUucmV2KSB8fFxuICAgICAgICAgICAgaGFzQXR0YWNobWVudHMocm93LmRvYykgfHwgaGFzQ29uZmxpY3RzKHJvdy5kb2MpKSB7XG4gICAgICAgICAgLy8gaWYgYW55IG9mIHRoZXNlIGNvbmRpdGlvbnMgYXBwbHksIHdlIG5lZWQgdG8gZmV0Y2ggdXNpbmcgZ2V0KClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdHJpcCBfY29uZmxpY3RzIGFycmF5IHRvIGFwcGVhc2UgQ1NHICgjNTc5MylcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChyb3cuZG9jLl9jb25mbGljdHMpIHtcbiAgICAgICAgICBkZWxldGUgcm93LmRvYy5fY29uZmxpY3RzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGRvYyB3ZSBnb3QgYmFjayBmcm9tIGFsbERvY3MoKSBpcyBzdWZmaWNpZW50XG4gICAgICAgIHJlc3VsdERvY3MucHVzaChyb3cuZG9jKTtcbiAgICAgICAgZGVsZXRlIGRpZmZzW3Jvdy5pZF07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJldmlzaW9uT25lRG9jcygpIHtcbiAgICAvLyBmaWx0ZXIgb3V0IHRoZSBnZW5lcmF0aW9uIDEgZG9jcyBhbmQgZ2V0IHRoZW1cbiAgICAvLyBsZWF2aW5nIHRoZSBub24tZ2VuZXJhdGlvbiBvbmUgZG9jcyB0byBiZSBnb3Qgb3RoZXJ3aXNlXG4gICAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKGRpZmZzKS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7XG4gICAgICB2YXIgbWlzc2luZyA9IGRpZmZzW2lkXS5taXNzaW5nO1xuICAgICAgcmV0dXJuIG1pc3NpbmcubGVuZ3RoID09PSAxICYmIGlzR2VuT25lJDEobWlzc2luZ1swXSk7XG4gICAgfSk7XG4gICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZmV0Y2hSZXZpc2lvbk9uZURvY3MoaWRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXR1cm5SZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgb2s6b2ssIGRvY3M6cmVzdWx0RG9jcyB9O1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgLnRoZW4oZ2V0UmV2aXNpb25PbmVEb2NzKVxuICAgIC50aGVuKGdldEFsbERvY3MpXG4gICAgLnRoZW4ocmV0dXJuUmVzdWx0KTtcbn1cblxudmFyIENIRUNLUE9JTlRfVkVSU0lPTiA9IDE7XG52YXIgUkVQTElDQVRPUiA9IFwicG91Y2hkYlwiO1xuLy8gVGhpcyBpcyBhbiBhcmJpdHJhcnkgbnVtYmVyIHRvIGxpbWl0IHRoZVxuLy8gYW1vdW50IG9mIHJlcGxpY2F0aW9uIGhpc3Rvcnkgd2Ugc2F2ZSBpbiB0aGUgY2hlY2twb2ludC5cbi8vIElmIHdlIHNhdmUgdG9vIG11Y2gsIHRoZSBjaGVja3BvaW5nIGRvY3Mgd2lsbCBiZWNvbWUgdmVyeSBiaWcsXG4vLyBpZiB3ZSBzYXZlIGZld2VyLCB3ZSdsbCBydW4gYSBncmVhdGVyIHJpc2sgb2YgaGF2aW5nIHRvXG4vLyByZWFkIGFsbCB0aGUgY2hhbmdlcyBmcm9tIDAgd2hlbiBjaGVja3BvaW50IFBVVHMgZmFpbFxuLy8gQ291Y2hEQiAyLjAgaGFzIGEgbW9yZSBpbnZvbHZlZCBoaXN0b3J5IHBydW5pbmcsXG4vLyBidXQgbGV0J3MgZ28gZm9yIHRoZSBzaW1wbGUgdmVyc2lvbiBmb3Igbm93LlxudmFyIENIRUNLUE9JTlRfSElTVE9SWV9TSVpFID0gNTtcbnZhciBMT1dFU1RfU0VRID0gMDtcblxuZnVuY3Rpb24gdXBkYXRlQ2hlY2twb2ludChkYiwgaWQsIGNoZWNrcG9pbnQsIHNlc3Npb24sIHJldHVyblZhbHVlKSB7XG4gIHJldHVybiBkYi5nZXQoaWQpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICBpZiAoZGIuYWRhcHRlciA9PT0gJ2h0dHAnIHx8IGRiLmFkYXB0ZXIgPT09ICdodHRwcycpIHtcbiAgICAgICAgZXhwbGFpbkVycm9yKFxuICAgICAgICAgIDQwNCwgJ1BvdWNoREIgaXMganVzdCBjaGVja2luZyBpZiBhIHJlbW90ZSBjaGVja3BvaW50IGV4aXN0cy4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uLFxuICAgICAgICBfaWQ6IGlkLFxuICAgICAgICBoaXN0b3J5OiBbXSxcbiAgICAgICAgcmVwbGljYXRvcjogUkVQTElDQVRPUixcbiAgICAgICAgdmVyc2lvbjogQ0hFQ0tQT0lOVF9WRVJTSU9OXG4gICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBlcnI7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgY2hlY2twb2ludCBoYXMgbm90IGNoYW5nZWQsIGRvIG5vdCB1cGRhdGVcbiAgICBpZiAoZG9jLmxhc3Rfc2VxID09PSBjaGVja3BvaW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIG91dCBjdXJyZW50IGVudHJ5IGZvciB0aGlzIHJlcGxpY2F0aW9uXG4gICAgZG9jLmhpc3RvcnkgPSAoZG9jLmhpc3RvcnkgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uc2Vzc2lvbl9pZCAhPT0gc2Vzc2lvbjtcbiAgICB9KTtcblxuICAgIC8vIEFkZCB0aGUgbGF0ZXN0IGNoZWNrcG9pbnQgdG8gaGlzdG9yeVxuICAgIGRvYy5oaXN0b3J5LnVuc2hpZnQoe1xuICAgICAgbGFzdF9zZXE6IGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uXG4gICAgfSk7XG5cbiAgICAvLyBKdXN0IHRha2UgdGhlIGxhc3QgcGllY2VzIGluIGhpc3RvcnksIHRvXG4gICAgLy8gYXZvaWQgcmVhbGx5IGJpZyBjaGVja3BvaW50IGRvY3MuXG4gICAgLy8gc2VlIGNvbW1lbnQgb24gaGlzdG9yeSBzaXplIGFib3ZlXG4gICAgZG9jLmhpc3RvcnkgPSBkb2MuaGlzdG9yeS5zbGljZSgwLCBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSk7XG5cbiAgICBkb2MudmVyc2lvbiA9IENIRUNLUE9JTlRfVkVSU0lPTjtcbiAgICBkb2MucmVwbGljYXRvciA9IFJFUExJQ0FUT1I7XG5cbiAgICBkb2Muc2Vzc2lvbl9pZCA9IHNlc3Npb247XG4gICAgZG9jLmxhc3Rfc2VxID0gY2hlY2twb2ludDtcblxuICAgIHJldHVybiBkYi5wdXQoZG9jKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIC8vIHJldHJ5OyBzb21lb25lIGlzIHRyeWluZyB0byB3cml0ZSBhIGNoZWNrcG9pbnQgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBDaGVja3BvaW50ZXIoc3JjLCB0YXJnZXQsIGlkLCByZXR1cm5WYWx1ZSwgb3B0cykge1xuICB0aGlzLnNyYyA9IHNyYztcbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMuaWQgPSBpZDtcbiAgdGhpcy5yZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlO1xuICB0aGlzLm9wdHMgPSBvcHRzIHx8IHt9O1xufVxuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLndyaXRlQ2hlY2twb2ludCA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgcmV0dXJuIHRoaXMudXBkYXRlVGFyZ2V0KGNoZWNrcG9pbnQsIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzZWxmLnVwZGF0ZVNvdXJjZShjaGVja3BvaW50LCBzZXNzaW9uKTtcbiAgfSk7XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLnVwZGF0ZVRhcmdldCA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIGlmICh0aGlzLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQodGhpcy50YXJnZXQsIHRoaXMuaWQsIGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uLCB0aGlzLnJldHVyblZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICB9XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLnVwZGF0ZVNvdXJjZSA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIGlmICh0aGlzLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMuc3JjLCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxudmFyIGNvbXBhcmlzb25zID0ge1xuICBcInVuZGVmaW5lZFwiOiBmdW5jdGlvbiAodGFyZ2V0RG9jLCBzb3VyY2VEb2MpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBwcmV2aW91cyBjb21wYXJpc29uIGZ1bmN0aW9uXG4gICAgaWYgKGNvbGxhdGUodGFyZ2V0RG9jLmxhc3Rfc2VxLCBzb3VyY2VEb2MubGFzdF9zZXEpID09PSAwKSB7XG4gICAgICByZXR1cm4gc291cmNlRG9jLmxhc3Rfc2VxO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiAwO1xuICB9LFxuICBcIjFcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgY29tcGFyaXNvbiBmdW5jdGlvbiBwb3J0ZWQgZnJvbSBDb3VjaERCXG4gICAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkxvZ3Moc291cmNlRG9jLCB0YXJnZXREb2MpLmxhc3Rfc2VxO1xuICB9XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLmdldENoZWNrcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoc2VsZi5vcHRzICYmIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgJiYgIXNlbGYub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQpIHtcbiAgICByZXR1cm4gc2VsZi5zcmMuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHNvdXJjZURvYykge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzZWxmLnRhcmdldC5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAodGFyZ2V0RG9jKSB7XG4gICAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50KSB7XG4gICAgICByZXR1cm4gdGFyZ2V0RG9jLmxhc3Rfc2VxIHx8IExPV0VTVF9TRVE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIC8vIFNpbmNlIHdlIGNhbid0IG1pZ3JhdGUgYW4gb2xkIHZlcnNpb24gZG9jIHRvIGEgbmV3IG9uZVxuICAgICAgLy8gKG5vIHNlc3Npb24gaWQpLCB3ZSBqdXN0IGdvIHdpdGggdGhlIGxvd2VzdCBzZXEgaW4gdGhpcyBjYXNlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbiAhPT0gc291cmNlRG9jLnZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICB9XG5cbiAgICAgIHZhciB2ZXJzaW9uO1xuICAgICAgaWYgKHRhcmdldERvYy52ZXJzaW9uKSB7XG4gICAgICAgIHZlcnNpb24gPSB0YXJnZXREb2MudmVyc2lvbi50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IFwidW5kZWZpbmVkXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICh2ZXJzaW9uIGluIGNvbXBhcmlzb25zKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJpc29uc1t2ZXJzaW9uXSh0YXJnZXREb2MsIHNvdXJjZURvYyk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCAmJiB0YXJnZXREb2MubGFzdF9zZXEpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuc3JjLnB1dCh7XG4gICAgICAgICAgX2lkOiBzZWxmLmlkLFxuICAgICAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGlzRm9yYmlkZGVuRXJyb3IoZXJyKSkge1xuICAgICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICB9KTtcbn07XG4vLyBUaGlzIGNoZWNrcG9pbnQgY29tcGFyaXNvbiBpcyBwb3J0ZWQgZnJvbSBDb3VjaERCcyBzb3VyY2Vcbi8vIHRoZXkgY29tZSBmcm9tIGhlcmU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY291Y2gtcmVwbGljYXRvci9ibG9iL21hc3Rlci9zcmMvY291Y2hfcmVwbGljYXRvci5lcmwjTDg2My1MOTA2XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkxvZ3Moc3JjRG9jLCB0Z3REb2MpIHtcbiAgaWYgKHNyY0RvYy5zZXNzaW9uX2lkID09PSB0Z3REb2Muc2Vzc2lvbl9pZCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogc3JjRG9jLmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogc3JjRG9jLmhpc3RvcnlcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc3JjRG9jLmhpc3RvcnksIHRndERvYy5oaXN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzb3VyY2VIaXN0b3J5LCB0YXJnZXRIaXN0b3J5KSB7XG4gIC8vIHRoZSBlcmxhbmcgbG9vcCB2aWEgZnVuY3Rpb24gYXJndW1lbnRzIGlzIG5vdCBzbyBlYXN5IHRvIHJlcGVhdCBpbiBKU1xuICAvLyB0aGVyZWZvcmUsIGRvaW5nIHRoaXMgYXMgcmVjdXJzaW9uXG4gIHZhciBTID0gc291cmNlSGlzdG9yeVswXTtcbiAgdmFyIHNvdXJjZVJlc3QgPSBzb3VyY2VIaXN0b3J5LnNsaWNlKDEpO1xuICB2YXIgVCA9IHRhcmdldEhpc3RvcnlbMF07XG4gIHZhciB0YXJnZXRSZXN0ID0gdGFyZ2V0SGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIVMgfHwgdGFyZ2V0SGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IExPV0VTVF9TRVEsXG4gICAgICBoaXN0b3J5OiBbXVxuICAgIH07XG4gIH1cblxuICB2YXIgc291cmNlSWQgPSBTLnNlc3Npb25faWQ7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoaGFzU2Vzc2lvbklkKHNvdXJjZUlkLCB0YXJnZXRIaXN0b3J5KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogUy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNvdXJjZUhpc3RvcnlcbiAgICB9O1xuICB9XG5cbiAgdmFyIHRhcmdldElkID0gVC5zZXNzaW9uX2lkO1xuICBpZiAoaGFzU2Vzc2lvbklkKHRhcmdldElkLCBzb3VyY2VSZXN0KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogVC5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHRhcmdldFJlc3RcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlUmVzdCwgdGFyZ2V0UmVzdCk7XG59XG5cbmZ1bmN0aW9uIGhhc1Nlc3Npb25JZChzZXNzaW9uSWQsIGhpc3RvcnkpIHtcbiAgdmFyIHByb3BzID0gaGlzdG9yeVswXTtcbiAgdmFyIHJlc3QgPSBoaXN0b3J5LnNsaWNlKDEpO1xuXG4gIGlmICghc2Vzc2lvbklkIHx8IGhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHNlc3Npb25JZCA9PT0gcHJvcHMuc2Vzc2lvbl9pZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGhhc1Nlc3Npb25JZChzZXNzaW9uSWQsIHJlc3QpO1xufVxuXG5mdW5jdGlvbiBpc0ZvcmJpZGRlbkVycm9yKGVycikge1xuICByZXR1cm4gdHlwZW9mIGVyci5zdGF0dXMgPT09ICdudW1iZXInICYmIE1hdGguZmxvb3IoZXJyLnN0YXR1cyAvIDEwMCkgPT09IDQ7XG59XG5cbnZhciBTVEFSVElOR19CQUNLX09GRiA9IDA7XG5cbmZ1bmN0aW9uIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGVycm9yLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5yZXRyeSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygb3B0cy5iYWNrX29mZl9mdW5jdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gPSBkZWZhdWx0QmFja09mZjtcbiAgfVxuICByZXR1cm5WYWx1ZS5lbWl0KCdyZXF1ZXN0RXJyb3InLCBlcnJvcik7XG4gIGlmIChyZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ2FjdGl2ZScgfHwgcmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ3BhdXNlZCcsIGVycm9yKTtcbiAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdzdG9wcGVkJztcbiAgICB2YXIgYmFja09mZlNldCA9IGZ1bmN0aW9uIGJhY2tvZmZUaW1lU2V0KCkge1xuICAgICAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gU1RBUlRJTkdfQkFDS19PRkY7XG4gICAgfTtcbiAgICB2YXIgcmVtb3ZlQmFja09mZlNldHRlciA9IGZ1bmN0aW9uIHJlbW92ZUJhY2tPZmZUaW1lU2V0KCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICAgIH07XG4gICAgcmV0dXJuVmFsdWUub25jZSgncGF1c2VkJywgcmVtb3ZlQmFja09mZlNldHRlcik7XG4gICAgcmV0dXJuVmFsdWUub25jZSgnYWN0aXZlJywgYmFja09mZlNldCk7XG4gIH1cblxuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmN1cnJlbnRfYmFja19vZmYgfHwgU1RBUlRJTkdfQkFDS19PRkY7XG4gIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IG9wdHMuYmFja19vZmZfZnVuY3Rpb24ob3B0cy5jdXJyZW50X2JhY2tfb2ZmKTtcbiAgc2V0VGltZW91dChjYWxsYmFjaywgb3B0cy5jdXJyZW50X2JhY2tfb2ZmKTtcbn1cblxuZnVuY3Rpb24gc29ydE9iamVjdFByb3BlcnRpZXNCeUtleShxdWVyeVBhcmFtcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnlQYXJhbXMpLnNvcnQoY29sbGF0ZSkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuICAgIHJlc3VsdFtrZXldID0gcXVlcnlQYXJhbXNba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG5cbi8vIEdlbmVyYXRlIGEgdW5pcXVlIGlkIHBhcnRpY3VsYXIgdG8gdGhpcyByZXBsaWNhdGlvbi5cbi8vIE5vdCBndWFyYW50ZWVkIHRvIGFsaWduIHBlcmZlY3RseSB3aXRoIENvdWNoREIncyByZXAgaWRzLlxuZnVuY3Rpb24gZ2VuZXJhdGVSZXBsaWNhdGlvbklkKHNyYywgdGFyZ2V0LCBvcHRzKSB7XG4gIHZhciBkb2NJZHMgPSBvcHRzLmRvY19pZHMgPyBvcHRzLmRvY19pZHMuc29ydChjb2xsYXRlKSA6ICcnO1xuICB2YXIgZmlsdGVyRnVuID0gb3B0cy5maWx0ZXIgPyBvcHRzLmZpbHRlci50b1N0cmluZygpIDogJyc7XG4gIHZhciBxdWVyeVBhcmFtcyA9ICcnO1xuICB2YXIgZmlsdGVyVmlld05hbWUgPSAgJyc7XG4gIHZhciBzZWxlY3RvciA9ICcnO1xuXG4gIC8vIHBvc3NpYmlsaXR5IGZvciBjaGVja3BvaW50cyB0byBiZSBsb3N0IGhlcmUgYXMgYmVoYXZpb3VyIG9mXG4gIC8vIEpTT04uc3RyaW5naWZ5IGlzIG5vdCBzdGFibGUgKHNlZSAjNjIyNilcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgc2VsZWN0b3IgPSBKU09OLnN0cmluZ2lmeShvcHRzLnNlbGVjdG9yKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgIHF1ZXJ5UGFyYW1zID0gSlNPTi5zdHJpbmdpZnkoc29ydE9iamVjdFByb3BlcnRpZXNCeUtleShvcHRzLnF1ZXJ5X3BhcmFtcykpO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgZmlsdGVyVmlld05hbWUgPSBvcHRzLnZpZXcudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChbc3JjLmlkKCksIHRhcmdldC5pZCgpXSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgdmFyIHF1ZXJ5RGF0YSA9IHJlc1swXSArIHJlc1sxXSArIGZpbHRlckZ1biArIGZpbHRlclZpZXdOYW1lICtcbiAgICAgIHF1ZXJ5UGFyYW1zICsgZG9jSWRzICsgc2VsZWN0b3I7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBiaW5hcnlNZDUocXVlcnlEYXRhLCByZXNvbHZlKTtcbiAgICB9KTtcbiAgfSkudGhlbihmdW5jdGlvbiAobWQ1c3VtKSB7XG4gICAgLy8gY2FuJ3QgdXNlIHN0cmFpZ2h0LXVwIG1kNSBhbHBoYWJldCwgYmVjYXVzZVxuICAgIC8vIHRoZSBjaGFyICcvJyBpcyBpbnRlcnByZXRlZCBhcyBiZWluZyBmb3IgYXR0YWNobWVudHMsXG4gICAgLy8gYW5kICsgaXMgYWxzbyBub3QgdXJsLXNhZmVcbiAgICBtZDVzdW0gPSBtZDVzdW0ucmVwbGFjZSgvXFwvL2csICcuJykucmVwbGFjZSgvXFwrL2csICdfJyk7XG4gICAgcmV0dXJuICdfbG9jYWwvJyArIG1kNXN1bTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxpY2F0ZShzcmMsIHRhcmdldCwgb3B0cywgcmV0dXJuVmFsdWUsIHJlc3VsdCkge1xuICB2YXIgYmF0Y2hlcyA9IFtdOyAgICAgICAgICAgICAgIC8vIGxpc3Qgb2YgYmF0Y2hlcyB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIGN1cnJlbnRCYXRjaDsgICAgICAgICAgICAgICAvLyB0aGUgYmF0Y2ggY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZFxuICB2YXIgcGVuZGluZ0JhdGNoID0ge1xuICAgIHNlcTogMCxcbiAgICBjaGFuZ2VzOiBbXSxcbiAgICBkb2NzOiBbXVxuICB9OyAvLyBuZXh0IGJhdGNoLCBub3QgeWV0IHJlYWR5IHRvIGJlIHByb2Nlc3NlZFxuICB2YXIgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTsgIC8vIHRydWUgd2hpbGUgY2hlY2twb2ludCBpcyBiZWluZyB3cml0dGVuXG4gIHZhciBjaGFuZ2VzQ29tcGxldGVkID0gZmFsc2U7ICAgLy8gdHJ1ZSB3aGVuIGFsbCBjaGFuZ2VzIHJlY2VpdmVkXG4gIHZhciByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IGZhbHNlOyAvLyB0cnVlIHdoZW4gcmVwbGljYXRpb24gaGFzIGNvbXBsZXRlZFxuICB2YXIgbGFzdF9zZXEgPSAwO1xuICB2YXIgY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmUgfHwgZmFsc2U7XG4gIHZhciBiYXRjaF9zaXplID0gb3B0cy5iYXRjaF9zaXplIHx8IDEwMDtcbiAgdmFyIGJhdGNoZXNfbGltaXQgPSBvcHRzLmJhdGNoZXNfbGltaXQgfHwgMTA7XG4gIHZhciBzdHlsZSA9IG9wdHMuc3R5bGUgfHwgJ2FsbF9kb2NzJztcbiAgdmFyIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7ICAgICAvLyB0cnVlIHdoaWxlIHNyYy5jaGFuZ2VzIGlzIHJ1bm5pbmdcbiAgdmFyIGRvY19pZHMgPSBvcHRzLmRvY19pZHM7XG4gIHZhciBzZWxlY3RvciA9IG9wdHMuc2VsZWN0b3I7XG4gIHZhciByZXBJZDtcbiAgdmFyIGNoZWNrcG9pbnRlcjtcbiAgdmFyIGNoYW5nZWREb2NzID0gW107XG4gIC8vIExpa2UgY291Y2hkYiwgZXZlcnkgcmVwbGljYXRpb24gZ2V0cyBhIHVuaXF1ZSBzZXNzaW9uIGlkXG4gIHZhciBzZXNzaW9uID0gdXVpZCgpO1xuXG4gIHJlc3VsdCA9IHJlc3VsdCB8fCB7XG4gICAgb2s6IHRydWUsXG4gICAgc3RhcnRfdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGRvY3NfcmVhZDogMCxcbiAgICBkb2NzX3dyaXR0ZW46IDAsXG4gICAgZG9jX3dyaXRlX2ZhaWx1cmVzOiAwLFxuICAgIGVycm9yczogW11cbiAgfTtcblxuICB2YXIgY2hhbmdlc09wdHMgPSB7fTtcbiAgcmV0dXJuVmFsdWUucmVhZHkoc3JjLCB0YXJnZXQpO1xuXG4gIGZ1bmN0aW9uIGluaXRDaGVja3BvaW50ZXIoKSB7XG4gICAgaWYgKGNoZWNrcG9pbnRlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2VuZXJhdGVSZXBsaWNhdGlvbklkKHNyYywgdGFyZ2V0LCBvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJlcElkID0gcmVzO1xuXG4gICAgICB2YXIgY2hlY2twb2ludE9wdHMgPSB7fTtcbiAgICAgIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09IGZhbHNlKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IGZhbHNlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2UgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gJ3NvdXJjZScpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogdHJ1ZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IGZhbHNlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogdHJ1ZSB9O1xuICAgICAgfVxuXG4gICAgICBjaGVja3BvaW50ZXIgPSBuZXcgQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCByZXBJZCwgcmV0dXJuVmFsdWUsIGNoZWNrcG9pbnRPcHRzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlRG9jcygpIHtcbiAgICBjaGFuZ2VkRG9jcyA9IFtdO1xuXG4gICAgaWYgKGN1cnJlbnRCYXRjaC5kb2NzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZG9jcyA9IGN1cnJlbnRCYXRjaC5kb2NzO1xuICAgIHZhciBidWxrT3B0cyA9IHt0aW1lb3V0OiBvcHRzLnRpbWVvdXR9O1xuICAgIHJldHVybiB0YXJnZXQuYnVsa0RvY3Moe2RvY3M6IGRvY3MsIG5ld19lZGl0czogZmFsc2V9LCBidWxrT3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBgcmVzYCBkb2Vzbid0IGluY2x1ZGUgZnVsbCBkb2N1bWVudHMgKHdoaWNoIGxpdmUgaW4gYGRvY3NgKSwgc28gd2UgY3JlYXRlIGEgbWFwIG9mXG4gICAgICAvLyAoaWQgLT4gZXJyb3IpLCBhbmQgY2hlY2sgZm9yIGVycm9ycyB3aGlsZSBpdGVyYXRpbmcgb3ZlciBgZG9jc2BcbiAgICAgIHZhciBlcnJvcnNCeUlkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgIGVycm9yc0J5SWRbcmVzLmlkXSA9IHJlcztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBlcnJvcnNObyA9IE9iamVjdC5rZXlzKGVycm9yc0J5SWQpLmxlbmd0aDtcbiAgICAgIHJlc3VsdC5kb2Nfd3JpdGVfZmFpbHVyZXMgKz0gZXJyb3JzTm87XG4gICAgICByZXN1bHQuZG9jc193cml0dGVuICs9IGRvY3MubGVuZ3RoIC0gZXJyb3JzTm87XG5cbiAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yc0J5SWRbZG9jLl9pZF07XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJlc3VsdC5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgICAgICB2YXIgZXJyb3JOYW1lID0gKGVycm9yLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnZGVuaWVkJywgY2xvbmUoZXJyb3IpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZWREb2NzLnB1c2goZG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGRvY3MubGVuZ3RoO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoQmF0Y2goKSB7XG4gICAgaWYgKGN1cnJlbnRCYXRjaC5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSB3YXMgYSBwcm9ibGVtIGdldHRpbmcgZG9jcy4nKTtcbiAgICB9XG4gICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXEgPSBjdXJyZW50QmF0Y2guc2VxO1xuICAgIHZhciBvdXRSZXN1bHQgPSBjbG9uZShyZXN1bHQpO1xuICAgIGlmIChjaGFuZ2VkRG9jcy5sZW5ndGgpIHtcbiAgICAgIG91dFJlc3VsdC5kb2NzID0gY2hhbmdlZERvY3M7XG4gICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRCYXRjaC5wZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICBvdXRSZXN1bHQucGVuZGluZyA9IGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgICBkZWxldGUgY3VycmVudEJhdGNoLnBlbmRpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGFuZ2UnLCBvdXRSZXN1bHQpO1xuICAgIH1cbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgcmV0dXJuIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQoY3VycmVudEJhdGNoLnNlcSxcbiAgICAgICAgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAnY2hlY2twb2ludCc6IGN1cnJlbnRCYXRjaC5zZXEgfSk7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRCYXRjaCA9IHVuZGVmaW5lZDtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBvbkNoZWNrcG9pbnRFcnJvcihlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlmZnMoKSB7XG4gICAgdmFyIGRpZmYgPSB7fTtcbiAgICBjdXJyZW50QmF0Y2guY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdyZXZzX2RpZmYnOiBjaGFuZ2UgfSk7XG4gICAgICAvLyBDb3VjaGJhc2UgU3luYyBHYXRld2F5IGVtaXRzIHRoZXNlLCBidXQgd2UgY2FuIGlnbm9yZSB0aGVtXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2UuaWQgPT09IFwiX3VzZXIvXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGlmZltjaGFuZ2UuaWRdID0gY2hhbmdlLmNoYW5nZXMubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LnJldjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQucmV2c0RpZmYoZGlmZikudGhlbihmdW5jdGlvbiAoZGlmZnMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICAvLyBjdXJyZW50QmF0Y2guZGlmZnMgZWxlbWVudHMgYXJlIGRlbGV0ZWQgYXMgdGhlIGRvY3VtZW50cyBhcmUgd3JpdHRlblxuICAgICAgY3VycmVudEJhdGNoLmRpZmZzID0gZGlmZnM7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCYXRjaERvY3MoKSB7XG4gICAgcmV0dXJuIGdldERvY3Moc3JjLCB0YXJnZXQsIGN1cnJlbnRCYXRjaC5kaWZmcywgcmV0dXJuVmFsdWUpLnRoZW4oZnVuY3Rpb24gKGdvdCkge1xuICAgICAgY3VycmVudEJhdGNoLmVycm9yID0gIWdvdC5vaztcbiAgICAgIGdvdC5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBkZWxldGUgY3VycmVudEJhdGNoLmRpZmZzW2RvYy5faWRdO1xuICAgICAgICByZXN1bHQuZG9jc19yZWFkKys7XG4gICAgICAgIGN1cnJlbnRCYXRjaC5kb2NzLnB1c2goZG9jKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnROZXh0QmF0Y2goKSB7XG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCB8fCBjdXJyZW50QmF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50QmF0Y2ggPSBiYXRjaGVzLnNoaWZ0KCk7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3N0YXJ0X25leHRfYmF0Y2gnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgIGdldERpZmZzKClcbiAgICAgIC50aGVuKGdldEJhdGNoRG9jcylcbiAgICAgIC50aGVuKHdyaXRlRG9jcylcbiAgICAgIC50aGVuKGZpbmlzaEJhdGNoKVxuICAgICAgLnRoZW4oc3RhcnROZXh0QmF0Y2gpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBhYm9ydFJlcGxpY2F0aW9uKCdiYXRjaCBwcm9jZXNzaW5nIHRlcm1pbmF0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gICAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1BlbmRpbmdCYXRjaChpbW1lZGlhdGUkJDEpIHtcbiAgICBpZiAocGVuZGluZ0JhdGNoLmNoYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoYmF0Y2hlcy5sZW5ndGggPT09IDAgJiYgIWN1cnJlbnRCYXRjaCkge1xuICAgICAgICBpZiAoKGNvbnRpbnVvdXMgJiYgY2hhbmdlc09wdHMubGl2ZSkgfHwgY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ3BlbmRpbmcnO1xuICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ3BhdXNlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzQ29tcGxldGVkKSB7XG4gICAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGltbWVkaWF0ZSQkMSB8fFxuICAgICAgY2hhbmdlc0NvbXBsZXRlZCB8fFxuICAgICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMubGVuZ3RoID49IGJhdGNoX3NpemVcbiAgICApIHtcbiAgICAgIGJhdGNoZXMucHVzaChwZW5kaW5nQmF0Y2gpO1xuICAgICAgcGVuZGluZ0JhdGNoID0ge1xuICAgICAgICBzZXE6IDAsXG4gICAgICAgIGNoYW5nZXM6IFtdLFxuICAgICAgICBkb2NzOiBbXVxuICAgICAgfTtcbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3BlbmRpbmcnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnYWN0aXZlJztcbiAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBzdGFydE5leHRCYXRjaCgpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gYWJvcnRSZXBsaWNhdGlvbihyZWFzb24sIGVycikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWVyci5tZXNzYWdlKSB7XG4gICAgICBlcnIubWVzc2FnZSA9IHJlYXNvbjtcbiAgICB9XG4gICAgcmVzdWx0Lm9rID0gZmFsc2U7XG4gICAgcmVzdWx0LnN0YXR1cyA9ICdhYm9ydGluZyc7XG4gICAgYmF0Y2hlcyA9IFtdO1xuICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgIHNlcTogMCxcbiAgICAgIGNoYW5nZXM6IFtdLFxuICAgICAgZG9jczogW11cbiAgICB9O1xuICAgIGNvbXBsZXRlUmVwbGljYXRpb24oZXJyKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY29tcGxldGVSZXBsaWNhdGlvbihmYXRhbEVycm9yKSB7XG4gICAgaWYgKHJlcGxpY2F0aW9uQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnY2FuY2VsbGVkJztcbiAgICAgIGlmICh3cml0aW5nQ2hlY2twb2ludCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zdGF0dXMgPSByZXN1bHQuc3RhdHVzIHx8ICdjb21wbGV0ZSc7XG4gICAgcmVzdWx0LmVuZF90aW1lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxO1xuICAgIHJlcGxpY2F0aW9uQ29tcGxldGVkID0gdHJ1ZTtcblxuICAgIGlmIChmYXRhbEVycm9yKSB7XG4gICAgICAvLyBuZWVkIHRvIGV4dGVuZCB0aGUgZXJyb3IgYmVjYXVzZSBGaXJlZm94IGNvbnNpZGVycyBcIi5yZXN1bHRcIiByZWFkLW9ubHlcbiAgICAgIGZhdGFsRXJyb3IgPSBjcmVhdGVFcnJvcihmYXRhbEVycm9yKTtcbiAgICAgIGZhdGFsRXJyb3IucmVzdWx0ID0gcmVzdWx0O1xuXG4gICAgICAvLyBOb3JtYWxpemUgZXJyb3IgbmFtZS4gaS5lLiAnVW5hdXRob3JpemVkJyAtPiAndW5hdXRob3JpemVkJyAoZWcgU3luYyBHYXRld2F5KVxuICAgICAgdmFyIGVycm9yTmFtZSA9IChmYXRhbEVycm9yLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoZXJyb3JOYW1lID09PSAndW5hdXRob3JpemVkJyB8fCBlcnJvck5hbWUgPT09ICdmb3JiaWRkZW4nKSB7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2Vycm9yJywgZmF0YWxFcnJvcik7XG4gICAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFja09mZihvcHRzLCByZXR1cm5WYWx1ZSwgZmF0YWxFcnJvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlcGxpY2F0ZShzcmMsIHRhcmdldCwgb3B0cywgcmV0dXJuVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY29tcGxldGUnLCByZXN1bHQpO1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZShjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0eXBlb2YgcGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHBlbmRpbmdCYXRjaC5wZW5kaW5nID0gcGVuZGluZztcbiAgICB9XG5cbiAgICB2YXIgZmlsdGVyID0gZmlsdGVyQ2hhbmdlKG9wdHMpKGNoYW5nZSk7XG4gICAgaWYgKCFmaWx0ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVuZGluZ0JhdGNoLnNlcSA9IGNoYW5nZS5zZXEgfHwgbGFzdFNlcTtcbiAgICBwZW5kaW5nQmF0Y2guY2hhbmdlcy5wdXNoKGNoYW5nZSk7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3BlbmRpbmdfYmF0Y2gnOiBwZW5kaW5nQmF0Y2guc2VxIH0pO1xuICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKGJhdGNoZXMubGVuZ3RoID09PSAwICYmIGNoYW5nZXNPcHRzLmxpdmUpO1xuICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZXNDb21wbGV0ZShjaGFuZ2VzKSB7XG4gICAgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIGlmIG5vIHJlc3VsdHMgd2VyZSByZXR1cm5lZCB0aGVuIHdlJ3JlIGRvbmUsXG4gICAgLy8gZWxzZSBmZXRjaCBtb3JlXG4gICAgaWYgKGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjaGFuZ2VzT3B0cy5zaW5jZSA9IGNoYW5nZXMucmVzdWx0c1tjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoIC0gMV0uc2VxO1xuICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250aW51b3VzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMubGl2ZSA9IHRydWU7XG4gICAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICAvLyB1cGRhdGUgdGhlIGNoZWNrcG9pbnQgc28gd2Ugc3RhcnQgZnJvbSB0aGUgcmlnaHQgc2VxIG5leHQgdGltZVxuICAgICAgaWYgKCFjdXJyZW50QmF0Y2ggJiYgY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICAgIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQoY2hhbmdlcy5sYXN0X3NlcSxcbiAgICAgICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXEgPSBjaGFuZ2VzLmxhc3Rfc2VxO1xuICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzRXJyb3IoZXJyKSB7XG4gICAgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cbiAgICBhYm9ydFJlcGxpY2F0aW9uKCdjaGFuZ2VzIHJlamVjdGVkJywgZXJyKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZ2V0Q2hhbmdlcygpIHtcbiAgICBpZiAoIShcbiAgICAgICFjaGFuZ2VzUGVuZGluZyAmJlxuICAgICAgIWNoYW5nZXNDb21wbGV0ZWQgJiZcbiAgICAgIGJhdGNoZXMubGVuZ3RoIDwgYmF0Y2hlc19saW1pdFxuICAgICAgKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGFuZ2VzUGVuZGluZyA9IHRydWU7XG4gICAgZnVuY3Rpb24gYWJvcnRDaGFuZ2VzKCkge1xuICAgICAgY2hhbmdlcy5jYW5jZWwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignY2FuY2VsJywgYWJvcnRDaGFuZ2VzKTtcbiAgICB9XG5cbiAgICBpZiAocmV0dXJuVmFsdWUuX2NoYW5nZXMpIHsgLy8gcmVtb3ZlIG9sZCBjaGFuZ2VzKCkgYW5kIGxpc3RlbmVyc1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMpO1xuICAgICAgcmV0dXJuVmFsdWUuX2NoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIHJldHVyblZhbHVlLm9uY2UoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG5cbiAgICB2YXIgY2hhbmdlcyA9IHNyYy5jaGFuZ2VzKGNoYW5nZXNPcHRzKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgY2hhbmdlcy50aGVuKHJlbW92ZUxpc3RlbmVyLCByZW1vdmVMaXN0ZW5lcik7XG4gICAgY2hhbmdlcy50aGVuKG9uQ2hhbmdlc0NvbXBsZXRlKVxuICAgICAgLmNhdGNoKG9uQ2hhbmdlc0Vycm9yKTtcblxuICAgIGlmIChvcHRzLnJldHJ5KSB7XG4gICAgICAvLyBzYXZlIGZvciBsYXRlciBzbyB3ZSBjYW4gY2FuY2VsIGlmIG5lY2Vzc2FyeVxuICAgICAgcmV0dXJuVmFsdWUuX2NoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgcmV0dXJuVmFsdWUuX2Fib3J0Q2hhbmdlcyA9IGFib3J0Q2hhbmdlcztcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHN0YXJ0Q2hhbmdlcygpIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLmdldENoZWNrcG9pbnQoKS50aGVuKGZ1bmN0aW9uIChjaGVja3BvaW50KSB7XG4gICAgICAgIGxhc3Rfc2VxID0gY2hlY2twb2ludDtcbiAgICAgICAgY2hhbmdlc09wdHMgPSB7XG4gICAgICAgICAgc2luY2U6IGxhc3Rfc2VxLFxuICAgICAgICAgIGxpbWl0OiBiYXRjaF9zaXplLFxuICAgICAgICAgIGJhdGNoX3NpemU6IGJhdGNoX3NpemUsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICAgIGRvY19pZHM6IGRvY19pZHMsXG4gICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICAgIHJldHVybl9kb2NzOiB0cnVlIC8vIHJlcXVpcmVkIHNvIHdlIGtub3cgd2hlbiB3ZSdyZSBkb25lXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLmZpbHRlcikge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBmb3IgdGhlIGNsaWVudC1zaWRlIGZpbHRlciBpbiBvbkNoYW5nZVxuICAgICAgICAgICAgY2hhbmdlc09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBkZG9jIGZpbHRlclxuICAgICAgICAgICAgY2hhbmdlc09wdHMuZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMudGltZW91dCA9IG9wdHMudGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5xdWVyeV9wYXJhbXMgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy52aWV3KSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMudmlldyA9IG9wdHMudmlldztcbiAgICAgICAgfVxuICAgICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBhYm9ydFJlcGxpY2F0aW9uKCdnZXRDaGVja3BvaW50IHJlamVjdGVkIHdpdGggJywgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIG9uQ2hlY2twb2ludEVycm9yKGVycikge1xuICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgYWJvcnRSZXBsaWNhdGlvbignd3JpdGVDaGVja3BvaW50IGNvbXBsZXRlZCB3aXRoIGVycm9yJywgZXJyKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7IC8vIGNhbmNlbGxlZCBpbW1lZGlhdGVseVxuICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXJldHVyblZhbHVlLl9hZGRlZExpc3RlbmVycykge1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2NhbmNlbCcsIGNvbXBsZXRlUmVwbGljYXRpb24pO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmNvbXBsZXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm5WYWx1ZS5vbmNlKCdlcnJvcicsIG9wdHMuY29tcGxldGUpO1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnY29tcGxldGUnLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRzLnNpbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHN0YXJ0Q2hhbmdlcygpO1xuICB9IGVsc2Uge1xuICAgIGluaXRDaGVja3BvaW50ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KG9wdHMuc2luY2UsIHNlc3Npb24pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxhc3Rfc2VxID0gb3B0cy5zaW5jZTtcbiAgICAgIHN0YXJ0Q2hhbmdlcygpO1xuICAgIH0pLmNhdGNoKG9uQ2hlY2twb2ludEVycm9yKTtcbiAgfVxufVxuXG4vLyBXZSBjcmVhdGUgYSBiYXNpYyBwcm9taXNlIHNvIHRoZSBjYWxsZXIgY2FuIGNhbmNlbCB0aGUgcmVwbGljYXRpb24gcG9zc2libHlcbi8vIGJlZm9yZSB3ZSBoYXZlIGFjdHVhbGx5IHN0YXJ0ZWQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgZXRjXG5pbmhlcml0cyhSZXBsaWNhdGlvbiwgRUUpO1xuZnVuY3Rpb24gUmVwbGljYXRpb24oKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG4gIHRoaXMuc3RhdGUgPSAncGVuZGluZyc7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgc2VsZi5vbmNlKCdjb21wbGV0ZScsIGZ1bGZpbGwpO1xuICAgIHNlbGYub25jZSgnZXJyb3InLCByZWplY3QpO1xuICB9KTtcbiAgc2VsZi50aGVuID0gZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgfTtcbiAgc2VsZi5jYXRjaCA9IGZ1bmN0aW9uIChyZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChyZWplY3QpO1xuICB9O1xuICAvLyBBcyB3ZSBhbGxvdyBlcnJvciBoYW5kbGluZyB2aWEgXCJlcnJvclwiIGV2ZW50IGFzIHdlbGwsXG4gIC8vIHB1dCBhIHN0dWIgaW4gaGVyZSBzbyB0aGF0IHJlamVjdGluZyBuZXZlciB0aHJvd3MgVW5oYW5kbGVkRXJyb3IuXG4gIHNlbGYuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xufVxuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XG4gIHRoaXMuc3RhdGUgPSAnY2FuY2VsbGVkJztcbiAgdGhpcy5lbWl0KCdjYW5jZWwnKTtcbn07XG5cblJlcGxpY2F0aW9uLnByb3RvdHlwZS5yZWFkeSA9IGZ1bmN0aW9uIChzcmMsIHRhcmdldCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChzZWxmLl9yZWFkeUNhbGxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9yZWFkeUNhbGxlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgc3JjLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIHRhcmdldC5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgICB0YXJnZXQucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIH1cbiAgc2VsZi5vbmNlKCdjb21wbGV0ZScsIGNsZWFudXApO1xuICBzZWxmLm9uY2UoJ2Vycm9yJywgY2xlYW51cCk7XG59O1xuXG5mdW5jdGlvbiB0b1BvdWNoKGRiLCBvcHRzKSB7XG4gIHZhciBQb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yO1xuICBpZiAodHlwZW9mIGRiID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBuZXcgUG91Y2hDb25zdHJ1Y3RvcihkYiwgb3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRiO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgaWYgKG9wdHMuZG9jX2lkcyAmJiAhQXJyYXkuaXNBcnJheShvcHRzLmRvY19pZHMpKSB7XG4gICAgdGhyb3cgY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiYGRvY19pZHNgIGZpbHRlciBwYXJhbWV0ZXIgaXMgbm90IGEgbGlzdC5cIik7XG4gIH1cblxuICBvcHRzLmNvbXBsZXRlID0gY2FsbGJhY2s7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgb3B0cy5jb250aW51b3VzID0gb3B0cy5jb250aW51b3VzIHx8IG9wdHMubGl2ZTtcbiAgb3B0cy5yZXRyeSA9ICgncmV0cnknIGluIG9wdHMpID8gb3B0cy5yZXRyeSA6IGZhbHNlO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgdmFyIHJlcGxpY2F0ZVJldCA9IG5ldyBSZXBsaWNhdGlvbihvcHRzKTtcbiAgdmFyIHNyY1BvdWNoID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB2YXIgdGFyZ2V0UG91Y2ggPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJlcGxpY2F0ZShzcmNQb3VjaCwgdGFyZ2V0UG91Y2gsIG9wdHMsIHJlcGxpY2F0ZVJldCk7XG4gIHJldHVybiByZXBsaWNhdGVSZXQ7XG59XG5cbmluaGVyaXRzKFN5bmMsIEVFKTtcbmZ1bmN0aW9uIHN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIG9wdHMuUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvciB8fCB0aGlzO1xuICBzcmMgPSB0b1BvdWNoKHNyYywgb3B0cyk7XG4gIHRhcmdldCA9IHRvUG91Y2godGFyZ2V0LCBvcHRzKTtcbiAgcmV0dXJuIG5ldyBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIFN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlO1xuXG4gIHZhciBvcHRzUHVzaCA9IG9wdHMucHVzaCA/ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgb3B0cywgb3B0cy5wdXNoKSA6IG9wdHM7XG4gIHZhciBvcHRzUHVsbCA9IG9wdHMucHVsbCA/ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgb3B0cywgb3B0cy5wdWxsKSA6IG9wdHM7XG5cbiAgdGhpcy5wdXNoID0gcmVwbGljYXRlV3JhcHBlcihzcmMsIHRhcmdldCwgb3B0c1B1c2gpO1xuICB0aGlzLnB1bGwgPSByZXBsaWNhdGVXcmFwcGVyKHRhcmdldCwgc3JjLCBvcHRzUHVsbCk7XG5cbiAgdGhpcy5wdXNoUGF1c2VkID0gdHJ1ZTtcbiAgdGhpcy5wdWxsUGF1c2VkID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBwdWxsQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVsbCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hDaGFuZ2UoY2hhbmdlKSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGNoYW5nZTogY2hhbmdlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1c2gnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdWxsRGVuaWVkKGRvYykge1xuICAgIHNlbGYuZW1pdCgnZGVuaWVkJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVsbCcsXG4gICAgICBkb2M6IGRvY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hQYXVzZWQoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gdHJ1ZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdWxsUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdWxsUGF1c2VkKCkge1xuICAgIHNlbGYucHVsbFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVzaFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVzaEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1c2hQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdWxsUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVzaCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdWxsQWN0aXZlKCkge1xuICAgIHNlbGYucHVsbFBhdXNlZCA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgnYWN0aXZlJywge1xuICAgICAgICBkaXJlY3Rpb246ICdwdWxsJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlbW92ZWQgPSB7fTtcblxuICBmdW5jdGlvbiByZW1vdmVBbGwodHlwZSkgeyAvLyB0eXBlIGlzICdwdXNoJyBvciAncHVsbCdcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XG4gICAgICB2YXIgaXNDaGFuZ2UgPSBldmVudCA9PT0gJ2NoYW5nZScgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxDaGFuZ2UgfHwgZnVuYyA9PT0gcHVzaENoYW5nZSk7XG4gICAgICB2YXIgaXNEZW5pZWQgPSBldmVudCA9PT0gJ2RlbmllZCcgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxEZW5pZWQgfHwgZnVuYyA9PT0gcHVzaERlbmllZCk7XG4gICAgICB2YXIgaXNQYXVzZWQgPSBldmVudCA9PT0gJ3BhdXNlZCcgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxQYXVzZWQgfHwgZnVuYyA9PT0gcHVzaFBhdXNlZCk7XG4gICAgICB2YXIgaXNBY3RpdmUgPSBldmVudCA9PT0gJ2FjdGl2ZScgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxBY3RpdmUgfHwgZnVuYyA9PT0gcHVzaEFjdGl2ZSk7XG5cbiAgICAgIGlmIChpc0NoYW5nZSB8fCBpc0RlbmllZCB8fCBpc1BhdXNlZCB8fCBpc0FjdGl2ZSkge1xuICAgICAgICBpZiAoIShldmVudCBpbiByZW1vdmVkKSkge1xuICAgICAgICAgIHJlbW92ZWRbZXZlbnRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlZFtldmVudF1bdHlwZV0gPSB0cnVlO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVtb3ZlZFtldmVudF0pLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIC8vIGJvdGggcHVzaCBhbmQgcHVsbCBoYXZlIGFza2VkIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaWYgKG9wdHMubGl2ZSkge1xuICAgIHRoaXMucHVzaC5vbignY29tcGxldGUnLCBzZWxmLnB1bGwuY2FuY2VsLmJpbmQoc2VsZi5wdWxsKSk7XG4gICAgdGhpcy5wdWxsLm9uKCdjb21wbGV0ZScsIHNlbGYucHVzaC5jYW5jZWwuYmluZChzZWxmLnB1c2gpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uZUxpc3RlbmVyKGVlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoZWUubGlzdGVuZXJzKGV2ZW50KS5pbmRleE9mKGxpc3RlbmVyKSA9PSAtMSkge1xuICAgICAgZWUub24oZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLm9uKCduZXdMaXN0ZW5lcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnY2hhbmdlJywgcHVzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2RlbmllZCcpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2RlbmllZCcsIHB1bGxEZW5pZWQpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2FjdGl2ZScsIHB1bGxBY3RpdmUpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnYWN0aXZlJywgcHVzaEFjdGl2ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAncGF1c2VkJywgcHVzaFBhdXNlZCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLm9uKCdyZW1vdmVMaXN0ZW5lcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgcHVsbENoYW5nZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2RlbmllZCcsIHB1bGxEZW5pZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdXNoRGVuaWVkKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnYWN0aXZlJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVzaEFjdGl2ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcigncGF1c2VkJywgcHVsbFBhdXNlZCk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5wdWxsLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHJlbW92ZUFsbCgncHVsbCcpKTtcbiAgdGhpcy5wdXNoLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHJlbW92ZUFsbCgncHVzaCcpKTtcblxuICB2YXIgcHJvbWlzZSA9IFByb21pc2UuYWxsKFtcbiAgICB0aGlzLnB1c2gsXG4gICAgdGhpcy5wdWxsXG4gIF0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICB2YXIgb3V0ID0ge1xuICAgICAgcHVzaDogcmVzcFswXSxcbiAgICAgIHB1bGw6IHJlc3BbMV1cbiAgICB9O1xuICAgIHNlbGYuZW1pdCgnY29tcGxldGUnLCBvdXQpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gb3V0O1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3MgYSBjYWxsYmFjaywgdGhlbiB0aGUgY2FsbGJhY2sgY2FuIHJlY2VpdmVcbiAgICAgIC8vIHRoZSBlcnJvciBldmVudFxuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgdGhlcmUncyBubyBjYWxsYmFjaywgdGhlbiB3ZSdyZSBzYWZlIHRvIGVtaXQgYW4gZXJyb3JcbiAgICAgIC8vIGV2ZW50LCB3aGljaCB3b3VsZCBvdGhlcndpc2UgdGhyb3cgYW4gdW5oYW5kbGVkIGVycm9yXG4gICAgICAvLyBkdWUgdG8gJ2Vycm9yJyBiZWluZyBhIHNwZWNpYWwgZXZlbnQgaW4gRXZlbnRFbWl0dGVyc1xuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBubyBzZW5zZSB0aHJvd2luZyBpZiB3ZSdyZSBhbHJlYWR5IGVtaXR0aW5nIGFuICdlcnJvcicgZXZlbnRcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMudGhlbiA9IGZ1bmN0aW9uIChzdWNjZXNzLCBlcnIpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGVycik7XG4gIH07XG5cbiAgdGhpcy5jYXRjaCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChlcnIpO1xuICB9O1xufVxuXG5TeW5jLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5jYW5jZWxlZCkge1xuICAgIHRoaXMuY2FuY2VsZWQgPSB0cnVlO1xuICAgIHRoaXMucHVzaC5jYW5jZWwoKTtcbiAgICB0aGlzLnB1bGwuY2FuY2VsKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlcGxpY2F0aW9uKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5yZXBsaWNhdGUgPSByZXBsaWNhdGVXcmFwcGVyO1xuICBQb3VjaERCLnN5bmMgPSBzeW5jO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3VjaERCLnByb3RvdHlwZSwgJ3JlcGxpY2F0ZScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXBsaWNhdGVNZXRob2RzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnJlcGxpY2F0ZU1ldGhvZHMgPSB7XG4gICAgICAgICAgZnJvbTogZnVuY3Rpb24gKG90aGVyLCBvcHRzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uc3RydWN0b3IucmVwbGljYXRlKG90aGVyLCBzZWxmLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0bzogZnVuY3Rpb24gKG90aGVyLCBvcHRzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uc3RydWN0b3IucmVwbGljYXRlKHNlbGYsIG90aGVyLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVwbGljYXRlTWV0aG9kcztcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoREIucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbiAoZGJOYW1lLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnN5bmModGhpcywgZGJOYW1lLCBvcHRzLCBjYWxsYmFjayk7XG4gIH07XG59XG5cblBvdWNoREIucGx1Z2luKElEQlBvdWNoKVxuICAucGx1Z2luKEh0dHBQb3VjaCQxKVxuICAucGx1Z2luKG1hcHJlZHVjZSlcbiAgLnBsdWdpbihyZXBsaWNhdGlvbik7XG5cbi8vIFB1bGwgZnJvbSBzcmMgYmVjYXVzZSBwb3VjaGRiLW5vZGUvcG91Y2hkYi1icm93c2VyIHRoZW1zZWx2ZXNcblxuZXhwb3J0IGRlZmF1bHQgUG91Y2hEQjtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlLUVTNSBlbnZpcm9ubWVudHMuICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLiAqL1xuICB2YXIgVkVSU0lPTiA9ICc0LjE3LjIxJztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuICB2YXIgQ09SRV9FUlJPUl9URVhUID0gJ1Vuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLicsXG4gICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbicsXG4gICAgICBJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUID0gJ0ludmFsaWQgYHZhcmlhYmxlYCBvcHRpb24gcGFzc2VkIGludG8gYF8udGVtcGxhdGVgJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG4gIHZhciByZVRyaW1TdGFydCA9IC9eXFxzKy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG4gIHZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cbiAgdmFyIHJlV3JhcENvbW1lbnQgPSAvXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLFxuICAgICAgcmVXcmFwRGV0YWlscyA9IC9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxcbiAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHZhbGlkYXRlIHRoZSBgdmFsaWRhdGVgIG9wdGlvbiBpbiBgXy50ZW1wbGF0ZWAgdmFyaWFibGUuXG4gICAqXG4gICAqIEZvcmJpZHMgY2hhcmFjdGVycyB3aGljaCBjb3VsZCBwb3RlbnRpYWxseSBjaGFuZ2UgdGhlIG1lYW5pbmcgb2YgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50IGRlZmluaXRpb246XG4gICAqIC0gXCIoKSxcIiAobW9kaWZpY2F0aW9uIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCI9XCIgKGRlZmF1bHQgdmFsdWUpXG4gICAqIC0gXCJbXXt9XCIgKGRlc3RydWN0dXJpbmcgb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIi9cIiAoYmVnaW5uaW5nIG9mIGEgY29tbWVudClcbiAgICogLSB3aGl0ZXNwYWNlXG4gICAqL1xuICB2YXIgcmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMgPSAvWygpPSx7fVxcW1xcXVxcL1xcc10vO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2hcbiAgICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xuICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZicsXG4gICAgICByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgPSAnXFxcXHVmZTIwLVxcXFx1ZmUyZicsXG4gICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuICAgICAgcnNDb21ib1JhbmdlID0gcnNDb21ib01hcmtzUmFuZ2UgKyByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlLFxuICAgICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbiAgdmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvUmFuZ2UgKyAnXScsXG4gICAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbiAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNNaXNjVXBwZXIgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc09wdENvbnRyTG93ZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgICByc09yZExvd2VyID0gJ1xcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKScsXG4gICAgICByc09yZFVwcGVyID0gJ1xcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKScsXG4gICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xuICB2YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICAgKi9cbiAgdmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG4gIHZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzTWlzY1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTWlzY0xvd2VyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyICsgJz8nICsgcnNNaXNjTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIsXG4gICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcbiAgICByc09yZFVwcGVyLFxuICAgIHJzT3JkTG93ZXIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcy4gKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJywgJ0ludDhBcnJheScsICdJbnQxNkFycmF5JywgJ0ludDMyQXJyYXknLCAnTWFwJywgJ01hdGgnLCAnT2JqZWN0JyxcbiAgICAnUHJvbWlzZScsICdSZWdFeHAnLCAnU2V0JywgJ1N0cmluZycsICdTeW1ib2wnLCAnVHlwZUVycm9yJywgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcbiAgICAnXycsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5LiAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gLTE7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG4gIHZhciBjbG9uZWFibGVUYWdzID0ge307XG4gIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAncydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xuICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy4gKi9cbiAgdmFyIGh0bWxVbmVzY2FwZXMgPSB7XG4gICAgJyZhbXA7JzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmIzM5Oyc6IFwiJ1wiXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG4gIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgICBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4gIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuICB2YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICAgIGlmICh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZ1xuICAgICAgPyBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJylcbiAgICAgIDogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gICAqIGNoYXJhY3RlciBvZiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgaWYgKGl0ZXJhdGVlcy5sZW5ndGgpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIGlmIChpc0FycmF5KGl0ZXJhdGVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlR2V0KHZhbHVlLCBpdGVyYXRlZS5sZW5ndGggPT09IDEgPyBpdGVyYXRlZVswXSA6IGl0ZXJhdGVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpZGVudGl0eV07XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZU1hcChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBjcml0ZXJpYSA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgJ2NyaXRlcmlhJzogY3JpdGVyaWEsICdpbmRleCc6ICsraW5kZXgsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJhc2VTb3J0QnkocmVzdWx0LCBmdW5jdGlvbihvYmplY3QsIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnBpY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2sob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGhhc0luKG9iamVjdCwgcGF0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiAgYF8ucGlja0J5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYXRoID0gcGF0aHNbaW5kZXhdLFxuICAgICAgICAgICAgdmFsdWUgPSBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG5cbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgcGF0aCkpIHtcbiAgICAgICAgICBiYXNlU2V0KHJlc3VsdCwgY2FzdFBhdGgocGF0aCwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVByb3BlcnR5YCB3aGljaCBzdXBwb3J0cyBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAocGF0aCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQWxsQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICAgKiBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgc2VlbiA9IGFycmF5O1xuXG4gICAgICBpZiAoYXJyYXkgPT09IHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMgPSBjb3B5QXJyYXkodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBzZWVuID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGZyb21JbmRleCA9IDAsXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tSW5kZXggPSBpbmRleE9mKHNlZW4sIGNvbXB1dGVkLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpKSA+IC0xKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IGFycmF5KSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChzZWVuLCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogaW5kZXhlcyBvciBjYXB0dXJpbmcgdGhlIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlcyBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gaW5kZXhlcy5sZW5ndGggOiAwLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGlmIChsZW5ndGggPT0gbGFzdEluZGV4IHx8IGluZGV4ICE9PSBwcmV2aW91cykge1xuICAgICAgICAgIHZhciBwcmV2aW91cyA9IGluZGV4O1xuICAgICAgICAgIGlmIChpc0luZGV4KGluZGV4KSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVVuc2V0KGFycmF5LCBpbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZG9tYCB3aXRob3V0IHN1cHBvcnQgZm9yIHJldHVybmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3dlciBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKSB7XG4gICAgICByZXR1cm4gbG93ZXIgKyBuYXRpdmVGbG9vcihuYXRpdmVSYW5kb20oKSAqICh1cHBlciAtIGxvd2VyICsgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmdlYCBhbmQgYF8ucmFuZ2VSaWdodGAgd2hpY2ggZG9lc24ndFxuICAgICAqIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXAgVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChuYXRpdmVDZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSksIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF0gPSBzdGFydDtcbiAgICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVwZWF0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlcGVhdChzdHJpbmcsIG4pIHtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIGlmICghc3RyaW5nIHx8IG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBMZXZlcmFnZSB0aGUgZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcgYWxnb3JpdGhtIGZvciBhIGZhc3RlciByZXBlYXQuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXhwb25lbnRpYXRpb25fYnlfc3F1YXJpbmcgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKG4gJSAyKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBuID0gbmF0aXZlRmxvb3IobiAvIDIpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKG4pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gYXJyYXlTYW1wbGUodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVTaXplYCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4pIHtcbiAgICAgIHZhciBhcnJheSA9IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihhcnJheSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgICAgIHdoaWxlIChuZXN0ZWQgIT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nIHx8IGtleSA9PT0gJ2NvbnN0cnVjdG9yJyB8fCBrZXkgPT09ICdwcm90b3R5cGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmRleCAhPSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICAgICAgOiAoaXNJbmRleChwYXRoW2luZGV4ICsgMV0pID8gW10gOiB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzc2lnblZhbHVlKG5lc3RlZCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0RGF0YWAgd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0RGF0YSA9ICFtZXRhTWFwID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBkYXRhKSB7XG4gICAgICBtZXRhTWFwLnNldChmdW5jLCBkYXRhKTtcbiAgICAgIHJldHVybiBmdW5jO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNodWZmbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZih2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNsaWNlYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gc3RhcnQgPiBlbmQgPyAwIDogKChlbmQgLSBzdGFydCkgPj4+IDApO1xuICAgICAgc3RhcnQgPj4+PSAwO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29tZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiAhcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhgIHdoaWNoXG4gICAgICogcGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIG9mIGBhcnJheWAgdG8gZGV0ZXJtaW5lIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyBsb3cgOiBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT09IHZhbHVlICYmIGhpZ2ggPD0gSEFMRl9NQVhfQVJSQVlfTEVOR1RIKSB7XG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBhcnJheVttaWRdO1xuXG4gICAgICAgICAgaWYgKGNvbXB1dGVkICE9PSBudWxsICYmICFpc1N5bWJvbChjb21wdXRlZCkgJiZcbiAgICAgICAgICAgICAgKHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpKSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpZGVudGl0eSwgcmV0SGlnaGVzdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhCeWAgYW5kIGBfLnNvcnRlZExhc3RJbmRleEJ5YFxuICAgICAqIHdoaWNoIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZVxuICAgICAqIHRoZWlyIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChoaWdoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgIHZhciB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24gJiYgbmF0aXZlSXNGaW5pdGUobnVtYmVyKSkge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIGFyclN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKGFyclN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gYXJyU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IGFycmF5O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIG9ialN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChvYmpTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIG9ialN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBvYmplY3Q7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiIG9yIFwiY29uc3RydWN0b3JcIi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gICAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIENvbWJpbmluZyBzZXZlcmFsIHByZWRpY2F0ZXMgdXNpbmcgYF8ub3ZlckV2ZXJ5YCBvciBgXy5vdmVyU29tZWAuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8ub3ZlclNvbWUoW3sgJ2FnZSc6IDM2IH0sIFsnYWdlJywgNDBdXSkpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiAzMCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgMzBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgMzBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBiYXNlVHJpbSh2YWx1ZSk7XG4gICAgICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICAgICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgICAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gICAgICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzYWZlIGludGVnZXIuIEEgc2FmZSBpbnRlZ2VyIGNhbiBiZSBjb21wYXJlZCBhbmRcbiAgICAgKiByZXByZXNlbnRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDkwMDcxOTkyNTQ3NDA5OTFcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgOiAodmFsdWUgPT09IDAgPyB2YWx1ZSA6IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gICAgICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1N0cmluZyhudWxsKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZygtMCk7XG4gICAgICogLy8gPT4gJy0wJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+ICcxLDIsMydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgaWYgKGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgc291cmNlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ25Jbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMsICdkJzogNCB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduSW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGBwYXRoc2Agb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8uYXQob2JqZWN0LCBbJ2FbMF0uYi5jJywgJ2FbMV0nXSk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIGF0ID0gZmxhdFJlc3QoYmFzZUF0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBnaXZlbiwgaXRzIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIGFzc2lnbmVkIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gVGhlIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgICogICBTaGFwZS5jYWxsKHRoaXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIENpcmNsZS5wcm90b3R5cGUgPSBfLmNyZWF0ZShTaGFwZS5wcm90b3R5cGUsIHtcbiAgICAgKiAgICdjb25zdHJ1Y3Rvcic6IENpcmNsZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgQ2lyY2xlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIFNoYXBlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPT0gbnVsbCA/IHJlc3VsdCA6IGJhc2VBc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlXG4gICAgICogb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0XG4gICAgICogcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIE9uY2UgYSBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgdmFsdWVzIG9mIHRoZSBzYW1lIHByb3BlcnR5IGFyZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0cyA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgdmFyIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzSW4oc291cmNlKTtcbiAgICAgICAgdmFyIHByb3BzSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK3Byb3BzSW5kZXggPCBwcm9wc0xlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIChlcSh2YWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGVmYXVsdHNgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGFzc2lnbnNcbiAgICAgKiBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHNEZWVwKHsgJ2EnOiB7ICdiJzogMiB9IH0sIHsgJ2EnOiB7ICdiJzogMSwgJ2MnOiAzIH0gfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiAyLCAnYyc6IDMgfSB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzRGVlcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UpO1xuICAgICAgcmV0dXJuIGFwcGx5KG1lcmdlV2l0aCwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUga2V5IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRLZXlgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBhIGNvbGxlY3Rpb24gaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gcmV0dXJucyAncGViYmxlcycgYXNzdW1pbmcgYF8uZmluZEtleWAgcmV0dXJucyAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd25SaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuXG4gICAgICogb2JqZWN0IGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW4obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJywgJ2InLCB0aGVuICdjJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdjJywgJ2InLCB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JJbmAgbG9ncyAnYScsICdiJywgdGhlbiAnYycuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kXG4gICAgICogaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvblxuICAgICAqIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd24obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvck93bmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93blJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYicgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICdhJyB0aGVuICdiJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgKiBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBhbmQgaW5oZXJpdGVkXG4gICAgICogZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICAgICAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG4gICAgICogdmFyIG90aGVyID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob3RoZXIsICdhJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqIElmIGBvYmplY3RgIGNvbnRhaW5zIGR1cGxpY2F0ZSB2YWx1ZXMsIHN1YnNlcXVlbnQgdmFsdWVzIG92ZXJ3cml0ZVxuICAgICAqIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6ICdjJywgJzInOiAnYicgfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnQgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W3ZhbHVlXSA9IGtleTtcbiAgICB9LCBjb25zdGFudChpZGVudGl0eSkpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnZlcnRgIGV4Y2VwdCB0aGF0IHRoZSBpbnZlcnRlZCBvYmplY3QgaXMgZ2VuZXJhdGVkXG4gICAgICogZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGNvcnJlc3BvbmRpbmcgaW52ZXJ0ZWQgdmFsdWUgb2YgZWFjaCBpbnZlcnRlZCBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5c1xuICAgICAqIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBpbnZlcnRlZCB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gJ2dyb3VwJyArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2dyb3VwMSc6IFsnYScsICdjJ10sICdncm91cDInOiBbJ2InXSB9XG4gICAgICovXG4gICAgdmFyIGludmVydEJ5ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0ucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXSA9IFtrZXldO1xuICAgICAgfVxuICAgIH0sIGdldEl0ZXJhdGVlKTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiBbMSwgMiwgMywgNF0gfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5pbnZva2Uob2JqZWN0LCAnYVswXS5iLmMuc2xpY2UnLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlID0gYmFzZVJlc3QoYmFzZUludm9rZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAgICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy5rZXlzKCdoaScpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5c0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tYXBWYWx1ZXNgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAqIHNhbWUgdmFsdWVzIGFzIGBvYmplY3RgIGFuZCBrZXlzIGdlbmVyYXRlZCBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGVcbiAgICAgKiBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBWYWx1ZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBLZXlzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgcmV0dXJuIGtleSArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2ExJzogMSwgJ2IyJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwS2V5cyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkXG4gICAgICogYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwS2V5c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnZnJlZCc6ICAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAgICAgKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICAgICAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICAgICAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBvdGhlciA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lcmdlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuICAgICAqIHByb3BlcnRpZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBtZXJnaW5nIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHNpeCBhcmd1bWVudHM6XG4gICAgICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gb2JqVmFsdWUuY29uY2F0KHNyY1ZhbHVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFsxXSwgJ2InOiBbMl0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZVdpdGgob2JqZWN0LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZVdpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGVcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IHBhdGhzIG9mIGBvYmplY3RgIHRoYXQgYXJlIG5vdCBvbWl0dGVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGNvbnNpZGVyYWJseSBzbG93ZXIgdGhhbiBgXy5waWNrYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIG9taXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXQob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICB2YXIgb21pdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgcGF0aHMgPSBhcnJheU1hcChwYXRocywgZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgICAgaXNEZWVwIHx8IChpc0RlZXAgPSBwYXRoLmxlbmd0aCA+IDEpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0pO1xuICAgICAgY29weU9iamVjdChvYmplY3QsIGdldEFsbEtleXNJbihvYmplY3QpLCByZXN1bHQpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXN1bHQgPSBiYXNlQ2xvbmUocmVzdWx0LCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9GTEFUX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbU9taXRDbG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGJhc2VVbnNldChyZXN1bHQsIHBhdGhzW2xlbmd0aF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrQnlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZlxuICAgICAqIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgIHRoYXRcbiAgICAgKiBgcHJlZGljYXRlYCBkb2Vzbid0IHJldHVybiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0Qnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0Qnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBwaWNrQnkob2JqZWN0LCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgYG9iamVjdGAgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2sob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgcGljayA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHt9IDogYmFzZVBpY2sob2JqZWN0LCBwYXRocyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgYG9iamVjdGAgcHJvcGVydGllcyBgcHJlZGljYXRlYCByZXR1cm5zXG4gICAgICogdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2tCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wcyA9IGFycmF5TWFwKGdldEFsbEtleXNJbihvYmplY3QpLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIHJldHVybiBbcHJvcF07XG4gICAgICB9KTtcbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSk7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlKHZhbHVlLCBwYXRoWzBdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZ2V0YCBleGNlcHQgdGhhdCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgYVxuICAgICAqIGZ1bmN0aW9uIGl0J3MgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBpdHMgcGFyZW50IG9iamVjdCBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MxJzogMywgJ2MyJzogXy5jb25zdGFudCg0KSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzEnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzInKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgXy5jb25zdGFudCgnZGVmYXVsdCcpKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgLy8gRW5zdXJlIHRoZSBsb29wIGlzIGVudGVyZWQgd2hlbiBwYXRoIGlzIGVtcHR5LlxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3RbdG9LZXkocGF0aFtpbmRleF0pXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAgICAgKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAgICAgKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICAgICAqIGBwYXRoYCBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy5zZXRXaXRoKG9iamVjdCwgJ1swXVsxXScsICdhJywgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXaXRoKG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgXG4gICAgICogd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwIG9yIHNldCwgaXRzXG4gICAgICogZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlycyA9IGNyZWF0ZVRvUGFpcnMoa2V5cyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzXG4gICAgICogZm9yIGBvYmplY3RgIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcFxuICAgICAqIG9yIHNldCwgaXRzIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNJblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlyc0luID0gY3JlYXRlVG9QYWlycyhrZXlzSW4pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYDsgdGhpcyBtZXRob2QgdHJhbnNmb3JtcyBgb2JqZWN0YCB0byBhIG5ld1xuICAgICAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAgICAgKiBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIHRocnUgYGl0ZXJhdGVlYCwgd2l0aCBlYWNoIGludm9jYXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIElmIGBhY2N1bXVsYXRvcmAgaXMgbm90XG4gICAgICogcHJvdmlkZWQsIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGBbW1Byb3RvdHlwZV1dYCB3aWxsIGJlIHVzZWQuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czogKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oWzIsIDMsIDRdLCBmdW5jdGlvbihyZXN1bHQsIG4pIHtcbiAgICAgKiAgIHJlc3VsdC5wdXNoKG4gKj0gbik7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDldXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgaXNBcnJMaWtlID0gaXNBcnIgfHwgaXNCdWZmZXIob2JqZWN0KSB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCk7XG4gICAgICBpZiAoYWNjdW11bGF0b3IgPT0gbnVsbCkge1xuICAgICAgICB2YXIgQ3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChpc0Fyckxpa2UpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzQXJyID8gbmV3IEN0b3IgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0Z1bmN0aW9uKEN0b3IpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaXNBcnJMaWtlID8gYXJyYXlFYWNoIDogYmFzZUZvck93bikob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDcgfSB9XSB9O1xuICAgICAqIF8udW5zZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHRydWUgOiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgYWNjZXB0cyBgdXBkYXRlcmAgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiB2YWx1ZSB0byBzZXQuIFVzZSBgXy51cGRhdGVXaXRoYCB0byBjdXN0b21pemUgYHBhdGhgIGNyZWF0aW9uLiBUaGUgYHVwZGF0ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICdhWzBdLmIuYycsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiBuOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ3hbMF0ueS56JywgZnVuY3Rpb24obikgeyByZXR1cm4gbiA/IG4gKyAxIDogMDsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51cGRhdGVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZVdpdGgob2JqZWN0LCAnWzBdWzFdJywgXy5jb25zdGFudCgnYScpLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdpdGgob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcygnaGknKTtcbiAgICAgKiAvLyA9PiBbJ2gnLCAnaSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eVxuICAgICAqIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2xhbXBzIGBudW1iZXJgIHdpdGhpbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jbGFtcCgtMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiAtNVxuICAgICAqXG4gICAgICogXy5jbGFtcCgxMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IHRvTnVtYmVyKHVwcGVyKTtcbiAgICAgICAgdXBwZXIgPSB1cHBlciA9PT0gdXBwZXIgPyB1cHBlciA6IDA7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IHRvTnVtYmVyKGxvd2VyKTtcbiAgICAgICAgbG93ZXIgPSBsb3dlciA9PT0gbG93ZXIgPyBsb3dlciA6IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUNsYW1wKHRvTnVtYmVyKG51bWJlciksIGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBuYCBpcyBiZXR3ZWVuIGBzdGFydGAgYW5kIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmXG4gICAgICogYGVuZGAgaXMgbm90IHNwZWNpZmllZCwgaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqIElmIGBzdGFydGAgaXMgZ3JlYXRlciB0aGFuIGBlbmRgIHRoZSBwYXJhbXMgYXJlIHN3YXBwZWQgdG8gc3VwcG9ydFxuICAgICAqIG5lZ2F0aXZlIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5yYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgzLCAyLCA0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgOCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMiwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgxLjIsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg1LjIsIDQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoLTMsIC0yLCAtNik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgIH1cbiAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICByZXR1cm4gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqIElmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyXG4gICAgICogaXMgcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgYHRydWVgLCBvciBlaXRoZXIgYGxvd2VyYCBvciBgdXBwZXJgIGFyZVxuICAgICAqIGZsb2F0cywgYSBmbG9hdGluZy1wb2ludCBudW1iZXIgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcj0wXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt1cHBlcj0xXSBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZmxvYXRpbmddIFNwZWNpZnkgcmV0dXJuaW5nIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpIHtcbiAgICAgIGlmIChmbG9hdGluZyAmJiB0eXBlb2YgZmxvYXRpbmcgIT0gJ2Jvb2xlYW4nICYmIGlzSXRlcmF0ZWVDYWxsKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpKSB7XG4gICAgICAgIHVwcGVyID0gZmxvYXRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHVwcGVyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gdXBwZXI7XG4gICAgICAgICAgdXBwZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGxvd2VyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA9PT0gdW5kZWZpbmVkICYmIHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB1cHBlciA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG93ZXIgPSB0b0Zpbml0ZShsb3dlcik7XG4gICAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBwZXIgPSB0b0Zpbml0ZSh1cHBlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA+IHVwcGVyKSB7XG4gICAgICAgIHZhciB0ZW1wID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdXBwZXI7XG4gICAgICAgIHVwcGVyID0gdGVtcDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBsb3dlciAlIDEgfHwgdXBwZXIgJSAxKSB7XG4gICAgICAgIHZhciByYW5kID0gbmF0aXZlUmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVNaW4obG93ZXIgKyAocmFuZCAqICh1cHBlciAtIGxvd2VyICsgZnJlZVBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKyAnJykubGVuZ3RoIC0gMSkpKSksIHVwcGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gW2NhbWVsIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbWVsQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqL1xuICAgIHZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gY2FwaXRhbGl6ZSh3b3JkKSA6IHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG4gICAgICogdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gICAgICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gICAgICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICAgICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAgICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAgICAgKiAvLyA9PiAnZGVqYSB2dSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJywgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGxlbmd0aFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBsZW5ndGgpO1xuXG4gICAgICB2YXIgZW5kID0gcG9zaXRpb247XG4gICAgICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID49IDAgJiYgc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBlbmQpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBjaGFyYWN0ZXJzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAgICAgKiBcIj5cIiBhbmQgXCIvXCIgZG9uJ3QgbmVlZCBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZ1xuICAgICAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAgICAgKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gICAgICogKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gICAgICogW3F1b3RlIGF0dHJpYnV0ZSB2YWx1ZXNdKGh0dHA6Ly93b25rby5jb20vcG9zdC9odG1sLWVzY2FwaW5nKSB0byByZWR1Y2VcbiAgICAgKiBYU1MgdmVjdG9ycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlcyB0aGUgYFJlZ0V4cGAgc3BlY2lhbCBjaGFyYWN0ZXJzIFwiXlwiLCBcIiRcIiwgXCJcXFwiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLFxuICAgICAqIFwiP1wiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBhbmQgXCJ8XCIgaW4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZVJlZ0V4cCgnW2xvZGFzaF0oaHR0cHM6Ly9sb2Rhc2guY29tLyknKTtcbiAgICAgKiAvLyA9PiAnXFxbbG9kYXNoXFxdXFwoaHR0cHM6Ly9sb2Rhc2hcXC5jb20vXFwpJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1JlZ0V4cENoYXIudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW2tlYmFiIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1NwZWNpYWxfY2FzZV9zdHlsZXMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICovXG4gICAgdmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICctJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICovXG4gICAgdmFyIGxvd2VyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRnJlZCcpO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ2ZSRUQnXG4gICAgICovXG4gICAgdmFyIGxvd2VyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvTG93ZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBzaWRlcyBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC5cbiAgICAgKiBQYWRkaW5nIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGNhbid0IGJlIGV2ZW5seSBkaXZpZGVkIGJ5IGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4KTtcbiAgICAgKiAvLyA9PiAnICBhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHN0ckxlbmd0aCA+PSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBtaWQgPSAobGVuZ3RoIC0gc3RyTGVuZ3RoKSAvIDI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUZsb29yKG1pZCksIGNoYXJzKSArXG4gICAgICAgIHN0cmluZyArXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlQ2VpbChtaWQpLCBjaGFycylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgcmlnaHQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJ2FiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkRW5kKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoc3RyaW5nICsgY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSlcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICcgICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1fYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykgKyBzdHJpbmcpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC4gSWYgYHJhZGl4YCBpc1xuICAgICAqIGB1bmRlZmluZWRgIG9yIGAwYCwgYSBgcmFkaXhgIG9mIGAxMGAgaXMgdXNlZCB1bmxlc3MgYHZhbHVlYCBpcyBhXG4gICAgICogaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBhbGlnbnMgd2l0aCB0aGVcbiAgICAgKiBbRVM1IGltcGxlbWVudGF0aW9uXShodHRwczovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuMikgb2YgYHBhcnNlSW50YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4PTEwXSBUaGUgcmFkaXggdG8gaW50ZXJwcmV0IGB2YWx1ZWAgYnkuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnMDgnLCAnMTAnXSwgXy5wYXJzZUludCk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZywgcmFkaXgsIGd1YXJkKSB7XG4gICAgICBpZiAoZ3VhcmQgfHwgcmFkaXggPT0gbnVsbCkge1xuICAgICAgICByYWRpeCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJhZGl4KSB7XG4gICAgICAgIHJhZGl4ID0gK3JhZGl4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVBhcnNlSW50KHRvU3RyaW5nKHN0cmluZykucmVwbGFjZShyZVRyaW1TdGFydCwgJycpLCByYWRpeCB8fCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXRzIHRoZSBnaXZlbiBzdHJpbmcgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBlYXQoJyonLCAzKTtcbiAgICAgKiAvLyA9PiAnKioqJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDIpO1xuICAgICAqIC8vID0+ICdhYmNhYmMnXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJlcGVhdCh0b1N0cmluZyhzdHJpbmcpLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBtYXRjaGVzIGZvciBgcGF0dGVybmAgaW4gYHN0cmluZ2Agd2l0aCBgcmVwbGFjZW1lbnRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjcmVwbGFjZWBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9yZXBsYWNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IHJlcGxhY2VtZW50IFRoZSBtYXRjaCByZXBsYWNlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwbGFjZSgnSGkgRnJlZCcsICdGcmVkJywgJ0Jhcm5leScpO1xuICAgICAqIC8vID0+ICdIaSBCYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZSgpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKGFyZ3NbMF0pO1xuXG4gICAgICByZXR1cm4gYXJncy5sZW5ndGggPCAzID8gc3RyaW5nIDogc3RyaW5nLnJlcGxhY2UoYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc25ha2UgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU25ha2VfY2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzbmFrZSBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnLS1GT08tQkFSLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKi9cbiAgICB2YXIgc25ha2VDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJ18nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjc3BsaXRgXShodHRwczovL21kbi5pby9TdHJpbmcvc3BsaXQpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHNwbGl0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gc2VwYXJhdG9yIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byBzcGxpdCBieS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbWl0XSBUaGUgbGVuZ3RoIHRvIHRydW5jYXRlIHJlc3VsdHMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzdHJpbmcgc2VnbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3BsaXQoJ2EtYi1jJywgJy0nLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgJiYgdHlwZW9mIGxpbWl0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gbGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBsaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfQVJSQVlfTEVOR1RIIDogbGltaXQgPj4+IDA7XG4gICAgICBpZiAoIWxpbWl0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChcbiAgICAgICAgICAgIHR5cGVvZiBzZXBhcmF0b3IgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIChzZXBhcmF0b3IgIT0gbnVsbCAmJiAhaXNSZWdFeHAoc2VwYXJhdG9yKSlcbiAgICAgICAgICApKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoIXNlcGFyYXRvciAmJiBoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgICByZXR1cm4gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkoc3RyaW5nKSwgMCwgbGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3N0YXJ0IGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1N0eWxpc3RpY19vcl9zcGVjaWFsaXNlZF91c2FnZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdGFydCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHN0YXJ0Q2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHVwcGVyRmlyc3Qod29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249MF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsXG4gICAgICAgID8gMFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBzdHJpbmcubGVuZ3RoKTtcblxuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG4gICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHRhcmdldC5sZW5ndGgpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24gdGhhdCBjYW4gaW50ZXJwb2xhdGUgZGF0YSBwcm9wZXJ0aWVzXG4gICAgICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAgICAgKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAgICAgKiBwcm9wZXJ0aWVzIG1heSBiZSBhY2Nlc3NlZCBhcyBmcmVlIHZhcmlhYmxlcyBpbiB0aGUgdGVtcGxhdGUuIElmIGEgc2V0dGluZ1xuICAgICAqIG9iamVjdCBpcyBnaXZlbiwgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGBfLnRlbXBsYXRlU2V0dGluZ3NgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG4gICAgICogW3NvdXJjZVVSTHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmwpXG4gICAgICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZVxuICAgICAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZVxuICAgICAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXNjYXBlXVxuICAgICAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmV2YWx1YXRlXVxuICAgICAqICBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAgICAgKiAgQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBmcmVlIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlXVxuICAgICAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc291cmNlVVJMPSdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW25dJ11cbiAgICAgKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZhcmlhYmxlPSdvYmonXVxuICAgICAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPGI+PCUtIHZhbHVlICU+PC9iPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAgICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBpbnRlcm5hbCBgcHJpbnRgIGZ1bmN0aW9uIGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIC8vIERpc2FibGUgc3VwcG9ydCBieSByZXBsYWNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JT0gXCJcXFxcPCUtIHZhbHVlICVcXFxcPlwiICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gICAgICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cbiAgICAgKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUodGV4dCwgeyAnaW1wb3J0cyc6IHsgJ2pxJzogalF1ZXJ5IH0gfSk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAgICAgKiBjb21waWxlZChkYXRhKTtcbiAgICAgKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICAgICAqIGNvbXBpbGVkLnNvdXJjZTtcbiAgICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcbiAgICAgKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAvLyAgIHJldHVybiBfX3A7XG4gICAgICogLy8gfVxuICAgICAqXG4gICAgICogLy8gVXNlIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLlxuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG4gICAgICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gICAgICAvLyBCYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG4gICAgICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBvcHRpb25zID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLCBzZXR0aW5ncywgY3VzdG9tRGVmYXVsdHNBc3NpZ25Jbik7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgICAgIHZhciBpc0VzY2FwaW5nLFxuICAgICAgICAgIGlzRXZhbHVhdGluZyxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cbiAgICAgIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgIC8vIFRoZSBzb3VyY2VVUkwgZ2V0cyBpbmplY3RlZCBpbnRvIHRoZSBzb3VyY2UgdGhhdCdzIGV2YWwtZWQsIHNvIGJlIGNhcmVmdWxcbiAgICAgIC8vIHRvIG5vcm1hbGl6ZSBhbGwga2luZHMgb2Ygd2hpdGVzcGFjZSwgc28gZS5nLiBuZXdsaW5lcyAoYW5kIHVuaWNvZGUgdmVyc2lvbnMgb2YgaXQpIGNhbid0IHNuZWFrIGluXG4gICAgICAvLyBhbmQgZXNjYXBlIHRoZSBjb21tZW50LCB0aHVzIGluamVjdGluZyBjb2RlIHRoYXQgZ2V0cyBldmFsZWQuXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgICAgICAgID8gKG9wdGlvbnMuc291cmNlVVJMICsgJycpLnJlcGxhY2UoL1xccy9nLCAnICcpXG4gICAgICAgICAgOiAoJ2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbJyArICgrK3RlbXBsYXRlQ291bnRlcikgKyAnXScpXG4gICAgICAgICkgKyAnXFxuJztcblxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgICAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzLlxuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG5cbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAgIC8vIElmIGB2YXJpYWJsZWAgaXMgbm90IHNwZWNpZmllZCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgICAgIHZhciB2YXJpYWJsZSA9IGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3ZhcmlhYmxlJykgJiYgb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBhIGZvcmJpZGRlbiBjaGFyYWN0ZXIgd2FzIGZvdW5kIGluIGB2YXJpYWJsZWAsIHRvIHByZXZlbnRcbiAgICAgIC8vIHBvdGVudGlhbCBjb21tYW5kIGluamVjdGlvbiBhdHRhY2tzLlxuICAgICAgZWxzZSBpZiAocmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMudGVzdCh2YXJpYWJsZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VUcmltKHN0cmluZyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICpcbiAgICAgKiAvLyBDaGVja2luZyBmb3Igc2V2ZXJhbCBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm92ZXJTb21lKFtfLm1hdGNoZXMoeyAnYSc6IDEgfSksIF8ubWF0Y2hlcyh7ICdhJzogNCB9KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCAxKSwgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyRXZlcnkoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogZnVuYyhOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIG92ZXJFdmVyeSA9IGNyZWF0ZU92ZXIoYXJyYXlFdmVyeSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbnkqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIG1hdGNoZXNGdW5jID0gXy5vdmVyU29tZShbeyAnYSc6IDEgfSwgeyAnYSc6IDIgfV0pXG4gICAgICogdmFyIG1hdGNoZXNQcm9wZXJ0eUZ1bmMgPSBfLm92ZXJTb21lKFtbJ2EnLCAxXSwgWydhJywgMl1dKVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSBsb2Rhc2hGdW5jLm5hbWUgKyAnJztcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywga2V5KSkge1xuICAgICAgICAgIHJlYWxOYW1lc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmVhbE5hbWVzW2tleV0ucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCIvKipcclxuKiB2a0JlYXV0aWZ5IC0gamF2YXNjcmlwdCBwbHVnaW4gdG8gcHJldHR5LXByaW50IG9yIG1pbmlmeSB0ZXh0IGluIFhNTCwgSlNPTiwgQ1NTIGFuZCBTUUwgZm9ybWF0cy5cclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxMiBWYWRpbSBLaXJ5dWtoaW5cclxuKiB2a2lyeXVraGluIEAgZ21haWwuY29tXHJcbiogaHR0cDovL3d3dy5lc2xpbnN0cnVjdG9yLm5ldC92a2JlYXV0aWZ5L1xyXG4qXHJcbiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXM6XHJcbiogICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG4qICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sXHJcbipcclxuKiAgIFByZXR0eSBwcmludFxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb24odGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbCh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKlxyXG4qICAgICAgICBAdGV4dCAtIFN0cmluZzsgdGV4dCB0byBiZWF0dWZ5O1xyXG4qICAgICAgICBAaW5kZW50X3BhdHRlcm4gLSBJbnRlZ2VyIHwgU3RyaW5nO1xyXG4qICAgICAgICAgICAgICAgIEludGVnZXI6ICBudW1iZXIgb2Ygd2hpdGUgc3BhY2VzO1xyXG4qICAgICAgICAgICAgICAgIFN0cmluZzogICBjaGFyYWN0ZXIgc3RyaW5nIHRvIHZpc3VhbGl6ZSBpbmRlbnRhdGlvbiAoIGNhbiBhbHNvIGJlIGEgc2V0IG9mIHdoaXRlIHNwYWNlcyApXHJcbiogICBNaW5pZnlcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbG1pbih0ZXh0IFsscHJlc2VydmVfY29tbWVudHNdKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29ubWluKHRleHQpO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzc21pbih0ZXh0IFsscHJlc2VydmVfY29tbWVudHNdKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWxtaW4odGV4dCk7XHJcbipcclxuKiAgICAgICAgQHRleHQgLSBTdHJpbmc7IHRleHQgdG8gbWluaWZ5O1xyXG4qICAgICAgICBAcHJlc2VydmVfY29tbWVudHMgLSBCb29sOyBbb3B0aW9uYWxdO1xyXG4qICAgICAgICAgICAgICAgIFNldCB0aGlzIGZsYWcgdG8gdHJ1ZSB0byBwcmV2ZW50IHJlbW92aW5nIGNvbW1lbnRzIGZyb20gQHRleHQgKCBtaW54bWwgYW5kIG1pbmNzcyBmdW5jdGlvbnMgb25seS4gKVxyXG4qXHJcbiogICBFeGFtcGxlczpcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWwodGV4dCk7IC8vIHByZXR0eSBwcmludCBYTUxcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29uKHRleHQsIDQgKTsgLy8gcHJldHR5IHByaW50IEpTT05cclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3ModGV4dCwgJy4gLiAuIC4nKTsgLy8gcHJldHR5IHByaW50IENTU1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbCh0ZXh0LCAnLS0tLScpOyAvLyBwcmV0dHkgcHJpbnQgU1FMXHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWxtaW4odGV4dCwgdHJ1ZSk7Ly8gbWluaWZ5IFhNTCwgcHJlc2VydmUgY29tbWVudHNcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29ubWluKHRleHQpOy8vIG1pbmlmeSBKU09OXHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzbWluKHRleHQpOy8vIG1pbmlmeSBDU1MsIHJlbW92ZSBjb21tZW50cyAoIGRlZmF1bHQgKVxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbG1pbih0ZXh0KTsvLyBtaW5pZnkgU1FMXHJcbipcclxuKi9cclxuZnVuY3Rpb24gY3JlYXRlU2hpZnRBcnIoc3RlcCkge1xyXG5cclxuXHR2YXIgc3BhY2UgPSAnICAgICc7XHJcblxyXG5cdGlmICggaXNOYU4ocGFyc2VJbnQoc3RlcCkpICkgeyAgLy8gYXJndW1lbnQgaXMgc3RyaW5nXHJcblx0XHRzcGFjZSA9IHN0ZXA7XHJcblx0fSBlbHNlIHsgLy8gYXJndW1lbnQgaXMgaW50ZWdlclxyXG5cdFx0c3dpdGNoKHN0ZXApIHtcclxuXHRcdFx0Y2FzZSAxOiBzcGFjZSA9ICcgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMjogc3BhY2UgPSAnICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAzOiBzcGFjZSA9ICcgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA0OiBzcGFjZSA9ICcgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNTogc3BhY2UgPSAnICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA2OiBzcGFjZSA9ICcgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA3OiBzcGFjZSA9ICcgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgODogc3BhY2UgPSAnICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA5OiBzcGFjZSA9ICcgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMDogc3BhY2UgPSAnICAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDExOiBzcGFjZSA9ICcgICAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDEyOiBzcGFjZSA9ICcgICAgICAgICAgICAnOyBicmVhaztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBzaGlmdCA9IFsnXFxuJ107IC8vIGFycmF5IG9mIHNoaWZ0c1xyXG5cdGZvcih2YXIgaXg9MDtpeDwxMDA7aXgrKykge1xyXG5cdFx0c2hpZnQucHVzaChzaGlmdFtpeF0rc3BhY2UpO1xyXG5cdH1cclxuXHRyZXR1cm4gc2hpZnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZrYmVhdXRpZnkoKXtcclxuXHR0aGlzLnN0ZXAgPSAnICAgICc7IC8vIDQgc3BhY2VzXHJcblx0dGhpcy5zaGlmdCA9IGNyZWF0ZVNoaWZ0QXJyKHRoaXMuc3RlcCk7XHJcbn07XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS54bWwgPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIGFyID0gdGV4dC5yZXBsYWNlKC8+XFxzezAsfTwvZyxcIj48XCIpXHJcblx0XHRcdFx0IC5yZXBsYWNlKC88L2csXCJ+Ojp+PFwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvXFxzKnhtbG5zXFw6L2csXCJ+Ojp+eG1sbnM6XCIpXHJcblx0XHRcdFx0IC5yZXBsYWNlKC9cXHMqeG1sbnNcXD0vZyxcIn46On54bWxucz1cIilcclxuXHRcdFx0XHQgLnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhci5sZW5ndGgsXHJcblx0XHRpbkNvbW1lbnQgPSBmYWxzZSxcclxuXHRcdGRlZXAgPSAwLFxyXG5cdFx0c3RyID0gJycsXHJcblx0XHRpeCA9IDAsXHJcblx0XHRzaGlmdCA9IHN0ZXAgPyBjcmVhdGVTaGlmdEFycihzdGVwKSA6IHRoaXMuc2hpZnQ7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHRcdFx0Ly8gc3RhcnQgY29tbWVudCBvciA8IVtDREFUQVsuLi5dXT4gb3IgPCFET0NUWVBFIC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzwhLykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdFx0aW5Db21tZW50ID0gdHJ1ZTtcclxuXHRcdFx0XHQvLyBlbmQgY29tbWVudCAgb3IgPCFbQ0RBVEFbLi4uXV0+IC8vXHJcblx0XHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvLS0+LykgPiAtMSB8fCBhcltpeF0uc2VhcmNoKC9cXF0+LykgPiAtMSB8fCBhcltpeF0uc2VhcmNoKC8hRE9DVFlQRS8pID4gLTEgKSB7XHJcblx0XHRcdFx0XHRpbkNvbW1lbnQgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyBlbmQgY29tbWVudCAgb3IgPCFbQ0RBVEFbLi4uXV0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLy0tPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvXFxdPi8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHRcdGluQ29tbWVudCA9IGZhbHNlO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPGVsbT48L2VsbT4gLy9cclxuXHRcdFx0aWYoIC9ePFxcdy8uZXhlYyhhcltpeC0xXSkgJiYgL148XFwvXFx3Ly5leGVjKGFyW2l4XSkgJiZcclxuXHRcdFx0XHQvXjxbXFx3OlxcLVxcLlxcLF0rLy5leGVjKGFyW2l4LTFdKSA9PSAvXjxcXC9bXFx3OlxcLVxcLlxcLF0rLy5leGVjKGFyW2l4XSlbMF0ucmVwbGFjZSgnLycsJycpKSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0XHRpZighaW5Db21tZW50KSBkZWVwLS07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQgLy8gPGVsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFxcLy8pID09IC0xICYmIGFyW2l4XS5zZWFyY2goL1xcLz4vKSA9PSAtMSApIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXArK10rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdCAvLyA8ZWxtPi4uLjwvZWxtPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFx3LykgPiAtMSAmJiBhcltpeF0uc2VhcmNoKC88XFwvLykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDwvZWxtPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFwvLykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbLS1kZWVwXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPGVsbS8+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goL1xcLz4vKSA+IC0xICkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDw/IHhtbCAuLi4gPz4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcPy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8geG1sbnMgLy9cclxuXHRcdFx0aWYoIGFyW2l4XS5zZWFyY2goL3htbG5zXFw6LykgPiAtMSAgfHwgYXJbaXhdLnNlYXJjaCgveG1sbnNcXD0vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRyZXR1cm4gIChzdHJbMF0gPT0gJ1xcbicpID8gc3RyLnNsaWNlKDEpIDogc3RyO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5qc29uID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBzdGVwID0gc3RlcCA/IHN0ZXAgOiB0aGlzLnN0ZXA7XHJcblxyXG5cdGlmICh0eXBlb2YgSlNPTiA9PT0gJ3VuZGVmaW5lZCcgKSByZXR1cm4gdGV4dDtcclxuXHJcblx0aWYgKCB0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIiApIHJldHVybiBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRleHQpLCBudWxsLCBzdGVwKTtcclxuXHRpZiAoIHR5cGVvZiB0ZXh0ID09PSBcIm9iamVjdFwiICkgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRleHQsIG51bGwsIHN0ZXApO1xyXG5cclxuXHRyZXR1cm4gdGV4dDsgLy8gdGV4dCBpcyBub3Qgc3RyaW5nIG5vciBvYmplY3RcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24odGV4dCwgc3RlcCkge1xyXG5cclxuXHR2YXIgYXIgPSB0ZXh0LnJlcGxhY2UoL1xcc3sxLH0vZywnICcpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcey9nLFwie346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFx9L2csXCJ+Ojp+fX46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFw7L2csXCI7fjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXC9cXCovZyxcIn46On4vKlwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXCpcXC8vZyxcIiovfjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9+Ojp+XFxzezAsfX46On4vZyxcIn46On5cIilcclxuXHRcdFx0XHQuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyLmxlbmd0aCxcclxuXHRcdGRlZXAgPSAwLFxyXG5cdFx0c3RyID0gJycsXHJcblx0XHRpeCA9IDAsXHJcblx0XHRzaGlmdCA9IHN0ZXAgPyBjcmVhdGVTaGlmdEFycihzdGVwKSA6IHRoaXMuc2hpZnQ7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHJcblx0XHRcdGlmKCAvXFx7Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXArK10rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbLS1kZWVwXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRpZiggL1xcKlxcXFwvLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBzdHIucmVwbGFjZSgvXlxcbnsxLH0vLCcnKTtcclxufVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5mdW5jdGlvbiBpc1N1YnF1ZXJ5KHN0ciwgcGFyZW50aGVzaXNMZXZlbCkge1xyXG5cdHJldHVybiAgcGFyZW50aGVzaXNMZXZlbCAtIChzdHIucmVwbGFjZSgvXFwoL2csJycpLmxlbmd0aCAtIHN0ci5yZXBsYWNlKC9cXCkvZywnJykubGVuZ3RoIClcclxufVxyXG5cclxuZnVuY3Rpb24gc3BsaXRfc3FsKHN0ciwgdGFiKSB7XHJcblxyXG5cdHJldHVybiBzdHIucmVwbGFjZSgvXFxzezEsfS9nLFwiIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIEFORCAvaWcsXCJ+Ojp+XCIrdGFiK3RhYitcIkFORCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEJFVFdFRU4gL2lnLFwifjo6flwiK3RhYitcIkJFVFdFRU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBDQVNFIC9pZyxcIn46On5cIit0YWIrXCJDQVNFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRUxTRSAvaWcsXCJ+Ojp+XCIrdGFiK1wiRUxTRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVORCAvaWcsXCJ+Ojp+XCIrdGFiK1wiRU5EIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRlJPTSAvaWcsXCJ+Ojp+RlJPTSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEdST1VQXFxzezEsfUJZL2lnLFwifjo6fkdST1VQIEJZIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSEFWSU5HIC9pZyxcIn46On5IQVZJTkcgXCIpXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvIFNFVCAvaWcsXCIgU0VUfjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSU4gL2lnLFwiIElOIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIEpPSU4gL2lnLFwifjo6fkpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBDUk9TU346On57MSx9Sk9JTiAvaWcsXCJ+Ojp+Q1JPU1MgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIElOTkVSfjo6fnsxLH1KT0lOIC9pZyxcIn46On5JTk5FUiBKT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTEVGVH46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+TEVGVCBKT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gUklHSFR+Ojp+ezEsfUpPSU4gL2lnLFwifjo6flJJR0hUIEpPSU4gXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT04gL2lnLFwifjo6flwiK3RhYitcIk9OIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT1IgL2lnLFwifjo6flwiK3RhYit0YWIrXCJPUiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9SREVSXFxzezEsfUJZL2lnLFwifjo6fk9SREVSIEJZIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT1ZFUiAvaWcsXCJ+Ojp+XCIrdGFiK1wiT1ZFUiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcKFxcc3swLH1TRUxFQ1QgL2lnLFwifjo6fihTRUxFQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcKVxcc3swLH1TRUxFQ1QgL2lnLFwiKX46On5TRUxFQ1QgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gVEhFTiAvaWcsXCIgVEhFTn46On5cIit0YWIrXCJcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFVOSU9OIC9pZyxcIn46On5VTklPTn46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFVTSU5HIC9pZyxcIn46On5VU0lORyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFdIRU4gL2lnLFwifjo6flwiK3RhYitcIldIRU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSEVSRSAvaWcsXCJ+Ojp+V0hFUkUgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSVRIIC9pZyxcIn46On5XSVRIIFwiKVxyXG5cclxuXHRcdFx0XHQvLy5yZXBsYWNlKC9cXCxcXHN7MCx9XFwoL2lnLFwiLH46On4oIFwiKVxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoL1xcLC9pZyxcIix+Ojp+XCIrdGFiK3RhYitcIlwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIEFMTCAvaWcsXCIgQUxMIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQVMgL2lnLFwiIEFTIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQVNDIC9pZyxcIiBBU0MgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBERVNDIC9pZyxcIiBERVNDIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRElTVElOQ1QgL2lnLFwiIERJU1RJTkNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRVhJU1RTIC9pZyxcIiBFWElTVFMgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBOT1QgL2lnLFwiIE5PVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE5VTEwgL2lnLFwiIE5VTEwgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBMSUtFIC9pZyxcIiBMSUtFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHN7MCx9U0VMRUNUIC9pZyxcIlNFTEVDVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFxzezAsfVVQREFURSAvaWcsXCJVUERBVEUgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBTRVQgL2lnLFwiIFNFVCBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoL346On57MSx9L2csXCJ+Ojp+XCIpXHJcblx0XHRcdFx0LnNwbGl0KCd+Ojp+Jyk7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnNxbCA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgYXJfYnlfcXVvdGUgPSB0ZXh0LnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIilcclxuXHRcdFx0XHRcdFx0XHQucmVwbGFjZSgvXFwnL2lnLFwifjo6flxcJ1wiKVxyXG5cdFx0XHRcdFx0XHRcdC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXJfYnlfcXVvdGUubGVuZ3RoLFxyXG5cdFx0YXIgPSBbXSxcclxuXHRcdGRlZXAgPSAwLFxyXG5cdFx0dGFiID0gdGhpcy5zdGVwLC8vK3RoaXMuc3RlcCxcclxuXHRcdGluQ29tbWVudCA9IHRydWUsXHJcblx0XHRpblF1b3RlID0gZmFsc2UsXHJcblx0XHRwYXJlbnRoZXNpc0xldmVsID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0OztcclxuXHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cdFx0XHRpZihpeCUyKSB7XHJcblx0XHRcdFx0YXIgPSBhci5jb25jYXQoYXJfYnlfcXVvdGVbaXhdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhciA9IGFyLmNvbmNhdChzcGxpdF9zcWwoYXJfYnlfcXVvdGVbaXhdLCB0YWIpICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRsZW4gPSBhci5sZW5ndGg7XHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cclxuXHRcdFx0cGFyZW50aGVzaXNMZXZlbCA9IGlzU3VicXVlcnkoYXJbaXhdLCBwYXJlbnRoZXNpc0xldmVsKTtcclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcc3swLH1TRUxFQ1RcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0YXJbaXhdID0gYXJbaXhdLnJlcGxhY2UoL1xcLC9nLFwiLFxcblwiK3RhYit0YWIrXCJcIilcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFxzezAsfVNFVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRhcltpeF0gPSBhcltpeF0ucmVwbGFjZSgvXFwsL2csXCIsXFxuXCIrdGFiK3RhYitcIlwiKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXChcXHN7MCx9U0VMRUNUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGRlZXArKztcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXCcvLmV4ZWMoYXJbaXhdKSApICB7XHJcblx0XHRcdFx0aWYocGFyZW50aGVzaXNMZXZlbDwxICYmIGRlZXApIHtcclxuXHRcdFx0XHRcdGRlZXAtLTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0XHRpZihwYXJlbnRoZXNpc0xldmVsPDEgJiYgZGVlcCkge1xyXG5cdFx0XHRcdFx0ZGVlcC0tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIganVuayA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0c3RyID0gc3RyLnJlcGxhY2UoL15cXG57MSx9LywnJykucmVwbGFjZSgvXFxuezEsfS9nLFwiXFxuXCIpO1xyXG5cdFx0cmV0dXJuIHN0cjtcclxufVxyXG5cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnhtbG1pbiA9IGZ1bmN0aW9uKHRleHQsIHByZXNlcnZlQ29tbWVudHMpIHtcclxuXHJcblx0dmFyIHN0ciA9IHByZXNlcnZlQ29tbWVudHMgPyB0ZXh0XHJcblx0XHRcdFx0XHRcdFx0ICAgOiB0ZXh0LnJlcGxhY2UoL1xcPCFbIFxcclxcblxcdF0qKC0tKFteXFwtXXxbXFxyXFxuXXwtW15cXC1dKSotLVsgXFxyXFxuXFx0XSopXFw+L2csXCJcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0IC5yZXBsYWNlKC9bIFxcclxcblxcdF17MSx9eG1sbnMvZywgJyB4bWxucycpO1xyXG5cdHJldHVybiAgc3RyLnJlcGxhY2UoLz5cXHN7MCx9PC9nLFwiPjxcIik7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmpzb25taW4gPSBmdW5jdGlvbih0ZXh0KSB7XHJcblxyXG5cdGlmICh0eXBlb2YgSlNPTiA9PT0gJ3VuZGVmaW5lZCcgKSByZXR1cm4gdGV4dDtcclxuXHJcblx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UodGV4dCksIG51bGwsIDApO1xyXG5cclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuY3NzbWluID0gZnVuY3Rpb24odGV4dCwgcHJlc2VydmVDb21tZW50cykge1xyXG5cclxuXHR2YXIgc3RyID0gcHJlc2VydmVDb21tZW50cyA/IHRleHRcclxuXHRcdFx0XHRcdFx0XHQgICA6IHRleHQucmVwbGFjZSgvXFwvXFwqKFteKl18W1xcclxcbl18KFxcKisoW14qL118W1xcclxcbl0pKSkqXFwqK1xcLy9nLFwiXCIpIDtcclxuXHJcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC9cXHN7MSx9L2csJyAnKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXHtcXHN7MSx9L2csXCJ7XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcfVxcc3sxLH0vZyxcIn1cIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFw7XFxzezEsfS9nLFwiO1wiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXC9cXCpcXHN7MSx9L2csXCIvKlwiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXCpcXC9cXHN7MSx9L2csXCIqL1wiKTtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuc3FsbWluID0gZnVuY3Rpb24odGV4dCkge1xyXG5cdHJldHVybiB0ZXh0LnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIikucmVwbGFjZSgvXFxzezEsfVxcKC8sXCIoXCIpLnJlcGxhY2UoL1xcc3sxLH1cXCkvLFwiKVwiKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgdmtiZWF1dGlmeSgpO1xyXG4iLCJleHBvcnQgY29uc3QgdXBsb2FkQXJlYUhUTUwgPSBcbiAgYDxkaXYgaWQ9XCJkb2N1bWVudC11cGxvYWQtY29udGFpbmVyXCI+XG5cbiAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfYXJlYVwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfbWVzc2FnZVwiPlVwbG9hZCBGaWxlczwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiBpZD1cInVwbG9hZGluZ19jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwidW5wYWlyZWRfY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtY29udGFpbmVyLXRpdGxlXCI+VW5wYWlyZWQgRG9jdW1lbnRzPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cImZpbGVzX2NvbnRhaW5lclwiPlxuXG4gICAgICAgICAgPGRpdiBpZD1cIm1laV9jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5NRUk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX3NvcnRfbmFtZVwiPlxuICAgICAgICAgICAgICA8ZGl2Pk5hbWU8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRfbmFtZSBhcnJvd19idG5cIj4mI3gyMkMwOzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9saXN0XCIgaWQ9XCJtZWlfbGlzdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidW5wYWlyZWRfaXRlbV9jb250YWluZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBiYWNrZ3JvdW5kOiAjREFFQUYxOyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwidW5wYWlyZWRfaXRlbV9sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwidW5wYWlyZWRfaXRlbV9yYWRpb1wiIG5hbWU9XCJtZWlfcmFkaW9fZ3JvdXBcIiB2YWx1ZT1cImNyZWF0ZV9tZWlcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJtYXJnaW4tdG9wOiBhdXRvO21hcmdpbi1sZWZ0OiAzcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIG5ldyBNRUkgZmlsZVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJpbWFnZV9jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5JbWFnZXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX3NvcnRfbmFtZVwiPlxuICAgICAgICAgICAgICA8ZGl2Pk5hbWU8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRfbmFtZSBhcnJvd19idG5cIj4mI3gyMkMwOzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9saXN0XCIgaWQ9XCJpbWFnZV9saXN0XCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cImdlbmVyYXRlLXBhaXItYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25fYnV0dG9uXCIgaWQ9XCJtYWtlX3BhaXJcIj5NYWtlIFBhaXI8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJwYWlyZWRfY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtY29udGFpbmVyLXRpdGxlXCI+UGFpcmVkIEZvbGlvczwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICA8ZGl2Pk5hbWU8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic29ydF9uYW1lIGFycm93X2J0blwiPiYjeDIyQzA7PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9saW9fbGlzdFwiIGlkPVwicGFpcmVkX2xpc3RcIj48L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwidXBsb2FkX2J1dHRvbl9jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uX2J1dHRvblwiIGlkPVwidXBsb2FkX2J1dHRvblwiPlxuICAgICAgICAgICAgVXBsb2FkXG4gICAgICAgICAgICA8ZGl2IGlkPVwidXBsb2FkaW5nX3NwaW5uZXJcIj7ihrs8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tXG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cIm1hbnVzY3JpcHRzX2NvbnRhaW5lclwiPlxuICAgICAgICA8aDIgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5NYW51c2NyaXB0czwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb2xpb19saXN0XCIgaWQ9XCJtYW51c2NyaXB0X2xpc3RcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgLS0+XG5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IG5ld0ZvbGRlckhUTUwgPSBgXG4gICAgPGRpdiBpZD1cInJlbmFtZV9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJkYXNoYm9hcmRfaW5wdXRfY29udGFpbmVyXCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJyZW5hbWVfYnV0dG9uc19jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNhbmNlbF9kYXNoYm9hcmRcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNvbmZpcm1fZGFzaGJvYXJkXCI+Q3JlYXRlPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuZXhwb3J0IGNvbnN0IHJlbmFtZUhUTUwgPSBgXG4gICAgPGRpdiBpZD1cInJlbmFtZV9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJkYXNoYm9hcmRfaW5wdXRfY29udGFpbmVyXCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJyZW5hbWVfYnV0dG9uc19jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNhbmNlbF9kYXNoYm9hcmRcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNvbmZpcm1fZGFzaGJvYXJkXCI+Q29uZmlybTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7IiwiLyoqIEBtb2R1bGUgV2FybmluZ3MgKi9cblxuLyoqXG4gKiBXYXJuIHdoZW4gZ3JvdXBlZCBuZXVtZSBjb21wb25lbnRzIGZvcm0gYW4gdW5yZWNvZ25pemVkIG5ldW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBpbmdOb3RSZWNvZ25pemVkICgpOiB2b2lkIHtcbiAgaWYgKCEod2luZG93LmNvbmZpcm0oJ05lb24gZG9lcyBub3QgcmVjb2duaXplIHRoaXMgbmV1bWUgZ3JvdXBpbmcuIFdvdWxkIHlvdSBsaWtlIHRvIGNyZWF0ZSBhIGNvbXBvdW5kIG5ldW1lPycpKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvJykuY2xpY2soKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBzZWxlY3RBbGwgfSBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgZ2V0U1ZHUmVsQ29vcmRzIH0gZnJvbSAnLi4vdXRpbHMvQ29vcmRpbmF0ZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIHN0YWZmIGludG8gdHdvIHN0YXZlcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXRTdGFmZkhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IHN0YWZmOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIHN0YWZmIC0gVGhlIHN0YWZmIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHN0YWZmOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnN0YWZmID0gc3RhZmY7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFdoZXJlIHRvIFNwbGl0Jyk7XG4gIH1cblxuICBzcGxpdERpc2FibGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8qKiBIYW5kbGUgaW5wdXQgdG8gc3BsaXQgYSBzdGFmZi4gKi9cbiAgaGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgLy8gRmluZCBzdGFmZiBwb2ludCBjb3JyZXNwb25kcyB0byBpZiBvbmUgZXhpc3RzXG4gICAgLy8gVE9ET1xuICAgIGNvbnN0IGlkID0gdGhpcy5zdGFmZi5pZDtcbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0QWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgeDogY3Vyc29yLnhcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5zdGFmZicpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aWR9YCldLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gICAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXRzIHNwbGl0IG9uIEVzY2FwZSBwcmVzcywgZGlzYWJsZXMgb24gU2hpZnQuICovXG4gIGtleWRvd25MaXN0ZW5lciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdCBzcGxpdCBpZiB1c2VyIGNsaWNrcyBvZmYgb2YgYWN0aXZlIHBhZ2UuICovXG4gIGNsaWNrYXdheUhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIENhbGxlZCB0byByZWFwcGx5IHRoZSBldmVudCBsaXN0ZW5lciBpZiBuZWNlc3NhcnkuICovXG4gIHJlc2V0SGFuZGxlciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG59XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIG5ldW1lIGludG8gdHdvIG5ldW1lcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXROZXVtZUhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IG5ldW1lOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIG5ldW1lIC0gVGhlIG5ldW1lIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIG5ldW1lOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm5ldW1lID0gbmV1bWU7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFRoZSBCZWdpbm5pbmcgb2YgVGhlIFNlY29uZCBOZXVtZScpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgbmV1bWUuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy5uZXVtZS5pZDtcblxuICAgIC8vIHVuc2VsZWN0KCk7XG4gICAgXG4gICAgY29uc3QgbmMgPSAoZXZ0LnRhcmdldCBhcyBTVkdHRWxlbWVudCkucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBuY0lkID0gbmMuaWQ7XG5cbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0TmV1bWVBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdE5ldW1lJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIG5jSWQ6IG5jSWRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIGZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgLy8gdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgLy8gY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5uZXVtZScpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIC8vIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBpZCkgYXMgU1ZHR0VsZW1lbnRdLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAvLyB0cnkge1xuICAgICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAvLyB9IGNhdGNoIChlKSB7fVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHlwZW9mIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZ2xvYmFsLnF1ZXVlTWljcm90YXNrKGZ1bmMpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vYmFzZWQgb2ZmIHJzdnAgaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qc1xuLy9saWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvYmxvYi9tYXN0ZXIvTElDRU5TRVxuLy9odHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL2xpYi9yc3ZwL2FzYXAuanNcblxudmFyIE11dGF0aW9uID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE11dGF0aW9uO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGhhbmRsZSkge1xuICB2YXIgY2FsbGVkID0gMDtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uKGhhbmRsZSk7XG4gIHZhciBlbGVtZW50ID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7XG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBlbGVtZW50LmRhdGEgPSAoY2FsbGVkID0gKytjYWxsZWQgJSAyKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgLy8gd2UgY2FuIG9ubHkgZ2V0IGhlcmUgaW4gSUUxMFxuICAgIC8vIHdoaWNoIGRvZXNuJ3QgaGFuZGVsIHBvc3RNZXNzYWdlIHdlbGxcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuYztcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICdkb2N1bWVudCcgaW4gZ2xvYmFsICYmICdvbnJlYWR5c3RhdGVjaGFuZ2UnIGluIGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgdmFyIHNjcmlwdEVsID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGhhbmRsZSgpO1xuXG4gICAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgc2NyaXB0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRFbCk7XG4gICAgICBzY3JpcHRFbCA9IG51bGw7XG4gICAgfTtcbiAgICBnbG9iYWwuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdEVsKTtcblxuICAgIHJldHVybiBoYW5kbGU7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAodCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQodCwgMCk7XG4gIH07XG59OyIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1cmlsaWIgPSByZXF1aXJlKCd1cmwnKTtcbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbm1vZHVsZS5leHBvcnRzLlNjaGVtYVNjYW5SZXN1bHQgPSBTY2hlbWFTY2FuUmVzdWx0O1xuZnVuY3Rpb24gU2NoZW1hU2NhblJlc3VsdChmb3VuZCwgcmVmKXtcbiAgdGhpcy5pZCA9IGZvdW5kO1xuICB0aGlzLnJlZiA9IHJlZjtcbn1cblxuLyoqXG4gKiBBZGRzIGEgc2NoZW1hIHdpdGggYSBjZXJ0YWluIHVybiB0byB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHN0cmluZyB1cmlcbiAqIEBwYXJhbSBvYmplY3Qgc2NoZW1hXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbm1vZHVsZS5leHBvcnRzLnNjYW4gPSBmdW5jdGlvbiBzY2FuKGJhc2UsIHNjaGVtYSl7XG4gIGZ1bmN0aW9uIHNjYW5TY2hlbWEoYmFzZXVyaSwgc2NoZW1hKXtcbiAgICBpZighc2NoZW1hIHx8IHR5cGVvZiBzY2hlbWEhPSdvYmplY3QnKSByZXR1cm47XG4gICAgLy8gTWFyayBhbGwgcmVmZXJlbmNlZCBzY2hlbWFzIHNvIHdlIGNhbiB0ZWxsIGxhdGVyIHdoaWNoIHNjaGVtYXMgYXJlIHJlZmVycmVkIHRvLCBidXQgbmV2ZXIgZGVmaW5lZFxuICAgIGlmKHNjaGVtYS4kcmVmKXtcbiAgICAgIHZhciByZXNvbHZlZFVyaSA9IHVyaWxpYi5yZXNvbHZlKGJhc2V1cmksIHNjaGVtYS4kcmVmKTtcbiAgICAgIHJlZltyZXNvbHZlZFVyaV0gPSByZWZbcmVzb2x2ZWRVcmldID8gcmVmW3Jlc29sdmVkVXJpXSsxIDogMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGlkID0gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gICAgdmFyIG91ckJhc2UgPSBpZCA/IHVyaWxpYi5yZXNvbHZlKGJhc2V1cmksIGlkKSA6IGJhc2V1cmk7XG4gICAgaWYgKG91ckJhc2UpIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZnJhZ21lbnQsIGFwcGVuZCBhbiBlbXB0eSBvbmVcbiAgICAgIGlmKG91ckJhc2UuaW5kZXhPZignIycpPDApIG91ckJhc2UgKz0gJyMnO1xuICAgICAgaWYoZm91bmRbb3VyQmFzZV0pe1xuICAgICAgICBpZighaGVscGVycy5kZWVwQ29tcGFyZVN0cmljdChmb3VuZFtvdXJCYXNlXSwgc2NoZW1hKSl7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTY2hlbWEgPCcrb3VyQmFzZSsnPiBhbHJlYWR5IGV4aXN0cyB3aXRoIGRpZmZlcmVudCBkZWZpbml0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kW291ckJhc2VdO1xuICAgICAgfVxuICAgICAgZm91bmRbb3VyQmFzZV0gPSBzY2hlbWE7XG4gICAgICAvLyBzdHJpcCB0cmFpbGluZyBmcmFnbWVudFxuICAgICAgaWYob3VyQmFzZVtvdXJCYXNlLmxlbmd0aC0xXT09JyMnKXtcbiAgICAgICAgZm91bmRbb3VyQmFzZS5zdWJzdHJpbmcoMCwgb3VyQmFzZS5sZW5ndGgtMSldID0gc2NoZW1hO1xuICAgICAgfVxuICAgIH1cbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL2l0ZW1zJywgKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKT9zY2hlbWEuaXRlbXM6W3NjaGVtYS5pdGVtc10pKTtcbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL2V4dGVuZHMnLCAoQXJyYXkuaXNBcnJheShzY2hlbWEuZXh0ZW5kcyk/c2NoZW1hLmV4dGVuZHM6W3NjaGVtYS5leHRlbmRzXSkpO1xuICAgIHNjYW5TY2hlbWEob3VyQmFzZSsnL2FkZGl0aW9uYWxJdGVtcycsIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMpO1xuICAgIHNjYW5PYmplY3Qob3VyQmFzZSsnL3Byb3BlcnRpZXMnLCBzY2hlbWEucHJvcGVydGllcyk7XG4gICAgc2NhblNjaGVtYShvdXJCYXNlKycvYWRkaXRpb25hbFByb3BlcnRpZXMnLCBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgIHNjYW5PYmplY3Qob3VyQmFzZSsnL2RlZmluaXRpb25zJywgc2NoZW1hLmRlZmluaXRpb25zKTtcbiAgICBzY2FuT2JqZWN0KG91ckJhc2UrJy9wYXR0ZXJuUHJvcGVydGllcycsIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyk7XG4gICAgc2Nhbk9iamVjdChvdXJCYXNlKycvZGVwZW5kZW5jaWVzJywgc2NoZW1hLmRlcGVuZGVuY2llcyk7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9kaXNhbGxvdycsIHNjaGVtYS5kaXNhbGxvdyk7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9hbGxPZicsIHNjaGVtYS5hbGxPZik7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9hbnlPZicsIHNjaGVtYS5hbnlPZik7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9vbmVPZicsIHNjaGVtYS5vbmVPZik7XG4gICAgc2NhblNjaGVtYShvdXJCYXNlKycvbm90Jywgc2NoZW1hLm5vdCk7XG4gIH1cbiAgZnVuY3Rpb24gc2NhbkFycmF5KGJhc2V1cmksIHNjaGVtYXMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSByZXR1cm47XG4gICAgZm9yKHZhciBpPTA7IGk8c2NoZW1hcy5sZW5ndGg7IGkrKyl7XG4gICAgICBzY2FuU2NoZW1hKGJhc2V1cmkrJy8nK2ksIHNjaGVtYXNbaV0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzY2FuT2JqZWN0KGJhc2V1cmksIHNjaGVtYXMpe1xuICAgIGlmKCFzY2hlbWFzIHx8IHR5cGVvZiBzY2hlbWFzIT0nb2JqZWN0JykgcmV0dXJuO1xuICAgIGZvcih2YXIgcCBpbiBzY2hlbWFzKXtcbiAgICAgIHNjYW5TY2hlbWEoYmFzZXVyaSsnLycrcCwgc2NoZW1hc1twXSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZvdW5kID0ge307XG4gIHZhciByZWYgPSB7fTtcbiAgc2NhblNjaGVtYShiYXNlLCBzY2hlbWEpO1xuICByZXR1cm4gbmV3IFNjaGVtYVNjYW5SZXN1bHQoZm91bmQsIHJlZik7XG59O1xuIiwiLyoqIEBtb2R1bGUgdXRpbHMvU2VsZWN0ICovXG5cbmltcG9ydCB7IHVuc2VsZWN0LCBnZXRTdGFmZkJCb3gsIHNlbGVjdFN0YWZmLCBzZWxlY3RBbGwsIGdldFNlbGVjdGlvblR5cGUgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4vUmVzaXplJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBJbmZvSW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi4vU2luZ2xlVmlldy9ab29tJztcblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQkJveCwgZ2V0U3RhZmZCeUNvb3JkcywgUG9pbnQgfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcblxubGV0IGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlciwgbmVvblZpZXc6IE5lb25WaWV3LCBpbmZvOiBJbmZvSW50ZXJmYWNlLCB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXI7XG5sZXQgc3Ryb2tlV2lkdGggPSA3O1xuXG4vKipcbiAqIFNldCBzdHJva2Ugd2lkdGggb24gZHJhZyBzZWxlY3QgYm94LlxuICogQHBhcmFtIHdpZHRoIC0gU3Ryb2tlIHdpZHRoIGluIHBpeGVscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdFN0cm9rZVdpZHRoICh3aWR0aDogbnVtYmVyKTogdm9pZCB7XG4gIHN0cm9rZVdpZHRoID0gd2lkdGg7XG59XG5cbi8qKlxuICogU2V0IHRoZSBvYmplY3RzIGZvciB0aGlzIG1vZHVsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdEhlbHBlck9iamVjdHMgKG52OiBOZW9uVmlldywgZGg6IERyYWdIYW5kbGVyKTogdm9pZCB7XG4gIGRyYWdIYW5kbGVyID0gZGg7XG4gIG5lb25WaWV3ID0gbnY7XG4gIGluZm8gPSBuZW9uVmlldy5pbmZvO1xuICB6b29tSGFuZGxlciA9IG5lb25WaWV3LnZpZXcuem9vbUhhbmRsZXI7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUtleUxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykubGVuZ3RoID4gMCkge1xuICAgICAgaW5mby5pbmZvTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIHVuc2VsZWN0KCk7XG4gIH1cbn1cblxuLy8gRU5URVIgS0VZOiB3aGVuIGEgQkJveCBpcyBzZWxlY3RlZCwgcHJlc3NpbmcgZW50ZXIgd2lsbFxuLy8gICB0cmlnZ2VyIHRoZSBlZGl0IHN5bGxhYmxlIHRleHQgZnVuY3Rpb24uXG5mdW5jdGlvbiBlbnRlcktleUxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgLy8gY2hlY2sgaWYgJ2VudGVyJyBpcyBwcmVzc2VkIHdpdGggdGhlIGNvcnJlY3QgY29uZGl0aW9uc1xuICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlCQm94J1xuICAgIHx8ICEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZFxuICAgIHx8IGV2dC5rZXkgIT09ICdFbnRlcidcbiAgKVxuICAgIHJldHVybjtcblxuICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuXG4gIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgc3lsbGFibGUgc2VsZWN0ZWRcbiAgaWYgKHNlbGVjdGVkKSB7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uJyArIHNlbGVjdGVkLmlkKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIC8vIHdlIHNpbXVsYXRlIGEgY2xpY2sgYmVjYXVzZSB0aGUgbWV0aG9kIGB1cGRhdGVTeWxUZXh0KClgIGlzIG9ubHlcbiAgICAvLyBhY2Nlc3NpYmxlIGluc2lkZSBUZXh0RWRpdE1vZGU7IHRoZSBzcGFuIGhhcyBhbiBldmVudCBsaXN0ZW5lciBmb3JcbiAgICAvLyBjbGlja3MuXG4gICAgc3Bhbi5jbGljaygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFycm93S2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlCQm94JyB8fCAoZXZ0LmtleSAhPT0gJ0Fycm93TGVmdCcgJiYgZXZ0LmtleSAhPT0gJ0Fycm93UmlnaHQnICYmIGV2dC5rZXkgIT09ICdUYWInICYmIGV2dC5zaGlmdEtleSkpXG4gICAgcmV0dXJuO1xuICBldnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBkZWZhdWx0IGZvciB0YWIga2V5XG4gIFxuICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICBjb25zdCBzeWxsYWJsZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcblxuICAvLyBub3QgYWxsIHN5bGxhYmxlcyBoYXZlIEJCb3hlczsgd2UgbXVzdCBmaWx0ZXIgdGhlbSBvdXRcbiAgY29uc3QgYmJveFN5bGxhYmxlcyA9IHN5bGxhYmxlcy5maWx0ZXIoc3lsID0+IHN5bC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpICE9PSBudWxsKTtcbiAgY29uc3QgaW5kID0gYmJveFN5bGxhYmxlcy5pbmRleE9mKHNlbGVjdGVkKTtcblxuICBpZiAoKGV2dC5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IChldnQua2V5ID09PSAnVGFiJyAmJiBldnQuc2hpZnRLZXkpKSAmJiBpbmQgPiAwKSB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3ggPSBiYm94U3lsbGFibGVzW2luZCAtIDFdLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgc2VsZWN0QWxsKFtiYm94IGFzIFNWR0dyYXBoaWNzRWxlbWVudF0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gIH0gZWxzZSBpZiAoKGV2dC5rZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCAoZXZ0LmtleSA9PT0gJ1RhYicgJiYgIWV2dC5zaGlmdEtleSkpICYmIGluZCA8IGJib3hTeWxsYWJsZXMubGVuZ3RoIC0gMSkge1xuICAgIHVuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBiYm94ID0gYmJveFN5bGxhYmxlc1tpbmQgKyAxXS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIHNlbGVjdEFsbChbYmJveCBhcyBTVkdHcmFwaGljc0VsZW1lbnRdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICB9XG4gIFxuICAvLyBBdXRvIHNjcm9sbCB0byBoaWdobGlnaHRlZCB0ZXh0XG4gIGNvbnN0IHNlbGVjdGVkU3lsVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LXNlbGVjdCcpO1xuICBpZiAoc2VsZWN0ZWRTeWxUZXh0KSB7XG4gICAgc2VsZWN0ZWRTeWxUZXh0LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzU2VsQnlCQm94ICgpOiBib29sZWFuIHtcbiAgY29uc3Qgc2VsQnlCQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpO1xuICBpZiAoc2VsQnlCQm94KSB7XG4gICAgcmV0dXJuIHNlbEJ5QkJveC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc3RvcFByb3BIYW5kbGVyIChldnQ6IEV2ZW50KTogdm9pZCB7IGV2dC5zdG9wUHJvcGFnYXRpb24oKTsgfVxuXG4vKipcbiAqIEdldCBib3VuZGluZyBib3ggb2YgYW4gZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXRCQm94Q29vcmRzIChlbDogU1ZHR3JhcGhpY3NFbGVtZW50KTogQkJveCB7XG4gIGlmIChpc1NlbEJ5QkJveCgpKSB7XG4gICAgY29uc3QgdWx4ID0gTnVtYmVyKGVsLmdldEF0dHJpYnV0ZSgneCcpKSwgdWx5ID0gTnVtYmVyKGVsLmdldEF0dHJpYnV0ZSgneScpKTtcbiAgICAvLyBXaGF0IGlzIHRoZSBtYXRoIGhlcmU/Pz9cbiAgICBjb25zdCBscnggPSB1bHggKyBOdW1iZXIoKGVsLmdldEF0dHJpYnV0ZSgnd2lkdGgnKS5zbGljZSgwLCAtMikpKTtcbiAgICBjb25zdCBscnkgPSB1bHkgKyBOdW1iZXIoKGVsLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jykuc2xpY2UoMCwgLTIpKSk7XG5cbiAgICByZXR1cm4geyB1bHgsIHVseSwgbHJ4LCBscnkgfTtcbiAgfVxuXG4gIGlmIChlbC50YWdOYW1lID09PSAndXNlJykge1xuICAgIGNvbnN0IHJlY3QgPSAoZWwucGFyZW50Tm9kZSBhcyBTVkdHRWxlbWVudCkuZ2V0QkJveCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVseDogcmVjdC54LFxuICAgICAgdWx5OiByZWN0LnksXG4gICAgICBscng6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBnZXRTdGFmZkJCb3goZWwpO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYW4gZWxlbWVudCBpcyB3aXRoaW4gdGhlIGRyYWcgc2VsZWN0aW9uIHJlY3RhbmdsZS5cbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiBgdWxgICh1cHBlciBsZWZ0KSBhbmQgYGxyYCAobG93ZXIgcmlnaHQpXG4gKi9cbmZ1bmN0aW9uIGlzRWxlbWVudEluUmVjdChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCB1bDogUG9pbnQsIGxyOiBQb2ludCk6IGJvb2xlYW4ge1xuICBpZiAoaXNTZWxCeUJCb3goKSB8fCBlbC50YWdOYW1lID09PSAndXNlJykge1xuICAgIGNvbnN0IGJib3ggPSBnZXRCQm94Q29vcmRzKGVsKTtcbiAgICBcbiAgICAvLyBXZSB3YW50IHRvIGZpbmQgd2hldGhlciB0aGUgYm91bmRpbmcgYm94IG92ZXJsYXBzIHdpdGggdGhlIHJlY3RhbmdsZVxuICAgIC8vIGRlZmluZWQgYnkgYHVsYCBhbmQgYGxyYC4gVGhlIGVhc2llc3Qgc29sdXRpb24gaXMgdG8gbmVnYXRlIGEgc3VtLW9mLXByb2R1Y3RzIGVxdWF0aW9uOlxuICAgIC8vIGkuZS4sIHRoZXJlIGFyZSA0IHBvc3NpYmlsaXRpZXMgaW4gd2hpY2ggdGhlIHR3byAqZG9uJ3QqIG92ZXJsYXBcbiAgICByZXR1cm4gIShsci54IDwgYmJveC51bHggfHwgdWwueCA+IGJib3gubHJ4IHx8IGxyLnkgPCBiYm94LnVseSB8fCB1bC55ID4gYmJveC5scnkpO1xuICB9XG5cbiAgLy8gVE9ETzogU2ltcGxpZnlcbiAgY29uc3QgYm94ID0gZ2V0U3RhZmZCQm94KGVsKTtcbiAgcmV0dXJuICEoKHVsLnggPCBib3gudWx4ICYmIGxyLnggPCBib3gudWx4KSB8fCAodWwueCA+IGJveC5scnggJiYgbHIueCA+IGJveC5scngpIHx8XG4gICAgICAgICAgKHVsLnkgPCAoYm94LnVseSArIE1hdGguYWJzKGJveC51bHggLSB1bC54KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSAmJlxuICAgICAgICAgICAgbHIueSA8IChib3gudWx5ICsgTWF0aC5hYnMoYm94LnVseCAtIHVsLngpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpKSB8fFxuICAgICAgICAgICh1bC55ID4gKGJveC5scnkgKyBNYXRoLmFicyhib3gubHJ5IC0gbHIueSkgKiBNYXRoLnRhbihib3gucm90YXRlKSkgJiZcbiAgICAgICAgICAgIGxyLnkgPiAoYm94LmxyeSArIE1hdGguYWJzKGJveC5scnkgLSBsci55KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSkpO1xufVxuXG4vKipcbiAqIEFwcGx5IGxpc3RlbmVycyBmb3IgY2xpY2sgc2VsZWN0aW9uLlxuICogQHBhcmFtIHNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvciB1c2VkIHRvIGNob29zZSB3aGVyZSBsaXN0ZW5lcnMgYXJlIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGlja1NlbGVjdCAoc2VsZWN0b3I6IHN0cmluZyk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKHNlbCA9PiB7XG4gICAgc2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGNsaWNrSGFuZGxlcik7XG4gICAgc2VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGNsaWNrSGFuZGxlcik7XG4gIH0pO1xuXG4gIC8vIENsaWNrIGF3YXkgbGlzdGVuZXJzXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY2FwZUtleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjYXBlS2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVudGVyS2V5TGlzdGVuZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlcktleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhcnJvd0tleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXJyb3dLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGV2dCkgPT4geyBldnQucHJldmVudERlZmF1bHQoKTsgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndXNlLHJlY3QsI21vcmVFZGl0JykuZm9yRWFjaChzZWwgPT4ge1xuICAgIHNlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BQcm9wSGFuZGxlcik7XG4gICAgc2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFByb3BIYW5kbGVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogSGFuZGxlIGNsaWNrIGV2ZW50cyByZWxhdGVkIHRvIGVsZW1lbnQgc2VsZWN0aW9uLlxuICovXG5cbi8vIFRoZSBgdGhpc2Aga2V5d29yZCBjYW4gYmUgXCJwYXNzZWRcIiBhcyBhIGZha2UgcGFyYW1ldGVyIHNvIHRoYXQgd2UgY2FuIHR5cGUgaXQgY29ycmVjdGx5XG4vLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay8yL2Z1bmN0aW9ucy5odG1sI2RlY2xhcmluZy10aGlzLWluLWEtZnVuY3Rpb25cbmZ1bmN0aW9uIGNsaWNrSGFuZGxlciAodGhpczogU1ZHR3JhcGhpY3NFbGVtZW50LCBldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgLy8gUmV0dXJuIGlmIHVzZXIgaXMgaW4gaW5zZXJ0IG1vZGUgb3IgcGFubmluZyBpcyBhY3RpdmUgZnJvbSBzaGlmdCBrZXlcbiAgaWYgKCFuZW9uVmlldyB8fCBuZW9uVmlldy5nZXRVc2VyTW9kZSgpID09PSAnaW5zZXJ0JyB8fCBldnQuc2hpZnRLZXkpXG4gICAgcmV0dXJuO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgY3RybC9jbWQga2V5IGhhcyBiZWVuIHNlbGVjdGVkXG4gIGZ1bmN0aW9uIGlzTXVsdGlTZWxlY3QgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTWFjLykgPyBldnQubWV0YUtleSA6IGV2dC5jdHJsS2V5O1xuICB9XG5cbiAgLy8gSWYgdXNlciBoYXMgY2xpY2tlZCBhIGxheWVyIGVsZW1lbnRcbiAgaWYgKHRoaXMudGFnTmFtZSA9PT0gJ3VzZScgJiYgZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlCQm94Jykge1xuICAgIGlmICh0aGlzLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICBsZXQgc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXSA9IFt0aGlzXTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBwYXJ0IG9mIGEgbGlnYXR1cmUgYW5kLCBpZiBzbywgYWRkIGFsbCBvZiBpdCB0byB0aGUgc2VsZWN0aW9uLlxuICAgICAgY29uc3QgZmlyc3RMaWdhdHVyZUhhbGYgPSAvRTlCWzQ1Njc4XS87XG4gICAgICBjb25zdCBzZWNvbmRMaWdhdHVyZUhhbGYgPSAvRTlCWzlBQkNdLztcbiAgICAgIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKHNlY29uZExpZ2F0dXJlSGFsZikpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgc2Vjb25kIHBhcnQgb2YgYSBsaWdhdHVyZVxuICAgICAgICBjb25zdCBuYyA9IHRoaXMuY2xvc2VzdCgnLm5jJyk7XG4gICAgICAgIGNvbnN0IG5ldW1lID0gdGhpcy5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgY29uc3QgbmNJbmRleCA9IEFycmF5LmZyb20obmV1bWUuY2hpbGRyZW4pLmluZGV4T2YobmMpO1xuICAgICAgICBjb25zdCBmaXJzdFVzZSA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggLSAxXS5jaGlsZHJlblswXSBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGZpcnN0VXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKGZpcnN0TGlnYXR1cmVIYWxmKSwgJ0ZpcnN0IGdseXBoIG9mIGxpZ2F0dXJlIHVuZXhwZWN0ZWQhJyk7XG5cbiAgICAgICAgaWYgKGZpcnN0VXNlLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnVuc2hpZnQoZmlyc3RVc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goZmlyc3RMaWdhdHVyZUhhbGYpKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHBhcnQgb2YgYSBsaWdhdHVyZVxuICAgICAgICBjb25zdCBuYyA9IHRoaXMuY2xvc2VzdCgnLm5jJyk7XG4gICAgICAgIGNvbnN0IG5ldW1lID0gdGhpcy5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgY29uc3QgbmNJbmRleCA9IEFycmF5LmZyb20obmV1bWUuY2hpbGRyZW4pLmluZGV4T2YobmMpO1xuICAgICAgICBjb25zdCBzZWNvbmRVc2UgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4ICsgMV0uY2hpbGRyZW5bMF0gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBjb25zb2xlLmFzc2VydChzZWNvbmRVc2UuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goc2Vjb25kTGlnYXR1cmVIYWxmKSwgJ1NlY29uZCBnbHlwaCBvZiBsaWdhdHVyZSB1bmV4cGVjdGVkIScpO1xuXG4gICAgICAgIGlmIChzZWNvbmRVc2UuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgICAgICBzZWxlY3Rpb24ucHVzaChzZWNvbmRVc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uTW9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWwtYnkgLmlzLWFjdGl2ZScpLmlkO1xuICAgICAgICBjb25zdCBtb2RlVG9DbGFzcyA9IHtcbiAgICAgICAgICBzZWxCeVN0YWZmOiAnLnN0YWZmJyxcbiAgICAgICAgICBzZWxCeU5ldW1lOiAnLm5ldW1lJyxcbiAgICAgICAgICBzZWxCeU5jOiAnLm5jJyxcbiAgICAgICAgICBzZWxCeUxheWVyRWxlbWVudDogJy5hY2NpZCcsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2xhc3MgPSBtb2RlVG9DbGFzc1tzZWxlY3Rpb25Nb2RlXSB8fCAnLnN5bGxhYmxlJztcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW3RoaXMuY2xvc2VzdChzZWxlY3RlZENsYXNzKV07XG5cbiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IFtdO1xuICAgICAgICBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIXJlbW92ZS5pbmNsdWRlcyhlbCkpO1xuXG4gICAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICgoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkudGFnTmFtZSA9PT0gJ3JlY3QnICYmIGdldFNlbGVjdGlvblR5cGUoKSA9PT0gJ3NlbEJ5QkJveCcpIHtcbiAgICBpZiAodGhpcy5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgbGV0IHNlbGVjdGlvbiA9IFtldnQudGFyZ2V0XSBhcyBTVkdHRWxlbWVudFtdO1xuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSkgYXMgU1ZHR0VsZW1lbnRbXSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5tYXAoIChlbCkgPT4ge1xuICAgICAgICAgIGlmIChlbC50YWdOYW1lID09ICdyZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LURpc3BsYXknKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW3RoaXNdO1xuICAgICAgICBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24ubWFwKCAoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PSAncmVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1EaXNwbGF5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKCAoZWwpID0+IHtcbiAgICAgICAgICByZXR1cm4gIXJlbW92ZS5pbmNsdWRlcyhlbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeVN0YWZmJykge1xuICAgICAgaW5mby5pbmZvTGlzdGVuZXJzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHBvaW50IGlzIGluIGEgc3RhZmYuXG4gICAgaWYgKCFpc011bHRpU2VsZWN0KCkpXG4gICAgICB1bnNlbGVjdCgpO1xuXG4gICAgLy8gU2VsZWN0IGEgc3RhZmZcbiAgICBjb25zdCBzdGFmZiA9IGdldFN0YWZmQnlDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBcbiAgICBpZiAoIXN0YWZmKSByZXR1cm47XG5cbiAgICBpZiAoIXN0YWZmLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgLy8gU2VsZWN0IHByZXZpb3VzbHkgdW5zZWxlY3RlZCBzdGFmZlxuICAgICAgc2VsZWN0U3RhZmYoc3RhZmYsIGRyYWdIYW5kbGVyKTtcbiAgICAgIHJlc2l6ZShzdGFmZiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBUcmlnZ2VyIG1vdXNlZG93biBldmVudCBvbiB0aGUgc3RhZmZcbiAgICBzdGFmZi5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24nLCB7XG4gICAgICBzY3JlZW5YOiBldnQuc2NyZWVuWCxcbiAgICAgIHNjcmVlblk6IGV2dC5zY3JlZW5ZLFxuICAgICAgY2xpZW50WDogZXZ0LmNsaWVudFgsXG4gICAgICBjbGllbnRZOiBldnQuY2xpZW50WSxcbiAgICAgIGN0cmxLZXk6IGV2dC5jdHJsS2V5LFxuICAgICAgc2hpZnRLZXk6IGV2dC5zaGlmdEtleSxcbiAgICAgIGFsdEtleTogZXZ0LmFsdEtleSxcbiAgICAgIG1ldGFLZXk6IGV2dC5tZXRhS2V5LFxuICAgICAgdmlldzogZXZ0LnZpZXdcbiAgICB9KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBcHBseSBsaXN0ZW5lcnMgZm9yIGRyYWcgc2VsZWN0aW9uLlxuICogQHBhcmFtIHNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvciB1c2VkIHRvIGNob29zZSB3aGVyZSBsaXN0ZW5lcnMgYXJlIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmFnU2VsZWN0IChzZWxlY3Rvcjogc3RyaW5nKTogdm9pZCB7XG4gIGxldCBpbml0aWFsWCA9IDA7XG4gIGxldCBpbml0aWFsWSA9IDA7XG4gIGxldCBwYW5uaW5nID0gZmFsc2U7XG4gIGxldCBkcmFnU2VsZWN0aW5nID0gZmFsc2U7XG4gIC8vIHZhciBjYW52YXMgPSBkMy5zZWxlY3QoJyNzdmdfZ3JvdXAnKTtcblxuICBjb25zdCBjYW52YXMgPSBkMy5zZWxlY3Qoc2VsZWN0b3IpO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHBvaW50IGlzIGluIHRoZSBib3VuZHMgb2YgYSBzdGFmZiBlbGVtZW50LlxuICAgKiBSb3RhdGUgaXMgbm90IHRha2VuIGludG8gYWNjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIHBvaW50Tm90SW5TdGFmZiAocHQ6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFmZicpKTtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IHN0YXZlcy5maWx0ZXIoKHN0YWZmOiBTVkdHRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgYmJveCA9IGdldFN0YWZmQkJveChzdGFmZik7XG4gICAgICBjb25zdCB1bHggPSBiYm94LnVseDtcbiAgICAgIGNvbnN0IHVseSA9IGJib3gudWx5O1xuICAgICAgY29uc3QgbHJ4ID0gYmJveC5scng7XG4gICAgICBjb25zdCBscnkgPSBiYm94LmxyeTtcbiAgICAgIGNvbnN0IHJvdGF0ZSA9IGJib3gucm90YXRlO1xuXG4gICAgICByZXR1cm4gKHB0WzBdID4gdWx4ICYmIHB0WzBdIDwgbHJ4KSAmJlxuICAgICAgICAocHRbMV0gPiAodWx5ICsgKHB0WzBdIC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAgICAgICAocHRbMV0gPCAobHJ5IC0gKGxyeCAtIHB0WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCk7XG4gIH1cblxuICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5pdGlhbCBkcmFnZ2luZyByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHVseCAtIFRoZSB1cHBlciBsZWZ0IHgtcG9zaXRpb24gb2YgdGhlIG5ldyByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHVseSAtIFRoZSB1cHBlciBsZWZ0IHktcG9zaXRpb24gb2YgdGhlIG5ldyByZWN0YW5nbGUuXG4gICAgICovXG4gIGZ1bmN0aW9uIGluaXRSZWN0ICh1bHg6IG51bWJlciwgdWx5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjYW52YXMuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd4JywgdWx4KVxuICAgICAgLmF0dHIoJ3knLCB1bHkpXG4gICAgICAuYXR0cignd2lkdGgnLCAwKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDApXG4gICAgICAuYXR0cignaWQnLCAnc2VsZWN0UmVjdCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBzdHJva2VXaWR0aClcbiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbFN0YXJ0ICgpOiB2b2lkIHtcbiAgICBpZiAoIW5lb25WaWV3KSByZXR1cm47XG4gICAgY29uc3QgdXNlck1vZGUgPSBuZW9uVmlldy5nZXRVc2VyTW9kZSgpO1xuICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQubm9kZU5hbWUgIT09ICd1c2UnICYmIHVzZXJNb2RlICE9PSAnaW5zZXJ0JyAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQubm9kZU5hbWUgIT09ICdyZWN0Jykge1xuICAgICAgaWYgKCFkMy5ldmVudC5zb3VyY2VFdmVudC5zaGlmdEtleSkgeyAvLyBJZiBub3QgaG9sZGluZyBkb3duIHNoaWZ0IGtleSB0byBwYW5cbiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykgfHxcbiAgICAgICAgICBwb2ludE5vdEluU3RhZmYoZDMubW91c2UodGhpcykpKSB7XG4gICAgICAgICAgdW5zZWxlY3QoKTtcbiAgICAgICAgICBkcmFnU2VsZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBpbml0aWFsUCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgICAgIGluaXRpYWxYID0gaW5pdGlhbFBbMF07XG4gICAgICAgICAgaW5pdGlhbFkgPSBpbml0aWFsUFsxXTtcbiAgICAgICAgICBpbml0UmVjdChpbml0aWFsWCwgaW5pdGlhbFkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB6b29tSGFuZGxlci5zdGFydERyYWcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIHBhbm5pbmcgPSB0cnVlO1xuICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgem9vbUhhbmRsZXIuc3RhcnREcmFnKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBkcmFnZ2luZyByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIG5ld1ggLSBUaGUgbmV3IHVseC5cbiAgICAgKiBAcGFyYW0gbmV3WSAtIFRoZSBuZXcgdWx5LlxuICAgICAqIEBwYXJhbSBjdXJyZW50V2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIGN1cnJlbnRIZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzLlxuICAgICAqL1xuICBmdW5jdGlvbiB1cGRhdGVSZWN0IChuZXdYOiBudW1iZXIsIG5ld1k6IG51bWJlciwgY3VycmVudFdpZHRoOiBudW1iZXIsIGN1cnJlbnRIZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgIGQzLnNlbGVjdCgnI3NlbGVjdFJlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCBuZXdYKVxuICAgICAgLmF0dHIoJ3knLCBuZXdZKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgY3VycmVudFdpZHRoKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGN1cnJlbnRIZWlnaHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudHNCeVNlbGVjdG9yIChzZWxlY3Rvcjogc3RyaW5nKTogU1ZHR3JhcGhpY3NFbGVtZW50W10ge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyB1c2UsICcgKyBzZWxlY3RvciArICcgLnN0YWZmJykpO1xuXG4gICAgaWYgKGlzU2VsQnlCQm94KCkpXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyAuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcblxuICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyAnIHVzZScpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdGluZyAoKTogdm9pZCB7XG4gICAgaWYgKCFwYW5uaW5nICYmIGRyYWdTZWxlY3RpbmcpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQdCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgY29uc3QgY3VyWCA9IGN1cnJlbnRQdFswXTtcbiAgICAgIGNvbnN0IGN1clkgPSBjdXJyZW50UHRbMV07XG5cbiAgICAgIGNvbnN0IG5ld1ggPSBjdXJYIDwgaW5pdGlhbFggPyBjdXJYIDogaW5pdGlhbFg7XG4gICAgICBjb25zdCBuZXdZID0gY3VyWSA8IGluaXRpYWxZID8gY3VyWSA6IGluaXRpYWxZO1xuICAgICAgY29uc3Qgd2lkdGggPSBjdXJYIDwgaW5pdGlhbFggPyBpbml0aWFsWCAtIGN1clggOiBjdXJYIC0gaW5pdGlhbFg7XG4gICAgICBjb25zdCBoZWlnaHQgPSBjdXJZIDwgaW5pdGlhbFkgPyBpbml0aWFsWSAtIGN1clkgOiBjdXJZIC0gaW5pdGlhbFk7XG5cbiAgICAgIHVwZGF0ZVJlY3QobmV3WCwgbmV3WSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfSBlbHNlIGlmIChwYW5uaW5nKSB7XG4gICAgICBpZiAoem9vbUhhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB6b29tSGFuZGxlci5kcmFnZ2luZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbEVuZCAoKTogdm9pZCB7XG4gICAgaWYgKCFwYW5uaW5nICYmIGRyYWdTZWxlY3RpbmcpIHtcbiAgICAgIGNvbnN0IHNlbGVjdFJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0UmVjdCcpO1xuICAgICAgY29uc3QgcnggPSBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgneCcpKTtcbiAgICAgIGNvbnN0IHJ5ID0gcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgICBjb25zdCBseCA9IHJ4ICsgcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpO1xuICAgICAgY29uc3QgbHkgPSByeSArIHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSB0byB0aGUgY29ycmVjdCBjb29yZGluYXRlIHN5c3RlbVxuICAgICAgY29uc3Qgbm9kZSA9IGNhbnZhcy5ub2RlKCkgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICAgIGxldCB1bCA9IG5ldyBET01Qb2ludChyeCwgcnkpLCBsciA9IG5ldyBET01Qb2ludChseCwgbHkpO1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gbm9kZS5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKClcbiAgICAgICAgLm11bHRpcGx5KChjYW52YXMuc2VsZWN0KCcuc3lzdGVtJykubm9kZSgpIGFzIFNWR0dyYXBoaWNzRWxlbWVudCkuZ2V0U2NyZWVuQ1RNKCkpXG4gICAgICAgIC5pbnZlcnNlKCk7XG4gICAgICB1bCA9IHVsLm1hdHJpeFRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuICAgICAgbHIgPSBsci5tYXRyaXhUcmFuc2Zvcm0odHJhbnNmb3JtKTtcblxuICAgICAgLy8gR2V0IGFsbCBlbGVtZW50cyBjb3JyZXNwb25kaW5nIHRvIHRoZSBzZWxlY3RvclxuICAgICAgY29uc3QgZWxlbWVudHMgPSBnZXRFbGVtZW50c0J5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgLy8gR2V0IHRoZSBlbGVtZW50cyB3aXRoaW4gdGhlIHNlbGVjdGlvbiByZWN0YW5nbGVcbiAgICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoZWwgPT4gaXNFbGVtZW50SW5SZWN0KGVsLCB1bCwgbHIpKTtcblxuICAgICAgLy8gR2V0IG90aGVyIGhhbHZlcyBvZiBsaWdhdHVyZXMgaWYgb25seSBvbmUgaXMgc2VsZWN0ZWRcbiAgICAgIHNlbGVjdGVkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudDogU1ZHRWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAndXNlJyAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKC9FOUJbNDU2Nzg5QUJDXS8pKSB7XG4gICAgICAgICAgY29uc3QgbmV1bWUgPSBlbGVtZW50LmNsb3Nlc3QoJy5uZXVtZScpO1xuICAgICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKGVsZW1lbnQuY2xvc2VzdCgnLm5jJykpO1xuICAgICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKC9FOUJbNDU2NzhdLykpIHtcbiAgICAgICAgICAgIC8vIEFkZCBzZWNvbmQgaGFsZiBvZiBsaWdhdHVyZSB0byBzZWxlY3RlZCBsaXN0IGlmIG5vdCBhbHJlYWR5IHByZXNlbnRcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZE5jID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCArIDFdO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kVXNlID0gc2Vjb25kTmMucXVlcnlTZWxlY3RvcigndXNlJyk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKHNlY29uZFVzZSkgPCAwKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChzZWNvbmRVc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBZGQgZmlyc3QgaGFsZiBvZiBsaWdhdHVyZSB0byBzZWxlY3RlZCBsaXN0IGlmIG5vdCBhbHJlYWR5IHByZXNlbnRcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TmMgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4IC0gMV07XG4gICAgICAgICAgICBjb25zdCBmaXJzdFVzZSA9IGZpcnN0TmMucXVlcnlTZWxlY3RvcigndXNlJyk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKGZpcnN0VXNlKSA8IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGZpcnN0VXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2VsZWN0QWxsKHNlbGVjdGVkRWxlbWVudHMsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgICAgZDMuc2VsZWN0QWxsKCcjc2VsZWN0UmVjdCcpLnJlbW92ZSgpO1xuICAgICAgZHJhZ1NlbGVjdGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBwYW5uaW5nID0gZmFsc2U7XG4gIH1cblxuICBkMy5zZWxlY3RBbGwoc2VsZWN0b3IucmVwbGFjZSgnLmFjdGl2ZS1wYWdlJywgJycpLnRyaW0oKSlcbiAgICAub24oJy5kcmFnJywgbnVsbCk7XG4gIGNvbnN0IGRyYWdTZWxlY3RBY3Rpb24gPSBkMy5kcmFnKClcbiAgICAub24oJ3N0YXJ0Jywgc2VsU3RhcnQpXG4gICAgLm9uKCdkcmFnJywgc2VsZWN0aW5nKVxuICAgIC5vbignZW5kJywgc2VsRW5kKTtcbiAgY2FudmFzLmNhbGwoZHJhZ1NlbGVjdEFjdGlvbik7XG4gIGlmIChkcmFnSGFuZGxlcikge1xuICAgIGRyYWdIYW5kbGVyLnJlc2V0VG8oZHJhZ1NlbGVjdEFjdGlvbik7XG4gIH1cbn1cbiIsImltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vcmFuZG9tJztcbmltcG9ydCAqIGFzIHZrYmVhdXRpZnkgZnJvbSAndmtiZWF1dGlmeSc7XG5pbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcblxuZXhwb3J0IGZ1bmN0aW9uIHppcDxUPiAoYXJyYXkxOiBBcnJheTxUPiwgYXJyYXkyOiBBcnJheTxUPik6IEFycmF5PFQ+IHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgKGFycmF5MS5sZW5ndGggPiBhcnJheTIubGVuZ3RoID8gYXJyYXkyLmxlbmd0aCA6IGFycmF5MS5sZW5ndGgpOyBpKyspIHtcbiAgICByZXN1bHQucHVzaChbYXJyYXkxW2ldLCBhcnJheTJbaV1dKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjb3B5QXR0cmlidXRlcyhzcmM6IEVsZW1lbnQsIGRzdDogRWxlbWVudCk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGF0dHIgb2Ygc3JjLmF0dHJpYnV0ZXMpIHtcbiAgICBkc3Quc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb05lb24oc3RhZmZCYXNlZE1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdGFmZkJhc2VkTWVpLCAndGV4dC94bWwnKTtcbiAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgbGV0IG5Db2wgPSAwO1xuXG4gIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NlY3Rpb24nKSkge1xuICAgIGNvbnN0IG5ld1N0YWZmID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3N0YWZmJyk7XG4gICAgY29uc3QgbmV3TGF5ZXIgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLCAnbGF5ZXInKTtcbiAgICBuZXdTdGFmZi5zZXRBdHRyaWJ1dGUoJ24nLCAnMScpO1xuICAgIG5ld0xheWVyLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgbmV3U3RhZmYuYXBwZW5kQ2hpbGQobmV3TGF5ZXIpO1xuXG4gICAgLy8gQWRkIDxwYj5cbiAgICBjb25zdCBzdXJmYWNlID0gbWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdXJmYWNlJylbMF07XG4gICAgY29uc3Qgc3VyZmFjZUlkID0gc3VyZmFjZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgIGNvbnN0IHBiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3BiJyk7XG4gICAgcGIuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgIHBiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjJyArIHN1cmZhY2VJZCk7XG4gICAgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQocGIpO1xuXG4gICAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShzZWN0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdGFmZicpKTtcbiAgICBsZXQgblN0YWZmID0gMDtcbiAgICBsZXQgbGFzdENiOiBFbGVtZW50ID0gbnVsbDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHN0YWZmIG9mIHN0YXZlcykge1xuICAgICAgblN0YWZmICs9IDE7XG4gICAgICBjb25zdCBsYXllciA9IHN0YWZmLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYXllcicpWzBdO1xuXG4gICAgICAvLyBpZiBzdGFmZiBoYXMgYSBuZXcgdHlwZSB2YWx1ZSxcbiAgICAgIC8vIGFkZCBjYiBiZWZvcmUgc2JcbiAgICAgIGlmIChzdGFmZi5oYXNBdHRyaWJ1dGUoJ3R5cGUnKSAmJiBzdGFmZi5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPSAnY29sdW1uJyArIG5Db2wudG9TdHJpbmcoKSkge1xuICAgICAgICBuQ29sICs9IDE7XG4gICAgICAgIGNvbnN0IGNiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ2NiJyk7XG4gICAgICAgIGNiLnNldEF0dHJpYnV0ZSgnbicsIG5Db2wudG9TdHJpbmcoKSk7XG4gICAgICAgIGNiLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgY2Iuc2V0QXR0cmlidXRlKCdmYWNzJywgJyNtLScgKyB1dWlkdjQoKSk7XG4gICAgICAgIG5ld0xheWVyLmFwcGVuZENoaWxkKGNiKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgem9uZSBmb3IgcHJldmlvdXMgY2JcbiAgICAgICAgaWYgKGxhc3RDYikge1xuICAgICAgICAgIGNhbGN1bGF0ZUFuZEFkZFpvbmUobGFzdENiLCBjYiwgc3VyZmFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdENiID0gY2I7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3NiJyk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ24nLCBuU3RhZmYudG9TdHJpbmcoKSk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ2ZhY3MnLCBzdGFmZi5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKSk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsIHN0YWZmLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpO1xuXG4gICAgICAvLyBIYW5kbGUgY3VzdG9zXG4gICAgICBsZXQgY3VzdG9zOiBFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKChuZXdMYXllci5sYXN0RWxlbWVudENoaWxkICE9PSBudWxsKSAmJlxuICAgICAgICAobmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSAnY3VzdG9zJykpIHtcbiAgICAgICAgY3VzdG9zID0gbmV3TGF5ZXIucmVtb3ZlQ2hpbGQobmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXN0b3MgIT09IHVuZGVmaW5lZCkgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQoY3VzdG9zKTtcbiAgICAgIG5ld0xheWVyLmFwcGVuZENoaWxkKHNiKTtcblxuICAgICAgLy8gQWRkIHJlbWFpbmluZyBlbGVtZW50cyBvZiBsYXllciB0byBuZXdMYXllclxuICAgICAgd2hpbGUgKGxheWVyLmZpcnN0RWxlbWVudENoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5ld0xheWVyLmFwcGVuZENoaWxkKGxheWVyLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHN0YWZmLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBhbmQgYWRkIHpvbmUgZm9yIHRoZSBsYXN0IGNiIGluIHRoZSBzZWN0aW9uXG4gICAgaWYgKGxhc3RDYikge1xuICAgICAgY2FsY3VsYXRlQW5kQWRkWm9uZShsYXN0Q2IsIG51bGwsIHN1cmZhY2UpO1xuICAgIH1cbiAgICBzZWN0aW9uLmFwcGVuZENoaWxkKG5ld1N0YWZmKTtcbiAgfVxuXG4gIC8vIEFkZCA8Y29sTGF5b3V0PlxuICBpZiAobkNvbCkge1xuICAgIGNvbnN0IHNjb3JlRGVmID0gbWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY29yZURlZicpWzBdO1xuICAgIGNvbnN0IGNvbExheW91dCA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICdjb2xMYXlvdXQnKTtcbiAgICBjb2xMYXlvdXQuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgIGNvbExheW91dC5zZXRBdHRyaWJ1dGUoJ24nLCBuQ29sLnRvU3RyaW5nKCkpO1xuICAgIHNjb3JlRGVmLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBjb2xMYXlvdXQpO1xuICB9XG5cbiAgcmV0dXJuIHZrYmVhdXRpZnkueG1sKHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcobWVpRG9jKSk7XG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlQW5kQWRkWm9uZShzdGFydEVsZW1lbnQ6IEVsZW1lbnQsIGVuZEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsLCBzdXJmYWNlOiBFbGVtZW50KSB7XG4gICAgLy8gQ29sbGVjdCBlbGVtZW50cyBiZXR3ZWVuIHN0YXJ0Q2IgYW5kIGVuZENiXG4gICAgY29uc3QgZWxlbWVudHNCZXR3ZWVuID0gY29sbGVjdEFsbEVsZW1lbnRzV2l0aEZhY3Moc3RhcnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZywgZW5kRWxlbWVudCk7XG5cbiAgICAvLyBDYWxjdWxhdGUgem9uZSBhdHRyaWJ1dGVzXG4gICAgY29uc3Qgem9uZSA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICd6b25lJyk7XG4gICAgY29uc3QgQkJveCA9IGNhbGN1bGF0ZUJCb3goZWxlbWVudHNCZXR3ZWVuLCBzdXJmYWNlKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgnbHJ4JywgQkJveC5scngudG9TdHJpbmcoKSk7XG4gICAgem9uZS5zZXRBdHRyaWJ1dGUoJ2xyeScsIEJCb3gubHJ5LnRvU3RyaW5nKCkpO1xuICAgIHpvbmUuc2V0QXR0cmlidXRlKCd1bHgnLCBCQm94LnVseC50b1N0cmluZygpKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgndWx5JywgQkJveC51bHkudG9TdHJpbmcoKSk7XG4gICAgem9uZS5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsIHN0YXJ0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKS5zbGljZSgxKSk7XG5cbiAgICAvLyBBZGQgem9uZSB0byB0aGUgYmVnaW5uaW5nIG9mIHN1cmZhY2UgY2hpbGRyZW5cbiAgICBzdXJmYWNlLmluc2VydEJlZm9yZSh6b25lLCBzdXJmYWNlLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKGVsZW1lbnQ6IEVsZW1lbnQsIGVuZEVsZW1lbnQ6IEVsZW1lbnQsIGVsZW1lbnRzQmV0d2VlbiA9IFtdKSB7XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gZW5kRWxlbWVudCkge1xuICAgICAgLy8gUHVzaCBlbGVtZW50cyBvbmx5IGlmIGl0IGhhcyBmYWNzXG4gICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkgZWxlbWVudHNCZXR3ZWVuLnB1c2goZWxlbWVudCk7XG5cbiAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29sbGVjdEFsbEVsZW1lbnRzV2l0aEZhY3MoY2hpbGQsIGVuZEVsZW1lbnQsIGVsZW1lbnRzQmV0d2Vlbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgIGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLCBlbmRFbGVtZW50LCBlbGVtZW50c0JldHdlZW4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50c0JldHdlZW47XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVCQm94KGVsZW1lbnRzOiBFbGVtZW50W10sIHN1cmZhY2U6IEVsZW1lbnQpIHtcbiAgICBsZXQgbHJ4ID0gSW5maW5pdHk7IGxldCBscnkgPSAwOyBsZXQgdWx4ID0gMDsgbGV0IHVseSA9IEluZmluaXR5O1xuXG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3Qgem9uZSA9IEFycmF5LmZyb20oc3VyZmFjZS5jaGlsZHJlbikuZmluZCh6b25lID0+IFxuICAgICAgICB6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdmYWNzJykuc2xpY2UoMSkpO1xuICAgICAgbHJ4ID0gTWF0aC5taW4obHJ4LCBwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgnbHJ4JykpKTtcbiAgICAgIGxyeSA9IE1hdGgubWF4KGxyeSwgcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeScpKSk7XG4gICAgICB1bHggPSBNYXRoLm1heCh1bHgsIHBhcnNlSW50KHpvbmUuZ2V0QXR0cmlidXRlKCd1bHgnKSkpO1xuICAgICAgdWx5ID0gTWF0aC5taW4odWx5LCBwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgndWx5JykpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7IGxyeCwgbHJ5LCB1bHgsIHVseSB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeWxsYWJsZVRleHQgKHN5bGxhYmxlOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgY29uc3Qgc3lsID0gc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N5bCcpWzBdPy5jaGlsZE5vZGVzWzBdO1xuICBsZXQgc3lsVGV4dDogc3RyaW5nO1xuICBpZiAoc3lsKSB7XG4gICAgc3lsVGV4dCA9IHN5bC5ub2RlVmFsdWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgc3lsVGV4dCA9ICfil4onO1xuICB9XG5cbiAgcmV0dXJuIHN5bFRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgem9uZSBpcyBhbGwtemVybyBvciBub3QgbGlua2VkIHdpdGggZ2x5cGhzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludmFsaWRCQm94IChtZWk6IEhUTUxFbGVtZW50LCB6b25lOiBFbGVtZW50KTogW2Jvb2xlYW4sIEVsZW1lbnQ/XSB7XG4gIGNvbnN0IGlzQWxsWmVybyA9IChwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgnbHJ4JykpID09PSAwKSAmJiBcbiAgICAocGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeScpKSA9PT0gMCkgJiZcbiAgICAocGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseCcpKSA9PT0gMCkgJiZcbiAgICAocGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseScpKSA9PT0gMCk7XG4gIGNvbnN0IGVsZW1lbnQgPSBtZWkucXVlcnlTZWxlY3RvcihgKltmYWNzPVwiJHsnIycrem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVwiXWApO1xuICBpZiAoaXNBbGxaZXJvfHwgIWVsZW1lbnQpIHJldHVybiBbdHJ1ZSwgZWxlbWVudF07XG4gIHJldHVybiBbZmFsc2VdO1xufVxuXG5cbi8qKlxuICogQ29udmVydCBzYiB0byBzdGFmZiBmb3IgdmVyb3Zpb1xuICogQWxzbyBkbyBoZXVyaXN0aWMgY2hlY2tzOlxuICogICAgMS4gaW52YWxpZCB6b25lc1xuICogICAgMi4gbmV1bWUgd2l0aG91dCBuZXVtZSBjb21wb25lbnRcbiAqICAgIDMuIHN5bGxhYmxlIHdpdGhvdXQgbmV1bWVcbiAqICAgIDQuIGxpbmtlZCBzeWxsYWJsZXMgbm90IGxpbmtlZFxuICogICAgNS4gaW5jb21wbGV0ZSBsaW5rZWQgc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1Zlcm92aW8oc2JCYXNlZE1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHNiQmFzZWRNZWksICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICBsZXQgaGFzQ29scyA9IGZhbHNlO1xuXG4gIC8vIFJlbW92ZSBhbGwtemVybyB6b25lc1xuICAvLyBSZW1vdmUgem9uZXMgbm90IGxpbmtlZCB3aXRoIGdseXBoc1xuICBjb25zdCBzdXJmYWNlID0gbWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdXJmYWNlJylbMF07XG4gIGxldCBoYXNJbnZhbGlkQkJveCA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IHpvbmUgb2Ygc3VyZmFjZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnem9uZScpKSB7XG4gICAgY29uc3QgW2lzSW52YWxpZCwgZWxlbWVudF0gPSBpc0ludmFsaWRCQm94KG1laSwgem9uZSk7XG4gICAgaWYgKGlzSW52YWxpZCkge1xuICAgICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgIHpvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh6b25lKTtcbiAgICAgIGhhc0ludmFsaWRCQm94ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGhhc0ludmFsaWRCQm94KSB7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGludmFsaWQgem9uZXMgY29udGFpbmVkIGluIHRoaXMgZmlsZScsICd3YXJuaW5nJyk7XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGVyZSBpcyA8Y29sTGF5b3V0PiBlbGVtZW50IGFuZCByZW1vdmUgdGhlbVxuICAvLyBUaGVyZSB3aWxsIG9ubHkgYmUgb25lIDxjb2xMYXlvdXQ+IGVsZW1lbnRcbiAgY29uc3QgY29sTGF5b3V0ID0gbWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb2xMYXlvdXQnKVswXTtcbiAgaWYgKGNvbExheW91dCkge1xuICAgIGhhc0NvbHMgPSB0cnVlO1xuICAgIGNvbExheW91dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbExheW91dCk7XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgPHBiPiBlbGVtZW50cyBhbmQgcmVtb3ZlIHRoZW1cbiAgY29uc3QgcGFnZUJlZ2lucyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYicpKTtcbiAgZm9yIChjb25zdCBwYiBvZiBwYWdlQmVnaW5zKSB7XG4gICAgcGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwYik7XG4gIH1cblxuICAvLyBDaGVjayBzeWxsYWJsZSB3aXRob3V0IG5ldW1lIFxuICBjb25zdCBzeWxsYWJsZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsbGFibGUnKSk7XG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgaWYgKHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduZXVtZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgaWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKGBUaGlzIGZpbGUgY29udGFpbnMgYSBzeWxsYWJsZSB3aXRob3V0IG5ldW1lITxici8+SUQ6ICR7aWR9YCwgJ3dhcm5pbmcnKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBuZXVtZSB3aXRob3V0IG5ldW1lIGNvbXBvbmVudFxuICAgIGNvbnN0IG5ldW1lcyA9IHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduZXVtZScpO1xuICAgIGZvciAoY29uc3QgbmV1bWUgb2YgbmV1bWVzKSB7XG4gICAgICBjb25zdCBuY3MgPSBBcnJheS5mcm9tKG5ldW1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduYycpKTtcbiAgICAgIGlmIChuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGlkID0gbmV1bWUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKGBUaGlzIGZpbGUgY29udGFpbnMgYSBuZXVtZSB3aXRob3V0IG5ldW1lIGNvbXBvbmVudCE8YnIvPklEOiAke2lkfWAsICd3YXJuaW5nJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUbyBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmU6XG4gICAgICAgIC8vIElmIG5jIGhhcyBhIEBjdXJ2ZSB2YWx1ZSwgYWRkIGEgPGxpcXVlc2NlbnQ+IGVsZW1lbnRcbiAgICAgICAgZm9yIChjb25zdCBuYyBvZiBuY3MpIHtcbiAgICAgICAgICBpZiAobmMuaGFzQXR0cmlidXRlKCdjdXJ2ZScpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXEgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLCAnbGlxdWVzY2VudCcpO1xuICAgICAgICAgICAgbGlxLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgICAgIG5jLmFwcGVuZENoaWxkKGxpcSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gR28gc2VjdGlvbiBieSBzZWN0aW9uIGp1c3QgaW4gY2FzZVxuICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgbWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZWN0aW9uJykpIHtcbiAgICAvLyBJbiBjYXNlIHRoZXJlIGFyZSBtdWx0aXBsZSBzdGF2ZXMgaGVyZSB3ZSB3YW50IHRvIHByZXNlcnZlIHRob3NlXG4gICAgLy8gQSBzZXBhcmF0ZSBhcnJheSBpcyBuZWNlc3NhcnkgYXMgdGhlIEhUTUxDb2xsZWN0aW9uIHdpbGwgdXBkYXRlIVxuICAgIGNvbnN0IG9yaWdpbmFsU3RhdmVzID0gQXJyYXkuZnJvbShzZWN0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdGFmZicpKTtcbiAgICBmb3IgKGNvbnN0IHN0YWZmIG9mIG9yaWdpbmFsU3RhdmVzKSB7XG4gICAgICBjb25zdCBsYXllciA9IHN0YWZmLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYXllcicpWzBdO1xuICAgICAgLy8gRmlyc3QgcGFzczogZ2V0IGFsbCBzYiBlbGVtZW50cyBhcyBkaXJlY3QgY2hpbGRyZW4gb2YgbGF5ZXJcbiAgICAgIGNvbnN0IHNiQXJyYXkgPSBBcnJheS5mcm9tKGxheWVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzYicpKTtcbiAgICAgIC8vIENoZWNrIGlmIGFueSBzeWxsYWJsZXMgaGF2ZSBzYiBpbnNpZGUgKGxpbmtlZCBzeWxsYWJsZXMpXG4gICAgICAvLyBLZWVwIHRoaXMgY2hlY2sgZm9yIGZpbGVzIG5vdCBwcm9kdWNlZCBieSBSb2RhblxuICAgICAgZm9yIChjb25zdCBzYiBvZiBzYkFycmF5KSB7XG4gICAgICAgIGlmIChzYi5wYXJlbnRFbGVtZW50LnRhZ05hbWUgIT09ICdsYXllcicpIHtcbiAgICAgICAgICBjb25zdCBvcmlnU3lsbGFibGU6IEVsZW1lbnQgPSBzYi5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIGxldCBuZXVtZUJlaGluZCA9IGZhbHNlLCBuZXVtZUFoZWFkID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgY2hpbGRBcnJheSA9IEFycmF5LmZyb20ob3JpZ1N5bGxhYmxlLmNoaWxkcmVuKTtcbiAgICAgICAgICBjb25zdCBzYkluZGV4ID0gY2hpbGRBcnJheS5pbmRleE9mKHNiKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5ldW1lIG9mIG9yaWdTeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kID0gY2hpbGRBcnJheS5pbmRleE9mKG5ldW1lKTtcbiAgICAgICAgICAgIGlmIChpbmQgPCBzYkluZGV4KSB7XG4gICAgICAgICAgICAgIG5ldW1lQmVoaW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluZCA+IHNiSW5kZXgpIHtcbiAgICAgICAgICAgICAgbmV1bWVBaGVhZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTWFyayBpZiBhIG5ldyBzdGFmZiBiZWdpbnMgYmVmb3JlIHRoZSBjdXJyZW50IHN5bGxhYmxlLCBhZnRlciBpdCwgb3IgaW4gdGhlIG1pZGRsZSBvZiBpdFxuICAgICAgICAgIC8vIElmIGluIHRoZSBtaWRkbGUsIGxpbmsgc3lsbGFibGVzXG4gICAgICAgICAgaWYgKCFuZXVtZUJlaGluZCAmJiBuZXVtZUFoZWFkKSB7XG4gICAgICAgICAgICBvcmlnU3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIHNiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAobmV1bWVCZWhpbmQgJiYgIW5ldW1lQWhlYWQpIHtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgc2IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChuZXVtZUJlaGluZCAmJiBuZXVtZUFoZWFkKXtcbiAgICAgICAgICAgIC8vIFdlIG1heSBuZWVkIHRvIHNwbGl0IHRoZSBzeWxsYWJsZSBoZXJlXG4gICAgICAgICAgICBjb25zdCBuZXdTeWxsYWJsZSA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICdzeWxsYWJsZScpO1xuICAgICAgICAgICAgbmV3U3lsbGFibGUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICAgICAgbmV3U3lsbGFibGUuc2V0QXR0cmlidXRlKCdmb2xsb3dzJywgJyMnICsgb3JpZ1N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpO1xuICAgICAgICAgICAgb3JpZ1N5bGxhYmxlLnNldEF0dHJpYnV0ZSgncHJlY2VkZXMnLCAnIycgKyBuZXdTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpKTtcblxuICAgICAgICAgICAgY29uc3Qgc2JJbmRleCA9IGNoaWxkQXJyYXkuaW5kZXhPZihzYik7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRBcnJheSkge1xuICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGNoaWxkQXJyYXkuaW5kZXhPZihjaGlsZCk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IHNiSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBuZXdTeWxsYWJsZS5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3JpZ1N5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBzYik7XG4gICAgICAgICAgICBzYi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgbmV3U3lsbGFibGUpO1xuXG4gICAgICAgICAgICAvLyBNb3ZlIGFueSBjdXN0b3MgaW4gb3JpZ1N5bGxhYmxlIG91dCBvZiBpdFxuICAgICAgICAgICAgZm9yIChjb25zdCBjdXN0b3Mgb2Ygb3JpZ1N5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjdXN0b3MnKSkge1xuICAgICAgICAgICAgICBvcmlnU3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGN1c3Rvcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1vdmUgYW55IGNsZWYgaW4gbmV3U3lsbGFibGUgb3V0IG9mIGl0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNsZWYgb2YgbmV3U3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NsZWYnKSkge1xuICAgICAgICAgICAgICBuZXdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgY2xlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdOT05FIEJFSElORCBOT05FIEFIRUFEJyk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKG9yaWdTeWxsYWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNicyA9IEFycmF5LmZyb20obGF5ZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NiJykpO1xuICAgICAgY29uc3QgbGF5ZXJDaGlsZHJlbiA9IEFycmF5LmZyb20obGF5ZXIuY2hpbGRyZW4pO1xuICAgICAgbGV0IG5Db2wgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNiID0gc2JzW2ldO1xuICAgICAgICBjb25zdCBuZXh0U2IgPSAoc2JzLmxlbmd0aCA+IGkgKyAxKSA/IHNic1tpICsgMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgbmV3U3RhZmYgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLCAnc3RhZmYnKTtcbiAgICAgICAgY29weUF0dHJpYnV0ZXMoY3VycmVudFNiLCBuZXdTdGFmZik7XG4gICAgICAgIG5ld1N0YWZmLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJZHggPSBsYXllckNoaWxkcmVuLmluZGV4T2YoY3VycmVudFNiKTtcbiAgICAgICAgaWYgKGhhc0NvbHMpIHtcbiAgICAgICAgICBpZiAobGF5ZXJDaGlsZHJlbi5hdChjdXJyZW50SWR4LTEpLnRhZ05hbWUgPT09ICdjYicpIHtcbiAgICAgICAgICAgIG5Db2wgKz0gMTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjYiBlbGVtZW50IGFuZCBpdHMgem9uZVxuICAgICAgICAgICAgY29uc3QgY2IgPSBsYXllckNoaWxkcmVuLmF0KGN1cnJlbnRJZHgtMSk7XG4gICAgICAgICAgICBjb25zdCBjYkZhY3MgPSBjYi5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKTtcbiAgICAgICAgICAgIGNvbnN0IGNiWm9uZSA9IEFycmF5LmZyb20oc3VyZmFjZS5xdWVyeVNlbGVjdG9yQWxsKCd6b25lJykpXG4gICAgICAgICAgICAgIC5maW5kKHpvbmUgPT4gem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBjYkZhY3Muc2xpY2UoMSkpO1xuICAgICAgICAgICAgY2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYik7XG4gICAgICAgICAgICBjYlpvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYlpvbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdTdGFmZi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY29sdW1uJyArIG5Db2wudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld0xheWVyID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ2xheWVyJyk7XG4gICAgICAgIG5ld0xheWVyLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgICAgIG5ld0xheWVyLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgbmV3U3RhZmYuYXBwZW5kQ2hpbGQobmV3TGF5ZXIpO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBBcnJheS5mcm9tKGxheWVyLmNoaWxkcmVuKTtcbiAgICAgICAgY29uc3QgY29weUFycmF5ID0gY2hpbGRyZW5BcnJheS5zbGljZShjaGlsZHJlbkFycmF5LmluZGV4T2YoY3VycmVudFNiKSArIDEsIGNoaWxkcmVuQXJyYXkuaW5kZXhPZihuZXh0U2IpKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNvcHlBcnJheSkge1xuICAgICAgICAgIG5ld0xheWVyLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgem9uZXMgZm9yIHRoZSBsYXN0IGVsZW1lbnQgaW4gdGhlIG9yaWdpbmFsIGZpbGVcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgbGFzdCBlbGVtZW50IGlzIG5vdCBpbmNsdWRlZFxuICAgICAgICBpZiAoIW5leHRTYikge1xuICAgICAgICAgIGNvbnN0IGxhc3RFbGVtZW50ID0gY2hpbGRyZW5BcnJheS5hdCgtMSk7XG4gICAgICAgICAgY29uc3QgZmFjc0NoaWxkcmVuID0gY29sbGVjdEZhY3NDaGlsZHJlbihsYXN0RWxlbWVudCwgW10pO1xuICAgICAgICAgIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShzdXJmYWNlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3pvbmUnKSk7XG4gICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmYWNzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHpvbmUgPSB6b25lcy5maW5kKHogPT4gei5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09IGNoaWxkLmdldEF0dHJpYnV0ZSgnZmFjcycpLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIGlmICh6b25lKSB7XG4gICAgICAgICAgICAgIHpvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdTdGFmZiwgc3RhZmYpO1xuICAgICAgfVxuICAgICAgc3RhZmYucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2Vjb25kIHBhc3Mgb24gYWxsIHN5bGxhYmxlcyB0byBoYW5kbGUgY2xlZnMgYW5kIGN1c3RvcyB0aGF0IG1pZ2h0IHJlbWFpblxuICBjb25zdCBuZXdTeWxsYWJsZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsbGFibGUnKSk7XG5cbiAgZm9yIChjb25zdCBzeWxsYWJsZSBvZiBtZWkucXVlcnlTZWxlY3RvckFsbCgnc3lsbGFibGUnKSkge1xuICAgIGZvciAoY29uc3QgY2xlZiBvZiBzeWxsYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCdjbGVmJykpIHtcbiAgICAgIHN5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBjbGVmKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjdXN0b3Mgb2Ygc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnY3VzdG9zJykpIHtcbiAgICAgIHN5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBjdXN0b3MpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGluY29tcGxldGUgb2JsaXF1ZXNcbiAgICAvLyBPYmxpcXVlcyBhbHdheXMgY29tZSBhcyBhIHBhaXJcbiAgICBjaGVja09ibGlxdWUoc3lsbGFibGUpO1xuXG4gICAgLy8gQ2hlY2sgc3lsbGFibGVzIHRoYXQgY29udGFpbnMgQHByZWNlZGVzIG9yIEBmb2xsb3dzXG4gICAgLy8gVXBkYXRlIHN5bGxhYmxlIGFycmF5cyBmb3IgZWFjaCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bGxhYmxlSWR4ID0gbmV3U3lsbGFibGVzLmluZGV4T2Yoc3lsbGFibGUpO1xuXG4gICAgLy8gVmFsaWRhdGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykgJiYgc3lsbGFibGUuaGFzQXR0cmlidXRlKCdmb2xsb3dzJykpIHtcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBzeWxsYWJsZSBoYXMgYm90aCBAcHJlY2VkZXMgYW5kIEBmb2xsb3dzXG4gICAgICBjb25zdCBzeWxJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYFRoaXMgZmlsZSBjb250YWlucyBhIHN5bGxhYmxlIHRoYXQgaGFzIGJvdGggQHByZWNlZGVzIGFuZCBAZm9sbG93cyE8YnIvPklEOiAke3N5bElkfWAsICdlcnJvcicpO1xuICAgIH1cbiAgICAvLyBDaGVjayB0aGUgcHJlY2VkZXMgc3lsbGFibGVcbiAgICBlbHNlIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykpIHtcbiAgICAgIGNoZWNrUHJlY2VkZXNTeWxsYWJsZShzeWxsYWJsZSwgc3lsbGFibGVJZHgsIG5ld1N5bGxhYmxlcyk7XG4gICAgfVxuICAgIC8vIENoZWNrIHRoZSBmb2xsb3dzIHN5bGxhYmxlXG4gICAgZWxzZSBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdmb2xsb3dzJykpIHtcbiAgICAgIGNoZWNrRm9sbG93c1N5bGxhYmxlKHN5bGxhYmxlLCBuZXdTeWxsYWJsZXMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNlcmlhbGl6ZXIgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xuICByZXR1cm4gdmtiZWF1dGlmeS54bWwoc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtZWlEb2MpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrT3V0T2ZCb3VuZHNHbHlwaHMgKG1laVN0cmluZzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gIC8vIENoZWNrIGZvciBvdXQtb2YtYm91bmQgZ2x5cGhzXG4gIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKTtcbiAgY29uc3QgZGltZW5zaW9ucyA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gIGNvbnN0IG1laUxyeCA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ4JykpLCBtZWlMcnkgPSBOdW1iZXIoZGltZW5zaW9ucy5nZXRBdHRyaWJ1dGUoJ2xyeScpKTtcblxuICBmdW5jdGlvbiBpc0F0dHJPdXRPZkJvdW5kcyh6b25lOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBjb29yZCA9IE51bWJlcih6b25lLmdldEF0dHJpYnV0ZShhdHRyKSk7XG4gICAgY29uc3QgY29tcCA9IChhdHRyID09ICdscngnIHx8IGF0dHIgPT0gJ3VseCcpID8gbWVpTHJ4IDogbWVpTHJ5O1xuICAgIHJldHVybiBjb29yZCA8IDAgfHwgY29vcmQgPiBjb21wO1xuICB9XG5cbiAgLy8gaXNPdXRPZkJvdW5kcyA9IHdoZXRoZXIgdGhlcmUgZXhpc3RzIGF0IGxlYXN0IG9uZSBmYWNzaW1pbGUgdGhhdCBpcyBvdXQgb2YgYm91bmRzXG4gIGNvbnN0IGlzT3V0T2ZCb3VuZHMgPSB6b25lcy5zb21lKCh6b25lKSA9PiBcbiAgICBbJ3VseCcsICd1bHknLCAnbHJ4JywgJ2xyeSddLnNvbWUoKGF0dHIpID0+IGlzQXR0ck91dE9mQm91bmRzKHpvbmUsIGF0dHIpKVxuICApO1xuXG4gIGlmIChpc091dE9mQm91bmRzKVxuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhpcyBmb2xpbyBjb250YWlucyBnbHlwaChzKSBwbGFjZWQgb3V0LW9mLWJvdW5kcyEnLCAnd2FybmluZycpO1xufVxuXG5mdW5jdGlvbiBjaGVja1ByZWNlZGVzU3lsbGFibGUgKHN5bGxhYmxlOiBFbGVtZW50LCBpZHg6IG51bWJlciwgc3lsbGFibGVzOiBFbGVtZW50W10pOiB2b2lkIHtcbiAgLy8gR2V0IHhtbDppZCBvZiB0aGUgbmV4dCBzeWxsYWJsZSAod2l0aG91dCB0aGUgIywgaWYgaXQgZXhpc3RzKVxuICBjb25zdCBuZXh0U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKS5yZXBsYWNlKCcjJywgJycpO1xuXG4gIC8vIEZpbmQgdGhlIG5leHQgc3lsbGFibGUgYW5kIGl0cyBpbmRleCBpbiB0aGUgYXJyYXlcbiAgbGV0IG5leHRTeWxsYWJsZUlkeDogbnVtYmVyO1xuICBjb25zdCBuZXh0U3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gbmV4dFN5bGxhYmxlSWQpIHtcbiAgICAgIG5leHRTeWxsYWJsZUlkeCA9IGlkeDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgLy8gQ29uZGl0aW9uIDE6IFRoZSBuZXh0IChmb2xsb3dpbmcpIHN5bGxhYmxlIGNhbm5vdCBiZSBmb3VuZFxuICBpZiAoIW5leHRTeWxsYWJsZSkge1xuICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgIGNvbnN0IHN5bElkID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYE1pc3NpbmcgdGhlIDJuZCBwYXJ0IG9mIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlICgke3N5bFRleHR9KTxici8+SUQ6ICR7c3lsSWR9YCwgJ2Vycm9yJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ29uZGl0aW9uIDI6IFRoZSBuZXh0IHN5bGxhYmxlIGhhcyBiZWVuIGZvdW5kLCBidXQgdGhlIEBmb2xsb3dzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICBpZiAoIW5leHRTeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgIGNvbnN0IHN5bElkID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYFRoZSAybmQgcGFydCBvZiB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZSAoJHtzeWxUZXh0fSkgZG9lcyBub3QgbGluayB0byBhbnkgc3lsbGFibGU8YnIvPklEOiAke3N5bElkfWAsICdlcnJvcicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAzOiBUaGUgbmV4dCBzeWxsYWJsZSdzIEBmb2xsb3dzIGF0dHJpYnV0ZSBleGlzdHMsIGJ1dCBpdCBpcyBub3QgaW4gdGhlIGNvcnJlY3QgZm9ybWF0ICNpZFxuICBpZiAobmV4dFN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpICE9ICcjJyArIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpIHtcbiAgICBjb25zdCBzeWxUZXh0ID0gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKTtcbiAgICBjb25zdCBzeWxJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKGBUaGUgMm5kIHBhcnQgb2YgdGhlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUgKCR7c3lsVGV4dH0pIGxpbmtzIHRvIHRoZSB3cm9uZyBzeWxsYWJsZTxici8+SUQ6ICR7c3lsSWR9YCwgJ2Vycm9yJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ29uZGl0aW9uIDQ6XG4gIC8vIFNpbmNlIHRoZSBAZm9sbG93cyB2YWx1ZSBpcyBjb3JyZWN0LCBhIHBhaXIgb2Ygc3lsbGFibGVzIGV4aXN0IGZvciB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZS5cbiAgLy8gQ2hlY2sgaWYgdGhlIEBmb2xsb3dzIHN5bGxhYmxlIGlzIHRoZSBuZXh0IHN5bGxhYmxlIChpbmRleC13aXNlKSBpbiB0aGUgYXJyYXk6XG4gIGlmIChuZXh0U3lsbGFibGVJZHggIT09IGlkeCArIDEpIHtcbiAgICBjb25zdCBzeWxUZXh0ID0gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKTtcbiAgICBjb25zdCB1bmV4cGVjdGVkU3lsc1RleHQgPSBzeWxsYWJsZXNcbiAgICAgIC5zbGljZShpZHggKyAxLCBuZXh0U3lsbGFibGVJZHgpXG4gICAgICAubWFwKChzeWxsYWJsZSkgPT4gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKSk7XG5cbiAgICBjb25zdCBzeWxzVGV4dCA9IFtzeWxUZXh0LCAuLi51bmV4cGVjdGVkU3lsc1RleHRdLmpvaW4oJyAtICcpO1xuICAgIGNvbnN0IHN5bElkID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYFVuZXhwZWN0ZWQgc3lsbGFibGUocykgaW5zaWRlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGU6ICR7c3lsc1RleHR9PGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb2xsb3dzU3lsbGFibGUgKHN5bGxhYmxlOiBFbGVtZW50LCBzeWxsYWJsZXM6IEVsZW1lbnRbXSk6IHZvaWQge1xuICBjb25zdCBwcmV2U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnJlcGxhY2UoJyMnLCAnJyk7XG4gIGNvbnN0IHByZXZTeWxsYWJsZSA9IHN5bGxhYmxlcy5maW5kKChzeWxsYWJsZSkgPT4gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gcHJldlN5bGxhYmxlSWQpO1xuXG4gIC8vIENvbmRpdGlvbiAxOiBUaGUgcHJldmlvdXMgc3lsbGFibGUgZG9lcyBub3QgZXhpc3RcbiAgaWYgKCFwcmV2U3lsbGFibGUpIHtcbiAgICBjb25zdCBzeWxUZXh0ID0gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKTtcbiAgICBjb25zdCBzeWxJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKGBNaXNzaW5nIHRoZSAxc3QgcGFydCBvZiB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZSAoJHtzeWxUZXh0fSk8YnIvPklEOiAke3N5bElkfWAsICdlcnJvcicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAyOiBUaGUgcHJldmlvdXMgc3lsbGFibGUgZXhpc3RzLCBidXQgdGhlIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgaWYgKCFwcmV2U3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgY29uc3Qgc3lsVGV4dCA9IGdldFN5bGxhYmxlVGV4dChwcmV2U3lsbGFibGUpO1xuICAgIGNvbnN0IHN5bElkID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYFRoZSAxc3QgcGFydCBvZiB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZSAoJHtzeWxUZXh0fSkgZG9lcyBub3QgbGluayB0byBhbnkgc3lsbGFibGU8YnIvPklEOiAke3N5bElkfWAsICdlcnJvcicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAzOiBUaGUgcHJldmlvdXMgc3lsbGFibGUncyBAcHJlY2VkZXMgYXR0cmlidXRlIGV4aXN0cywgYnV0IGl0IGlzIG5vdCBpbiB0aGUgY29ycmVjdCBmb3JtYXQgI2lkXG4gIGlmIChwcmV2U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdwcmVjZWRlcycpICE9ICcjJyArIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpIHtcbiAgICBjb25zdCBzeWxUZXh0ID0gZ2V0U3lsbGFibGVUZXh0KHByZXZTeWxsYWJsZSk7XG4gICAgY29uc3Qgc3lsSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihgVGhlIDFzdCBwYXJ0IG9mIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlICgke3N5bFRleHR9KSBsaW5rcyB0byB0aGUgd3Jvbmcgc3lsbGFibGU8YnIvPklEOiAke3N5bElkfWAsICdlcnJvcicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrT2JsaXF1ZSAoc3lsbGFibGU6IEVsZW1lbnQpOiB2b2lkIHtcbiAgY29uc3QgbmNzID0gc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnbmMnKTtcbiAgbGV0IG5jSWR4ID0gMDtcbiAgd2hpbGUgKG5jSWR4IDwgbmNzLmxlbmd0aCkge1xuICAgIGlmIChuY3NbbmNJZHhdLmdldEF0dHJpYnV0ZSgnbGlnYXRlZCcpKSB7XG4gICAgICBpZiAoKG5jSWR4IDwgbmNzLmxlbmd0aC0xICYmICFuY3NbbmNJZHgrMV0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHx8IChuY0lkeCA9PSBuY3MubGVuZ3RoLTEpKSB7XG4gICAgICAgIC8vIElmIG5jIGlzIGxpZ2F0ZWQsIGFuZCB0aGUgbmV4dCBuYyBpcyBub3RcbiAgICAgICAgLy8gT3IsIG5jIGlzIGxpZ2F0ZWQsIGJ1dCBhbHJlYWR5IGF0IHRoZSBlbmQgKHRoZXJlIGlzIG5vIG5leHQpXG4gICAgICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgICAgICBjb25zdCBzeWxJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihgVGhlIG9ibGlxdWUgaW4gc3lsbGFibGUgKCR7c3lsVGV4dH0pIGlzIGluY29tcGxldGUhPGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIG5jSWR4ICs9IDI7XG4gICAgfVxuICAgIG5jSWR4ICs9IDE7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbHVtbkxhYmVsKG1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laSwgJ3RleHQveG1sJyk7XG4gIGNvbnN0IG1laUZvclZhbGlkYXRpb24gPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gIGZvciAoY29uc3Qgc3RhZmYgb2YgQXJyYXkuZnJvbShtZWlGb3JWYWxpZGF0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdGFmZicpKSkge1xuICAgIGlmIChzdGFmZi5oYXNBdHRyaWJ1dGUoJ3R5cGUnKSkge1xuICAgICAgc3RhZmYucmVtb3ZlQXR0cmlidXRlKCd0eXBlJyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gIHJldHVybiB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laUZvclZhbGlkYXRpb24pKTtcbn1cblxuZnVuY3Rpb24gY29sbGVjdEZhY3NDaGlsZHJlbihlbGVtZW50OiBFbGVtZW50LCBhcnJheTogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgaWYgKGNoaWxkLmhhc0F0dHJpYnV0ZSgnZmFjcycpKSB7XG4gICAgICBhcnJheS5wdXNoKGNoaWxkKTtcbiAgICB9XG5cbiAgICAvLyBSZWN1cnNpdmVseSBjYWxsIHRoZSBmdW5jdGlvbiBmb3IgY2hpbGQncyBjaGlsZHJlblxuICAgIGNvbGxlY3RGYWNzQ2hpbGRyZW4oY2hpbGQsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59ICIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuXG5jb25zdCBzY2hlbWFSZXNwb25zZSA9IGZldGNoKF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL21laS1hbGwucm5nJyk7XG5sZXQgd29ya2VyOiBXb3JrZXIsIHNjaGVtYTogc3RyaW5nLCB2ZXJzaW9uRmllbGQ6IEhUTUxTcGFuRWxlbWVudCwgc3RhdHVzRmllbGQ6IEhUTUxTcGFuRWxlbWVudDtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIFVJIHdpdGggdGhlIHZhbGlkYXRpb24gcmVzdWx0cy4gQ2FsbGVkIHdoZW4gdGhlIFdlYldvcmtlciBmaW5pc2hlcyB2YWxpZGF0aW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdGF0dXNVSSAobWVzc2FnZTogeyBkYXRhOiBzdHJpbmdbXSB9KTogdm9pZCB7XG4gIGNvbnN0IGVycm9ycyA9IG1lc3NhZ2UuZGF0YTtcbiAgaWYgKGVycm9ycyA9PT0gbnVsbCkge1xuICAgIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ1ZBTElEJztcbiAgICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICcjNGJjMTRiJztcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YXR1c0ZpZWxkLmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGxvZyA9ICcnO1xuICAgIGVycm9ycy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgbG9nICs9IGxpbmUgKyAnXFxuJztcbiAgICB9KTtcbiAgICBzdGF0dXNGaWVsZC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IGRpdiBmb3IgZWFzaWVyIGxvZyBpbXBsZW1lbnRhdGlvblxuICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQobG9nKX1gKTtcbiAgICAvL2xpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd2YWxpZGF0aW9uLmxvZycpO1xuICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdJTlZBTElEJztcbiAgICBzdGF0dXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIHN0YXR1c0ZpZWxkLmFwcGVuZENoaWxkKHN0YXR1cyk7XG5cbiAgICBzdGF0dXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGF0dXNPbkNsaWNrLmJpbmQodGhpcywgbG9nKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlVmVyc2lvblVJICh2ZXJzaW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgcmV0dXJuO1xuICB9IFxuXG4gIHN3aXRjaCAodmVyc2lvbikge1xuICAgIGNhc2UgJ3Vua25vd24nOlxuICAgICAgdmVyc2lvbkZpZWxkLnRleHRDb250ZW50ID0gdmVyc2lvbjtcbiAgICAgIHZlcnNpb25GaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9IHZlcnNpb247XG4gICAgICB2ZXJzaW9uRmllbGQuc3R5bGUuY29sb3IgPSAnIzY4QTdBRCc7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhdHVzT25DbGljayhsb2c6IHN0cmluZykge1xuICB0aGlzLm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuVkFMSURBVElPTl9TVEFUVVMsIGxvZyk7XG4gIHRoaXMubW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG59XG5cbi8qKlxuICogQWRkIHRoZSB2YWxpZGF0aW9uIGluZm9ybWF0aW9uIHRvIHRoZSBkaXNwbGF5IGFuZCBjcmVhdGUgdGhlIFdlYldvcmtlclxuICogZm9yIHZhbGlkYXRpb24gTUVJLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdCAobmVvblZpZXc6IE5lb25WaWV3KTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGZpbGVTdGF0dXNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZS1zdGF0dXMnKTtcbiAgaWYgKGZpbGVTdGF0dXNEaXYgIT09IG51bGwpIHtcbiAgICBjb25zdCBtZWlWZXJzaW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVpVmVyc2lvbkRpdi5pZCA9ICdtZWlfdmVyc2lvbl9jb250YWluZXInO1xuICAgIGNvbnN0IG1laVZlcnNpb25UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBtZWlWZXJzaW9uVGl0bGUuY2xhc3NMaXN0LmFkZCgnZmlsZV9zdGF0dXNfdGl0bGUnKTtcbiAgICBtZWlWZXJzaW9uVGl0bGUudGV4dENvbnRlbnQgPSAnTUVJIFZlcnNpb246ICc7XG4gICAgY29uc3QgdmVyc2lvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB2ZXJzaW9uLmlkID0gJ21laV92ZXJzaW9uJztcbiAgICB2ZXJzaW9uLnRleHRDb250ZW50ID0gJ3Vua25vd24nO1xuICAgIG1laVZlcnNpb25EaXYuYXBwZW5kQ2hpbGQobWVpVmVyc2lvblRpdGxlKTtcbiAgICBtZWlWZXJzaW9uRGl2LmFwcGVuZENoaWxkKHZlcnNpb24pO1xuICAgIGZpbGVTdGF0dXNEaXYuYXBwZW5kQ2hpbGQobWVpVmVyc2lvbkRpdik7XG4gICAgdmVyc2lvbkZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21laV92ZXJzaW9uJyk7XG5cbiAgICBjb25zdCBtZWlTdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtZWlTdGF0dXNEaXYuaWQgPSAndmFsaWRhdGlvbl9zdGF0dXNfY29udGFpbmVyJztcbiAgICBjb25zdCBtZWlTdGF0dXNUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBtZWlTdGF0dXNUaXRsZS5jbGFzc0xpc3QuYWRkKCdmaWxlX3N0YXR1c190aXRsZScpO1xuICAgIG1laVN0YXR1c1RpdGxlLnRleHRDb250ZW50ID0gJ01FSSBTdGF0dXM6ICc7XG4gICAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHN0YXR1cy5pZCA9ICd2YWxpZGF0aW9uX3N0YXR1cyc7XG4gICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ3Vua25vd24nO1xuICAgIG1laVN0YXR1c0Rpdi5hcHBlbmRDaGlsZChtZWlTdGF0dXNUaXRsZSk7XG4gICAgbWVpU3RhdHVzRGl2LmFwcGVuZENoaWxkKHN0YXR1cyk7XG4gICAgZmlsZVN0YXR1c0Rpdi5hcHBlbmRDaGlsZChtZWlTdGF0dXNEaXYpO1xuICAgIHN0YXR1c0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhbGlkYXRpb25fc3RhdHVzJyk7XG4gICAgd29ya2VyID0gbmV3IFdvcmtlcihfX0FTU0VUX1BSRUZJWF9fICsgJ3dvcmtlcnMvV29ya2VyLmpzJyk7XG4gICAgd29ya2VyLm9ubWVzc2FnZSA9IHVwZGF0ZVN0YXR1c1VJLmJpbmQobmVvblZpZXcpO1xuICB9XG59XG5cbi8qKlxuICogU2VuZCB0aGUgY29udGVudHMgb2YgYW4gTUVJIGZpbGUgdG8gdGhlIFdlYldvcmtlciBmb3IgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZWlEYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRm9yVmFsaWRhdGlvbiAobWVpRGF0YTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChzdGF0dXNGaWVsZCA9PT0gdW5kZWZpbmVkIHx8IHZlcnNpb25GaWVsZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzY2hlbWEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2NoZW1hUmVzcG9uc2U7XG4gICAgc2NoZW1hID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICB9XG4gIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ2NoZWNraW5nLi4uJztcbiAgc3RhdHVzRmllbGQuc3R5bGUuY29sb3IgPSAnZ3JheSc7XG4gIHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgbWVpOiBtZWlEYXRhLFxuICAgIHNjaGVtYTogc2NoZW1hXG4gIH0pO1xuXG4gIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9ICdjaGVja2luZy4uLic7XG4gIHZlcnNpb25GaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgY29uc3QgbWVpVmVyc2lvbiA9IGF3YWl0IGdldE1laVZlcnNpb24obWVpRGF0YSk7XG4gIHVwZGF0ZVZlcnNpb25VSShtZWlWZXJzaW9uKTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIG1lc3NhZ2Ugb24gYSBibGFuayBwYWdlIHdoZW4gdGhlcmUgaXMgbm8gTUVJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmxhbmtQYWdlICgpOiB2b2lkIHtcbiAgaWYgKHN0YXR1c0ZpZWxkID09PSB1bmRlZmluZWQgfHwgdmVyc2lvbkZpZWxkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygc3RhdHVzRmllbGQuY2hpbGRyZW4pIHtcbiAgICBjaGlsZC5yZW1vdmUoKTtcbiAgfVxuICBzdGF0dXNGaWVsZC50ZXh0Q29udGVudCA9ICdObyBNRUknO1xuICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICdjb2xvcjpncmF5JztcblxuICB2ZXJzaW9uRmllbGQudGV4dENvbnRlbnQgPSAnTm8gTUVJJztcbiAgdmVyc2lvbkZpZWxkLnN0eWxlLmNvbG9yID0gJ2NvbG9yOmdyYXknO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZWlWZXJzaW9uKG1laURhdGE6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlEYXRhLCAndGV4dC94bWwnKTtcbiAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgXG4gIGNvbnN0IG1laVZlcnNpb24gPSBtZWkuZ2V0QXR0cmlidXRlKCdtZWl2ZXJzaW9uJyk7XG4gIGlmIChtZWlWZXJzaW9uKSB7XG4gICAgcmV0dXJuIG1laVZlcnNpb247XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICd1bmtub3duJztcbiAgfVxufSIsIlxuLy8gSW5pdGlhbCBzYXZlZCBzdGF0dXNcbmxldCBzYXZlZCA9IHRydWU7XG5cblxuLyoqXG4gKiBVcGRhdGUgc3RhdHVzIG9mIHNhdmVkIHN0YXR1cyBpbmRpY2F0b3JcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSW5kaWNhdG9yICgpOiB2b2lkIHtcbiAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJyNmaWxlLXNhdmVkJyk7XG4gIGNvbnN0IHBhdGggPSBzYXZlZD8gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NhdmVkLWljb24uc3ZnYCA6IGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy91bnNhdmVkLWljb24uc3ZnYDtcbiAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnc3JjJywgcGF0aCk7XG4gIC8vIHNldCB0aGUgYWx0IGF0dHJpYnV0ZSBtZXNzYWdlIGRlcGVuZGluZyBvbiB3aGV0aGVyIGxhdGVzdCBjaGFuZ2VzIGFyZSBzYXZlIG9yIG5vdFxuICBjb25zdCBhbHRNZXNzYWdlID0gc2F2ZWQ/IFwiWW91ciB3b3JrIGlzIHNhdmVkXCIgOiBcIllvdSBoYXZlIHVuc2F2ZWQgd29ya1wiO1xuICBpbmRpY2F0b3Iuc2V0QXR0cmlidXRlKCdhbHQnLCBhbHRNZXNzYWdlKTtcbn1cblxuXG4vKipcbiAqIFNldCB0aGUgc2F2ZWQgc3RhdHVzIG9mIHRoZSBmb2xpb1xuICogXG4gKiBAcGFyYW0gc3RhdHVzIGJvb2xlYW4gdmFsdWUuIHRydWUgaWYgc3RhdHVzIGlzIFwic2F2ZWRcIiwgZmFsc2UgaWYgXCJub3Qgc2F2ZWRcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2F2ZWRTdGF0dXMgKHN0YXR1czogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gIHNhdmVkID0gc3RhdHVzO1xuICB1cGRhdGVJbmRpY2F0b3IoKTtcbn1cblxuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBldmVudCBsaXN0ZW5lciB0aGF0IGNoZWNrcyBmb3IgdW5zYXZlZCBjaGFuZ2VzIG9uIHBhZ2UgcmVsb2FkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5VbnNhdmVkQ2hhbmdlcyAoKTogdm9pZCB7XG4gIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IChlOiBCZWZvcmVVbmxvYWRFdmVudCkgPT4ge1xuICAgIGlmICghc2F2ZWQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiAnWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzISc7XG4gICAgfVxuICB9O1xufSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuZXhwb3J0cy5kZXN0cm95ID0gKCgpID0+IHtcblx0bGV0IHdhcm5lZCA9IGZhbHNlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKCF3YXJuZWQpIHtcblx0XHRcdHdhcm5lZCA9IHRydWU7XG5cdFx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0XHR9XG5cdH07XG59KSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcblx0JyMwMDAwQ0MnLFxuXHQnIzAwMDBGRicsXG5cdCcjMDAzM0NDJyxcblx0JyMwMDMzRkYnLFxuXHQnIzAwNjZDQycsXG5cdCcjMDA2NkZGJyxcblx0JyMwMDk5Q0MnLFxuXHQnIzAwOTlGRicsXG5cdCcjMDBDQzAwJyxcblx0JyMwMENDMzMnLFxuXHQnIzAwQ0M2NicsXG5cdCcjMDBDQzk5Jyxcblx0JyMwMENDQ0MnLFxuXHQnIzAwQ0NGRicsXG5cdCcjMzMwMENDJyxcblx0JyMzMzAwRkYnLFxuXHQnIzMzMzNDQycsXG5cdCcjMzMzM0ZGJyxcblx0JyMzMzY2Q0MnLFxuXHQnIzMzNjZGRicsXG5cdCcjMzM5OUNDJyxcblx0JyMzMzk5RkYnLFxuXHQnIzMzQ0MwMCcsXG5cdCcjMzNDQzMzJyxcblx0JyMzM0NDNjYnLFxuXHQnIzMzQ0M5OScsXG5cdCcjMzNDQ0NDJyxcblx0JyMzM0NDRkYnLFxuXHQnIzY2MDBDQycsXG5cdCcjNjYwMEZGJyxcblx0JyM2NjMzQ0MnLFxuXHQnIzY2MzNGRicsXG5cdCcjNjZDQzAwJyxcblx0JyM2NkNDMzMnLFxuXHQnIzk5MDBDQycsXG5cdCcjOTkwMEZGJyxcblx0JyM5OTMzQ0MnLFxuXHQnIzk5MzNGRicsXG5cdCcjOTlDQzAwJyxcblx0JyM5OUNDMzMnLFxuXHQnI0NDMDAwMCcsXG5cdCcjQ0MwMDMzJyxcblx0JyNDQzAwNjYnLFxuXHQnI0NDMDA5OScsXG5cdCcjQ0MwMENDJyxcblx0JyNDQzAwRkYnLFxuXHQnI0NDMzMwMCcsXG5cdCcjQ0MzMzMzJyxcblx0JyNDQzMzNjYnLFxuXHQnI0NDMzM5OScsXG5cdCcjQ0MzM0NDJyxcblx0JyNDQzMzRkYnLFxuXHQnI0NDNjYwMCcsXG5cdCcjQ0M2NjMzJyxcblx0JyNDQzk5MDAnLFxuXHQnI0NDOTkzMycsXG5cdCcjQ0NDQzAwJyxcblx0JyNDQ0NDMzMnLFxuXHQnI0ZGMDAwMCcsXG5cdCcjRkYwMDMzJyxcblx0JyNGRjAwNjYnLFxuXHQnI0ZGMDA5OScsXG5cdCcjRkYwMENDJyxcblx0JyNGRjAwRkYnLFxuXHQnI0ZGMzMwMCcsXG5cdCcjRkYzMzMzJyxcblx0JyNGRjMzNjYnLFxuXHQnI0ZGMzM5OScsXG5cdCcjRkYzM0NDJyxcblx0JyNGRjMzRkYnLFxuXHQnI0ZGNjYwMCcsXG5cdCcjRkY2NjMzJyxcblx0JyNGRjk5MDAnLFxuXHQnI0ZGOTkzMycsXG5cdCcjRkZDQzAwJyxcblx0JyNGRkNDMzMnXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG5cdC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcblx0Ly8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2Vcblx0Ly8gZXhwbGljaXRseVxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgKHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgd2luZG93LnByb2Nlc3MuX19ud2pzKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBJcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuXHQvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuXHRyZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcblx0XHQvLyBJcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG5cdFx0KHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcblx0XHQvLyBJcyBmaXJlZm94ID49IHYzMT9cblx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJyk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG5cblx0Ly8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXHRpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcblx0XHRyID0gcHJvY2Vzcy5lbnYuREVCVUc7XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG5cdHRyeSB7XG5cdFx0Ly8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuXHRcdC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG5cdH1cbn07XG4iLCIvKiogQG1vZHVsZSBTcXVhcmVFZGl0L0NvbnRyb2xzICovXG5cbmltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0IHsgc2V0R3JvdXBpbmdIaWdobGlnaHQgfSBmcm9tICcuLi91dGlscy9Db2xvcic7XG5pbXBvcnQgeyB1bnNlbGVjdCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCBJbnNlcnRIYW5kbGVyIGZyb20gJy4vSW5zZXJ0SGFuZGxlcic7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncywgc2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IEluc2VydFRhYlR5cGUsIEluc2VydFR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQmluZCBsaXN0ZW5lcnMgdG8gaW5zZXJ0IHRhYnMuJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZEluc2VydFRhYnMgKGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXIpOiB2b2lkIHtcbiAgY29uc3QgaW5zZXJ0VGFiczogRWxlbWVudFtdID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnNlcnRUYWInKSk7XG4gIGNvbnN0IHRhYklkczogc3RyaW5nW10gPSBpbnNlcnRUYWJzLm1hcCgodGFiKSA9PiB7IHJldHVybiB0YWIuaWQ7IH0pO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZXZ0LmNvZGUubWF0Y2goL15EaWdpdFxcZCQvKSAmJiBldnQuc2hpZnRLZXkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gTnVtYmVyKGV2dC5jb2RlW2V2dC5jb2RlLmxlbmd0aCAtIDFdKSAtIDE7XG4gICAgICAgIGNvbnN0IGluc2VydE9wdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnNlcnRlbCcpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IGluc2VydE9wdGlvbnNbaW5kZXhdO1xuICAgICAgICAoPEhUTUxCdXR0b25FbGVtZW50PiBzZWxlY3RlZE9wdGlvbikuY2xpY2soKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHRhYklkcy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZGVhY3RpdmF0ZSgnLmluc2VydFRhYicpO1xuICAgICAgYWN0aXZhdGUodGFiLCBpbnNlcnRIYW5kbGVyKTtcbiAgICAgIHNldFNldHRpbmdzKHsgaW5zZXJ0VGFiOiB0YWIgYXMgSW5zZXJ0VGFiVHlwZSB9KTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfZGF0YScpLmlubmVySFRNTCA9IENvbnRlbnRzLmluc2VydFRhYkh0bWxbdGFiXTtcbiAgICAgIGJpbmRFbGVtZW50cyhpbnNlcnRIYW5kbGVyKTtcbiAgICAgIGRlYWN0aXZhdGUoJy5pbnNlcnRlbCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBpbnNlcnRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgICAgICBhY3RpdmF0ZShpbnNlcnRNb2RlLCBpbnNlcnRIYW5kbGVyKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgZmlyc3RPcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnNlcnRlbCcpWzBdO1xuICAgICAgICBhY3RpdmF0ZShmaXJzdE9wdGlvbi5pZCwgaW5zZXJ0SGFuZGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgRWRpdCBhbmQgSW5zZXJ0IGNvbnRyb2wgcGFuZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEluc2VydEVkaXRDb250cm9scyAoKTogdm9pZCB7XG5cbiAgY29uc3QgaW5zZXJ0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0X2NvbnRyb2xzJyk7XG4gIGNvbnN0IGluc2VydEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0TWVudScpO1xuICBjb25zdCBpbnNlcnRIZWFkaW5nVGl0bGUgPSBpbnNlcnRIZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1oZWFkaW5nLXRpdGxlJyk7XG4gIGNvbnN0IGluc2VydENvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydENvbnRlbnRzJyk7XG4gIGNvbnN0IGluc2VydERyb3Bkb3duSWNvbiA9IGluc2VydEhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG5cbiAgY29uc3QgZWRpdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRfY29udHJvbHMnKTtcbiAgY29uc3QgZWRpdEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE1lbnUnKTtcbiAgY29uc3QgZGlzcGxheUhlYWRpbmdUaXRsZSA9IGVkaXRIZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1oZWFkaW5nLXRpdGxlJyk7XG4gIGNvbnN0IGVkaXRDb250ZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q29udGVudHMnKTtcbiAgY29uc3QgZWRpdERyb3Bkb3duSWNvbiA9IGVkaXRIZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJ3N2ZyA+IHVzZScpO1xuXG5cbiAgLy8gZXZlbnQgbGlzdGVuZXIgZm9yIHdoZW4gdXNlciBjbGlja3MgaW5zaWRlIEluc2VydCBwYW5lbFxuICAvLyBpbnNlcnQgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgaW5zZXJ0UGFuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZGlzcGxheUhlYWRpbmdUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJyk7XG4gICAgaW5zZXJ0SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcblxuICAgIHNldFNldHRpbmdzKHsgdXNlck1vZGU6ICdpbnNlcnQnIH0pO1xuXG4gICAgKDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluc2VydGVsLmlzLWFjdGl2ZScpKS5jbGljaygpO1xuICAgIGVkaXRQYW5lbC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1wYW5lbC1idG4uc2VsLWJ5LmlzLWFjdGl2ZScpLmNsYXNzTGlzdC5hZGQoJ3VuZm9jdXNlZCcpO1xuICAgIGluc2VydFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5pbnNlcnRlbC5pcy1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcbiAgfSk7XG5cbiAgLy8gZXZlbnQgbGlzdGVuZXIgZm9yIHdoZW4gdXNlciBjbGlja3MgaW5zaWRlIEVkaXQgcGFuZWxcbiAgLy8gZWRpdCBtb2RlIGlzIGFjdGl2YXRlZFxuICBlZGl0UGFuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaW5zZXJ0SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcbiAgICBkaXNwbGF5SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcbiAgICBcbiAgICBzZXRTZXR0aW5ncyh7IHVzZXJNb2RlOiAnZWRpdCcgfSk7XG5cbiAgICBpbnNlcnRQYW5lbC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1wYW5lbC1idG4uaW5zZXJ0ZWwuaXMtYWN0aXZlJykuY2xhc3NMaXN0LmFkZCgndW5mb2N1c2VkJyk7XG4gICAgZWRpdFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5zZWwtYnkuaXMtYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndW5mb2N1c2VkJyk7XG4gIH0pO1xuXG5cbiAgaW5zZXJ0SGVhZGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBpbnNlcnQgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGluc2VydENvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGFuIG9wZW4gcGFuZWxcbiAgICAgIGluc2VydENvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgaW5zZXJ0Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGluc2VydENvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGluc2VydERyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGluc2VydCBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGluc2VydENvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgaW5zZXJ0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgaW5zZXJ0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG5cbiAgZWRpdEhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZWRpdCBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGlmIChlZGl0Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYW4gb3BlbiBwYW5lbFxuICAgICAgZWRpdENvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgZWRpdENvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlZGl0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZWRpdERyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9XG4gICAgLy8gaWYgZWRpdCBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBlbHNlIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGEgY2xvc2VkIHBhbmVsXG4gICAgICBlZGl0Q29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBlZGl0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlZGl0Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwcHgnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGVkaXREcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBBY3RpdmF0ZSBhIGNlcnRhaW4gaW5zZXJ0IGFjdGlvbi5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgYWN0aXZhdGluZyBpbnNlcnQgUEFORUxTXG4gKiBhbmQgaW5zZXJ0IElDT05TICh3aHl5eSkuXG4gKiBAcGFyYW0gaWQgLSBUaGUgSUQgb2YgdGhlIGluc2VydCBhY3Rpb24gdGFiLlxuICovXG5mdW5jdGlvbiBhY3RpdmF0ZSAoaWQ6IHN0cmluZywgaW5zZXJ0SGFuZGxlcjogSW5zZXJ0SGFuZGxlcik6IHZvaWQge1xuICBjb25zdCBzZWxlY3RlZFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgc2VsZWN0ZWRUYWIuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnNlcnRlbCcpKSB7XG4gICAgaW5zZXJ0SGFuZGxlci5pbnNlcnRBY3RpdmUoaWQpO1xuICAgIHNldFNldHRpbmdzKHsgaW5zZXJ0TW9kZTogaWQgYXMgSW5zZXJ0VHlwZSB9KTtcbiAgfVxufVxuXG4vKipcbiAqIERlYWN0aXZhdGUgYSBjZXJ0YWluIGluc2VydCBhY3Rpb24uXG4gKiBAcGFyYW0gdHlwZSAtIEEgQ1NTIHNlbGVjdG9yIGZvciB0aGUgYWN0aW9uIHRhYi5cbiAqL1xuZnVuY3Rpb24gZGVhY3RpdmF0ZSAodHlwZTogc3RyaW5nKSB7XG4gIGNvbnN0IGVsTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodHlwZSk7XG4gIGVsTGlzdC5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQmluZCBsaXN0ZW5lcnMgdG8gaW5zZXJ0IHRhYiBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gYmluZEVsZW1lbnRzIChpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyKSB7XG4gIGNvbnN0IGluc2VydEVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnNlcnRlbCcpKTtcbiAgY29uc3QgZWxlbWVudElkcyA9IGluc2VydEVsZW1lbnRzLm1hcChlbCA9PiBlbC5pZCk7XG4gIGVsZW1lbnRJZHMuZm9yRWFjaChlbCA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWwpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZGVhY3RpdmF0ZSgnLmluc2VydGVsJyk7XG4gICAgICBhY3RpdmF0ZShlbCwgaW5zZXJ0SGFuZGxlcik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCBsaXN0ZW5lcnMgb24gdGhlIGJ1dHRvbnMgdG8gY2hhbmdlIHNlbGVjdGlvbiBtb2Rlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTZWxlY3Rpb25CdXR0b25zICgpOiB2b2lkIHtcbiAgY29uc3Qgc2VsQnlTeWxsYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJyk7XG4gIGNvbnN0IHNlbEJ5TmV1bWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOZXVtZScpO1xuICBjb25zdCBzZWxCeU5jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TmMnKTtcbiAgY29uc3Qgc2VsQnlTdGFmZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJyk7XG4gIGNvbnN0IHNlbEJ5TGF5ZXJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TGF5ZXJFbGVtZW50Jyk7XG5cbiAgc2VsQnlTeWxsYWJsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEJ5U3lsbGFibGVIYW5kbGVyKTtcbiAgc2VsQnlOZXVtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEJ5TmV1bWVIYW5kbGVyKTtcbiAgc2VsQnlOYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEJ5TmNIYW5kbGVyKTtcbiAgc2VsQnlTdGFmZi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEJ5U3RhZmZIYW5kbGVyKTtcbiAgc2VsQnlMYXllckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxCeUxheWVyRWxlbWVudEhhbmRsZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzEnKSBzZWxCeVN5bGxhYmxlLmNsaWNrKCk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICcyJykgc2VsQnlOZXVtZS5jbGljaygpO1xuICAgIGlmIChldnQua2V5ID09PSAnMycpIHNlbEJ5TmMuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzQnKSBzZWxCeVN0YWZmLmNsaWNrKCk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICc1Jykgc2VsQnlMYXllckVsZW1lbnQuY2xpY2soKTtcbiAgfSk7XG5cblxuICBmdW5jdGlvbiBzZWxlY3RCeVN5bGxhYmxlSGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeVN5bGxhYmxlLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5U3lsbGFibGUnIH0pO1xuXG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxCeVN5bGxhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICBzZWxCeU5ldW1lLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOYy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3RhZmYuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnc3lsbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RCeU5ldW1lSGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeU5ldW1lLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5TmV1bWUnIH0pO1xuXG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxCeU5ldW1lLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOYy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ25ldW1lJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0QnlOY0hhbmRsZXIgKCkge1xuICAgIGlmICghc2VsQnlOYy5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeU5jJyB9KTtcblxuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc2VsQnlOYy5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5U3RhZmZIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5U3RhZmYuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTdGFmZicgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5U3RhZmYuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5ldW1lLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOYy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnc3RhZmYnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxCeUxheWVyRWxlbWVudEhhbmRsZXIgKCkge1xuICAgIGlmICghc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlMYXllckVsZW1lbnQnIH0pO1xuXG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ2xheWVyRWxlbWVudCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgSW5zZXJ0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgZ2V0U1ZHUmVsQ29vcmRzLCBpc091dE9mU1ZHQm91bmRzLCBQb2ludCB9IGZyb20gJy4uL3V0aWxzL0Nvb3JkaW5hdGVzJztcbmltcG9ydCB7IHF1ZXVlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogQ2xhc3MgdGhhdCBoYW5kbGVzIGluc2VydCBtb2RlLCBldmVudHMsIGFuZCBhY3Rpb25zLlxuICovXG5jbGFzcyBJbnNlcnRIYW5kbGVyIHtcbiAgdHlwZTogc3RyaW5nO1xuICBmaXJzdENsaWNrID0gdHJ1ZTtcbiAgY29vcmQ6IFBvaW50O1xuICBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBzZWxlY3Rvcjogc3RyaW5nO1xuICBuZW9uVmlldzogTmVvblZpZXc7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuZW9uVmlldyAtIE5lb25WaWV3IHBhcmVudC5cbiAgICogQHBhcmFtIHNlbCAtIFRoZSBDU1Mgc2VsZWN0b3IgdG8gYXBwbHkgaW5zZXJ0IGxpc3RlbmVycyB0by5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHNlbDogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWw7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYW4gaW5zZXJ0IGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKiBUcmlnZ2VycyB0aGUgc3RhcnQgb2YgaW5zZXJ0IG1vZGUuXG4gICAqIEBwYXJhbSBidXR0b25JZCAtIFRoZSBJRCBvZiB0aGUgYnV0dG9uIHRoYXQgd2FzIGNsaWNrZWQuXG4gICAqL1xuICBpbnNlcnRBY3RpdmUgKGJ1dHRvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBhbHJlYWR5SW5JbnNlcnRNb2RlID0gdGhpcy5pc0luc2VydE1vZGUoKTtcbiAgICBzd2l0Y2ggKGJ1dHRvbklkKSB7XG4gICAgICBjYXNlICdwdW5jdHVtJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaWFtb25kJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyB0aWx0OiAnc2UnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlyZ2EnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IHRpbHQ6ICdzJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIC8vdGhlcmUgYXJlIG11bHRpcGxlIHBvc3NpYmxlIGxpcXVlc2NlbnQgY29tYmluYXRpb25zXG4gICAgICBjYXNlICdsaXF1ZXNjZW50QSc6XG4gICAgICAgIHRoaXMudHlwZSA9ICduYyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgY3VydmU6ICdhJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xpcXVlc2NlbnRDJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBjdXJ2ZTogJ2MnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlyZ2FSZXZlcnNlZCc6XG4gICAgICAgIHRoaXMudHlwZSA9ICduYyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgdGlsdDogJ24nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncGVzJzpcbiAgICAgIGNhc2UgJ2NsaXZpcyc6XG4gICAgICBjYXNlICdzY2FuZGljdXMnOlxuICAgICAgY2FzZSAnY2xpbWFjdXMnOlxuICAgICAgY2FzZSAndG9yY3VsdXMnOlxuICAgICAgY2FzZSAncG9ycmVjdHVzJzpcbiAgICAgIGNhc2UgJ3ByZXNzdXMnOlxuICAgICAgICBjb25zdCBjb250b3VyID0gdGhpcy5uZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKFxuICAgICAgICAgIGJ1dHRvbklkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYnV0dG9uSWQuc2xpY2UoMSlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2dyb3VwaW5nJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBjb250b3VyOiBjb250b3VyIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY0NsZWYnOlxuICAgICAgY2FzZSAnZkNsZWYnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnY2xlZic7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgc2hhcGU6IGJ1dHRvbklkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY3VzdG9zJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2N1c3Rvcyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGl2TGluZU1heGltYSc6XG4gICAgICAgIHRoaXMudHlwZSA9ICdkaXZMaW5lJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBmb3JtOiAnbWF4aW1hJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0YWZmJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ3N0YWZmJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmbGF0JzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2FjY2lkJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBhY2NpZDogJ2YnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbmF0dXJhbCc6XG4gICAgICAgIHRoaXMudHlwZSA9ICdhY2NpZCc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgYWNjaWQ6ICduJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMudHlwZSA9ICcnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGJ1dHRvbiBmb3IgaW5zZXJ0aW9uOiAnICsgYnV0dG9uSWQgKyAnLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdzdGFmZicpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3RhZmZIYW5kbGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAvLyBEaXNhYmxlIGVkaXQgbW9kZSBsaXN0ZW5lcnNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRJbnNlcnRIYW5kbGVyKTtcblxuICAgIC8vIEFkZCAncmV0dXJuIHRvIGVkaXQgbW9kZScgYnV0dG9uXG4gICAgaWYgKCFhbHJlYWR5SW5JbnNlcnRNb2RlKSB7XG4gICAgICBjb25zdCBlZGl0TW9kZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZWRpdE1vZGVCdXR0b24uaWQgPSAncmV0dXJuVG9FZGl0TW9kZSc7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzaWRlLXBhbmVsLWJ0bicpO1xuICAgICAgZWRpdE1vZGVCdXR0b24uaW5uZXJIVE1MID0gJ1JldHVybiB0byBFZGl0IE1vZGUnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZG8nKS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGVkaXRNb2RlQnV0dG9uKTtcbiAgICAgIGVkaXRNb2RlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5pbnNlcnREaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb250ZW50cycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIGluc2VydCBtb2RlIGFuZCByZW1vdmUgZXZlbnQgbGlzdGVuZXJzLlxuICAgKi9cbiAgaW5zZXJ0RGlzYWJsZWQgPSAoZnVuY3Rpb24gaW5zZXJ0RGlzYWJsZWQgKCk6IHZvaWQge1xuICAgIHRoaXMudHlwZSA9ICcnO1xuICAgIHRoaXMucmVtb3ZlSW5zZXJ0Q2xpY2tIYW5kbGVycygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEluc2VydEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgdGhpcy5maXJzdENsaWNrID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldHVyblRvRWRpdE1vZGUnKS5yZW1vdmUoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBjb25zb2xlLmRlYnVnKGUpO1xuICAgIH1cblxuICAgIGNvbnN0IGluc2VydFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpO1xuICAgIGNvbnN0IGluc2VydEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0TWVudScpO1xuICAgIGNvbnN0IGluc2VydEhlYWRpbmdUaXRsZSA9IGluc2VydEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcblxuICAgIGNvbnN0IGVkaXRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJyk7XG4gICAgY29uc3QgZWRpdEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE1lbnUnKTtcbiAgICBjb25zdCBkaXNwbGF5SGVhZGluZ1RpdGxlID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcblxuICAgIGluc2VydEhlYWRpbmdUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJyk7XG4gICAgZGlzcGxheUhlYWRpbmdUaXRsZS5jbGFzc0xpc3QuYWRkKCdmb2N1c2VkJyk7XG5cbiAgICBpbnNlcnRQYW5lbC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1wYW5lbC1idG4uaW5zZXJ0ZWwuaXMtYWN0aXZlJykuY2xhc3NMaXN0LmFkZCgndW5mb2N1c2VkJyk7XG4gICAgZWRpdFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5zZWwtYnkuaXMtYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndW5mb2N1c2VkJyk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IHVzZXJNb2RlOiAnZWRpdCcgfSk7XG4gICAgXG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgdG8gaGFuZGxlIGEgdXNlciBjbGlja2luZyBhd2F5IGZyb20gdGhlIGFjdGl2ZSBwYWdlXG4gICAqIGNhdXNpbmcgaW5zZXJ0IG1vZGUgdG8gZW5kLlxuICAgKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9IChmdW5jdGlvbiBjbGlja2F3YXlIYW5kbGVyIChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwgJiZcbiAgICAgIHRhcmdldC5jbG9zZXN0KCcjaW5zZXJ0X2NvbnRyb2xzJykgPT09IG51bGwgJiZcbiAgICAgIHRhcmdldC5jbG9zZXN0KCcjc3ZnX2dyb3VwJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW5zZXJ0RGlzYWJsZWQoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsXG4gICAgICAgIHRoaXMuc3RhZmZIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsXG4gICAgICAgIHRoaXMuaGFuZGxlcik7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBSZXNldHMgYW4gaW5zZXJ0IGV2ZW50IGxpc3RlbmVyIGFmdGVyIHRlbXBvcmFyaWx5IHJlbW92aW5nIGl0LlxuICAgKi9cbiAgcmVzZXRJbnNlcnRIYW5kbGVyID0gKGZ1bmN0aW9uIHJlc2V0SW5zZXJ0SGFuZGxlciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50eXBlID09PSAnc3RhZmYnID9cbiAgICAgICAgICB0aGlzLnN0YWZmSGFuZGxlciA6IHRoaXMuaGFuZGxlcik7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBMaXN0ZW5zIHRvIGtleSBwcmVzc2VzIHRvIGVpdGhlciBleGl0IGVkaXQgbW9kZSAoaWYgRXNjYXBlKSBvclxuICAgKiB0ZW1wb3JhcmlseSByZW1vdmUgaW5zZXJ0IGV2ZW50IGxpc3RlbmVycyAoaWYgU2hpZnQpLlxuICAgKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKGZ1bmN0aW9uIGtleWRvd25MaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmluc2VydERpc2FibGVkKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnN0YWZmSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZXIpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgdGhpcy5yZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzKCk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBjbGlja2luZyB0byBpbnNlcnQgYW55IGVsZW1lbnQgZXhjZXB0IGEgc3RhZmYuXG4gICAqL1xuICBoYW5kbGVyID0gKGZ1bmN0aW9uIGhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIC8vIElmIHRoZSBjdXJzb3IgaXMgb3V0IG9mIGJvdW5kcywgbm90aGluZyBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gICAgY29uc3QgY3Vyc29yID0gZ2V0U1ZHUmVsQ29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHMoY3Vyc29yLngsIGN1cnNvci55KSlcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBoIHdhcyBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgSW5zZXJ0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcblxuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogSW5zZXJ0QWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnaW5zZXJ0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRUeXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIHN0YWZmSWQ6ICdhdXRvJyxcbiAgICAgICAgdWx4OiBjdXJzb3IueCxcbiAgICAgICAgdWx5OiBjdXJzb3IueSxcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYXR0cmlidXRlcyAhPT0gbnVsbCkge1xuICAgICAgZWRpdG9yQWN0aW9uLnBhcmFtLmF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7XG4gICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzWydzaGFwZSddID09PSAnRicpIHtcbiAgICAgICAgZWRpdG9yQWN0aW9uWydwYXJhbSddWyd1bHgnXSAtPSA1MDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlcik7XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgdG8gaW5zZXJ0IGEgc3RhZmYuXG4gICAqL1xuICBzdGFmZkhhbmRsZXIgPSAoZnVuY3Rpb24gc3RhZmZIYW5kbGVyIChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcblxuICAgIGlmIChpc091dE9mU1ZHQm91bmRzKGN1cnNvci54LCBjdXJzb3IueSkpIHtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignU3RhZmYgY2Fubm90IGJlIHBsYWNlZCBvdXQgb2YgYm91bmRzIScsICdlcnJvcicpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZSA+IC5kZWZpbml0aW9uLXNjYWxlJyk7XG5cbiAgICBpZiAodGhpcy5maXJzdENsaWNrKSB7XG4gICAgICB0aGlzLmNvb3JkID0gY3Vyc29yO1xuICAgICAgZDMuc2VsZWN0KGNvbnRhaW5lcikuYXBwZW5kKCdjaXJjbGUnKS5hdHRyKCdjeCcsIGN1cnNvci54KVxuICAgICAgICAuYXR0cignY3knLCBjdXJzb3IueSlcbiAgICAgICAgLmF0dHIoJ3InLCAxMClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3N0YWZmLWNpcmNsZScpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJ2dyZWVuJyk7XG4gICAgICB0aGlzLmZpcnN0Q2xpY2sgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHVsOiBQb2ludCwgbHI6IFBvaW50O1xuICAgICAgaWYgKGN1cnNvci54IDwgdGhpcy5jb29yZC54IHx8IGN1cnNvci55IDwgdGhpcy5jb29yZC55KSB7IC8vIHNlY29uZCBwb2ludCBpcyBub3QgbHJcbiAgICAgICAgdWwgPSBjdXJzb3I7XG4gICAgICAgIGxyID0gdGhpcy5jb29yZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVsID0gdGhpcy5jb29yZDtcbiAgICAgICAgbHIgPSBjdXJzb3I7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhZmYtY2lyY2xlJykucmVtb3ZlKCk7XG4gICAgICBjb25zdCBhY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnaW5zZXJ0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50VHlwZTogJ3N0YWZmJyxcbiAgICAgICAgICBzdGFmZklkOiAnYXV0bycsXG4gICAgICAgICAgdWx4OiB1bC54LFxuICAgICAgICAgIHVseTogdWwueSxcbiAgICAgICAgICBscng6IGxyLngsXG4gICAgICAgICAgbHJ5OiBsci55XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMubmVvblZpZXcuZWRpdChhY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB0aGlzLmZpcnN0Q2xpY2sgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGluc2VydCBsaXN0ZW5lcnMgd2hpbGUgbm90IGxlYXZpbmcgaW5zZXJ0IG1vZGUgZW50aXJlbHkuXG4gICAqL1xuICByZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzID0gKGZ1bmN0aW9uIHJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMgKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlcik7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSkuYmluZCh0aGlzKTtcblxuICBpc0luc2VydE1vZGUgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAodGhpcy50eXBlICE9PSAnJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgSW5zZXJ0SGFuZGxlciBhcyBkZWZhdWx0IH07XG4iLCIvKipcbiAqIENvbnRlbnRzIG9mIG5hdmJhciBtZW51IGFmdGVyIHN3aXRjaGluZyB0byBlZGl0IG1vZGUuXG4gKi9cblxuLy8gXCJGaWxlXCIgRHJvcGRvd25cbmV4cG9ydCBjb25zdCBuYXZiYXJEcm9wZG93bkZpbGVNZW51OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubmF2YmFyRHJvcGRvd25GaWxlTWVudS5jbGFzc0xpc3QuYWRkKCduYXZiYXItaXRlbScsICdoYXMtZHJvcGRvd24nLCAnaXMtaG92ZXJhYmxlJyk7XG5jb25zdCBmaWxlRHJvcGRvd25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmZpbGVEcm9wZG93bkJ0bi5jbGFzc0xpc3QuYWRkKCduYXZiYXItYnRuJyk7XG5maWxlRHJvcGRvd25CdG4uaW5uZXJIVE1MID0gJzxkaXY+RmlsZTwvZGl2Pic7XG5jb25zdCBmaWxlTmF2YmFyQ29udGVudHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmZpbGVOYXZiYXJDb250ZW50cy5jbGFzc0xpc3QuYWRkKCduYXZiYXItZHJvcGRvd24nKTtcbmZpbGVOYXZiYXJDb250ZW50cy5pZCA9ICduYXZiYXItZHJvcGRvd24tb3B0aW9ucyc7XG5cbmNvbnN0IGZpbGVEcm9wZG93bkNvbnRlbnRzID0gW1xuICBbJ3NhdmUnLCAnU2F2ZSddLFxuICBbJ2V4cG9ydCcsICdTYXZlIGFuZCBFeHBvcnQgdG8gRmlsZSddLFxuICBbJ2dldG1laScsICdEb3dubG9hZCBNRUknXVxuXTtcblxuZmlsZURyb3Bkb3duQ29udGVudHMuZm9yRWFjaChjb250ZW50ID0+IHtcbiAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpdGVtLmlkID0gY29udGVudFswXTtcbiAgaXRlbS5jbGFzc0xpc3QuYWRkKCduYXZiYXItZHJvcGRvd24taXRlbScpO1xuICBpdGVtLnRleHRDb250ZW50ID0gY29udGVudFsxXTtcbiAgZmlsZU5hdmJhckNvbnRlbnRzLmFwcGVuZENoaWxkKGl0ZW0pO1xufSk7XG5cbm5hdmJhckRyb3Bkb3duRmlsZU1lbnUuYXBwZW5kQ2hpbGQoZmlsZURyb3Bkb3duQnRuKTtcbm5hdmJhckRyb3Bkb3duRmlsZU1lbnUuYXBwZW5kQ2hpbGQoZmlsZU5hdmJhckNvbnRlbnRzKTtcblxuLy8gXCJNRUkgQWN0aW9uc1wiIERyb3Bkb3duXG5leHBvcnQgY29uc3QgbmF2YmFyRHJvcGRvd25NRUlBY3Rpb25zTWVudTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWl0ZW0nLCAnaGFzLWRyb3Bkb3duJywgJ2lzLWhvdmVyYWJsZScpO1xuY29uc3QgbWVpQWN0aW9uc0Ryb3Bkb3duQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5tZWlBY3Rpb25zRHJvcGRvd25CdG4uY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWJ0bicpO1xubWVpQWN0aW9uc0Ryb3Bkb3duQnRuLmlubmVySFRNTCA9ICc8ZGl2Pk1FSSBBY3Rpb25zPC9kaXY+JztcbmNvbnN0IG1laUFjdGlvbnNOYXZiYXJDb250ZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubWVpQWN0aW9uc05hdmJhckNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bicpO1xubWVpQWN0aW9uc05hdmJhckNvbnRlbnRzLmlkID0gJ25hdmJhci1kcm9wZG93bi1vcHRpb25zJztcbmNvbnN0IG1laUFjdGlvbnNEcm9wZG93bkNvbnRlbnRzID0gW1xuICBbJ3JlbW92ZS1lbXB0eS1zeWxzJywgJ1JlbW92ZSBFbXB0eSBTeWxsYWJsZXMnXSxcbiAgWydyZW1vdmUtZW1wdHktbmV1bWVzJywgJ1JlbW92ZSBFbXB0eSBOZXVtZXMnXSxcbiAgWydyZXZlcnQnLCAnUmV2ZXJ0J11cbl07XG5cbm1laUFjdGlvbnNEcm9wZG93bkNvbnRlbnRzLmZvckVhY2goY29udGVudCA9PiB7XG4gIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaXRlbS5pZCA9IGNvbnRlbnRbMF07XG4gIGl0ZW0uY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWRyb3Bkb3duLWl0ZW0nKTtcbiAgaXRlbS50ZXh0Q29udGVudCA9IGNvbnRlbnRbMV07XG4gIG1laUFjdGlvbnNOYXZiYXJDb250ZW50cy5hcHBlbmRDaGlsZChpdGVtKTtcbn0pO1xuXG5uYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51LmFwcGVuZENoaWxkKG1laUFjdGlvbnNEcm9wZG93bkJ0bik7XG5uYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51LmFwcGVuZENoaWxkKG1laUFjdGlvbnNOYXZiYXJDb250ZW50cyk7XG5cbi8qKlxuICogRmluYWxpemUgb3B0aW9uIGluIHRoZSBuYXZiYXIgZm9yIHJvZGFuXG4gKi9cbmV4cG9ydCBjb25zdCBuYXZiYXJGaW5hbGl6ZSA9XG4gICAgJzxhIGlkPVwiZmluYWxpemVcIiBjbGFzcz1cIm5hdmJhci1pdGVtXCI+IEZpbmFsaXplIE1FSSA8L2E+JztcblxuLyoqXG4gKiBDb250ZW50cyBvZiB0aGUgdW5kby9yZWRvIHBhbmVsIHdpdGggYnV0dG9uc1xuICovXG5leHBvcnQgY29uc3QgdW5kb1JlZG9QYW5lbCA9XG4gIGA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZG9cIj5VbmRvPC9idXR0b24+XG4gIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwicmVkb1wiPlJlZG88L2J1dHRvbj5gO1xuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9OZW9uIH0gZnJvbSAnLi9Db252ZXJ0TWVpJztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBTZXQgdG9wIG5hdmJhciBldmVudCBsaXN0ZW5lcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmF2YmFyIChuZW9uVmlldzogTmVvblZpZXcpOiB2b2lkIHtcblxuICAvLyBzZXR1cCBuYXZiYXIgbGlzdGVuZXJzXG4gIGNvbnN0IG5hdmJhckRyb3Bkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXItaXRlbS5oYXMtZHJvcGRvd24uaXMtaG92ZXJhYmxlJyk7XG4gIEFycmF5LmZyb20obmF2YmFyRHJvcGRvd25zKS5mb3JFYWNoKChkcm9wRG93bikgPT4ge1xuICAgIGRyb3BEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgIC8vXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qIFwiRklMRVwiIG1lbnUgKi9cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBuZW9uVmlldy5zYXZlKCkudGhlbigoKSA9PiB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ3MnKSB7XG4gICAgICBuZW9uVmlldy5zYXZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2F2ZWQnLCAnc3VjY2VzcycpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwb3J0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmVvblZpZXcuZXhwb3J0KCkudGhlbihtYW5pZmVzdCA9PiB7XG4gICAgICBjb25zdCBsaW5rOiBIVE1MQW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGxpbmsuaHJlZiA9IG1hbmlmZXN0IGFzIHN0cmluZztcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBuZW9uVmlldy5uYW1lICsgJy5qc29ubGQnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgIGxpbmsucmVtb3ZlKCk7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRG93bmxvYWQgbGluayBmb3IgTUVJXG4gIC8vIElzIGFuIGFjdHVhbCBmaWxlIHdpdGggYSB2YWxpZCBVUkkgZXhjZXB0IGluIGxvY2FsIG1vZGUgd2hlcmUgaXQgbXVzdCBiZSBnZW5lcmF0ZWQuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4obWVpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSAnZGF0YTphcHBsaWNhdGlvbi9tZWkreG1sO2Jhc2U2NCwnICsgd2luZG93LmJ0b2EoY29udmVydFRvTmVvbihtZWkpKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBkYXRhKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgbmVvblZpZXcudmlldy5nZXRQYWdlTmFtZSgpICsgJy5tZWknKTtcbiAgICB9KTtcbiAgfSk7XG5cblxuICAvKiBcIk1FSSBBQ1RJT05TXCIgbWVudSAqL1xuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZW1vdmUgRW1wdHkgU3lsbGFibGVzXCIgYnV0dG9uIGluc2lkZSBcIk1FSSBBY3Rpb25zXCIgZHJvcGRvd25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZS1lbXB0eS1zeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG5cbiAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbihtZWlTdHJpbmcgPT4ge1xuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHN5bGxhYmxlcyB3aXRob3V0IG5ldW1lc1xuICAgICAgbGV0IGhhc0VtcHR5U3lsbGFibGVzID0gZmFsc2U7XG4gICAgICBjb25zdCByZW1vdmVTeWxsYWJsZUFjdGlvbnMgPSBbXTtcbiAgICAgIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgICAgIC8vIGlmIGVtcHR5IHN5bGxhYmxlIGZvdW5kLCBjcmVhdGUgYWN0aW9uIG9iamVjdCBmb3IgcmVtb3ZpbmcgaXRcbiAgICAgICAgaWYgKHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduZXVtZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnN0IHRvUmVtb3ZlOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBhZGQgYWN0aW9uIG9iamVjdCB0byBhcnJheSAoY2hhaW4pIG9mIGFjdGlvbiBvYmplY3RzXG4gICAgICAgICAgcmVtb3ZlU3lsbGFibGVBY3Rpb25zLnB1c2godG9SZW1vdmUpO1xuICAgICAgICAgIGhhc0VtcHR5U3lsbGFibGVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjaGVjayBpZiBlbXB0eSBzeWxsYWJsZXMgd2VyZSBmb3VuZFxuICAgICAgaWYgKCFoYXNFbXB0eVN5bGxhYmxlcykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ05vIGVtcHR5IHN5bGxhYmxlcyBmb3VuZCcsICd3YXJuaW5nJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIFwiY2hhaW4gYWN0aW9uXCIgb2JqZWN0XG4gICAgICAgIGNvbnN0IGNoYWluUmVtb3ZlQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgIHBhcmFtOiByZW1vdmVTeWxsYWJsZUFjdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBleGVjdXRlIGFjdGlvbiB0aGF0IHJlbW92ZXMgYWxsIGVtcHR5IHN5bGxhYmxlc1xuICAgICAgICAvLyBcInJlc3VsdFwiIHZhbHVlIGlzIHRydWUgb3IgZmFsc2UgKHRydWUgaWYgY2hhaW4gb2YgYWN0aW9ucyB3YXMgc3VjY2Vzc2Z1bClcbiAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpblJlbW92ZUFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGVtcHR5IFN5bGxhYmxlcycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gcmVtb3ZlIGVtcHR5IFN5bGxhYmxlcycsICdlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyIGZvciBcIlJlbW92ZSBFbXB0eSBOZXVtZXNcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLWVtcHR5LW5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdXJpID0gbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpO1xuXG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4obWVpU3RyaW5nID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBjb25zdCBuZXVtZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKSk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBuZXVtZXMgd2l0aG91dCBuZXVtZSBjb21wb25lbnRzXG4gICAgICBsZXQgaGFzRW1wdHlOZXVtZXMgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHJlbW92ZU5ldW1lQWN0aW9ucyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBuZXVtZSBvZiBuZXVtZXMpIHtcbiAgICAgICAgLy8gaWYgZW1wdHkgbmV1bWUgZm91bmQsIGNyZWF0ZSBhY3Rpb24gb2JqZWN0IGZvciByZW1vdmluZyBpdFxuICAgICAgICBpZiAobmV1bWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25jJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc3QgdG9SZW1vdmU6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICBlbGVtZW50SWQ6IG5ldW1lLmdldEF0dHJpYnV0ZSgneG1sOmlkJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGFkZCBhY3Rpb24gb2JqZWN0IHRvIGFycmF5IChjaGFpbikgb2YgYWN0aW9uIG9iamVjdHNcbiAgICAgICAgICByZW1vdmVOZXVtZUFjdGlvbnMucHVzaCh0b1JlbW92ZSk7XG4gICAgICAgICAgaGFzRW1wdHlOZXVtZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNoZWNrIGlmIGVtcHR5IG5ldW1lcyB3ZXJlIGZvdW5kXG4gICAgICBpZiAoIWhhc0VtcHR5TmV1bWVzKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTm8gZW1wdHkgTmV1bWVzIGZvdW5kJywgJ3dhcm5pbmcnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgXCJjaGFpbiBhY3Rpb25cIiBvYmplY3RcbiAgICAgICAgY29uc3QgY2hhaW5SZW1vdmVBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICAgICAgcGFyYW06IHJlbW92ZU5ldW1lQWN0aW9ucyxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBleGVjdXRlIGFjdGlvbiB0aGF0IHJlbW92ZXMgYWxsIGVtcHR5IG5ldW1lc1xuICAgICAgICAvLyBcInJlc3VsdFwiIHZhbHVlIGlzIHRydWUgb3IgZmFsc2UgKHRydWUgaWYgY2hhaW4gb2YgYWN0aW9ucyB3YXMgc3VjY2Vzc2Z1bClcbiAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpblJlbW92ZUFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGVtcHR5IE5ldW1lcycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gcmVtb3ZlIGVtcHR5IE5ldW1lcycsICdlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmUtb3V0LW9mLWJvdW5kcy1nbHlwaHMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4obWVpU3RyaW5nID0+IHtcbiAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laVN0cmluZywgJ3RleHQveG1sJyk7XG4gICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAvLyBHZXQgYm91bmRzIG9mIHRoZSBNRUlcbiAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBtZWkucXVlcnlTZWxlY3Rvcignc3VyZmFjZScpO1xuICAgICAgY29uc3QgbWVpTHJ4ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscngnKSksIG1laUxyeSA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ5JykpO1xuXG4gICAgICBmdW5jdGlvbiBpc0F0dHJPdXRPZkJvdW5kcyh6b25lOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY29vcmQgPSBOdW1iZXIoem9uZS5nZXRBdHRyaWJ1dGUoYXR0cikpO1xuICAgICAgICBjb25zdCBjb21wID0gKGF0dHIgPT0gJ2xyeCcgfHwgYXR0ciA9PSAndWx4JykgPyBtZWlMcnggOiBtZWlMcnk7XG4gICAgICAgIHJldHVybiBjb29yZCA8IDAgfHwgY29vcmQgPiBjb21wO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgYXJyYXkgb2Ygem9uZXMgdGhhdCBhcmUgb3V0IG9mIGJvdW5kLCBhbmQgY3JlYXRlIGEgaGFzaCBtYXBcbiAgICAgIC8vIGZvciBmYXN0IHJldHJpZXZhbFxuICAgICAgY29uc3Qgem9uZXMgPSBBcnJheS5mcm9tKG1laS5xdWVyeVNlbGVjdG9yQWxsKCd6b25lJykpO1xuICAgICAgY29uc3Qgb3V0T2ZCb3VuZFpvbmVzID0gem9uZXMuZmlsdGVyKHpvbmUgPT5cbiAgICAgICAgWyd1bHgnLCAndWx5JywgJ2xyeCcsICdscnknXS5zb21lKChhdHRyKSA9PiBpc0F0dHJPdXRPZkJvdW5kcyh6b25lLCBhdHRyKSlcbiAgICAgICk7XG4gICAgICBjb25zdCB6b25lTWFwID0gbmV3IE1hcChvdXRPZkJvdW5kWm9uZXMubWFwKHpvbmUgPT4gW3pvbmUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSwgem9uZV0pKTtcblxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgbmV1bWUgY29tcG9uZW50cyBhbmQgZGl2bGluZXMgdGhhdCBoYXZlIGEgem9uZSBvdXQgb2YgYm91bmRzXG4gICAgICBjb25zdCBnbHlwaHMgPSBBcnJheS5mcm9tKG1laS5xdWVyeVNlbGVjdG9yQWxsKCduYywgZGl2TGluZSwgY2xlZiwgYWNjaWQnKSk7XG4gICAgICBjb25zdCBvdXRPZkJvdW5kR2x5cGhzID0gZ2x5cGhzLmZpbHRlcihnbHlwaCA9PiB7XG4gICAgICAgIGlmIChnbHlwaC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkge1xuICAgICAgICAgIGNvbnN0IGZhY3NJZCA9IGdseXBoLmdldEF0dHJpYnV0ZSgnZmFjcycpLnNsaWNlKDEpO1xuICAgICAgICAgIHJldHVybiB6b25lTWFwLmhhcyhmYWNzSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzLCBhbmQgXG4gICAgICAvLyBleGl0LCBzaW5jZSBubyBlZGl0IG5lZWRzIHRvIGJlIG1hZGUuXG4gICAgICBpZiAob3V0T2ZCb3VuZEdseXBocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgYXJlIG5vIG91dC1vZi1ib3VuZCBnbHlwaHMgdG8gcmVtb3ZlLicsICd3YXJuaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSByZW1vdmUgYWN0aW9ucyBhbmQgY2hhaW4gYWN0aW9uIHRvIHNlbmQgdG8gVmVyb3Zpb1xuICAgICAgY29uc3QgcmVtb3ZlQWN0aW9uczogRWRpdG9yQWN0aW9uW10gPSBvdXRPZkJvdW5kR2x5cGhzLm1hcChnbHlwaCA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBnbHlwaC5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICAgIHBhcmFtOiByZW1vdmVBY3Rpb25zLFxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgdXJpKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgb3V0LW9mLWJvdW5kcyBzeWxsYWJsZXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byByZW1vdmUgb3V0LW9mLWJvdW5kIHN5bGxhYmxlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW50b2dnbGUtaW52YWxpZC1zeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdXJpID0gbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpO1xuICAgIG5lb25WaWV3LmdldFBhZ2VNRUkodXJpKS50aGVuKG1laVN0cmluZyA9PiB7XG4gICAgICAvLyBMb2FkIE1FSSBkb2N1bWVudCBpbnRvIHBhcnNlclxuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcblxuICAgICAgbGV0IGhhc0ludmFsaWRTeWxsYWJsZXMgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgcGFyYW06IFtdXG4gICAgICB9O1xuICAgICAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICAgICAgZm9yIChjb25zdCBzeWxsYWJsZSBvZiBzeWxsYWJsZXMpIHtcbiAgICAgICAgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSAmJiBzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgICAgIGhhc0ludmFsaWRTeWxsYWJsZXMgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IHByZWNlZGVzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChlbGVtZW50ID0+IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCdwcmVjZWRlcycpLnN1YnN0cmluZygxKSk7XG4gICAgICAgICAgY29uc3QgZm9sbG93c1N5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoZWxlbWVudCA9PiBlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnN1YnN0cmluZygxKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgIGVsZW1lbnRJZDogcHJlY2VkZXNTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgZWxlbWVudElkOiBmb2xsb3dzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgIGF0dHJWYWx1ZTogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgICAgICAgY29uc3QgcHJlY2VkZXNTeWxsYWJsZSA9IHN5bGxhYmxlcy5maW5kKGVsZW1lbnQgPT4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykuc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgICBpZiAoIXByZWNlZGVzU3lsbGFibGUgfHwgIXByZWNlZGVzU3lsbGFibGUuaGFzQXR0cmlidXRlKCdmb2xsb3dzJykpIHtcbiAgICAgICAgICAgIGhhc0ludmFsaWRTeWxsYWJsZXMgPSB0cnVlO1xuICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgICAgICAgIGF0dHJWYWx1ZTogJydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHByZWNlZGVzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmb2xsb3dzJykgIT0gJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSkge1xuICAgICAgICAgICAgaGFzSW52YWxpZFN5bGxhYmxlcyA9IHRydWU7XG4gICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogcHJlY2VkZXNTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdmb2xsb3dzJykpIHtcbiAgICAgICAgICBjb25zdCBmb2xsb3dzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChlbGVtZW50ID0+IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmb2xsb3dzJykuc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgICBpZiAoIWZvbGxvd3NTeWxsYWJsZSB8fCAhZm9sbG93c1N5bGxhYmxlLmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSkge1xuICAgICAgICAgICAgaGFzSW52YWxpZFN5bGxhYmxlcyA9IHRydWU7XG4gICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChmb2xsb3dzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCdwcmVjZWRlcycpICE9ICcjJyArIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpIHtcbiAgICAgICAgICAgIGhhc0ludmFsaWRTeWxsYWJsZXMgPSB0cnVlO1xuICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogZm9sbG93c1N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFoYXNJbnZhbGlkU3lsbGFibGVzKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTm8gaW52YWxpZCBzeWxsYWJsZXMgZm91bmQnLCAnd2FybmluZycpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gICAgICAgIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbnRvZ2dsZWQgaW52YWxpZCBzeWxsYWJsZXMnLCAnc3VjY2VzcycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byB1bnRvZ2dsZSBpbnZhbGlkIHN5bGxhYmxlcycsICdlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXIgZm9yIFwiUmV2ZXJ0XCIgYnV0dG9uIGluc2lkZSBcIk1FSSBBY3Rpb25zXCIgZHJvcGRvd25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldmVydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3cuY29uZmlybSgnUmV2ZXJ0aW5nIHdpbGwgY2F1c2UgYWxsIGNoYW5nZXMgdG8gYmUgbG9zdC4gUHJlc3MgT0sgdG8gY29udGludWUuJykpIHtcbiAgICAgIG5lb25WaWV3LmRlbGV0ZURiKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cblxuICAvKiBcIlZJRVdcIiBtZW51ICovXG5cbiAgLypcblxuICAvLyBFdmVudCBsaXN0ZW5lcnMgZm9yIHNldHRpbmcgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluc2lkZSBcIlZpZXdcIiBkcm9wZG93blxuICBjb25zdCBmaXRDb250ZW50QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3pvb20tZml0LWNvbnRlbnQnKTtcbiAgY29uc3QgZml0Q29udGVudENoZWNrbWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tLWZpdC1jb250ZW50LWljb24nKTtcbiAgY29uc3QgZWFzeUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQnKTtcbiAgY29uc3QgZWFzeUVkaXRDaGVja21hcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQtaWNvbicpO1xuICBcbiAgLy8gZml0IGNvbnRlbnQgbGlzdGVuZXJcbiAgZml0Q29udGVudEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBlYXN5RWRpdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2VkJyk7XG4gICAgZml0Q29udGVudEJ0bi5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG5cbiAgICBlYXN5RWRpdENoZWNrbWFyay5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIGZpdENvbnRlbnRDaGVja21hcmsuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxuICAgIC8vIFRPRE86IFNhdmUgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluIGxvY2FsIHN0b3JhZ2VcbiAgICBcbiAgfSk7XG4gIC8vIGVhc3kgZWRpdCBsaXN0ZW5lclxuICBlYXN5RWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmaXRDb250ZW50QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICBlYXN5RWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG5cbiAgICBmaXRDb250ZW50Q2hlY2ttYXJrLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZWFzeUVkaXRDaGVja21hcmsuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxuICAgIC8vIFRPRE86IFNhdmUgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluIGxvY2FsIHN0b3JhZ2VcblxuICB9KTtcbiAgKi9cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSB1bmRvL3JlZG8gcGFuZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRVbmRvUmVkb1BhbmVsIChuZW9uVmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgLyoqXG4gICAqIFRyaWVzIHRvIHVuZG8gYW4gYWN0aW9uIGFuZCB1cGRhdGUgdGhlIHBhZ2UgaWYgaXQgc3VjY2VlZHMuXG4gICAqL1xuICBmdW5jdGlvbiB1bmRvSGFuZGxlciAoKTogdm9pZCB7XG4gICAgbmVvblZpZXcudW5kbygpLnRoZW4oKHJlc3VsdDogYm9vbGVhbikgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUaGVyZSBpcyBub3RoaW5nIGxlZnQgdG8gdW5kby4nKTtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gdW5kbyBhY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIFRyaWVzIHRvIHJlZG8gYW4gYWN0aW9uIGFuZCB1cGRhdGUgdGhlIHBhZ2UgaWYgaXQgc3VjY2VlZHMuXG4gICAqL1xuICBmdW5jdGlvbiByZWRvSGFuZGxlciAoKTogdm9pZCB7XG4gICAgbmVvblZpZXcucmVkbygpLnRoZW4oKHJlc3VsdDogYm9vbGVhbikgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUaGVyZSBpcyBub3RoaW5nIGxlZnQgdG8gcmVkby4nKTtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcmVkbyBhY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmRvSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ3onICYmIChldnQuY3RybEtleSB8fCBldnQubWV0YUtleSkpIHtcbiAgICAgIHVuZG9IYW5kbGVyKCk7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVkbycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVkb0hhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgaWYgKChldnQua2V5ID09PSAnWicgfHwgKGV2dC5rZXkgPT09ICd6JyAmJiBldnQuc2hpZnRLZXkpKSAmJiAoZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXkpKSB7XG4gICAgICByZWRvSGFuZGxlcigpO1xuICAgIH1cbiAgfSk7XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vc3JjL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi4vLi4vc3JjL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwnO1xuaW1wb3J0IERpdmFWaWV3IGZyb20gJy4uLy4uL3NyYy9EaXZhVmlldyc7XG5pbXBvcnQgU2luZ2xlVmlldyBmcm9tICcuLi8uLi9zcmMvU2luZ2xlVmlldy9TaW5nbGVWaWV3JztcbmltcG9ydCBEaXZhRWRpdCBmcm9tICcuLi8uLi9zcmMvU3F1YXJlRWRpdC9EaXZhRWRpdE1vZGUnO1xuaW1wb3J0IFNpbmdsZUVkaXRNb2RlIGZyb20gJy4uLy4uL3NyYy9TcXVhcmVFZGl0L1NpbmdsZUVkaXRNb2RlJztcbmltcG9ydCBJbmZvTW9kdWxlIGZyb20gJy4uLy4uL3NyYy9JbmZvTW9kdWxlJztcbmltcG9ydCBUZXh0VmlldyBmcm9tICcuLi8uLi9zcmMvVGV4dFZpZXcnO1xuaW1wb3J0IFRleHRFZGl0TW9kZSBmcm9tICcuLi8uLi9zcmMvVGV4dEVkaXRNb2RlJztcbmltcG9ydCB7IE5lb25WaWV3UGFyYW1zIH0gZnJvbSAnLi4vLi4vc3JjL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTmVvbk1hbmlmZXN0IH0gZnJvbSAnLi4vLi4vc3JjL1R5cGVzJztcbmltcG9ydCBQb3VjaERCIGZyb20gJ3BvdWNoZGInO1xuXG5jb25zdCBuYW1lID0gZ2V0R2V0UGFyYW0oJ21hbmlmZXN0Jyk7XG5jb25zdCBzdG9yYWdlID0gZ2V0R2V0UGFyYW0oJ3N0b3JhZ2UnKTtcblxuaWYgKG5hbWUpIHtcbiAgY29uc3QgbWFuaWZlc3RMb2NhdGlvbiA9IGAuL3NhbXBsZXMvbWFuaWZlc3RzLyR7bmFtZX0uanNvbmxkYDtcbiAgd2luZG93LmZldGNoKG1hbmlmZXN0TG9jYXRpb24pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIH1cbiAgfSkudGhlbihhc3luYyB0ZXh0ID0+IHtcbiAgICBsZXQgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3QgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBjb25zb2xlLmRlYnVnKHRleHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBEZXRlcm1pbmUgaWYgaXQgaXMgYSBzaW5nbGUgcGFnZSBvciBtdWx0aXBsZSBieSBtZWRpYSB0eXBlXG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufSBlbHNlIHtcbiAgY29uc3QgZGIgPSBuZXcgUG91Y2hEQignTmVvbi1Vc2VyLVN0b3JhZ2UnKTtcbiAgZGIuZ2V0QXR0YWNobWVudChzdG9yYWdlLCAnbWFuaWZlc3QnKS50aGVuKGJsb2IgPT4ge1xuICAgIHJldHVybiBuZXcgd2luZG93LlJlc3BvbnNlKGJsb2IpLmpzb24oKTtcbiAgfSkudGhlbihhc3luYyBtYW5pZmVzdCA9PiB7XG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRHZXRQYXJhbShwYXJhbU5hbWUpOiBzdHJpbmcge1xuICBsZXQgcmVzdWx0O1xuXG4gIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2hcbiAgICAuc3Vic3RyKDEpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdCgnPScpO1xuICAgICAgaWYgKHRtcFswXSA9PT0gcGFyYW1OYW1lKSB7XG4gICAgICAgIHJlc3VsdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xuICAgICAgfVxuICAgIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IE5lb25Db3JlIGZyb20gJy4vTmVvbkNvcmUnO1xuaW1wb3J0ICogYXMgVmFsaWRhdGlvbiBmcm9tICcuL1ZhbGlkYXRpb24nO1xuaW1wb3J0IHsgcGFyc2VNYW5pZmVzdCB9IGZyb20gJy4vdXRpbHMvTmVvbk1hbmlmZXN0JztcbmltcG9ydCBzZXRCb2R5IGZyb20gJy4vdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3cgfSBmcm9tICcuL3V0aWxzL01vZGFsV2luZG93JztcbmltcG9ydCB7IE5lb25NYW5pZmVzdCwgRWRpdG9yQWN0aW9uLCBBdHRyaWJ1dGVzLCBVc2VyVHlwZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHtcbiAgSW5mb0ludGVyZmFjZSxcbiAgTW9kYWxXaW5kb3dJbnRlcmZhY2UsXG4gIE5lb25WaWV3UGFyYW1zLFxuICBOZXVtZUVkaXRJbnRlcmZhY2UsXG4gIFRleHRFZGl0SW50ZXJmYWNlLFxuICBUZXh0Vmlld0ludGVyZmFjZSxcbiAgVmlld0ludGVyZmFjZVxufSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgaW5pdEVycm9yTG9nIH0gZnJvbSAnLi4vc3JjL3V0aWxzL0Vycm9yTG9nJztcbmltcG9ydCB7IHNldFNhdmVkU3RhdHVzLCBsaXN0ZW5VbnNhdmVkQ2hhbmdlcyB9IGZyb20gJy4vdXRpbHMvVW5zYXZlZCc7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncywgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cblxuLyoqXG4gKiBOZW9uVmlldyBjbGFzcy4gTWFuYWdlcyB0aGUgb3RoZXIgbW9kdWxlcyBvZiBOZW9uIGFuZCBjb21tdW5pY2F0ZXMgd2l0aFxuICogTmVvbkNvcmUuXG4gKi9cbmNsYXNzIE5lb25WaWV3IHtcbiAgLyoqIFRoZSBtYW5pZmVzdCBkZXNjcmliaW5nIHdoYXQgdG8gbG9hZCBhbmQgd2hlcmUgdG8gZmluZCBpdC4gKi9cbiAgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgLyoqIE1vZHVsZSB0aGF0IGRpc3BsYXlzIHJlbmRlcmVkIE1FSS4gKi9cbiAgdmlldzogVmlld0ludGVyZmFjZTtcbiAgLyoqIE5hbWUgb2YgdGhlIGRvY3VtZW50IGxvYWRlZC4gKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogTW9kdWxlIHRoYXQgaGFuZGxlcyBtYW5hZ2luZyByZXNvdXJjZXMsIHJlbmRlcmluZyBTVkdzLiAqL1xuICBjb3JlOiBOZW9uQ29yZTtcbiAgLyoqIE1vZHVsZSB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gb24gbXVzaWNhbCBlbGVtZW50cy4gKi9cbiAgaW5mbzogSW5mb0ludGVyZmFjZTtcbiAgLyoqIE1vZHVsZSB0aGF0IGFsbG93cyBlZGl0aW5nIG9mIG11c2ljYWwgZWxlbWVudHMuICovXG4gIE5ldW1lRWRpdDogTmV1bWVFZGl0SW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgYWxsb3dzIHZpZXdpbmcgb2Ygc3lsbGFibGUgdGV4dC4gKi9cbiAgdGV4dFZpZXc6IFRleHRWaWV3SW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgYWxsb3dzIGVkaXRpbmcgb2Ygc3lsbGFibGUgdGV4dC4gKi9cbiAgVGV4dEVkaXQ6IFRleHRFZGl0SW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgY29udHJvbHMgc3RhdGUgYW5kIGNvbnRlbnQgb2YgTmVvbiBtb2RhbCB3aW5kb3dzICovXG4gIG1vZGFsOiBNb2RhbFdpbmRvd0ludGVyZmFjZTtcbiAgLyoqIE1vZHVsZSB0aGF0IGhhbmRsZXMgdXNlcidzIHNldHRpbmdzIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UgKi9cbiAgbG9jYWxTZXR0aW5nczogTG9jYWxTZXR0aW5ncztcblxuICBwYXJhbXM6IE5lb25WaWV3UGFyYW1zO1xuXG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBOZW9uVmlldy4gU2V0cyBtb2RlIGFuZCBwYXNzZXMgY29uc3RydWN0b3JzLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKHBhcmFtczogTmVvblZpZXdQYXJhbXMpIHtcbiAgICBpZiAoIXBhcnNlTWFuaWZlc3QocGFyYW1zLm1hbmlmZXN0KSkge1xuICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHBhcnNlIHRoZSBtYW5pZmVzdCcpO1xuICAgIH1cblxuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMubWFuaWZlc3QgPSBwYXJhbXMubWFuaWZlc3Q7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIE5lb24gZm9yIGFueSBwcm92aWRlZCBlZGl0aW5nIG1vZHVsZXMuXG4gICAqL1xuICBzZXR1cEVkaXQocGFyYW1zOiBOZW9uVmlld1BhcmFtcyk6IHZvaWQge1xuICAgIC8vIFNldCB1cCBhbmQgc3RhcnQgdGhlIGNvcnJlY3QgZWRpdGluZyBtb2RlXG4gICAgaWYgKHBhcmFtcy5UZXh0VmlldyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnRleHRWaWV3ID0gbmV3IHBhcmFtcy5UZXh0Vmlldyh0aGlzKTtcbiAgICAgIGlmIChwYXJhbXMuVGV4dEVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLlRleHRFZGl0ID0gbmV3IHBhcmFtcy5UZXh0RWRpdCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmFtcy5OZXVtZUVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5OZXVtZUVkaXQgPSBuZXcgcGFyYW1zLk5ldW1lRWRpdCh0aGlzKTtcbiAgICAgIHRoaXMudGV4dFZpZXcudXBkYXRlQkJveFZpc2liaWxpdHkoKTtcbiAgICAgIGNvbnN0IHsgdXNlck1vZGUsIGluc2VydE1vZGUsIHNlbGVjdGlvbk1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnNlcnRNb2RlKS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdGlvbk1vZGUpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc3dpdGNoICh1c2VyTW9kZSkge1xuICAgICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluc2VydE1vZGUpLmNsaWNrKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VkaXQnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdGlvbk1vZGUpLmNsaWNrKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IE5lb25cbiAgICovXG4gIHN0YXJ0ICgpOiB2b2lkIHtcbiAgICAvKiB0aGlzLmNvcmUuZGIuaW5mbygpLnRoZW4oKGluZm8pID0+IHtcbiAgICAgIGlmIChpbmZvLmRvY19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aGlzLmNvcmUuaW5pdERiKCkudGhlbigoKSA9PiB7IHRoaXMudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0V4aXN0aW5nIGRhdGFiYXNlIGZvdW5kLiBSZXZlcnQgdG8gc3RhcnQgZnJvbSB0aGUgYmVnaW5uaW5nLicpO1xuICAgICAgICB0aGlzLnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9XG4gICAgfSk7ICovXG4gICAgc2V0Qm9keSh0aGlzKS50aGVuKCgpID0+IHtcbiAgICAgIC8vIGxvYWQgdGhlIGNvbXBvbmVudHNcbiAgICAgIHRoaXMubG9jYWxTZXR0aW5ncyA9IG5ldyBMb2NhbFNldHRpbmdzKHRoaXMubWFuaWZlc3RbJ0BpZCddKTtcbiAgICAgIHRoaXMudmlldyA9IG5ldyB0aGlzLnBhcmFtcy5WaWV3KHRoaXMsIHRoaXMucGFyYW1zLkRpc3BsYXksIHRoaXMubWFuaWZlc3QuaW1hZ2UpO1xuICAgICAgdGhpcy5uYW1lID0gdGhpcy5tYW5pZmVzdC50aXRsZTtcbiAgICAgIHRoaXMuY29yZSA9IG5ldyBOZW9uQ29yZSh0aGlzLm1hbmlmZXN0KTtcbiAgICAgIHRoaXMuaW5mbyA9IG5ldyB0aGlzLnBhcmFtcy5JbmZvKHRoaXMpO1xuICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbFdpbmRvdyh0aGlzKTtcbiAgICAgIFZhbGlkYXRpb24uaW5pdCh0aGlzKTsgLy8gaW5pdGlhbGl6ZSB2YWxpZGF0aW9uXG4gICAgICBpbml0RXJyb3JMb2coKTsgLy8gaW5pdGlhbGl6ZSBub3RpZmljYXRpb25zIGxvZ3NcbiAgICAgIGxpc3RlblVuc2F2ZWRDaGFuZ2VzKCk7XG5cbiAgICAgIHRoaXMuc2V0dXBFZGl0KHRoaXMucGFyYW1zKTtcbiAgICAgIHJldHVybiB0aGlzLmNvcmUuaW5pdERiKCk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAvLyBsb2FkIHRoZSBTVkdcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUZvckN1cnJlbnRQYWdlKHRydWUpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gYWRkIHRoZSBldmVudCBsaXN0ZW5lcnMgZGVwZW5kZW50IG9uIHRoZSBTVkdcbiAgICAgIHRoaXMudmlldy5vblNWR0xvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgcGFnZSBmcm9tIHRoZSBsb2FkZWQgdmlldyBhbmQgdGhlbiBkaXNwbGF5IHRoZVxuICAgKiBtb3N0IHVwIHRvIGRhdGUgU1ZHLlxuICAgKi9cbiAgdXBkYXRlRm9yQ3VycmVudFBhZ2UgKGRlbGF5ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwYWdlTm8gPSB0aGlzLnZpZXcuZ2V0Q3VycmVudFBhZ2UoKTtcbiAgICByZXR1cm4gdGhpcy52aWV3LmNoYW5nZVBhZ2UocGFnZU5vLCBkZWxheSk7XG4gIH1cblxuICAvKipcbiAgICogUmVkbyBhbiBhY3Rpb24gcGVyZm9ybWVkIG9uIHRoZSBjdXJyZW50IHBhZ2UgKGlmIHRoZXJlIGlzIG9uZSkuXG4gICAqL1xuICByZWRvICgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5yZWRvKHRoaXMudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmRvIHRoZSBsYXN0IGFjdGlvbiBwZXJmb3JtZWQgb24gdGhlIGN1cnJlbnQgcGFnZSAoaWYgdGhlcmUgaXMgb25lKS5cbiAgICovXG4gIHVuZG8gKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHNldFNhdmVkU3RhdHVzKGZhbHNlKTtcbiAgICByZXR1cm4gdGhpcy5jb3JlLnVuZG8odGhpcy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbW9kZSBOZW9uIGlzIGluLlxuICAgKiBAcmV0dXJucyBWYWx1ZSBpcyBcInZpZXdlclwiLCBcImluc2VydFwiLCBvciBcImVkaXRcIi5cbiAgICovXG4gIGdldFVzZXJNb2RlICgpOiBVc2VyVHlwZSB7XG4gICAgY29uc3QgeyB1c2VyTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4gdXNlck1vZGU7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBwZXJmb3JtIGFuIGVkaXRvciBhY3Rpb24uXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgZWRpdG9yIHRvb2xraXQgYWN0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBwYWdlIHRvIHBlcmZvcm0gdGhlIGFjdGlvbiBvblxuICAgKi9cbiAgZWRpdCAoYWN0aW9uOiBFZGl0b3JBY3Rpb24sIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZWRpdChhY3Rpb24sIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRlcyBmb3IgYSBzcGVjaWZpYyBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50SWQgLSBUaGUgdW5pcXVlIElEIG9mIHRoZSBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0aGUgZWxlbWVudCBpcyBmb3VuZCBvbi5cbiAgICovXG4gIGdldEVsZW1lbnRBdHRyIChlbGVtZW50SUQ6IHN0cmluZywgcGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxBdHRyaWJ1dGVzPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRFbGVtZW50QXR0cihlbGVtZW50SUQsIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYnJvd3NlciBkYXRhYmFzZSBhbmQgY3JlYXRlcyBKU09OLUxEIHNhdmUgZmlsZS5cbiAgICogQHJldHVybnMgVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZS5cbiAgICovXG4gIGV4cG9ydCAoKTogUHJvbWlzZTxzdHJpbmcgfCBBcnJheUJ1ZmZlcj4ge1xuICAgIHJldHVybiAobmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLnVwZGF0ZURhdGFiYXNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubWFuaWZlc3RbJ21laV9hbm5vdGF0aW9ucyddID0gdGhpcy5jb3JlLmdldEFubm90YXRpb25zKCk7XG4gICAgICAgIHRoaXMubWFuaWZlc3QudGltZXN0YW1wID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgd2luZG93LkJsb2IoW0pTT04uc3RyaW5naWZ5KHRoaXMubWFuaWZlc3QsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicgfSk7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSB0aGUgY3VycmVudCBzdGF0ZSB0byB0aGUgYnJvd3NlciBkYXRhYmFzZS5cbiAgICovXG4gIHNhdmUgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHNldFNhdmVkU3RhdHVzKHRydWUpO1xuICAgIHJldHVybiB0aGlzLmNvcmUudXBkYXRlRGF0YWJhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBsb2NhbCBkYXRhYmFzZSBvZiB0aGUgbG9hZGVkIE1FSSBmaWxlKHMpLlxuICAgKi9cbiAgZGVsZXRlRGIgKCk6IFByb21pc2U8dm9pZFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5kZWxldGVEYigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFnZSdzIE1FSSBmaWxlIGVuY29kZWQgYXMgYSBkYXRhIFVSSS5cbiAgICogQHBhcmFtIHBhZ2VObyAtIFRoZSBVUkkgc3BlY2lmeWluZyB0aGUgcGFnZS5cbiAgICogQHJldHVybnMgQSBbRGF0YSBVUkldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RhdGFfVVJJX3NjaGVtZSkuXG4gICAqL1xuICBnZXRQYWdlVVJJIChwYWdlTm8/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmIChwYWdlTm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZU5vID0gdGhpcy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLmdldE1FSShwYWdlTm8pLnRoZW4oKG1laSkgPT4ge1xuICAgICAgICByZXNvbHZlKCdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KG1laSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgTUVJIGZpbGUgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSBwYWdlTm8gLSBUaGUgaWRlbnRpZnlpbmcgVVJJIG9mIHRoZSBwYWdlLlxuICAgKi9cbiAgZ2V0UGFnZU1FSSAocGFnZU5vOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZ2V0TUVJKHBhZ2VObyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgU1ZHLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIGlkZW50aWZ5aW5nIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldFBhZ2VTVkcgKHBhZ2VObzogc3RyaW5nKTogUHJvbWlzZTxTVkdTVkdFbGVtZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRTVkcocGFnZU5vKTtcbiAgfVxufVxuXG5leHBvcnQgeyBOZW9uVmlldyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBjaGVja091dE9mQm91bmRzR2x5cGhzLCBjb252ZXJ0VG9WZXJvdmlvLCByZW1vdmVDb2x1bW5MYWJlbCB9IGZyb20gJy4vdXRpbHMvQ29udmVydE1laSc7XG5pbXBvcnQgKiBhcyBWYWxpZGF0aW9uIGZyb20gJy4vVmFsaWRhdGlvbic7XG5pbXBvcnQgVmVyb3Zpb1dyYXBwZXIgZnJvbSAnLi9WZXJvdmlvV3JhcHBlcic7XG5pbXBvcnQgeyBXZWJBbm5vdGF0aW9uLCBBdHRyaWJ1dGVzLCBFZGl0b3JBY3Rpb24sIE5lb25NYW5pZmVzdCwgVmVyb3Zpb01lc3NhZ2UgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vdXRpbHMvcmFuZG9tJztcblxuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5pbXBvcnQgeyBzZXRTYXZlZFN0YXR1cyB9IGZyb20gJy4vdXRpbHMvVW5zYXZlZCc7XG5cbi8qKlxuICogQSBjYWNoZSBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygd2hhdCBoYXMgaGFwcGVuZWRcbiAqIGFjcm9zcyBtdWx0aXBsZSBwYWdlcyBpbiBhIG1hbnVzY3JpcHQgd2l0aG91dCBoYXZpbmdcbiAqIHRvIG1ha2UgbWFueSBjYWxscyB0byB0aGUgUG91Y2hoRGIgZGF0YWJhc2UuXG4gKi9cbmludGVyZmFjZSBDYWNoZUVudHJ5IHtcbiAgZGlydHk6IGJvb2xlYW47XG4gIG1laTogc3RyaW5nO1xuICBzdmc6IFNWR1NWR0VsZW1lbnQ7XG59XG5cbi8qKlxuICogVGhlIGNvcmUgY29tcG9uZW50IG9mIE5lb24uIFRoaXMgbWFuYWdlcyB0aGUgZGF0YWJhc2UsXG4gKiB0aGUgdmVyb3ZpbyB0b29sa2l0LCB0aGUgY2FjaGUsIGFuZCB1bmRvL3JlZG8gc3RhY2tzLlxuICovXG5jbGFzcyBOZW9uQ29yZSB7XG4gIC8qKiBXcmFwcGVyIGZvciB0aGUgVmVyb3ZpbyBXZWJXb3JrZXIuICovXG4gIHByaXZhdGUgdmVyb3Zpb1dyYXBwZXI6IFZlcm92aW9XcmFwcGVyO1xuICAvKiogU3RhY2tzIG9mIGFjdGlvbnMgdGhhdCBjYW4gYmUgdW5kb25lIHBlciBwYWdlLiAqL1xuICBwcml2YXRlIHVuZG9TdGFja3M6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgLyoqIFN0YWNrcyBvZiBhY3Rpb25zIHRoYXQgY2FuIGJlIHJlZG9uZSBwZXIgcGFnZS4gKi9cbiAgcHJpdmF0ZSByZWRvU3RhY2tzOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT47XG4gIC8qKiBDYWNoZSBjb250YWluaW5nIGVudHJpZXMgZm9yIGVhY2ggcGFnZS4gKi9cbiAgcHJpdmF0ZSBuZW9uQ2FjaGU6IE1hcDxzdHJpbmcsIENhY2hlRW50cnk+O1xuICBwcml2YXRlIGRiOiBQb3VjaERCLkRhdGFiYXNlO1xuICBwcml2YXRlIHBhcnNlcjogRE9NUGFyc2VyO1xuICAvKiogUGFnZXMga25vd24gbm90IHRvIGhhdmUgYW55IGFzc29jaWF0ZWQgTUVJLiAqL1xuICBwcml2YXRlIGJsYW5rUGFnZXM6IEFycmF5PHN0cmluZz47XG4gIC8qKiBBIGNvbGxlY3Rpb24gb2YgVzMgV2ViIEFubm90YXRpb25zLiAqL1xuICBwcml2YXRlIGFubm90YXRpb25zOiBXZWJBbm5vdGF0aW9uW107XG4gIHByaXZhdGUgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgcHJpdmF0ZSBsYXN0UGFnZUxvYWRlZDogc3RyaW5nO1xuXG4gIGdldEFubm90YXRpb25zICgpOiBXZWJBbm5vdGF0aW9uW10geyByZXR1cm4gdGhpcy5hbm5vdGF0aW9uczsgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgTmVvbkNvcmVcbiAgICovXG4gIGNvbnN0cnVjdG9yIChtYW5pZmVzdDogTmVvbk1hbmlmZXN0KSB7XG4gICAgdGhpcy52ZXJvdmlvV3JhcHBlciA9IG5ldyBWZXJvdmlvV3JhcHBlcigpO1xuICAgIC8vVmFsaWRhdGlvbi5pbml0KCk7XG5cbiAgICAvKipcbiAgICAgKiBTdGFja3Mgb2YgcHJldmlvdXMgTUVJIGZpbGVzIHJlcHJlc2VudGluZyBhY3Rpb25zIHRoYXQgY2FuIGJlIHVuZG9uZSBmb3IgZWFjaCBwYWdlLlxuICAgICAqIEB0eXBlIHtNYXAuPHN0cmluZywgQXJyYXkuPHN0cmluZz4+fVxuICAgICAqL1xuICAgIHRoaXMudW5kb1N0YWNrcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcblxuICAgIC8qKlxuICAgICAqIFN0YWNrcyBvZiBwcmV2aW91cyBNRUkgZmlsZXMgcmVwcmVzZW50aW5nIGFjdGlvbnMgdGhhdCBjYW4gYmUgcmVkb25lIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLCBBcnJheS48c3RyaW5nPj59XG4gICAgICovXG4gICAgdGhpcy5yZWRvU3RhY2tzID0gbmV3IE1hcCgpO1xuXG4gICAgdGhpcy5uZW9uQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLnBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIHRoaXMuZGIgPSBuZXcgUG91Y2hEQignTmVvbicpO1xuXG4gICAgdGhpcy5ibGFua1BhZ2VzID0gW107XG5cbiAgICAvLyBBZGQgZWFjaCBNRUkgdG8gdGhlIGRhdGFiYXNlXG4gICAgdGhpcy5tYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBtYW5pZmVzdC5tZWlfYW5ub3RhdGlvbnM7XG4gICAgdGhpcy5sYXN0UGFnZUxvYWRlZCA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIFBvdWNoRGIgZGF0YWJhc2UgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG1hbmlmZXN0LlxuICAgKiBJZiBhIG5ld2VyIHZlcnNpb24gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRhdGFiYXNlLCB0aGlzIHdpbGxcbiAgICogbm90IHVwZGF0ZSB0aGUgZGF0YWJhc2UgdW5sZXNzIGZvcmNlZC5cbiAgICogQHBhcmFtIGZvcmNlIC0gSWYgYSBkYXRhYmFzZSB1cGRhdGUgc2hvdWxkIGJlIGZvcmNlZC5cbiAgICovXG4gIGFzeW5jIGluaXREYiAoZm9yY2UgPSBmYWxzZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBtYW5pZmVzdFxuICAgIHR5cGUgRGJBbm5vdGF0aW9uID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgV2ViQW5ub3RhdGlvbjtcbiAgICB0eXBlIERvYyA9IFBvdWNoREIuQ29yZS5JZE1ldGEgJiBQb3VjaERCLkNvcmUuR2V0TWV0YSAmIHsgdGltZXN0YW1wOiBzdHJpbmc7IGFubm90YXRpb25zOiBzdHJpbmdbXX07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZTxib29sZWFuPigocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmRiLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKGVyci5uYW1lID09PSAnbm90X2ZvdW5kJykge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYSBuZXcgZG9jdW1lbnQuXG4gICAgICAgICAgY29uc3QgZG9jID0ge1xuICAgICAgICAgICAgX2lkOiB0aGlzLm1hbmlmZXN0WydAaWQnXSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5tYW5pZmVzdC50aW1lc3RhbXAsXG4gICAgICAgICAgICBpbWFnZTogdGhpcy5tYW5pZmVzdC5pbWFnZSxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLm1hbmlmZXN0LnRpdGxlLFxuICAgICAgICAgICAgYW5ub3RhdGlvbnM6IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25zLmZvckVhY2goYW5ub3RhdGlvbiA9PiB7XG4gICAgICAgICAgICBkb2MuYW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uLmlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oYXN5bmMgKGRvYzogRG9jKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRvYyB0aW1lc3RhbXAgaXMgbmV3ZXIgdGhhbiBtYW5pZmVzdFxuICAgICAgICBjb25zdCBkb2NUaW1lID0gKG5ldyBEYXRlKGRvYy50aW1lc3RhbXApKS5nZXRUaW1lKCk7XG4gICAgICAgIC8vIEZvcm1hdCB0aW1lc3RhbXAgdG8gc3BlY2lmaWMgSVNPIDg2MDEgdmFyaWFudCBiZWNhdXNlXG4gICAgICAgIC8vIFNhZmFyaSByZXF1aXJlcyB0aW1lem9uZSBvZmZzZXRzIHRvIGJlICsvLUhIOk1NIGFuZCBmYWlscyBvblxuICAgICAgICAvLyB0aGUgZXF1YWxseSB2YWxpZCArLy1ISE1NLiBUaGlzIGRvZXNuJ3QgbmVlZCB0byBiZSBhcHBsaWVkIHRvXG4gICAgICAgIC8vIHRoZSBicm93c2VyIGdlbmVyYXRlZCB0aW1lc3RhbXAgc2luY2UgdGhhdCBhbHdheXMgZ2VuZXJhdGVzIGFcbiAgICAgICAgLy8gdGltZXN0YW1wIGluIFVUQyB3aXRoIHRoZSBaIGVuZGluZy5cbiAgICAgICAgY29uc3QgdGltZVpvbmVSZWdleHAgPSAvKC4rWy0rXFx1MjIxMl1cXGRcXGQpKFxcZFxcZCkkLztcbiAgICAgICAgY29uc3QgbWFuVGltZSA9ICh0aW1lWm9uZVJlZ2V4cC50ZXN0KHRoaXMubWFuaWZlc3QudGltZXN0YW1wKSkgP1xuICAgICAgICAgIChuZXcgRGF0ZSh0aGlzLm1hbmlmZXN0LnRpbWVzdGFtcC5yZXBsYWNlKHRpbWVab25lUmVnZXhwLCAnJDE6JDInKSkpLmdldFRpbWUoKVxuICAgICAgICAgIDogKG5ldyBEYXRlKHRoaXMubWFuaWZlc3QudGltZXN0YW1wKSkuZ2V0VGltZSgpO1xuICAgICAgICBpZiAoZG9jVGltZSA+IG1hblRpbWUpIHtcbiAgICAgICAgICBpZiAoIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGFubm90YXRpb25zIGxpc3Qgd2l0aCBkYiBhbm5vdGF0aW9uc1xuICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBkb2MuYW5ub3RhdGlvbnMubWFwKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYi5nZXQoaWQpLnRoZW4oKGFubm90YXRpb246IERiQW5ub3RhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGFubm90YXRpb24uX2lkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnQW5ub3RhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGFubm90YXRpb24uYm9keSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBhbm5vdGF0aW9uLnRhcmdldFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFubm90YXRpb24gb2YgdGhpcy5hbm5vdGF0aW9ucykge1xuICAgICAgICAgIC8vIEFkZCBhbm5vdGF0aW9ucyB0byBkYXRhYmFzZVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIuZ2V0KGFubm90YXRpb24uaWQpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgX2lkOiBhbm5vdGF0aW9uLmlkXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS50aGVuKChuZXdBbm5vdGF0aW9uOiBEYkFubm90YXRpb24pID0+IHtcbiAgICAgICAgICAgIG5ld0Fubm90YXRpb24uYm9keSA9IGFubm90YXRpb24uYm9keTtcbiAgICAgICAgICAgIG5ld0Fubm90YXRpb24udGFyZ2V0ID0gYW5ub3RhdGlvbi50YXJnZXQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYi5wdXQobmV3QW5ub3RhdGlvbik7XG4gICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRiLnB1dChkb2MpO1xuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBwYWdlIGludG8gdGhlIHZlcm92aW8gdG9vbGtpdC4gVGhpcyB3aWxsIGZldGNoIHRoZVxuICAgKiBwYWdlIGZyb20gdGhlIGNhY2hlIG9yIGZyb20gdGhlIGRhdGFiYXNlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBsb2FkUGFnZSAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxDYWNoZUVudHJ5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgIC8vIFdhcyB0aGlzIGFscmVhZHkgdGhlIGxvYWRlZCBwYWdlP1xuICAgICAgaWYgKHRoaXMubGFzdFBhZ2VMb2FkZWQgPT09IHBhZ2VVUkkgJiYgdGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHRoaXMubG9hZERhdGEocGFnZVVSSSwgdGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpLm1laSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh0aGlzLm5lb25DYWNoZS5nZXQocGFnZVVSSSkpO1xuICAgICAgICB9KTtcbiAgICAgIC8vIERvIHdlIGtub3cgdGhpcyBwYWdlIGhhcyBubyBNRUkgY29udGVudD9cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5ibGFua1BhZ2VzLmluY2x1ZGVzKHBhZ2VVUkkpKSB7XG4gICAgICAgIFZhbGlkYXRpb24uYmxhbmtQYWdlKCk7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgRXJyb3IoJ05vIE1FSSBmaWxlIGZvciBwYWdlICcgKyBwYWdlVVJJKTtcbiAgICAgICAgZS5uYW1lID0gJ21pc3NpbmdfbWVpJztcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmluZCBhbm5vdGF0aW9uXG4gICAgICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLmFubm90YXRpb25zLmZpbmQoZWxlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGVsZW0udGFyZ2V0ID09PSBwYWdlVVJJO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFubm90YXRpb24pIHtcbiAgICAgICAgICB3aW5kb3cuZmV0Y2goYW5ub3RhdGlvbi5ib2R5KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgTUVJIGZpbGUgaXMgc2ItYmFzZWQuIElmIHNvLCBjb252ZXJ0IHRvIHN0YWZmLWJhc2VkLlxuICAgICAgICAgICAgaWYgKGRhdGEubWF0Y2goLzxzYiAuKz4vKSkge1xuICAgICAgICAgICAgICBkYXRhID0gY29udmVydFRvVmVyb3ZpbyhkYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2tPdXRPZkJvdW5kc0dseXBocyhkYXRhKTtcbiAgICAgICAgICAgIHRoaXMubG9hZERhdGEocGFnZVVSSSwgZGF0YSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiBubyBhbm5vdGF0aW9uIHdhcyBmb3VuZCB0cmVhdCB0aGUgcGFnZSBhc1xuICAgICAgICAgIC8vIGJlaW5nIGJsYW5rXG4gICAgICAgICAgVmFsaWRhdGlvbi5ibGFua1BhZ2UoKTtcbiAgICAgICAgICB0aGlzLmJsYW5rUGFnZXMucHVzaChwYWdlVVJJKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgZGF0YSBpbnRvIHRoZSB2ZXJvdmlvIHRvb2xraXQgYW5kIHVwZGF0ZSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICogQHBhcmFtIGRhdGEgLSBUaGUgTUVJIG9mIHRoZSBwYWdlIGFzIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gZGlydHkgLSBJZiB0aGUgY2FjaGUgZW50cnkgc2hvdWxkIGJlIG1hcmtlZCBhcyBkaXJ0eS5cbiAgICovXG4gIGxvYWREYXRhIChwYWdlVVJJOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgZGlydHkgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIFZhbGlkYXRpb24uc2VuZEZvclZhbGlkYXRpb24ocmVtb3ZlQ29sdW1uTGFiZWwoZGF0YSkpO1xuICAgIHRoaXMubGFzdFBhZ2VMb2FkZWQgPSBwYWdlVVJJO1xuICAgIC8qIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgcmVzdWx0IG9mIHRoZSBhY3Rpb24uXG4gICAgICogSG93ZXZlciB0aGUgdmFsdWUgdGhhdCBpcyBtdXN0IHJldHVybiBjb21lcyBmcm9tIHRoZSBXZWIgV29ya2VyIGFuZFxuICAgICAqIGluZm9ybWF0aW9uIHBhc3NlZCBiZXR3ZWVuIHRoZSB3b3JrZXIgYW5kIG1haW4gY29udGV4dCBtdWNoIGJlIGluIGFcbiAgICAgKiBtZXNzYWdlLiBTbyBhbiBldmVudCBoYW5kbGVyIGlzIHB1dCBvbiB2ZXJvdmlvV3JhcHBlciBmb3Igd2hlbiBhIG1lc3NhZ2VcbiAgICAgKiBpcyByZWNlaWV2ZWQgZnJvbSB0aGUgd29ya2VyLiBUaGVuIGEgbWVzc2FnZSBpcyBzZW50IHRvIHRoZSB3b3JrZXIgdG9cbiAgICAgKiB0YWtlIGFuIGFjdGlvbi4gQSByZXNwb25zZSBpcyBzZW50IGJhY2sgYW5kIHRoZSBwcmV2aW91c2x5IG1lbnRpb25lZFxuICAgICAqIGV2ZW50IGhhbmRsZXIgaGFuZGxlcyB0aGUgcmVzcG9uc2UuIFNpbmNlIGl0IGlzIGRlZmluZWQgd2l0aGluIHRoZVxuICAgICAqIHByb21pc2UgaXQgaGFzIGFjY2VzcyB0byB0aGUgbmVjZXNzYXJ5IHJlc29sdmUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBhY3Rpb246ICdyZW5kZXJEYXRhJyxcbiAgICAgICAgbWVpOiBkYXRhXG4gICAgICB9O1xuICAgICAgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICBjb25zdCBzdmcgPSB0aGlzLnBhcnNlci5wYXJzZUZyb21TdHJpbmcoXG4gICAgICAgICAgICBldnQuZGF0YS5zdmcsXG4gICAgICAgICAgICAnaW1hZ2Uvc3ZnK3htbCdcbiAgICAgICAgICApLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICB0aGlzLm5lb25DYWNoZS5zZXQocGFnZVVSSSwge1xuICAgICAgICAgICAgc3ZnOiBzdmcsXG4gICAgICAgICAgICBtZWk6IGRhdGEsXG4gICAgICAgICAgICBkaXJ0eTogZGlydHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFNWRyBmb3IgYSBzcGVjaWZpYyBwYWdlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBnZXRTVkcgKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8U1ZHU1ZHRWxlbWVudD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpLnRoZW4oKGVudHJ5KSA9PiB7XG4gICAgICAgIHJlc29sdmUoZW50cnkuc3ZnKTtcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsgcmVqZWN0KGVycik7IH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgTUVJIGZvciBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICovXG4gIGdldE1FSSAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKChlbnRyeSkgPT4ge1xuICAgICAgICByZXNvbHZlKGVudHJ5Lm1laSk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbXVzaWNhbCBlbGVtZW50IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdmVyb3ZpbyB0b29sa2l0LlxuICAgKiBAcGFyYW0gZWxlbWVudElkIC0gVGhlIHVuaXF1ZSBJRCBvZiB0aGUgbXVzaWNhbCBlbGVtZW50LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBnZXRFbGVtZW50QXR0ciAoZWxlbWVudElkOiBzdHJpbmcsIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8QXR0cmlidXRlcz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZTogVmVyb3Zpb01lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgIGFjdGlvbjogJ2dldEVsZW1lbnRBdHRyJyxcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiBoYW5kbGUgKGV2dDogTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2dC5kYXRhLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgICAgcmVzb2x2ZShldnQuZGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhbiBlZGl0b3IgYWN0aW9uIG9uIGEgc3BlY2lmaWMgcGFnZS5cbiAgICogQHBhcmFtIGFjdGlvbiAtIFRoZSBlZGl0b3IgdG9vbGtpdCBhY3Rpb24gb2JqZWN0LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBlZGl0IChlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiwgcGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeT47XG4gICAgaWYgKHRoaXMubGFzdFBhZ2VMb2FkZWQgPT09IHBhZ2VVUkkpIHtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZSA9IHRoaXMubG9hZFBhZ2UocGFnZVVSSSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgcHJvbWlzZS50aGVuKGVudHJ5ID0+IHtcbiAgICAgICAgLy8gZGVsZXRlIHVubmVjZXNzYXJ5IFNWRyBvYmplY3QgcmVmZXJlbmNlO1xuICAgICAgICAvLyBvdGhlcndpc2UsIHRoaXMgaXMgbm90IGdhcmJhZ2UgY29sbGVjdGVkIVxuICAgICAgICBlbnRyeS5zdmcgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRNRUkgPSBlbnRyeS5tZWk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0JyxcbiAgICAgICAgICBlZGl0b3JBY3Rpb246IGVkaXRvckFjdGlvblxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGUgKHRoaXM6IE5lb25Db3JlLCBldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgaWYgKGV2dC5kYXRhLnJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuZG9TdGFja3Muc2V0KHBhZ2VVUkksIFtdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEFkZCB0byB1bmRvIHN0YWNrOlxuICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGJvdHRvbW1vc3QgTUVJIHN0cmluZyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHN0YWNrIGlzID4gMTAgc3RyaW5nc1xuICAgICAgICAgICAgICBjb25zdCB1bmRvU3RhY2sgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpO1xuICAgICAgICAgICAgICBjb25zdCBsZW4gPSB1bmRvU3RhY2sucHVzaChjdXJyZW50TUVJKTtcblxuICAgICAgICAgICAgICBpZiAobGVuID4gMTApXG4gICAgICAgICAgICAgICAgdGhpcy51bmRvU3RhY2tzLnNldChwYWdlVVJJLCB1bmRvU3RhY2suc2xpY2UoMSkpO1xuXG4gICAgICAgICAgICAgIC8vIENsZWFyIHJlZG8gc3RhY2s6XG4gICAgICAgICAgICAgIHRoaXMucmVkb1N0YWNrcy5zZXQocGFnZVVSSSwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FjaGUocGFnZVVSSSwgdHJ1ZSkudGhlbigoKSA9PiB7IHJlc29sdmUoZXZ0LmRhdGEucmVzdWx0KTsgfSk7XG4gICAgICAgICAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjb250ZW50cyBvZiB0aGUgY2FjaGUgdXNpbmcgaW5mb3JtYXRpb24gaW4gdmVyb3ZpbyB0b29sa2l0LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFBhZ2UgdG8gYmUgdXBkYXRlZCBpbiBjYWNoZS5cbiAgICogQHBhcmFtIGRpcnR5IC0gSWYgdGhlIGVudHJ5IHNob3VsZCBiZSBtYXJrZWQgYXMgZGlydHlcbiAgICovXG4gIHVwZGF0ZUNhY2hlIChwYWdlVVJJOiBzdHJpbmcsIGRpcnR5OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAvLyBNdXN0IGdldCBNRUkgYW5kIHRoZW4gZ2V0IFNWRyB0aGVuIGZpbmlzaC5cbiAgICAgIGxldCBtZWk6IHN0cmluZywgc3ZnVGV4dDogc3RyaW5nO1xuICAgICAgY29uc3QgbWVpUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdnZXRNRUknXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIGhhbmRsZSAoZXZ0OiBNZXNzYWdlRXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgIG1laSA9IGV2dC5kYXRhLm1laTtcbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICBWYWxpZGF0aW9uLnNlbmRGb3JWYWxpZGF0aW9uKHJlbW92ZUNvbHVtbkxhYmVsKG1laSkpO1xuICAgICAgICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3ZnUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdyZW5kZXJUb1NWRydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgc3ZnVGV4dCA9IGV2dC5kYXRhLnN2ZztcbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICByZXNvbHZlKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIG1laVByb21pc2UudGhlbigoKSA9PiB7IHJldHVybiBzdmdQcm9taXNlOyB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gdGhpcy5wYXJzZXIucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgIHN2Z1RleHQsXG4gICAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnXG4gICAgICAgICkuZG9jdW1lbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50ICYgU1ZHU1ZHRWxlbWVudDtcbiAgICAgICAgdGhpcy5uZW9uQ2FjaGUuc2V0KHBhZ2VVUkksIHtcbiAgICAgICAgICBtZWk6IG1laSxcbiAgICAgICAgICBzdmc6IHN2ZyxcbiAgICAgICAgICBkaXJ0eTogZGlydHlcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWRpdCBpbmZvIHN0cmluZyBmcm9tIHRoZSB2ZXJvdmlvIHRvb2xraXQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0byBnZXQgdGhlIGVkaXQgaW5mbyBzdHJpbmcgZnJvbS5cbiAgICovXG4gIGluZm8gKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeSB8IHZvaWQ+O1xuICAgIGlmICh0aGlzLmxhc3RQYWdlTG9hZGVkID09PSBwYWdlVVJJKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0SW5mbydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXZ0LmRhdGEuaW5mbyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICogQHJldHVybnMgSWYgdGhlIGFjdGlvbiB3YXMgdW5kb25lLlxuICAgKi9cbiAgdW5kbyAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpXG4gICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcblxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpLnBvcCgpO1xuICAgICAgaWYgKCFzdGF0ZSkgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBtZWkgPSBhd2FpdCB0aGlzLmdldE1FSShwYWdlVVJJKTtcbiAgICAgIHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucHVzaChtZWkpO1xuICAgICAgYXdhaXQgdGhpcy5sb2FkRGF0YShwYWdlVVJJLCBzdGF0ZSwgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIHBhZ2UgVVJJLlxuICAgKiBAcmV0dXJucyBJZiB0aGUgYWN0aW9uIHdhcyByZWRvbmUuXG4gICAqL1xuICByZWRvIChwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICghdGhpcy5yZWRvU3RhY2tzLmhhcyhwYWdlVVJJKSlcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucG9wKCk7XG4gICAgICBpZiAoIXN0YXRlKSByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG5cbiAgICAgIGNvbnN0IG1laSA9IGF3YWl0IHRoaXMuZ2V0TUVJKHBhZ2VVUkkpO1xuICAgICAgdGhpcy51bmRvU3RhY2tzLmdldChwYWdlVVJJKS5wdXNoKG1laSk7XG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKHBhZ2VVUkksIHN0YXRlLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBQb3VjaERiIGRhdGFiYXNlIHN0b3JlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICogVGhpcyBpcyBiYXNlZCBvbiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNhY2hlLiBUbyBzYXZlIHRpbWUsXG4gICAqIG9ubHkgZW50cmllcyBtYXJrZWQgYXMgZGlydHkgd2lsbCBiZSB1cGRhdGVkLlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRGF0YWJhc2UgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLkdldE1ldGEgJiBQb3VjaERCLkNvcmUuSWRNZXRhICYgeyBib2R5OiBzdHJpbmc7IHRpbWVzdGFtcDogc3RyaW5nIH07XG4gICAgbGV0IHVwZGF0ZVRpbWVzdGFtcCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcGFpciBvZiB0aGlzLm5lb25DYWNoZSkge1xuICAgICAgY29uc3Qga2V5ID0gcGFpclswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFpclsxXTtcbiAgICAgIGlmICh2YWx1ZS5kaXJ0eSkge1xuICAgICAgICB1cGRhdGVUaW1lc3RhbXAgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYW5ub3RhdGlvbnMuZmluZEluZGV4KGVsZW0gPT4geyByZXR1cm4gZWxlbS50YXJnZXQgPT09IGtleTsgfSk7XG4gICAgICAgIC8vIHRyeSB0byB1cGRhdGUgc2VydmVyIHdpdGggUFVUIHJlcXVlc3QgKGlmIGFwcGxpY2FibGUpXG4gICAgICAgIC8vIHRoaXMgaXMgc2ltcGxlciB0aGFuIGV4cGVjdGluZyBhIHNwZWNpZmljIEFQSSBvbiB0aGUgc2VydmVyXG4gICAgICAgIC8vIGFuZCB1c2luZyBQT1NUIHJlcXVlc3RzLCBhbHRob3VnaCB0aGF0IHdvdWxkIGJlIGJldHRlciBpZiB0aGVyZVxuICAgICAgICAvLyBpcyBldmVyIGEgZGVkaWNhdGVkIHB1YmxpYyBzZXJ2ZXIgZm9yIE5lb24hIEF0IHRpbWUgb2Ygd3JpdGluZyxcbiAgICAgICAgLy8gb25seSBkZXYvdGVzdGluZyBzZXJ2ZXIgYWNjZXB0cyBQVVQgcmVxdWVzdHMuXG4gICAgICAgIC8vIG9ubHkgYXR0ZW1wdCBpZiBub3QgYSBkYXRhIFVSSVxuICAgICAgICBsZXQgdXJpOiBzdHJpbmc7XG4gICAgICAgIGlmICghdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keS5tYXRjaCgvXmRhdGE6LykpIHtcbiAgICAgICAgICBhd2FpdCB3aW5kb3cuZmV0Y2godGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL21laSt4bWwnIH0sXG4gICAgICAgICAgICAgIGJvZHk6IHZhbHVlLm1laVxuICAgICAgICAgICAgfVxuICAgICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdXJpID0gdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVyaSA9ICdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYSh2YWx1ZS5tZWkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhbGxpbmcgYmFjayB0byBkYXRhIFVSSScpO1xuICAgICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIFVSSSBpbiBhbm5vdGF0aW9ucywgZGF0YWJhc2VcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSA9IHVyaTtcbiAgICAgICAgYXdhaXQgdGhpcy5kYi5nZXQodGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uaWQpLnRoZW4oKGRvYzogRG9jKSA9PiB7XG4gICAgICAgICAgZG9jLmJvZHkgPSB1cmk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KGRvYyk7XG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHZhbHVlLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXBkYXRlVGltZXN0YW1wKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSkudGhlbigoZG9jOiBEb2MpID0+IHtcbiAgICAgICAgZG9jLnRpbWVzdGFtcCA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5wdXQoZG9jKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBDb21wbGV0ZWx5IHJlbW92ZSB0aGUgZGF0YWJhc2UuICovXG4gIGFzeW5jIGRlbGV0ZURiICgpOiBQcm9taXNlPHZvaWRbXT4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgeyB0aW1lc3RhbXA6IHN0cmluZzsgYW5ub3RhdGlvbnM6IHN0cmluZ1tdfTtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IGF3YWl0IHRoaXMuZGIuZ2V0KHRoaXMubWFuaWZlc3RbJ0BpZCddKVxuICAgICAgLnRoZW4oKGRvYzogRG9jKSA9PiB7IHJldHVybiBkb2MuYW5ub3RhdGlvbnM7IH0gKTtcbiAgICBhbm5vdGF0aW9ucy5wdXNoKHRoaXMubWFuaWZlc3RbJ0BpZCddKTtcblxuICAgIGNvbnN0IHByb21pc2VzID0gYW5ub3RhdGlvbnMubWFwKChpZCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlcyA9PiB7XG4gICAgICAgIHRoaXMuZGIuZ2V0KGlkKVxuICAgICAgICAgIC50aGVuKGRvYyA9PiB7IHJldHVybiB0aGlzLmRiLnJlbW92ZShkb2MpOyB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHJlcygpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTmVvbkNvcmUgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgVmVyb3Zpb01lc3NhZ2UgfSBmcm9tICcuL1R5cGVzJztcblxuXG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgdGhlIHZlcm92aW8gd2ViIHdvcmtlciB0byBwZXJtaXQgbW9ja2luZyBpbiB0ZXN0cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyb3Zpb1dyYXBwZXIge1xuICB2ZXJvdmlvV29ya2VyOiBXb3JrZXI7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLnZlcm92aW9Xb3JrZXIgPSBuZXcgV29ya2VyKF9fQVNTRVRfUFJFRklYX18gKyAnd29ya2Vycy9WZXJvdmlvV29ya2VyLmpzJyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFuIGV2ZW50IGxpc3RlbmVyIG9udG8gdGhlIGFjdHVhbCB3ZWIgd29ya2VyLlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lciAodHlwZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMudmVyb3Zpb1dvcmtlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBhY3R1YWwgd2ViIHdvcmtlci5cbiAgICovXG4gIHBvc3RNZXNzYWdlIChtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbmltcG9ydCB7IE5lb25NYW5pZmVzdCB9IGZyb20gJy4uL1R5cGVzJztcbmNvbnN0IE5lb25TY2hlbWEgPSByZXF1aXJlKCcuL21hbmlmZXN0L05lb25TY2hlbWEuanNvbicpO1xuY29uc3QgTmVvbkNvbnRleHQgPSByZXF1aXJlKCcuL21hbmlmZXN0L2NvbnRleHQuanNvbicpO1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICdqc29uc2NoZW1hJztcblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwcm92aWRlZCBOZW9uIG1hbmlmZXN0IGlzIHBhcnNlYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdFN0cmluZyAtIFRoZSBOZW9uIG1hbmlmZXN0IGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYW5pZmVzdCAobWFuaWZlc3RTdHJpbmc6IE5lb25NYW5pZmVzdCk6IGJvb2xlYW4ge1xuICBjb25zdCByZXN1bHRzID0gdmFsaWRhdGUobWFuaWZlc3RTdHJpbmcsIE5lb25TY2hlbWEpO1xuICBjb25zdCBpbnN0YW5jZSA9IHJlc3VsdHMuaW5zdGFuY2U7XG4gIGlmIChyZXN1bHRzLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc29sZS5lcnJvcihyZXN1bHRzLmVycm9ycyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNvbnRleHQgPSBpbnN0YW5jZVsnQGNvbnRleHQnXTtcbiAgaWYgKGNvbnRleHQgPT09ICdodHRwczovL2RkbWFsLm11c2ljLm1jZ2lsbC5jYS9OZW9uL2NvbnRleHRzLzEvbWFuaWZlc3QuanNvbmxkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICgoY29udGV4dFswXSA9PT0gTmVvbkNvbnRleHRbMF0pICYmXG4gICAgICAoY29udGV4dFsxXVsnc2NoZW1hJ10gPT09IE5lb25Db250ZXh0WzFdWydzY2hlbWEnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aXRsZSddID09PSBOZW9uQ29udGV4dFsxXVsndGl0bGUnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aW1lc3RhbXAnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ3RpbWVzdGFtcCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ2ltYWdlJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnaW1hZ2UnXVsnQGlkJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnaW1hZ2UnXVsnQHR5cGUnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ2ltYWdlJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAdHlwZSddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0Bjb250YWluZXInXSA9PT0gTmVvbkNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAY29udGFpbmVyJ10pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignQ29udGV4dCBtaXNtYXRjaCcpO1xuICAgIGNvbnNvbGUuZXJyb3IoY29udGV4dCk7XG4gICAgY29uc29sZS5lcnJvcihOZW9uQ29udGV4dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBWYWxpZGF0b3IgPSBtb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3IgPSByZXF1aXJlKCcuL3ZhbGlkYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHQgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5WYWxpZGF0b3JSZXN1bHQ7XG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHRFcnJvciA9IHJlcXVpcmUoJy4vaGVscGVycycpLlZhbGlkYXRvclJlc3VsdEVycm9yO1xubW9kdWxlLmV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzJykuVmFsaWRhdGlvbkVycm9yO1xubW9kdWxlLmV4cG9ydHMuU2NoZW1hRXJyb3IgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5TY2hlbWFFcnJvcjtcbm1vZHVsZS5leHBvcnRzLlNjaGVtYVNjYW5SZXN1bHQgPSByZXF1aXJlKCcuL3NjYW4nKS5TY2hlbWFTY2FuUmVzdWx0O1xubW9kdWxlLmV4cG9ydHMuc2NhbiA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG5cbm1vZHVsZS5leHBvcnRzLnZhbGlkYXRlID0gZnVuY3Rpb24gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpIHtcbiAgdmFyIHYgPSBuZXcgVmFsaWRhdG9yKCk7XG4gIHJldHVybiB2LnZhbGlkYXRlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHVyaWxpYiA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgYXR0cmlidXRlID0gcmVxdWlyZSgnLi9hdHRyaWJ1dGUnKTtcbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG52YXIgc2NhblNjaGVtYSA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG52YXIgVmFsaWRhdG9yUmVzdWx0RXJyb3IgPSBoZWxwZXJzLlZhbGlkYXRvclJlc3VsdEVycm9yO1xudmFyIFNjaGVtYUVycm9yID0gaGVscGVycy5TY2hlbWFFcnJvcjtcbnZhciBTY2hlbWFDb250ZXh0ID0gaGVscGVycy5TY2hlbWFDb250ZXh0O1xuLy92YXIgYW5vbnltb3VzQmFzZSA9ICd2bmQuanNvbnNjaGVtYTovLy8nO1xudmFyIGFub255bW91c0Jhc2UgPSAnLyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBWYWxpZGF0b3Igb2JqZWN0XG4gKiBAbmFtZSBWYWxpZGF0b3JcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgVmFsaWRhdG9yID0gZnVuY3Rpb24gVmFsaWRhdG9yICgpIHtcbiAgLy8gQWxsb3cgYSB2YWxpZGF0b3IgaW5zdGFuY2UgdG8gb3ZlcnJpZGUgZ2xvYmFsIGN1c3RvbSBmb3JtYXRzIG9yIHRvIGhhdmUgdGhlaXJcbiAgLy8gb3duIGN1c3RvbSBmb3JtYXRzLlxuICB0aGlzLmN1c3RvbUZvcm1hdHMgPSBPYmplY3QuY3JlYXRlKFZhbGlkYXRvci5wcm90b3R5cGUuY3VzdG9tRm9ybWF0cyk7XG4gIHRoaXMuc2NoZW1hcyA9IHt9O1xuICB0aGlzLnVucmVzb2x2ZWRSZWZzID0gW107XG5cbiAgLy8gVXNlIE9iamVjdC5jcmVhdGUgdG8gbWFrZSB0aGlzIGV4dGVuc2libGUgd2l0aG91dCBWYWxpZGF0b3IgaW5zdGFuY2VzIHN0ZXBwaW5nIG9uIGVhY2ggb3RoZXIncyB0b2VzLlxuICB0aGlzLnR5cGVzID0gT2JqZWN0LmNyZWF0ZSh0eXBlcyk7XG4gIHRoaXMuYXR0cmlidXRlcyA9IE9iamVjdC5jcmVhdGUoYXR0cmlidXRlLnZhbGlkYXRvcnMpO1xufTtcblxuLy8gQWxsb3cgZm9ybWF0cyB0byBiZSByZWdpc3RlcmVkIGdsb2JhbGx5LlxuVmFsaWRhdG9yLnByb3RvdHlwZS5jdXN0b21Gb3JtYXRzID0ge307XG5cbi8vIEhpbnQgYXQgdGhlIHByZXNlbmNlIG9mIGEgcHJvcGVydHlcblZhbGlkYXRvci5wcm90b3R5cGUuc2NoZW1hcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnR5cGVzID0gbnVsbDtcblZhbGlkYXRvci5wcm90b3R5cGUuYXR0cmlidXRlcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnVucmVzb2x2ZWRSZWZzID0gbnVsbDtcblxuLyoqXG4gKiBBZGRzIGEgc2NoZW1hIHdpdGggYSBjZXJ0YWluIHVybiB0byB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIHVyblxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmFkZFNjaGVtYSA9IGZ1bmN0aW9uIGFkZFNjaGVtYSAoc2NoZW1hLCBiYXNlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCFzY2hlbWEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgc2NhbiA9IHNjYW5TY2hlbWEoYmFzZXx8YW5vbnltb3VzQmFzZSwgc2NoZW1hKTtcbiAgdmFyIG91clVyaSA9IGJhc2UgfHwgc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gIGZvcih2YXIgdXJpIGluIHNjYW4uaWQpe1xuICAgIHRoaXMuc2NoZW1hc1t1cmldID0gc2Nhbi5pZFt1cmldO1xuICB9XG4gIGZvcih2YXIgdXJpIGluIHNjYW4ucmVmKXtcbiAgICAvLyBJZiB0aGlzIHNjaGVtYSBpcyBhbHJlYWR5IGRlZmluZWQsIGl0IHdpbGwgYmUgZmlsdGVyZWQgb3V0IGJ5IHRoZSBuZXh0IHN0ZXBcbiAgICB0aGlzLnVucmVzb2x2ZWRSZWZzLnB1c2godXJpKTtcbiAgfVxuICAvLyBSZW1vdmUgbmV3bHkgZGVmaW5lZCBzY2hlbWFzIGZyb20gdW5yZXNvbHZlZFJlZnNcbiAgdGhpcy51bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZnMuZmlsdGVyKGZ1bmN0aW9uKHVyaSl7XG4gICAgcmV0dXJuIHR5cGVvZiBzZWxmLnNjaGVtYXNbdXJpXT09PSd1bmRlZmluZWQnO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMuc2NoZW1hc1tvdXJVcmldO1xufTtcblxuVmFsaWRhdG9yLnByb3RvdHlwZS5hZGRTdWJTY2hlbWFBcnJheSA9IGZ1bmN0aW9uIGFkZFN1YlNjaGVtYUFycmF5KGJhc2V1cmksIHNjaGVtYXMpIHtcbiAgaWYoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHJldHVybjtcbiAgZm9yKHZhciBpPTA7IGk8c2NoZW1hcy5sZW5ndGg7IGkrKyl7XG4gICAgdGhpcy5hZGRTdWJTY2hlbWEoYmFzZXVyaSwgc2NoZW1hc1tpXSk7XG4gIH1cbn07XG5cblZhbGlkYXRvci5wcm90b3R5cGUuYWRkU3ViU2NoZW1hT2JqZWN0ID0gZnVuY3Rpb24gYWRkU3ViU2NoZW1hQXJyYXkoYmFzZXVyaSwgc2NoZW1hcykge1xuICBpZighc2NoZW1hcyB8fCB0eXBlb2Ygc2NoZW1hcyE9J29iamVjdCcpIHJldHVybjtcbiAgZm9yKHZhciBwIGluIHNjaGVtYXMpe1xuICAgIHRoaXMuYWRkU3ViU2NoZW1hKGJhc2V1cmksIHNjaGVtYXNbcF0pO1xuICB9XG59O1xuXG5cblxuLyoqXG4gKiBTZXRzIGFsbCB0aGUgc2NoZW1hcyBvZiB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYXNcbiAqL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zZXRTY2hlbWFzID0gZnVuY3Rpb24gc2V0U2NoZW1hcyAoc2NoZW1hcykge1xuICB0aGlzLnNjaGVtYXMgPSBzY2hlbWFzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2hlbWEgb2YgYSBjZXJ0YWluIHVyblxuICogQHBhcmFtIHVyblxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmdldFNjaGVtYSA9IGZ1bmN0aW9uIGdldFNjaGVtYSAodXJuKSB7XG4gIHJldHVybiB0aGlzLnNjaGVtYXNbdXJuXTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGluc3RhbmNlIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gW29wdGlvbnNdXG4gKiBAcGFyYW0gW2N0eF1cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZigodHlwZW9mIHNjaGVtYSAhPT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiBzY2hlbWEgIT09ICdvYmplY3QnKSB8fCBzY2hlbWEgPT09IG51bGwpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignRXhwZWN0ZWQgYHNjaGVtYWAgdG8gYmUgYW4gb2JqZWN0IG9yIGJvb2xlYW4nKTtcbiAgfVxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgLy8gVGhpcyBzZWN0aW9uIGluZGV4ZXMgc3Vic2NoZW1hcyBpbiB0aGUgcHJvdmlkZWQgc2NoZW1hLCBzbyB0aGV5IGRvbid0IG5lZWQgdG8gYmUgYWRkZWQgd2l0aCBWYWxpZGF0b3IjYWRkU2NoZW1hXG4gIC8vIFRoaXMgd2lsbCB3b3JrIHNvIGxvbmcgYXMgdGhlIGZ1bmN0aW9uIGF0IHVyaS5yZXNvbHZlKCkgd2lsbCByZXNvbHZlIGEgcmVsYXRpdmUgVVJJIHRvIGEgcmVsYXRpdmUgVVJJXG4gIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICB2YXIgYmFzZSA9IHVyaWxpYi5yZXNvbHZlKG9wdGlvbnMuYmFzZXx8YW5vbnltb3VzQmFzZSwgaWR8fCcnKTtcbiAgaWYoIWN0eCl7XG4gICAgY3R4ID0gbmV3IFNjaGVtYUNvbnRleHQoc2NoZW1hLCBvcHRpb25zLCBbXSwgYmFzZSwgT2JqZWN0LmNyZWF0ZSh0aGlzLnNjaGVtYXMpKTtcbiAgICBpZiAoIWN0eC5zY2hlbWFzW2Jhc2VdKSB7XG4gICAgICBjdHguc2NoZW1hc1tiYXNlXSA9IHNjaGVtYTtcbiAgICB9XG4gICAgdmFyIGZvdW5kID0gc2NhblNjaGVtYShiYXNlLCBzY2hlbWEpO1xuICAgIGZvcih2YXIgbiBpbiBmb3VuZC5pZCl7XG4gICAgICB2YXIgc2NoID0gZm91bmQuaWRbbl07XG4gICAgICBjdHguc2NoZW1hc1tuXSA9IHNjaDtcbiAgICB9XG4gIH1cbiAgaWYob3B0aW9ucy5yZXF1aXJlZCAmJiBpbnN0YW5jZT09PXVuZGVmaW5lZCl7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICByZXN1bHQuYWRkRXJyb3IoJ2lzIHJlcXVpcmVkLCBidXQgaXMgdW5kZWZpbmVkJyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzdWx0IHVuZGVmaW5lZCcpO1xuICB9ZWxzZSBpZihvcHRpb25zLnRocm93QWxsICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoKXtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdG9yUmVzdWx0RXJyb3IocmVzdWx0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEByZXR1cm4gbWl4ZWQgc2NoZW1hIHVyaSBvciBmYWxzZVxuKi9cbmZ1bmN0aW9uIHNob3VsZFJlc29sdmUoc2NoZW1hKSB7XG4gIHZhciByZWYgPSAodHlwZW9mIHNjaGVtYSA9PT0gJ3N0cmluZycpID8gc2NoZW1hIDogc2NoZW1hLiRyZWY7XG4gIGlmICh0eXBlb2YgcmVmPT0nc3RyaW5nJykgcmV0dXJuIHJlZjtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhbiBpbnN0YW5jZSBhZ2FpbnN0IHRoZSBzY2hlbWEgKHRoZSBhY3R1YWwgd29yayBob3JzZSlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR9XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGVTY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0ZVNjaGVtYSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG5cbiAgLy8gU3VwcG9ydCBmb3IgdGhlIHRydWUvZmFsc2Ugc2NoZW1hc1xuICBpZih0eXBlb2Ygc2NoZW1hPT09J2Jvb2xlYW4nKSB7XG4gICAgaWYoc2NoZW1hPT09dHJ1ZSl7XG4gICAgICAvLyBgdHJ1ZWAgaXMgYWx3YXlzIHZhbGlkXG4gICAgICBzY2hlbWEgPSB7fTtcbiAgICB9ZWxzZSBpZihzY2hlbWE9PT1mYWxzZSl7XG4gICAgICAvLyBgZmFsc2VgIGlzIGFsd2F5cyBpbnZhbGlkXG4gICAgICBzY2hlbWEgPSB7dHlwZTogW119O1xuICAgIH1cbiAgfWVsc2UgaWYoIXNjaGVtYSl7XG4gICAgLy8gVGhpcyBtaWdodCBiZSBhIHN0cmluZ1xuICAgIHRocm93IG5ldyBFcnJvcihcInNjaGVtYSBpcyB1bmRlZmluZWRcIik7XG4gIH1cblxuICBpZiAoc2NoZW1hWydleHRlbmRzJ10pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWFbJ2V4dGVuZHMnXSkpIHtcbiAgICAgIHZhciBzY2hlbWFvYmogPSB7c2NoZW1hOiBzY2hlbWEsIGN0eDogY3R4fTtcbiAgICAgIHNjaGVtYVsnZXh0ZW5kcyddLmZvckVhY2godGhpcy5zY2hlbWFUcmF2ZXJzZXIuYmluZCh0aGlzLCBzY2hlbWFvYmopKTtcbiAgICAgIHNjaGVtYSA9IHNjaGVtYW9iai5zY2hlbWE7XG4gICAgICBzY2hlbWFvYmouc2NoZW1hID0gbnVsbDtcbiAgICAgIHNjaGVtYW9iai5jdHggPSBudWxsO1xuICAgICAgc2NoZW1hb2JqID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hLCB0aGlzLnN1cGVyUmVzb2x2ZShzY2hlbWFbJ2V4dGVuZHMnXSwgY3R4KSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgcGFzc2VkIGEgc3RyaW5nIGFyZ3VtZW50LCBsb2FkIHRoYXQgc2NoZW1hIFVSSVxuICB2YXIgc3dpdGNoU2NoZW1hID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZiAoc3dpdGNoU2NoZW1hKSB7XG4gICAgdmFyIHJlc29sdmVkID0gdGhpcy5yZXNvbHZlKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpO1xuICAgIHZhciBzdWJjdHggPSBuZXcgU2NoZW1hQ29udGV4dChyZXNvbHZlZC5zdWJzY2hlbWEsIG9wdGlvbnMsIGN0eC5wYXRoLCByZXNvbHZlZC5zd2l0Y2hTY2hlbWEsIGN0eC5zY2hlbWFzKTtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgcmVzb2x2ZWQuc3Vic2NoZW1hLCBvcHRpb25zLCBzdWJjdHgpO1xuICB9XG5cbiAgdmFyIHNraXBBdHRyaWJ1dGVzID0gb3B0aW9ucyAmJiBvcHRpb25zLnNraXBBdHRyaWJ1dGVzIHx8IFtdO1xuICAvLyBWYWxpZGF0ZSBlYWNoIHNjaGVtYSBhdHRyaWJ1dGUgYWdhaW5zdCB0aGUgaW5zdGFuY2VcbiAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgIGlmICghYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXNba2V5XSAmJiBza2lwQXR0cmlidXRlcy5pbmRleE9mKGtleSkgPCAwKSB7XG4gICAgICB2YXIgdmFsaWRhdG9yRXJyID0gbnVsbDtcbiAgICAgIHZhciB2YWxpZGF0b3IgPSB0aGlzLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdmFsaWRhdG9yRXJyID0gdmFsaWRhdG9yLmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbGxvd1Vua25vd25BdHRyaWJ1dGVzID09PSBmYWxzZSkge1xuICAgICAgICAvLyBUaGlzIHJlcHJlc2VudHMgYW4gZXJyb3Igd2l0aCB0aGUgc2NoZW1hIGl0c2VsZiwgbm90IGFuIGludmFsaWQgaW5zdGFuY2VcbiAgICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiVW5zdXBwb3J0ZWQgYXR0cmlidXRlOiBcIiArIGtleSwgc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWxpZGF0b3JFcnIpIHtcbiAgICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyh2YWxpZGF0b3JFcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXdyaXRlID09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgdmFsdWUgPSBvcHRpb25zLnJld3JpdGUuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgIHJlc3VsdC5pbnN0YW5jZSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiogQHByaXZhdGVcbiogQHBhcmFtIE9iamVjdCBzY2hlbWFcbiogQHBhcmFtIFNjaGVtYUNvbnRleHQgY3R4XG4qIEByZXR1cm5zIE9iamVjdCBzY2hlbWEgb3IgcmVzb2x2ZWQgc2NoZW1hXG4qL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zY2hlbWFUcmF2ZXJzZXIgPSBmdW5jdGlvbiBzY2hlbWFUcmF2ZXJzZXIgKHNjaGVtYW9iaiwgcykge1xuICBzY2hlbWFvYmouc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hb2JqLnNjaGVtYSwgdGhpcy5zdXBlclJlc29sdmUocywgc2NoZW1hb2JqLmN0eCkpO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJucyBPYmplY3Qgc2NoZW1hIG9yIHJlc29sdmVkIHNjaGVtYVxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUuc3VwZXJSZXNvbHZlID0gZnVuY3Rpb24gc3VwZXJSZXNvbHZlIChzY2hlbWEsIGN0eCkge1xuICB2YXIgcmVmID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZihyZWYpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKHNjaGVtYSwgcmVmLCBjdHgpLnN1YnNjaGVtYTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBPYmplY3Qgc3dpdGNoU2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJuIE9iamVjdCByZXNvbHZlZCBzY2hlbWFzIHtzdWJzY2hlbWE6U3RyaW5nLCBzd2l0Y2hTY2hlbWE6IFN0cmluZ31cbiogQHRocm93cyBTY2hlbWFFcnJvclxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUgKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpIHtcbiAgc3dpdGNoU2NoZW1hID0gY3R4LnJlc29sdmUoc3dpdGNoU2NoZW1hKTtcbiAgLy8gRmlyc3Qgc2VlIGlmIHRoZSBzY2hlbWEgZXhpc3RzIHVuZGVyIHRoZSBwcm92aWRlZCBVUklcbiAgaWYgKGN0eC5zY2hlbWFzW3N3aXRjaFNjaGVtYV0pIHtcbiAgICByZXR1cm4ge3N1YnNjaGVtYTogY3R4LnNjaGVtYXNbc3dpdGNoU2NoZW1hXSwgc3dpdGNoU2NoZW1hOiBzd2l0Y2hTY2hlbWF9O1xuICB9XG4gIC8vIEVsc2UgdHJ5IHdhbGtpbmcgdGhlIHByb3BlcnR5IHBvaW50ZXJcbiAgdmFyIHBhcnNlZCA9IHVyaWxpYi5wYXJzZShzd2l0Y2hTY2hlbWEpO1xuICB2YXIgZnJhZ21lbnQgPSBwYXJzZWQgJiYgcGFyc2VkLmhhc2g7XG4gIHZhciBkb2N1bWVudCA9IGZyYWdtZW50ICYmIGZyYWdtZW50Lmxlbmd0aCAmJiBzd2l0Y2hTY2hlbWEuc3Vic3RyKDAsIHN3aXRjaFNjaGVtYS5sZW5ndGggLSBmcmFnbWVudC5sZW5ndGgpO1xuICBpZiAoIWRvY3VtZW50IHx8ICFjdHguc2NoZW1hc1tkb2N1bWVudF0pIHtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSA8XCIgKyBzd2l0Y2hTY2hlbWEgKyBcIj5cIiwgc2NoZW1hKTtcbiAgfVxuICB2YXIgc3Vic2NoZW1hID0gaGVscGVycy5vYmplY3RHZXRQYXRoKGN0eC5zY2hlbWFzW2RvY3VtZW50XSwgZnJhZ21lbnQuc3Vic3RyKDEpKTtcbiAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSBcIiArIGZyYWdtZW50ICsgXCIgbG9jYXRlZCBpbiA8XCIgKyBkb2N1bWVudCArIFwiPlwiLCBzY2hlbWEpO1xuICB9XG4gIHJldHVybiB7c3Vic2NoZW1hOiBzdWJzY2hlbWEsIHN3aXRjaFNjaGVtYTogc3dpdGNoU2NoZW1hfTtcbn07XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBjZXJ0YWluIHR5cGUuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudGVzdFR5cGUgPSBmdW5jdGlvbiB2YWxpZGF0ZVR5cGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkge1xuICBpZih0eXBlPT09dW5kZWZpbmVkKXtcbiAgICByZXR1cm47XG4gIH1lbHNlIGlmKHR5cGU9PT1udWxsKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ1VuZXhwZWN0ZWQgbnVsbCBpbiBcInR5cGVcIiBrZXl3b3JkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB0aGlzLnR5cGVzW3R5cGVdID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlc1t0eXBlXS5jYWxsKHRoaXMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAodHlwZSAmJiB0eXBlb2YgdHlwZSA9PSAnb2JqZWN0Jykge1xuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB0eXBlLCBvcHRpb25zLCBjdHgpO1xuICAgIHJldHVybiByZXMgPT09IHVuZGVmaW5lZCB8fCAhKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCk7XG4gIH1cbiAgLy8gVW5kZWZpbmVkIG9yIHByb3BlcnRpZXMgbm90IG9uIHRoZSBsaXN0IGFyZSBhY2NlcHRhYmxlLCBzYW1lIGFzIG5vdCBiZWluZyBkZWZpbmVkXG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIHR5cGVzID0gVmFsaWRhdG9yLnByb3RvdHlwZS50eXBlcyA9IHt9O1xudHlwZXMuc3RyaW5nID0gZnVuY3Rpb24gdGVzdFN0cmluZyAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBpbnN0YW5jZSA9PSAnc3RyaW5nJztcbn07XG50eXBlcy5udW1iZXIgPSBmdW5jdGlvbiB0ZXN0TnVtYmVyIChpbnN0YW5jZSkge1xuICAvLyBpc0Zpbml0ZSByZXR1cm5zIGZhbHNlIGZvciBOYU4sIEluZmluaXR5LCBhbmQgLUluZmluaXR5XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicgJiYgaXNGaW5pdGUoaW5zdGFuY2UpO1xufTtcbnR5cGVzLmludGVnZXIgPSBmdW5jdGlvbiB0ZXN0SW50ZWdlciAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuICh0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicpICYmIGluc3RhbmNlICUgMSA9PT0gMDtcbn07XG50eXBlcy5ib29sZWFuID0gZnVuY3Rpb24gdGVzdEJvb2xlYW4gKGluc3RhbmNlKSB7XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ2Jvb2xlYW4nO1xufTtcbnR5cGVzLmFycmF5ID0gZnVuY3Rpb24gdGVzdEFycmF5IChpbnN0YW5jZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnN0YW5jZSk7XG59O1xudHlwZXNbJ251bGwnXSA9IGZ1bmN0aW9uIHRlc3ROdWxsIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgPT09IG51bGw7XG59O1xudHlwZXMuZGF0ZSA9IGZ1bmN0aW9uIHRlc3REYXRlIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlO1xufTtcbnR5cGVzLmFueSA9IGZ1bmN0aW9uIHRlc3RBbnkgKGluc3RhbmNlKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnR5cGVzLm9iamVjdCA9IGZ1bmN0aW9uIHRlc3RPYmplY3QgKGluc3RhbmNlKSB7XG4gIC8vIFRPRE86IGZpeCB0aGlzIC0gc2VlICMxNVxuICByZXR1cm4gaW5zdGFuY2UgJiYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gJ29iamVjdCcpICYmICEoQXJyYXkuaXNBcnJheShpbnN0YW5jZSkpICYmICEoaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmFsaWRhdG9yO1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG4vKiogQHR5cGUgVmFsaWRhdG9yUmVzdWx0ICovXG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG4vKiogQHR5cGUgU2NoZW1hRXJyb3IgKi9cbnZhciBTY2hlbWFFcnJvciA9IGhlbHBlcnMuU2NoZW1hRXJyb3I7XG5cbnZhciBhdHRyaWJ1dGUgPSB7fTtcblxuYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXMgPSB7XG4gIC8vIGluZm9ybWF0aXZlIHByb3BlcnRpZXNcbiAgJ2lkJzogdHJ1ZSxcbiAgJ2RlZmF1bHQnOiB0cnVlLFxuICAnZGVzY3JpcHRpb24nOiB0cnVlLFxuICAndGl0bGUnOiB0cnVlLFxuICAvLyBhcmd1bWVudHMgdG8gb3RoZXIgcHJvcGVydGllc1xuICAnYWRkaXRpb25hbEl0ZW1zJzogdHJ1ZSxcbiAgJ3RoZW4nOiB0cnVlLFxuICAnZWxzZSc6IHRydWUsXG4gIC8vIHNwZWNpYWwtaGFuZGxlZCBwcm9wZXJ0aWVzXG4gICckc2NoZW1hJzogdHJ1ZSxcbiAgJyRyZWYnOiB0cnVlLFxuICAnZXh0ZW5kcyc6IHRydWUsXG59O1xuXG4vKipcbiAqIEBuYW1lIHZhbGlkYXRvcnNcbiAqL1xudmFyIHZhbGlkYXRvcnMgPSBhdHRyaWJ1dGUudmFsaWRhdG9ycyA9IHt9O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBpZiBvZiBhIGNlcnRhaW4gdHlwZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHR5cGVzID0gQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkgPyBzY2hlbWEudHlwZSA6IFtzY2hlbWEudHlwZV07XG4gIGlmICghdHlwZXMuc29tZSh0aGlzLnRlc3RUeXBlLmJpbmQodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSkpIHtcbiAgICB2YXIgbGlzdCA9IHR5cGVzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgaWYoIXYpIHJldHVybjtcbiAgICAgIHZhciBpZCA9IHYuJGlkIHx8IHYuaWQ7XG4gICAgICByZXR1cm4gaWQgPyAoJzwnICsgaWQgKyAnPicpIDogKHYrJycpO1xuICAgIH0pO1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAndHlwZScsXG4gICAgICBhcmd1bWVudDogbGlzdCxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9mIGEgdHlwZShzKSBcIiArIGxpc3QsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIHRlc3RTY2hlbWFOb1Rocm93KGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGNhbGxiYWNrLCBzY2hlbWEpe1xuICB2YXIgdGhyb3dFcnJvciA9IG9wdGlvbnMudGhyb3dFcnJvcjtcbiAgdmFyIHRocm93QWxsID0gb3B0aW9ucy50aHJvd0FsbDtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gZmFsc2U7XG4gIG9wdGlvbnMudGhyb3dBbGwgPSBmYWxzZTtcbiAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gdGhyb3dFcnJvcjtcbiAgb3B0aW9ucy50aHJvd0FsbCA9IHRocm93QWxsO1xuXG4gIGlmICghcmVzLnZhbGlkICYmIGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjYWxsYmFjayhyZXMpO1xuICB9XG4gIHJldHVybiByZXMudmFsaWQ7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIG1hdGNoZXMgc29tZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuYW55T2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFueU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJhbnlPZiBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICB9XG4gIGlmICghc2NoZW1hLmFueU9mLnNvbWUoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcyl7aW5uZXIuaW1wb3J0RXJyb3JzKHJlcyk7fVxuICAgICkpKSB7XG4gICAgdmFyIGxpc3QgPSBzY2hlbWEuYW55T2YubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgaWYoaWQpIHJldHVybiAnPCcgKyBpZCArICc+JztcbiAgICAgIHJldHVybih2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgIH0pO1xuICAgIGlmIChvcHRpb25zLm5lc3RlZEVycm9ycykge1xuICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyhpbm5lcik7XG4gICAgfVxuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYW55T2YnLFxuICAgICAgYXJndW1lbnQ6IGxpc3QsXG4gICAgICBtZXNzYWdlOiBcImlzIG5vdCBhbnkgb2YgXCIgKyBsaXN0LmpvaW4oJywnKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBldmVyeSBnaXZlbiBzY2hlbWFcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLmFsbE9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbGxPZiAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYS5hbGxPZikpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcihcImFsbE9mIG11c3QgYmUgYW4gYXJyYXlcIik7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzY2hlbWEuYWxsT2YuZm9yRWFjaChmdW5jdGlvbih2LCBpKXtcbiAgICB2YXIgdmFsaWQgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB2LCBvcHRpb25zLCBjdHgpO1xuICAgIGlmKCF2YWxpZC52YWxpZCl7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgdmFyIG1zZyA9IGlkIHx8ICh2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2FsbE9mJyxcbiAgICAgICAgYXJndW1lbnQ6IHsgaWQ6IG1zZywgbGVuZ3RoOiB2YWxpZC5lcnJvcnMubGVuZ3RoLCB2YWxpZDogdmFsaWQgfSxcbiAgICAgICAgbWVzc2FnZTogJ2RvZXMgbm90IG1hdGNoIGFsbE9mIHNjaGVtYSAnICsgbXNnICsgJyB3aXRoICcgKyB2YWxpZC5lcnJvcnMubGVuZ3RoICsgJyBlcnJvcltzXTonLFxuICAgICAgfSk7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHZhbGlkKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBleGFjdGx5IG9uZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMub25lT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU9uZU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSl7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwib25lT2YgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IHNjaGVtYS5vbmVPZi5maWx0ZXIoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcykge2lubmVyLmltcG9ydEVycm9ycyhyZXMpO31cbiAgICApICkubGVuZ3RoO1xuICB2YXIgbGlzdCA9IHNjaGVtYS5vbmVPZi5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgIHJldHVybiBpZCB8fCAodi50aXRsZSAmJiBKU09OLnN0cmluZ2lmeSh2LnRpdGxlKSkgfHwgKHZbJyRyZWYnXSAmJiAoJzwnICsgdlsnJHJlZiddICsgJz4nKSkgfHwgJ1tzdWJzY2hlbWEgJytpKyddJztcbiAgfSk7XG4gIGlmIChjb3VudCE9PTEpIHtcbiAgICBpZiAob3B0aW9ucy5uZXN0ZWRFcnJvcnMpIHtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMoaW5uZXIpO1xuICAgIH1cbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ29uZU9mJyxcbiAgICAgIGFyZ3VtZW50OiBsaXN0LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgZXhhY3RseSBvbmUgZnJvbSBcIiArIGxpc3Quam9pbignLCcpLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBcInRoZW5cIiBvciBcImVsc2VcIiBkZXBlbmRpbmcgb24gdGhlIHJlc3VsdCBvZiB2YWxpZGF0aW5nIFwiaWZcIlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuaWYgPSBmdW5jdGlvbiB2YWxpZGF0ZUlmIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmlmKSkgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBcImlmXCIga2V5d29yZCB0byBiZSBhIHNjaGVtYScpO1xuICB2YXIgaWZWYWxpZCA9IHRlc3RTY2hlbWFOb1Rocm93LmNhbGwodGhpcywgaW5zdGFuY2UsIG9wdGlvbnMsIGN0eCwgbnVsbCwgc2NoZW1hLmlmKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHJlcztcbiAgaWYoaWZWYWxpZCl7XG4gICAgaWYgKHNjaGVtYS50aGVuID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLnRoZW4pKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwidGhlblwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEudGhlbiwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEudGhlbikpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfWVsc2V7XG4gICAgaWYgKHNjaGVtYS5lbHNlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmVsc2UpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiZWxzZVwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEuZWxzZSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuZWxzZSkpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZVByb3BlcnR5KG9iamVjdCwga2V5KXtcbiAgLy8gRGV0ZXJtaW5lIGlmIGBrZXlgIHNob3dzIHVwIGluIGBmb3IodmFyIGtleSBpbiBvYmplY3QpYFxuICAvLyBGaXJzdCB0ZXN0IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsIGFzIGFuIG9wdGltaXphdGlvbjogdGhhdCBndWFyYW50ZWVzIGl0IGRvZXNcbiAgaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSByZXR1cm4gb2JqZWN0W2tleV07XG4gIC8vIFRlc3QgYGtleSBpbiBvYmplY3RgIGFzIGFuIG9wdGltaXphdGlvbjsgZmFsc2UgbWVhbnMgaXQgd29uJ3RcbiAgaWYoIShrZXkgaW4gb2JqZWN0KSkgcmV0dXJuO1xuICB3aGlsZSggKG9iamVjdCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSApe1xuICAgIGlmKE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwga2V5KSkgcmV0dXJuIG9iamVjdFtrZXldO1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHByb3BlcnR5TmFtZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5wcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eU5hbWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYoIXRoaXMudHlwZXMub2JqZWN0KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgc3Vic2NoZW1hID0gc2NoZW1hLnByb3BlcnR5TmFtZXMhPT11bmRlZmluZWQgPyBzY2hlbWEucHJvcGVydHlOYW1lcyA6IHt9O1xuICBpZighaGVscGVycy5pc1NjaGVtYShzdWJzY2hlbWEpKSB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ0V4cGVjdGVkIFwicHJvcGVydHlOYW1lc1wiIHRvIGJlIGEgc2NoZW1hIChvYmplY3Qgb3IgYm9vbGVhbiknKTtcblxuICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBpbnN0YW5jZSkge1xuICAgIGlmKGdldEVudW1lcmFibGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHkpICE9PSB1bmRlZmluZWQpe1xuICAgICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcGVydHksIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEpKTtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgcHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBwcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXMgfHwge307XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgc3Vic2NoZW1hID0gcHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1lbHNlIGlmKHN1YnNjaGVtYT09PW51bGwpe1xuICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKCdVbmV4cGVjdGVkIG51bGwsIGV4cGVjdGVkIHNjaGVtYSBpbiBcInByb3BlcnRpZXNcIicpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvcHRpb25zLnByZVZhbGlkYXRlUHJvcGVydHkoaW5zdGFuY2UsIHByb3BlcnR5LCBzdWJzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gICAgfVxuICAgIHZhciBwcm9wID0gZ2V0RW51bWVyYWJsZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSk7XG4gICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcCwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHN1YnNjaGVtYSwgcHJvcGVydHkpKTtcbiAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFRlc3QgYSBzcGVjaWZpYyBwcm9wZXJ0eSB3aXRoaW4gaW4gaW5zdGFuY2UgYWdhaW5zdCB0aGUgYWRkaXRpb25hbFByb3BlcnRpZXMgc2NoZW1hIGF0dHJpYnV0ZVxuICogVGhpcyBpZ25vcmVzIHByb3BlcnRpZXMgd2l0aCBkZWZpbml0aW9ucyBpbiB0aGUgcHJvcGVydGllcyBzY2hlbWEgYXR0cmlidXRlLCBidXQgbm8gb3RoZXIgYXR0cmlidXRlcy5cbiAqIElmIHRvbyBtYW55IG1vcmUgdHlwZXMgb2YgcHJvcGVydHktZXhpc3RlbmNlIHRlc3RzIHBvcCB1cCB0aGV5IG1heSBuZWVkIHRoZWlyIG93biBjbGFzcyBvZiB0ZXN0cyAobGlrZSBgdHlwZWAgaGFzKVxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRlc3RBZGRpdGlvbmFsUHJvcGVydHkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIGlmIChzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYWRkaXRpb25hbFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHByb3BlcnR5LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgYWxsb3dlZCB0byBoYXZlIHRoZSBhZGRpdGlvbmFsIHByb3BlcnR5IFwiICsgSlNPTi5zdHJpbmdpZnkocHJvcGVydHkpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyB8fCB7fTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHksIGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBvcHRpb25zLCBjdHgpO1xuICAgIH1cblxuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlW3Byb3BlcnR5XSwgYWRkaXRpb25hbFByb3BlcnRpZXMsIG9wdGlvbnMsIGN0eC5tYWtlQ2hpbGQoYWRkaXRpb25hbFByb3BlcnRpZXMsIHByb3BlcnR5KSk7XG4gICAgaWYocmVzLmluc3RhbmNlICE9PSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldKSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldID0gcmVzLmluc3RhbmNlO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBwYXR0ZXJuUHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJuUHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHBhdHRlcm5Qcm9wZXJ0aWVzID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzIHx8IHt9O1xuXG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdmFyIHRlc3QgPSB0cnVlO1xuICAgIGZvciAodmFyIHBhdHRlcm4gaW4gcGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBzdWJzY2hlbWEgPSBwYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXTtcbiAgICAgIGlmKHN1YnNjaGVtYT09PXVuZGVmaW5lZCl7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfWVsc2UgaWYoc3Vic2NoZW1hPT09bnVsbCl7XG4gICAgICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignVW5leHBlY3RlZCBudWxsLCBleHBlY3RlZCBzY2hlbWEgaW4gXCJwYXR0ZXJuUHJvcGVydGllc1wiJyk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAndScpO1xuICAgICAgfSBjYXRjaChfZSkge1xuICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAgICAgLy8gREVQUkVDQVRFRFxuICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgfVxuICAgICAgaWYgKCFyZWdleHAudGVzdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0ZXN0ID0gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZVtwcm9wZXJ0eV0sIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEsIHByb3BlcnR5KSk7XG4gICAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHJlcyk7XG4gICAgfVxuICAgIGlmICh0ZXN0KSB7XG4gICAgICB0ZXN0QWRkaXRpb25hbFByb3BlcnR5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBwcm9wZXJ0eSwgcmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWRkaXRpb25hbFByb3BlcnRpZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQWRkaXRpb25hbFByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIC8vIGlmIHBhdHRlcm5Qcm9wZXJ0aWVzIGlzIGRlZmluZWQgdGhlbiB3ZSdsbCB0ZXN0IHdoZW4gdGhhdCBvbmUgaXMgY2FsbGVkIGluc3RlYWRcbiAgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdGVzdEFkZGl0aW9uYWxQcm9wZXJ0eS5jYWxsKHRoaXMsIGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5Qcm9wZXJ0aWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnN0YW5jZSk7XG4gIGlmICghKGtleXMubGVuZ3RoID49IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWluUHJvcGVydGllcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pblByb3BlcnRpZXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBwcm9wZXJ0eSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluUHJvcGVydGllcyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYXQgbW9zdCBvZiBhIGNlcnRhaW4gbGVuZ3RoLCB3aGVuIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4UHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5zdGFuY2UpO1xuICBpZiAoIShrZXlzLmxlbmd0aCA8PSBzY2hlbWEubWF4UHJvcGVydGllcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhQcm9wZXJ0aWVzLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gcHJvcGVydHkgbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heFByb3BlcnRpZXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGl0ZW1zIHdoZW4gaW5zdGFuY2UgaXMgYW4gYXJyYXlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5pdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlSXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgaWYgKHNjaGVtYS5pdGVtcz09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpbnN0YW5jZS5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICBpZihBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpe1xuICAgICAgdmFyIGl0ZW1zID0gIHNjaGVtYS5pdGVtc1tpXT09PXVuZGVmaW5lZCA/IHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgOiBzY2hlbWEuaXRlbXNbaV07XG4gICAgfWVsc2V7XG4gICAgICB2YXIgaXRlbXMgPSBzY2hlbWEuaXRlbXM7XG4gICAgfVxuICAgIGlmIChpdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGl0ZW1zID09PSBmYWxzZSkge1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2l0ZW1zJyxcbiAgICAgICAgbWVzc2FnZTogXCJhZGRpdGlvbmFsSXRlbXMgbm90IHBlcm1pdHRlZFwiLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByZXMgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKHZhbHVlLCBpdGVtcywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChpdGVtcywgaSkpO1xuICAgIGlmKHJlcy5pbnN0YW5jZSAhPT0gcmVzdWx0Lmluc3RhbmNlW2ldKSByZXN1bHQuaW5zdGFuY2VbaV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBcImNvbnRhaW5zXCIga2V5d29yZFxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLmNvbnRhaW5zID0gZnVuY3Rpb24gdmFsaWRhdGVDb250YWlucyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICBpZiAoc2NoZW1hLmNvbnRhaW5zPT09dW5kZWZpbmVkKSByZXR1cm47XG4gIGlmICghaGVscGVycy5pc1NjaGVtYShzY2hlbWEuY29udGFpbnMpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiY29udGFpbnNcIiBrZXl3b3JkIHRvIGJlIGEgc2NoZW1hJyk7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IGluc3RhbmNlLnNvbWUoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgdmFyIHJlcyA9IHNlbGYudmFsaWRhdGVTY2hlbWEodmFsdWUsIHNjaGVtYS5jb250YWlucywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuY29udGFpbnMsIGkpKTtcbiAgICByZXR1cm4gcmVzLmVycm9ycy5sZW5ndGg9PT0wO1xuICB9KTtcbiAgaWYoY291bnQ9PT1mYWxzZSl7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb250YWlucycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLmNvbnRhaW5zLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGNvbnRhaW4gYW4gaXRlbSBtYXRjaGluZyBnaXZlbiBzY2hlbWFcIixcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgbWluaW11bSBhbmQgZXhjbHVzaXZlTWluaW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWluaW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlTWluaW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSAmJiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gdHJ1ZSkge1xuICAgIGlmKCEoaW5zdGFuY2UgPiBzY2hlbWEubWluaW11bSkpe1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ21pbmltdW0nLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hLm1pbmltdW0sXG4gICAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBncmVhdGVyIHRoYW4gXCIgKyBzY2hlbWEubWluaW11bSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZighKGluc3RhbmNlID49IHNjaGVtYS5taW5pbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWluaW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluaW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBcIiArIHNjaGVtYS5taW5pbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtYXhpbXVtIGFuZCBleGNsdXNpdmVNYXhpbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhpbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVNYXhpbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICYmIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSB0cnVlKSB7XG4gICAgaWYoIShpbnN0YW5jZSA8IHNjaGVtYS5tYXhpbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWF4aW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWF4aW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGxlc3MgdGhhbiBcIiArIHNjaGVtYS5tYXhpbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmKCEoaW5zdGFuY2UgPD0gc2NoZW1hLm1heGltdW0pKXtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdtYXhpbXVtJyxcbiAgICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhpbXVtLFxuICAgICAgICBtZXNzYWdlOiBcIm11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIFwiICsgc2NoZW1hLm1heGltdW0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBudW1iZXIgZm9ybSBvZiBleGNsdXNpdmVNaW5pbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5leGNsdXNpdmVNaW5pbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVFeGNsdXNpdmVNaW5pbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gU3VwcG9ydCB0aGUgYm9vbGVhbiBmb3JtIG9mIGV4Y2x1c2l2ZU1pbmltdW0sIHdoaWNoIGlzIGhhbmRsZWQgYnkgdGhlIFwibWluaW11bVwiIGtleXdvcmQuXG4gIGlmKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciB2YWxpZCA9IGluc3RhbmNlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW07XG4gIGlmICghdmFsaWQpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2V4Y2x1c2l2ZU1pbmltdW0nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIHN0cmljdGx5IGdyZWF0ZXIgdGhhbiBcIiArIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgbnVtYmVyIGZvcm0gb2YgZXhjbHVzaXZlTWF4aW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuZXhjbHVzaXZlTWF4aW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlRXhjbHVzaXZlTWF4aW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIFN1cHBvcnQgdGhlIGJvb2xlYW4gZm9ybSBvZiBleGNsdXNpdmVNYXhpbXVtLCB3aGljaCBpcyBoYW5kbGVkIGJ5IHRoZSBcIm1heGltdW1cIiBrZXl3b3JkLlxuICBpZih0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gPT09ICdib29sZWFuJykgcmV0dXJuO1xuICBpZiAoIXRoaXMudHlwZXMubnVtYmVyKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgdmFsaWQgPSBpbnN0YW5jZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdleGNsdXNpdmVNYXhpbXVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gXCIgKyBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBQZXJmb3JtIHZhbGlkYXRpb24gZm9yIG11bHRpcGxlT2YgYW5kIGRpdmlzaWJsZUJ5LCB3aGljaCBhcmUgZXNzZW50aWFsbHkgdGhlIHNhbWUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSB2YWxpZGF0aW9uVHlwZVxuICogQHBhcmFtIGVycm9yTWVzc2FnZVxuICogQHJldHVybnMge1N0cmluZ3xudWxsfVxuICovXG52YXIgdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5ID0gZnVuY3Rpb24gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5IChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgsIHZhbGlkYXRpb25UeXBlLCBlcnJvck1lc3NhZ2UpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcblxuICB2YXIgdmFsaWRhdGlvbkFyZ3VtZW50ID0gc2NoZW1hW3ZhbGlkYXRpb25UeXBlXTtcbiAgaWYgKHZhbGlkYXRpb25Bcmd1bWVudCA9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKHZhbGlkYXRpb25UeXBlICsgXCIgY2Fubm90IGJlIHplcm9cIik7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuXG4gIHZhciBpbnN0YW5jZURlY2ltYWxzID0gaGVscGVycy5nZXREZWNpbWFsUGxhY2VzKGluc3RhbmNlKTtcbiAgdmFyIGRpdmlzb3JEZWNpbWFscyA9IGhlbHBlcnMuZ2V0RGVjaW1hbFBsYWNlcyh2YWxpZGF0aW9uQXJndW1lbnQpO1xuXG4gIHZhciBtYXhEZWNpbWFscyA9IE1hdGgubWF4KGluc3RhbmNlRGVjaW1hbHMgLCBkaXZpc29yRGVjaW1hbHMpO1xuICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBtYXhEZWNpbWFscyk7XG5cbiAgaWYgKE1hdGgucm91bmQoaW5zdGFuY2UgKiBtdWx0aXBsaWVyKSAlIE1hdGgucm91bmQodmFsaWRhdGlvbkFyZ3VtZW50ICogbXVsdGlwbGllcikgIT09IDApIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogdmFsaWRhdGlvblR5cGUsXG4gICAgICBhcmd1bWVudDogIHZhbGlkYXRpb25Bcmd1bWVudCxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSArIEpTT04uc3RyaW5naWZ5KHZhbGlkYXRpb25Bcmd1bWVudCksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgZGl2aXNpYmxlQnkgd2hlbiB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm11bHRpcGxlT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlT2YgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcIm11bHRpcGxlT2ZcIiwgXCJpcyBub3QgYSBtdWx0aXBsZSBvZiAoZGl2aXNpYmxlIGJ5KSBcIik7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtdWx0aXBsZU9mIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5kaXZpc2libGVCeSA9IGZ1bmN0aW9uIHZhbGlkYXRlRGl2aXNpYmxlQnkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcImRpdmlzaWJsZUJ5XCIsIFwiaXMgbm90IGRpdmlzaWJsZSBieSAobXVsdGlwbGUgb2YpIFwiKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIHByZXNlbnQuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24gdmFsaWRhdGVSZXF1aXJlZCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkICYmIHNjaGVtYS5yZXF1aXJlZCA9PT0gdHJ1ZSkge1xuICAgIC8vIEEgYm9vbGVhbiBmb3JtIGlzIGltcGxlbWVudGVkIGZvciByZXZlcnNlLWNvbXBhdGliaWxpdHkgd2l0aCBzY2hlbWFzIHdyaXR0ZW4gYWdhaW5zdCBvbGRlciBkcmFmdHNcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3JlcXVpcmVkJyxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgcmVxdWlyZWRcIixcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEucmVxdWlyZWQpKSB7XG4gICAgc2NoZW1hLnJlcXVpcmVkLmZvckVhY2goZnVuY3Rpb24obil7XG4gICAgICBpZihnZXRFbnVtZXJhYmxlUHJvcGVydHkoaW5zdGFuY2UsIG4pPT09dW5kZWZpbmVkKXtcbiAgICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgICBuYW1lOiAncmVxdWlyZWQnLFxuICAgICAgICAgIGFyZ3VtZW50OiBuLFxuICAgICAgICAgIG1lc3NhZ2U6IFwicmVxdWlyZXMgcHJvcGVydHkgXCIgKyBKU09OLnN0cmluZ2lmeShuKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIG1hdGNoZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbiB2YWxpZGF0ZVBhdHRlcm4gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuc3RyaW5nKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgcGF0dGVybiA9IHNjaGVtYS5wYXR0ZXJuO1xuICB0cnkge1xuICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICd1Jyk7XG4gIH0gY2F0Y2goX2UpIHtcbiAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAvLyBERVBSRUNBVEVEXG4gICAgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlLm1hdGNoKHJlZ2V4cCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3BhdHRlcm4nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuIFwiICsgSlNPTi5zdHJpbmdpZnkoc2NoZW1hLnBhdHRlcm4udG9TdHJpbmcoKSksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9mIGEgY2VydGFpbiBkZWZpbmVkIGZvcm1hdCBvciBhIGN1c3RvbVxuICogZm9ybWF0LlxuICogVGhlIGZvbGxvd2luZyBmb3JtYXRzIGFyZSBzdXBwb3J0ZWQgZm9yIHN0cmluZyB0eXBlczpcbiAqICAgLSBkYXRlLXRpbWVcbiAqICAgLSBkYXRlXG4gKiAgIC0gdGltZVxuICogICAtIGlwLWFkZHJlc3NcbiAqICAgLSBpcHY2XG4gKiAgIC0gdXJpXG4gKiAgIC0gY29sb3JcbiAqICAgLSBob3N0LW5hbWVcbiAqICAgLSBhbHBoYVxuICogICAtIGFscGhhLW51bWVyaWNcbiAqICAgLSB1dGMtbWlsbGlzZWNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIFtvcHRpb25zXVxuICogQHBhcmFtIFtjdHhdXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5mb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZT09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdC5kaXNhYmxlRm9ybWF0ICYmICFoZWxwZXJzLmlzRm9ybWF0KGluc3RhbmNlLCBzY2hlbWEuZm9ybWF0LCB0aGlzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnZm9ybWF0JyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBcIiArIEpTT04uc3RyaW5naWZ5KHNjaGVtYS5mb3JtYXQpICsgXCIgZm9ybWF0XCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5MZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZU1pbkxlbmd0aCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5zdHJpbmcoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkxlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pbkxlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtaW5pbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5taW5MZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IG1vc3Qgb2YgYSBjZXJ0YWluIGxlbmd0aCwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1heExlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4TGVuZ3RoIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLnN0cmluZyhpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgLy8gVE9ETyBpZiB0aGlzIHdhcyBhbHJlYWR5IGNvbXB1dGVkIGluIFwibWluTGVuZ3RoXCIsIHVzZSB0aGF0IHZhbHVlIGluc3RlYWQgb2YgcmUtY29tcHV0aW5nXG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heExlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heExlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtYXhpbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5tYXhMZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgYXQgbGVhc3QgYSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcywgd2hlbiB0aGUgaW5zdGFuY2UgaXMgYW4gQXJyYXkuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1pbkl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5JdGVtcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCEoaW5zdGFuY2UubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkl0ZW1zJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluSXRlbXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluSXRlbXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgbm8gbW9yZSB0aGFuIGEgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMsIHdoZW4gdGhlIGluc3RhbmNlIGlzIGFuIEFycmF5LlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4SXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuYXJyYXkoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghKGluc3RhbmNlLmxlbmd0aCA8PSBzY2hlbWEubWF4SXRlbXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdtYXhJdGVtcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heEl0ZW1zLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heEl0ZW1zLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIERlZXAgY29tcGFyZXMgYXJyYXlzIGZvciBkdXBsaWNhdGVzXG4gKiBAcGFyYW0gdlxuICogQHBhcmFtIGlcbiAqIEBwYXJhbSBhXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGVzdEFycmF5cyAodiwgaSwgYSkge1xuICB2YXIgaiwgbGVuID0gYS5sZW5ndGg7XG4gIGZvciAoaiA9IGkgKyAxLCBsZW47IGogPCBsZW47IGorKykge1xuICAgIGlmIChoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHYsIGFbal0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZXJlIGFyZSBubyBkdXBsaWNhdGVzLCB3aGVuIHRoZSBpbnN0YW5jZSBpcyBhbiBBcnJheS5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudW5pcXVlSXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVVuaXF1ZUl0ZW1zIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyE9PXRydWUpIHJldHVybjtcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIWluc3RhbmNlLmV2ZXJ5KHRlc3RBcnJheXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICd1bmlxdWVJdGVtcycsXG4gICAgICBtZXNzYWdlOiBcImNvbnRhaW5zIGR1cGxpY2F0ZSBpdGVtXCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgZm9yIHRoZSBwcmVzZW5jZSBvZiBkZXBlbmRlbmN5IHByb3BlcnRpZXMsIGlmIHRoZSBpbnN0YW5jZSBpcyBhbiBvYmplY3QuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZURlcGVuZGVuY2llcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcbiAgICBpZiAoaW5zdGFuY2VbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgZGVwID0gc2NoZW1hLmRlcGVuZGVuY2llc1twcm9wZXJ0eV07XG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IGN0eC5tYWtlQ2hpbGQoZGVwLCBwcm9wZXJ0eSk7XG4gICAgaWYgKHR5cGVvZiBkZXAgPT0gJ3N0cmluZycpIHtcbiAgICAgIGRlcCA9IFtkZXBdO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XG4gICAgICBkZXAuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBpZiAoaW5zdGFuY2VbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgICAgICAvLyBGSVhNRSB0aGVyZSdzIHR3byBkaWZmZXJlbnQgXCJkZXBlbmRlbmNpZXNcIiBlcnJvcnMgaGVyZSB3aXRoIHNsaWdodGx5IGRpZmZlcmVudCBvdXRwdXRzXG4gICAgICAgICAgICAvLyBDYW4gd2UgbWFrZSB0aGVzZSB0aGUgc2FtZT8gT3Igc2hvdWxkIHdlIGNyZWF0ZSBkaWZmZXJlbnQgZXJyb3IgdHlwZXM/XG4gICAgICAgICAgICBuYW1lOiAnZGVwZW5kZW5jaWVzJyxcbiAgICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJwcm9wZXJ0eSBcIiArIHByb3AgKyBcIiBub3QgZm91bmQsIHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBkZXAsIG9wdGlvbnMsIGNoaWxkQ29udGV4dCk7XG4gICAgICBpZihyZXN1bHQuaW5zdGFuY2UgIT09IHJlcy5pbnN0YW5jZSkgcmVzdWx0Lmluc3RhbmNlID0gcmVzLmluc3RhbmNlO1xuICAgICAgaWYgKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICAgIG5hbWU6ICdkZXBlbmRlbmNpZXMnLFxuICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBkZXBlbmRlbmN5IHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9uZSBvZiB0aGUgZW51bWVyYXRlZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snZW51bSddID0gZnVuY3Rpb24gdmFsaWRhdGVFbnVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hWydlbnVtJ10pKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiZW51bSBleHBlY3RzIGFuIGFycmF5XCIsIHNjaGVtYSk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFzY2hlbWFbJ2VudW0nXS5zb21lKGhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3QuYmluZChudWxsLCBpbnN0YW5jZSkpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdlbnVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWFbJ2VudW0nXSxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9uZSBvZiBlbnVtIHZhbHVlczogXCIgKyBzY2hlbWFbJ2VudW0nXS5tYXAoU3RyaW5nKS5qb2luKCcsJyksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIGV4YWN0bHkgbWF0Y2hlcyBhIGdpdmVuIHZhbHVlXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snY29uc3QnXSA9IGZ1bmN0aW9uIHZhbGlkYXRlRW51bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHNjaGVtYVsnY29uc3QnXSwgaW5zdGFuY2UpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb25zdCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hWydjb25zdCddLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBleGFjdGx5IG1hdGNoIGV4cGVjdGVkIGNvbnN0YW50OiBcIiArIHNjaGVtYVsnY29uc3QnXSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBwcm9oaWJpdGVkIHR5cGUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5ub3QgPSB2YWxpZGF0b3JzLmRpc2FsbG93ID0gZnVuY3Rpb24gdmFsaWRhdGVOb3QgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmKGluc3RhbmNlPT09dW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIG5vdFR5cGVzID0gc2NoZW1hLm5vdCB8fCBzY2hlbWEuZGlzYWxsb3c7XG4gIGlmKCFub3RUeXBlcykgcmV0dXJuIG51bGw7XG4gIGlmKCFBcnJheS5pc0FycmF5KG5vdFR5cGVzKSkgbm90VHlwZXM9W25vdFR5cGVzXTtcbiAgbm90VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmIChzZWxmLnRlc3RUeXBlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkpIHtcbiAgICAgIHZhciBpZCA9IHR5cGUgJiYgKHR5cGUuJGlkIHx8IHR5cGUuaWQpO1xuICAgICAgdmFyIHNjaGVtYUlkID0gaWQgfHwgdHlwZTtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdub3QnLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hSWQsXG4gICAgICAgIG1lc3NhZ2U6IFwiaXMgb2YgcHJvaGliaXRlZCB0eXBlIFwiICsgc2NoZW1hSWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhdHRyaWJ1dGU7XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi4vTW9kYWxXaW5kb3cnO1xuXG5hc3luYyBmdW5jdGlvbiBzZXRCb2R5IChuZW9uVmlldzogTmVvblZpZXcpOiBQcm9taXNlPHZvaWQ+IHtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL3RlbXBsYXRlLmh0bWxgKTtcbiAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZS1saW5rJykgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWYgPSBfX0xJTktfTE9DQVRJT05fXztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tdmVyc2lvbicpLnRleHRDb250ZW50ID0gX19ORU9OX1ZFUlNJT05fXztcbiAgKDxIVE1MSW1hZ2VFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tYWluLWljb24nKSkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL05lb25fSWNvbl8zLnN2Z2A7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZXh0ZXJuYWwtbGluay1pY29uJykpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgKDxIVE1MSW1hZ2VFbGVtZW50PiBlbCkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2V4dGVybmFsLWxpbmsuc3ZnYDtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVuYW1lJykuaW5uZXJUZXh0ID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIGRvY3VtZW50LnRpdGxlID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIFxuICAvLyBob3RrZXkgYnRuIG9uY2xpY2sgZXZlbnQgbGlzdGVuZXJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmJhci1pdGVtLWhvdGtleXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIG5lb25WaWV3Lm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUyk7XG4gICAgbmVvblZpZXcubW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gIH0pO1xuXG4gIC8vIHNldCBpbml0aWFsIHNhdmVkIHN0YXR1c1xuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2ZpbGUtc2F2ZWQnKTtcbiAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NhdmVkLWljb24uc3ZnYCk7XG4gIGluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2FsdCcsIFwiWW91ciB3b3JrIGlzIHNhdmVkXCIpO1xufVxuXG5leHBvcnQgeyBzZXRCb2R5IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIERpc3BsYXlDb250cm9scyBmcm9tICcuL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi4vU2luZ2xlVmlldy9ab29tJztcbmltcG9ydCB7IERpc3BsYXlJbnRlcmZhY2UsIFZpZXdJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBIVE1MIGZvciB0aGUgZGlzcGxheSBwYW5lbC5cbiAqIEBwYXJhbSB7Wm9vbUhhbmRsZXJ9IGhhbmRsZVpvb20gLSBJbmNsdWRlcyB6b29tIGNvbnRyb2xzIGlmIGRlZmluZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXNwbGF5Q29udHJvbHNQYW5lbCAoaGFuZGxlWm9vbTogWm9vbUhhbmRsZXIpOiBzdHJpbmcge1xuICBsZXQgY29udGVudHMgPSBgXG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImRpc3BsYXlIZWFkZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RElTUExBWTwvZGl2PlxuICAgICAgPHN2ZyBjbGFzcz1cImljb24gaXMtcHVsbGVkLXJpZ2h0XCI+XG4gICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVEaXNwbGF5XCIgY2xhc3M9XCJwYW5lbC1kcm9wZG93bi1pY29uXCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICA8L3N2Zz5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiZGlzcGxheUNvbnRlbnRzXCIgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiPlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBmaXJzdC1zdWJzZWN0aW9uXCIgaWQ9XCJkaXNwbGF5LXNsaWRlci1zZWN0aW9uXCI+XG4gIGA7XG5cbiAgaWYgKGhhbmRsZVpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnRlbnRzICs9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hbmQtc2xpZGVyLWFjdGlvbnMtY29udGFpbmVyIGRpc3BsYXktcGFuZWxcIiBzdHlsZT1cImN1cnNvcjogZGVmYXVsdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXNwbGF5LXNsaWRlci10aXRsZVwiPlpvb208L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzbGlkZXItYnRuXCIgaWQ9XCJyZXNldC16b29tXCIgdGl0bGU9XCJSZXNldCB6b29tIHNldHRpbmdcIj5cbiAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInNsaWRlci1idG4taW1nXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYXJyb3ctcm90YXRlLWxlZnQtc29saWQuc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzbGlkZXItYnRuXCIgaWQ9XCJzZXQtem9vbS1lYXN5LWVkaXRcIiB0aXRsZT1cIkZpdCB0byBwYWdlXCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzbGlkZXItYnRuLWltZ1wiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2V4cGFuZC1pY29uLnN2Z1wiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICBzdGVwPVwiNVwiIG1pbj1cIjI1XCIgbWF4PVwiNDAwXCIgdmFsdWU9XCIxMDBcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNldC16b29tXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJzbGlkZXIgaXMtZnVsbHdpZHRoIGlzLWxhcmdlXCJcbiAgICAgICAgICAgICAgaWQ9XCJ6b29tU2xpZGVyXCJcbiAgICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDFyZW07IHBhZGRpbmctcmlnaHQ6IDFyZW07XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPG91dHB1dCBpZD1cInpvb21PdXRwdXRcIiBmb3I9XCJ6b29tU2xpZGVyXCI+MTAwPC9vdXRwdXQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmA7XG4gIH1cbiAgY29udGVudHMgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFuZC1zbGlkZXItYWN0aW9ucy1jb250YWluZXIgZGlzcGxheS1wYW5lbFwiIHN0eWxlPVwiY3Vyc29yOiBkZWZhdWx0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXNwbGF5LXNsaWRlci10aXRsZVwiPkdseXBoIE9wYWNpdHk8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzbGlkZXItYnRuXCIgaWQ9XCJ0b2dnbGUtZ2x5cGgtb3BhY2l0eVwiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z1wiPlxuICAgICAgICAgICAgPC9idXR0b24+ICAgXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICBzdGVwPVwiNVwiIG1pbj1cIjBcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjEwMFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInRvZ2dsZS1nbHlwaC1vcGFjaXR5XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJzbGlkZXIgaXMtZnVsbHdpZHRoIGlzLWxhcmdlXCJcbiAgICAgICAgICAgICAgaWQ9XCJvcGFjaXR5U2xpZGVyXCJcbiAgICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDFyZW07IHBhZGRpbmctcmlnaHQ6IDFyZW07XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8b3V0cHV0IGlkPVwib3BhY2l0eU91dHB1dFwiIGZvcj1cIm9wYWNpdHlTbGlkZXJcIj4xMDA8L291dHB1dD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFuZC1zbGlkZXItYWN0aW9ucy1jb250YWluZXIgZGlzcGxheS1wYW5lbFwiIHN0eWxlPVwiY3Vyc29yOiBkZWZhdWx0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXNwbGF5LXNsaWRlci10aXRsZVwiPkltYWdlIE9wYWNpdHk8L2Rpdj4gXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2xpZGVyLWJ0blwiIGlkPVwidG9nZ2xlLWJnLW9wYWNpdHlcIj5cbiAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInNsaWRlci1idG4taW1nXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2hpZGUtaWNvbi5zdmdcIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPiAgIFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgc3RlcD1cIjVcIiBtaW49XCIwXCIgbWF4PVwiMTAwXCIgdmFsdWU9XCIxMDBcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJ0b2dnbGUtYmctb3BhY2l0eVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwic2xpZGVyIGlzLWZ1bGx3aWR0aCBpcy1sYXJnZVwiXG4gICAgICAgICAgICAgIGlkPVwiYmdPcGFjaXR5U2xpZGVyXCJcbiAgICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDFyZW07IHBhZGRpbmctcmlnaHQ6IDFyZW07XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8b3V0cHV0IGlkPVwiYmdPcGFjaXR5T3V0cHV0XCIgZm9yPVwiYmdPcGFjaXR5U2xpZGVyXCI+MTAwPC9vdXRwdXQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb25cIj5cblxuICAgICAgICA8ZGl2IGlkPVwiaGlnaGxpZ2h0LW9wdGlvbnMtdGl0bGVcIiBjbGFzcz1cInBhbmVsLXN1Yi10aXRsZVwiPkhpZ2hsaWdodCBPcHRpb25zOjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIiBpZD1cImhpZ2hsaWdodC1kcm9wZG93blwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImhpZ2hsaWdodC1idXR0b25cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJoaWdobGlnaHQtbWVudVwiIHN0eWxlPVwid2lkdGg6IGF1dG9cIj5cbiAgICAgICAgICAgICAgPHNwYW4+SGlnaGxpZ2h0PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImhpZ2hsaWdodC10eXBlXCI+Jm5ic3A7LSBPZmY8L3NwYW4+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgPHVzZSBpZD1cInRvZ2dsZURpc3BsYXlcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiaGlnaGxpZ2h0LW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1zZWxlY3Rpb25cIj5CeSBTZWxlY3Rpb24gTW9kZTwvYT5cbiAgICAgICAgICAgICAgPGhyIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiLz5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1jb2x1bW5cIj5Db2x1bW48L2E+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtc3RhZmZcIj5TdGFmZjwvYT5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1zeWxsYWJsZVwiPlN5bGxhYmxlPC9hPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LW5ldW1lXCI+TmV1bWU8L2E+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtbGF5ZXJFbGVtZW50XCI+TGF5ZXJFbGVtZW50PC9hPlxuICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCIvPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LW5vbmVcIj5Ob25lPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktb3B0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1vcHRpb25zLXRpdGxlXCIgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5EaXNwbGF5IE9wdGlvbnM6PC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1vcHRpb25zLWl0ZW1zXCI+XG5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjaGVja2JveC1kaXNwbGF5LW9wdGlvbnNcIj5cblxuICAgICAgICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1hbGwtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktb3B0aW9ucy1zZXBhcmF0b3JcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRpc3BsYXktYWxsLWJ0blwiPkRpc3BsYXkgQWxsPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1zaW5nbGUtY29udGFpbmVyXCI+PC9kaXY+XG5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICA8L2Rpdj5gO1xuXG4gIHJldHVybiBjb250ZW50cztcbn1cblxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgc2V0cyB0aGUgY29udGVudCBvZiB0aGUgZGlzcGxheSBwYW5lbCB0byB0aGUgcmlnaHQgYW5kXG4gKiBtYW5hZ2VzIGNvbnRyb2xzIGZvciB2aWV3aW5nLlxuICovXG5jbGFzcyBEaXNwbGF5UGFuZWwgaW1wbGVtZW50cyBEaXNwbGF5SW50ZXJmYWNlIHtcbiAgdmlldzogVmlld0ludGVyZmFjZTtcbiAgbWVpQ2xhc3M6IHN0cmluZztcbiAgYmFja2dyb3VuZDogc3RyaW5nO1xuICB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXI7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBEaXNwbGF5UGFuZWwuXG4gICAqIEBwYXJhbSB7U2luZ2xlVmlldyB8IERpdmFWaWV3fSB2aWV3IC0gVGhlIFZpZXcgcGFyZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVpIC0gVGhlIGNsYXNzIG5hbWUgZm9yIHRoZSBTVkctcmVuZGVyZWQgTUVJLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIFRoZSBjbGFzcyBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgYmFja2dyb3VuZC5cbiAgICogQHBhcmFtIHtab29tSGFuZGxlcn0gW3pvb21IYW5kbGVyXSAtIFRoZSBab29tSGFuZGxlciBvYmplY3QsIGlmIFNpbmdsZVZpZXcuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAodmlldzogVmlld0ludGVyZmFjZSwgbWVpOiBzdHJpbmcsXG4gICAgYmFja2dyb3VuZDogc3RyaW5nLCB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXIgPSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIHRoaXMubWVpQ2xhc3MgPSBtZWk7XG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcbiAgICB0aGlzLnpvb21IYW5kbGVyID0gem9vbUhhbmRsZXI7XG5cbiAgICBjb25zdCBkaXNwbGF5UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheV9jb250cm9scycpO1xuICAgIGRpc3BsYXlQYW5lbC5pbm5lckhUTUwgPSBkaXNwbGF5Q29udHJvbHNQYW5lbCh0aGlzLnpvb21IYW5kbGVyKTtcblxuICAgIHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICB0aGlzLnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy51cGRhdGVWaXN1YWxpemF0aW9uLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGV2ZW50IGxpc3RlbmVycyByZWxhdGVkIHRvIHRoZSBEaXNwbGF5UGFuZWwuXG4gICAqL1xuICBzZXREaXNwbGF5TGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy56b29tSGFuZGxlcikge1xuICAgICAgLy8gWm9vbSBoYW5kbGVyIHN0dWZmXG4gICAgICBEaXNwbGF5Q29udHJvbHMuc2V0Wm9vbUNvbnRyb2xzKHRoaXMuem9vbUhhbmRsZXIpO1xuICAgIH1cbiAgICBEaXNwbGF5Q29udHJvbHMuaW5pdERpc3BsYXlDb250cm9scyh0aGlzLm1laUNsYXNzLCB0aGlzLmJhY2tncm91bmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgbG9jYWxTdG9yYWdlIHZhbHVlcyBiZWZvcmUgU1ZHIGlzIGxvYWRlZFxuICAgKiBcbiAgICogTk9URTogdGhpcyBmdW5jdGlvbiBvbmx5IGNhdXNlcyB2aXN1YWwgY2hhbmdlcywgbm90IGZ1bmN0aW9uYWwgY2hhbmdlcy5cbiAgICogICAgRnVuY3Rpb25hbCBjaGFuZ2VzIGFyZSBkb25lIGluIHNlcGFyYXRlIG1vZHVsZXMgd2hpY2ggZGVwZW5kIG9uIHNwZWNpZmljIGNvbmRpdGlvbnMuXG4gICAqL1xuICBsb2FkU2V0dGluZ3MgKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgem9vbSwgZ2x5cGhPcGFjaXR5LCBpbWFnZU9wYWNpdHksIGhpZ2hsaWdodE1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgXG4gICAgLy8gWm9vbVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjem9vbU91dHB1dCcpKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjem9vbU91dHB1dCcpLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3pvb21TbGlkZXInKS52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgICB9ICAgIFxuXG4gICAgLy8gSW1hZ2Ugb3BhY2l0eVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNiZ09wYWNpdHlPdXRwdXQnKS52YWx1ZSA9IFN0cmluZyhpbWFnZU9wYWNpdHkpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNiZ09wYWNpdHlTbGlkZXInKS52YWx1ZSA9IFN0cmluZyhpbWFnZU9wYWNpdHkpO1xuXG4gICAgLy8gR2x5cGggb3BhY2l0eVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNvcGFjaXR5T3V0cHV0JykudmFsdWUgPSBTdHJpbmcoZ2x5cGhPcGFjaXR5KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjb3BhY2l0eVNsaWRlcicpLnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cbiAgICAvLyBIaWdobGlnaHQgbW9kZTpcbiAgICAvLyBUZXh0ID0gY2FwaXRhbGl6ZWQgdmVyc2lvbiBvZiBoaWdobGlnaHQtJHtpZH1cbiAgICBjb25zdCB0ZXh0ID0gaGlnaGxpZ2h0TW9kZSA9PT0gJ25vbmUnID8gJ09mZicgOiBoaWdobGlnaHRNb2RlWzBdLnRvVXBwZXJDYXNlKCkgKyBoaWdobGlnaHRNb2RlLnNsaWNlKDEpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoaWdobGlnaHQtdHlwZScpLnRleHRDb250ZW50ID0gYFxceEEwLSAke3RleHR9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgU1ZHIGJhc2VkIG9uIHZpc3VhbGl6YXRpb24gc2V0dGluZ3NcbiAgICovXG4gIHVwZGF0ZVZpc3VhbGl6YXRpb24gKCk6IHZvaWQge1xuICAgIERpc3BsYXlDb250cm9scy5zZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyKHRoaXMubWVpQ2xhc3MpO1xuICAgIERpc3BsYXlDb250cm9scy5zZXRCZ09wYWNpdHlGcm9tU2xpZGVyKHRoaXMuYmFja2dyb3VuZCk7XG4gICAgRGlzcGxheUNvbnRyb2xzLnVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG59XG5cbmV4cG9ydCB7IERpc3BsYXlQYW5lbCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgRGlzcGxheVBhbmVsIGZyb20gJy4vRGlzcGxheVBhbmVsL0Rpc3BsYXlQYW5lbCc7XG5pbXBvcnQgeyBEaXNwbGF5Q29uc3RydWN0YWJsZSwgVmlld0ludGVyZmFjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi9TaW5nbGVWaWV3L1pvb20nO1xuXG5pbXBvcnQgRGl2YSBmcm9tICdkaXZhLmpzJztcblxuLyoqXG4gKiBWaWV3IG1vZHVsZSB0aGF0IHVzZXMgdGhlIGRpdmEuanMgdmlld2VyIHRvIHJlbmRlciB0aGUgcGFnZXMgb2YgYSBJSUlGIG1hbmlmZXN0c1xuICogYW5kIHRoZW4gZGlzcGxheSB0aGUgcmVuZGVyZWQgTUVJIGZpbGVzIG92ZXIgdGhlIHByb3BlciBwYWdlcy5cbiAqL1xuY2xhc3MgRGl2YVZpZXcgaW1wbGVtZW50cyBWaWV3SW50ZXJmYWNlIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICAvKiogQ2FsbGJhY2tzIHRoYXQgcnVuIHdoZW5ldmVyIHRoZSBkaXNwbGF5IHVwZGF0ZXMuICovXG4gIHByaXZhdGUgdXBkYXRlQ2FsbGJhY2tzOiBBcnJheTwoKSA9PiB2b2lkPjtcbiAgZGl2YVJlYWR5OiBib29sZWFuO1xuICAvKiogVGhlIGRpdmEuanMgaW5zdGFuY2UuICovXG4gIHByaXZhdGUgZGl2YTogRGl2YTtcbiAgLyoqIE1hcCB6ZXJvLWluZGV4IHBhZ2UgbnVtYmVycyB0byB0aGUgYWN0dWFsIFVSSS9JUkkgaWRlbnRpZmllci4gKi9cbiAgcHJpdmF0ZSBpbmRleE1hcDogTWFwPG51bWJlciwgc3RyaW5nPjtcbiAgcHJpdmF0ZSBkaXNwbGF5UGFuZWw6IERpc3BsYXlQYW5lbDtcbiAgLyoqIFRpbWUgdG8gd2FpdCBhZnRlciBhIHBhZ2UgYmVjb21lcyBhY3RpdmUgYmVmb3JlIGxvYWRpbmcgaXQuIEluIG1pbGxpc2Vjb25kcy4gKi9cbiAgcHJpdmF0ZSBsb2FkRGVsYXk6IG51bWJlcjtcbiAgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gbWFuaWZlc3QgLSBVUkkvSVJJIHRvIHRoZSBJSUlGIG1hbmlmZXN0LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgRGlzcGxheTogRGlzcGxheUNvbnN0cnVjdGFibGUsIG1hbmlmZXN0OiBzdHJpbmcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFja3MgPSBbXTtcbiAgICB0aGlzLmRpdmFSZWFkeSA9IGZhbHNlO1xuICAgIHRoaXMuZGl2YSA9IG5ldyBEaXZhKCdjb250YWluZXInLCB7XG4gICAgICBvYmplY3REYXRhOiBtYW5pZmVzdFxuICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKS5zdHlsZS5taW5IZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5pbmRleE1hcCA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmRpdmEuZGlzYWJsZURyYWdTY3JvbGxhYmxlKCk7XG4gICAgdGhpcy5kaXNwbGF5UGFuZWwgPSBuZXcgRGlzcGxheSh0aGlzLCAnbmVvbi1jb250YWluZXInLCAnZGl2YS12aWV3ZXItY2FudmFzJyk7XG4gICAgdGhpcy5sb2FkRGVsYXkgPSA1MDA7IC8vIGluIG1pbGxpc2Vjb25kc1xuICAgIHRoaXMuaW5pdERpdmFFdmVudHMoKTtcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpdmEtaW5uZXInKSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xuXG4gICAgd2luZG93Lm9ucmVzaXplID0gKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoKGhlaWdodCA9PT0gd2luZG93LmlubmVySGVpZ2h0KSAmJiAod2lkdGggPT09IHdpbmRvdy5pbm5lcldpZHRoKSkge1xuICAgICAgICAgIHRoaXMuY2hhbmdlUGFnZSh0aGlzLmdldEN1cnJlbnRQYWdlKCksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcy5sb2FkRGVsYXkpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsaXN0ZW5lcnMgZm9yIGNlcnRhaW4gZXZlbnRzIGludGVybmFsIHRvIGRpdmEuanNcbiAgICovXG4gIGluaXREaXZhRXZlbnRzICgpOiB2b2lkIHtcbiAgICBEaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ01hbmlmZXN0RGlkTG9hZCcsIHRoaXMucGFyc2VNYW5pZmVzdC5iaW5kKHRoaXMpLCB0aGlzLmRpdmEuc2V0dGluZ3MuSUQpO1xuICAgIERpdmEuRXZlbnRzLnN1YnNjcmliZSgnT2JqZWN0RGlkTG9hZCcsIHRoaXMuZGlkTG9hZC5iaW5kKHRoaXMpLCB0aGlzLmRpdmEuc2V0dGluZ3MuSUQpO1xuICAgIERpdmEuRXZlbnRzLnN1YnNjcmliZSgnQWN0aXZlUGFnZURpZENoYW5nZScsIHRoaXMuY2hhbmdlUGFnZS5iaW5kKHRoaXMpLCB0aGlzLmRpdmEuc2V0dGluZ3MuSUQpO1xuICAgIERpdmEuRXZlbnRzLnN1YnNjcmliZSgnWm9vbUxldmVsRGlkQ2hhbmdlJywgdGhpcy5hZGp1c3Rab29tLmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpc2libGUgcGFnZSBjaGFuZ2VzIGluIHRoZSBkaXZhLmpzIHZpZXdlci5cbiAgICogQHBhcmFtIHBhZ2VJbmRleCAtIFRoZSB6ZXJvLWluZGV4ZWQgcGFnZSB0aGF0IGlzIG1vc3QgdmlzaWJsZS5cbiAgICogQHBhcmFtIGRlbGF5IC0gV2hldGhlciB0byBkZWxheSB0aGUgbG9hZGluZyBvZiB0aGUgcGFnZSBzbyB0aGF0IG5lb24gZG9lc24ndCBsYWcgd2hpbGUgc2Nyb2xsaW5nLlxuICAgKi9cbiAgYXN5bmMgY2hhbmdlUGFnZSAocGFnZUluZGV4OiBudW1iZXIsIGRlbGF5ID0gdHJ1ZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGZ1bmN0aW9uIGNoZWNrQW5kTG9hZCAocGFnZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICBpZiAocGFnZSA9PT0gdGhpcy5nZXRDdXJyZW50UGFnZSgpKSB7XG4gICAgICAgIGNvbnN0IHBhZ2VVUkkgPSB0aGlzLmluZGV4TWFwLmdldChwYWdlKTtcbiAgICAgICAgdGhpcy5uZW9uVmlldy5nZXRQYWdlU1ZHKHBhZ2VVUkkpLnRoZW4oKHN2ZzogU1ZHU1ZHRWxlbWVudCkgPT4ge1xuICAgICAgICAgIHRoaXMudXBkYXRlU1ZHKHN2ZywgcGFnZSk7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVySWQgPSAnbmVvbi1jb250YWluZXItJyArIHBhZ2U7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuICAgICAgICAgIGlmIChjb250YWluZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtcGFnZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjazogRnVuY3Rpb24pID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyOiB7IG5hbWU6IHN0cmluZyB9KSA9PiB7XG4gICAgICAgICAgaWYgKGVyci5uYW1lICE9PSAnbm90X2ZvdW5kJyAmJiBlcnIubmFtZSAhPT0gJ21pc3NpbmdfbWVpJykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZUluZGV4ZXMgPSBbcGFnZUluZGV4XTtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZS1wYWdlJykpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1wYWdlJyk7XG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBwYWdlIG9mIHBhZ2VJbmRleGVzKSB7XG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2hlY2tBbmRMb2FkLmJpbmQodGhpcyksICh0aGlzLmxvYWREZWxheSksIHBhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2tBbmRMb2FkLmJpbmQodGhpcykocGFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIEFjdGl2ZSB6ZXJvLWluZGV4ZWQgcGFnZSBpbiB0aGUgZGl2YS5qcyB2aWV3ZXIuXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZSAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5kaXZhLmdldEFjdGl2ZVBhZ2VJbmRleCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBhY3RpdmUgcGFnZSBVUkkgaW4gdGhlIGRpdmEuanMgdmlld2VyLlxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2VVUkkgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhNYXAuZ2V0KHRoaXMuZ2V0Q3VycmVudFBhZ2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogQWRqdXN0IHRoZSByZW5kZXJlZCBTVkcocykgdG8gYmUgdGhlIGNvcnJlY3Qgc2l6ZSBhZnRlciB6b29taW5nLlxuICAgKi9cbiAgYWRqdXN0Wm9vbSAoKTogdm9pZCB7XG4gICAgKG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tY29udGFpbmVyJykpXG4gICAgICAgIC5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4geyBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IH0pO1xuICAgICAgc2V0VGltZW91dChyZXNvbHZlLCB0aGlzLmRpdmEuc2V0dGluZ3Muem9vbUR1cmF0aW9uICsgMTAwKTtcbiAgICB9KSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmNoYW5nZVBhZ2UodGhpcy5kaXZhLmdldEFjdGl2ZVBhZ2VJbmRleCgpLCB0cnVlKTtcbiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSlcbiAgICAgICAgLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3ZnID0gZWxlbS5maXJzdENoaWxkIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgICAgICAgY29uc3QgcGFnZU5vID0gcGFyc2VJbnQoZWxlbS5pZC5tYXRjaCgvXFxkKy8pWzBdKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVNWRyhzdmcsIHBhZ2VObyk7XG4gICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgb25TVkdMb2FkICgpOiB2b2lkIHtcbiAgICB0aGlzLnNldFZpZXdFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBTVkcgYmVpbmcgZGlzcGxheWVkIGZvciB0aGUgc3BlY2lmaWVkIHBhZ2UuXG4gICAqIEBwYXJhbSBzdmcgLSBUaGUgU1ZHIG9mIHRoZSBwYWdlIHRvIHVwZGF0ZSB0by5cbiAgICogQHBhcmFtIHBhZ2VObyAtIFRoZSB6ZXJvLWluZGV4ZWQgcGFnZSBudW1iZXIuXG4gICAqL1xuICB1cGRhdGVTVkcgKHN2ZzogU1ZHU1ZHRWxlbWVudCwgcGFnZU5vOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZhLTEtaW5uZXInKTtcbiAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5kaXZhLmdldFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsKHBhZ2VObyk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5kaXZhLnNldHRpbmdzLnZpZXdIYW5kbGVyLl92aWV3ZXJDb3JlLmdldFBhZ2VSZWdpb24ocGFnZU5vLCB7XG4gICAgICBpbmNsdWRlUGFkZGluZzogdHJ1ZSxcbiAgICAgIGluY29ycG9yYXRlVmlld3BvcnQ6IHRydWVcbiAgICB9KTtcbiAgICBjb25zdCBtYXJnaW5MZWZ0ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoaW5uZXIsIG51bGwpXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lcklkID0gJ25lb24tY29udGFpbmVyLScgKyBwYWdlTm8udG9TdHJpbmcoKTtcbiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuICAgIGlmIChjb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGFpbmVyLmlkID0gY29udGFpbmVySWQ7XG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbmVvbi1jb250YWluZXInKTtcbiAgICAgIGlubmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgd2hpbGUgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgZGltZW5zaW9ucy53aWR0aC50b1N0cmluZygpKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBkaW1lbnNpb25zLmhlaWdodC50b1N0cmluZygpKTtcbiAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBgJHtvZmZzZXQudG9wfXB4YDtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IGAke29mZnNldC5sZWZ0IC0gcGFyc2VJbnQobWFyZ2luTGVmdCl9cHhgO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHN2Zyk7XG4gIH1cblxuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZGl2YS5qcyBmaW5pc2hlcyBsb2FkaW5nLlxuICAgKi9cbiAgZGlkTG9hZCAoKTogdm9pZCB7XG4gICAgdGhpcy5kaXZhUmVhZHkgPSB0cnVlO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnNldERpc3BsYXlMaXN0ZW5lcnMoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHJ1biB3aGVuZXZlciBhbiBTVkcgaXMgdXBkYXRlZC5cbiAgICogQHBhcmFtIGNiIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgYWRkVXBkYXRlQ2FsbGJhY2sgKGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFja3MucHVzaChjYik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnVuY3Rpb24gcHJldmlvdXNseSBhZGRlZCB0byB0aGUgbGlzdCBvZiBmdW5jdGlvbnMgdG8gY2FsbC5cbiAgICogQHBhcmFtIGNiIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVtb3ZlVXBkYXRlQ2FsbGJhY2sgKGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5maW5kSW5kZXgoKGVsZW0pID0+IHtcbiAgICAgIHJldHVybiBlbGVtID09PSBjYjtcbiAgICB9KTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbGlzdGVuZXJzIG9uIHRoZSBib2R5IGVsZW1lbnQgZm9yIGdsb2JhbCBldmVudHMuXG4gICAqL1xuICBzZXRWaWV3RXZlbnRIYW5kbGVycyAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgIGZvciAoY29uc3QgY29udGFpbmVyIG9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tY29udGFpbmVyJykgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4pIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZm9yIChjb25zdCBjb250YWluZXIgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50Pikge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZSB0aGUgSUlJRiBtYW5pZmVzdCB0byBjcmVhdGUgYSBtYXAgYmV0d2VlbiBJSUlGIGNhbnZhc2VzIGFuZCBwYWdlIGluZGV4ZXMuXG4gICAqIEBwYXJhbSBtYW5pZmVzdCAtIFRoZSBJSUlGIG1hbmlmZXN0IG9iamVjdC5cbiAgICovXG4gIHBhcnNlTWFuaWZlc3QgKG1hbmlmZXN0OiB7IHNlcXVlbmNlczogeyBjYW52YXNlczogb2JqZWN0W10gfVtdIH0pOiB2b2lkIHtcbiAgICB0aGlzLmluZGV4TWFwLmNsZWFyKCk7XG4gICAgZm9yIChjb25zdCBzZXF1ZW5jZSBvZiBtYW5pZmVzdC5zZXF1ZW5jZXMpIHtcbiAgICAgIGZvciAoY29uc3QgY2FudmFzIG9mIHNlcXVlbmNlLmNhbnZhc2VzKSB7XG4gICAgICAgIHRoaXMuaW5kZXhNYXAuc2V0KHNlcXVlbmNlLmNhbnZhc2VzLmluZGV4T2YoY2FudmFzKSwgY2FudmFzWydAaWQnXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBuYW1lIG9mIHRoZSBhY3RpdmUgcGFnZS9jYW52YXMgY29tYmluZWQgd2l0aCB0aGUgbWFudXNjcmlwdCBuYW1lLlxuICAgKi9cbiAgZ2V0UGFnZU5hbWUgKCk6IHN0cmluZyB7XG4gICAgY29uc3QgbWFudXNjcmlwdE5hbWUgPSB0aGlzLmRpdmEuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlO1xuICAgIGNvbnN0IHBhZ2VOYW1lID0gdGhpcy5kaXZhLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuZ2V0Q3VycmVudFBhZ2UoKV0ubDtcbiAgICByZXR1cm4gbWFudXNjcmlwdE5hbWUgKyAnIFxcdTIwMTQgJyArIHBhZ2VOYW1lO1xuICB9XG59XG5cbmV4cG9ydCB7IERpdmFWaWV3IGFzIGRlZmF1bHQgfTtcbiIsIi8qXG4gVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gQ29weXJpZ2h0IChjKSA8MjAxMT4gPERhdmUgVGF5bG9yIGh0dHA6Ly90aGUtdGF5bG9ycy5vcmc+XG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZFxuIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1NcbiBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1JcbiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVJcbiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbiBQb3J0IHRvIHZhbmlsbGEgSmF2YXNjcmlwdCBieSBKYWNlayBOb3dhY2tpIGh0dHA6Ly9qYWNlay1ub3dhY2tpLm5ldC9cbioqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgdmFyIF9pc1RvdWNoID0gJ29udG91Y2hlbmQnIGluIGRvY3VtZW50O1xuXG4gICAgLy8gdGhpcyBpcyBzaW1wbGUsIG5vIFwiZGVlcFwiIHN1cHBvcnRcbiAgICB2YXIgX2V4dGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpPTE7IGk8YXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzW2ldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpXS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJndW1lbnRzW2ldW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgfTtcblxuICAgIHZhciBWYW5pbGxhS2luZXRpYyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBfZXh0ZW5kKHt9LCBWYW5pbGxhS2luZXRpYy5ERUZBVUxUUywgc2V0dGluZ3MpO1xuICAgICAgICB0aGlzLmVsICAgICAgID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5BQ1RJVkVfQ0xBU1MgPSBcImtpbmV0aWMtYWN0aXZlXCI7XG5cbiAgICAgICAgdGhpcy5faW5pdEVsZW1lbnRzKCk7XG5cbiAgICAgICAgdGhpcy5lbC5fVmFuaWxsYUtpbmV0aWMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMuREVGQVVMVFMgPSB7XG4gICAgICAgIGN1cnNvcjogJ21vdmUnLFxuICAgICAgICBkZWNlbGVyYXRlOiB0cnVlLFxuICAgICAgICB0cmlnZ2VySGFyZHdhcmU6IGZhbHNlLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHk6IHRydWUsXG4gICAgICAgIHg6IHRydWUsXG4gICAgICAgIHNsb3dkb3duOiAwLjksXG4gICAgICAgIG1heHZlbG9jaXR5OiA0MCxcbiAgICAgICAgdGhyb3R0bGVGUFM6IDYwLFxuICAgICAgICBpbnZlcnQ6IGZhbHNlLFxuICAgICAgICBtb3ZpbmdDbGFzczoge1xuICAgICAgICAgICAgdXA6ICdraW5ldGljLW1vdmluZy11cCcsXG4gICAgICAgICAgICBkb3duOiAna2luZXRpYy1tb3ZpbmctZG93bicsXG4gICAgICAgICAgICBsZWZ0OiAna2luZXRpYy1tb3ZpbmctbGVmdCcsXG4gICAgICAgICAgICByaWdodDogJ2tpbmV0aWMtbW92aW5nLXJpZ2h0J1xuICAgICAgICB9LFxuICAgICAgICBkZWNlbGVyYXRpbmdDbGFzczoge1xuICAgICAgICAgICAgdXA6ICdraW5ldGljLWRlY2VsZXJhdGluZy11cCcsXG4gICAgICAgICAgICBkb3duOiAna2luZXRpYy1kZWNlbGVyYXRpbmctZG93bicsXG4gICAgICAgICAgICBsZWZ0OiAna2luZXRpYy1kZWNlbGVyYXRpbmctbGVmdCcsXG4gICAgICAgICAgICByaWdodDogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLXJpZ2h0J1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFB1YmxpYyBmdW5jdGlvbnNcbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBfZXh0ZW5kKHRoaXMuc2V0dGluZ3MsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gb3B0aW9ucy52ZWxvY2l0eSB8fCB0aGlzLnZlbG9jaXR5O1xuICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IG9wdGlvbnMudmVsb2NpdHlZIHx8IHRoaXMudmVsb2NpdHlZO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbW92ZSgpO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IHRydWU7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IDA7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IHRydWU7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy5zdG9wcGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnN0b3BwZWQuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2RldGFjaExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5BQ1RJVkVfQ0xBU1MpO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmN1cnNvciA9ICcnO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkFDVElWRV9DTEFTUykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKHRoaXMuQUNUSVZFX0NMQVNTKTtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5jdXJzb3IgPSB0aGlzLnNldHRpbmdzLmN1cnNvcjtcbiAgICB9O1xuXG4gICAgLy8gSW50ZXJuYWwgZnVuY3Rpb25zXG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2luaXRFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5BQ1RJVkVfQ0xBU1MpO1xuXG4gICAgICAgIF9leHRlbmQodGhpcywge1xuICAgICAgICAgICAgeHBvczogbnVsbCxcbiAgICAgICAgICAgIHByZXZYUG9zOiBmYWxzZSxcbiAgICAgICAgICAgIHlwb3M6IG51bGwsXG4gICAgICAgICAgICBwcmV2WVBvczogZmFsc2UsXG4gICAgICAgICAgICBtb3VzZURvd246IGZhbHNlLFxuICAgICAgICAgICAgdGhyb3R0bGVUaW1lb3V0OiAxMDAwIC8gdGhpcy5zZXR0aW5ncy50aHJvdHRsZUZQUyxcbiAgICAgICAgICAgIGxhc3RNb3ZlOiBudWxsLFxuICAgICAgICAgICAgZWxlbWVudEZvY3VzZWQ6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gMDtcblxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuZG9jdW1lbnRSZXNldEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQuX3Jlc2V0TW91c2UuYXBwbHkodGhhdCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRklYTUUgbWFrZSBzdXJlIHRvIHJlbW92ZSB0aGlzXG4gICAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuZG9jdW1lbnRSZXNldEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgaHRtbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudFJlc2V0SGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX2luaXRFdmVudHMoKTtcblxuICAgICAgICB0aGlzLmVsLnN0eWxlLmN1cnNvciA9IHRoaXMuc2V0dGluZ3MuY3Vyc29yO1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnRyaWdnZXJIYXJkd2FyZSkge1xuICAgICAgICAgICAgdmFyIHByZWZpeGVzID0gWycnLCAnLW1zLScsICctd2Via2l0LScsICctbW96LSddO1xuICAgICAgICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKDAsMCwwKScsXG4gICAgICAgICAgICAgICAgJ3BlcnNwZWN0aXZlJzogJzEwMDAnLCAvLyBUT0RPIGlzIHRoaXMgZXZlbiB2YWxpZD8gaXMgdGhpcyBldmVuIG5lZWRlZD9cbiAgICAgICAgICAgICAgICAnYmFja2ZhY2UtdmlzaWJpbGl0eSc6ICdoaWRkZW4nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZWZpeCA9IHByZWZpeGVzW2ldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuc3R5bGVbcHJlZml4K2tleV0gPSBzdHlsZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2luaXRFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmV2ZW50cyA9IHtcbiAgICAgICAgICAgIHRvdWNoU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2g7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3VzZVRhcmdldChlLnRhcmdldCwgZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50aHJlc2hvbGQgPSBzZWxmLl90aHJlc2hvbGQoZS50YXJnZXQsIGUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdGFydCh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG91Y2hNb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vdXNlRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9pbnB1dG1vdmUodG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXREb3duOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3VzZVRhcmdldChlLnRhcmdldCwgZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50aHJlc2hvbGQgPSBzZWxmLl90aHJlc2hvbGQoZS50YXJnZXQsIGUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdGFydChlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudEZvY3VzZWQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lID09PSBcIklNR1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXRFbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50Rm9jdXNlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXRNb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW91c2VEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2lucHV0bW92ZShlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLnNldHRpbmdzLm1vdmVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0dGluZ3MubW92ZWQuY2FsbChzZWxmLCBzZWxmLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dENsaWNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNlbGYudmVsb2NpdHkpID4gMCB8fCBNYXRoLmFicyhzZWxmLnZlbG9jaXR5WSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJhZ1N0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3VzZVRhcmdldChlLnRhcmdldCwgZSkgJiYgc2VsZi5lbGVtZW50Rm9jdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdFN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLnNldHRpbmdzLnNlbGVjdFN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnNldHRpbmdzLnNlbGVjdFN0YXJ0LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuX3VzZVRhcmdldChlLnRhcmdldCwgZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9hdHRhY2hMaXN0ZW5lcnMoKTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9pbnB1dG1vdmUgPSBmdW5jdGlvbihjbGllbnRYLCBjbGllbnRZKSB7XG4gICAgICAgIGlmICghdGhpcy5sYXN0TW92ZSB8fCBuZXcgRGF0ZSgpID4gbmV3IERhdGUodGhpcy5sYXN0TW92ZS5nZXRUaW1lKCkgKyB0aGlzLnRocm90dGxlVGltZW91dCkpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vdmUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb3VzZURvd24gJiYgKHRoaXMueHBvcyB8fCB0aGlzLnlwb3MpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmVkWCA9IChjbGllbnRYIC0gdGhpcy54cG9zKTtcbiAgICAgICAgICAgICAgICB2YXIgbW92ZWRZID0gKGNsaWVudFkgLSB0aGlzLnlwb3MpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmludmVydCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlZFggKj0gLTE7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkWSAqPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGhyZXNob2xkPjApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vdmVkID0gTWF0aC5zcXJ0KG1vdmVkWCptb3ZlZFggKyBtb3ZlZFkqbW92ZWRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGhyZXNob2xkPm1vdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRocmVzaG9sZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudEZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Rm9jdXNlZC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudEZvY3VzZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMudmVsb2NpdHlZID0gMDtcblxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0KCk7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbExlZnQodGhpcy5zZXR0aW5ncy54ID8gc2Nyb2xsTGVmdCAtIG1vdmVkWCA6IHNjcm9sbExlZnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wKHRoaXMuc2V0dGluZ3MueSA/IHNjcm9sbFRvcCAtIG1vdmVkWSA6IHNjcm9sbFRvcCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnByZXZYUG9zID0gdGhpcy54cG9zO1xuICAgICAgICAgICAgICAgIHRoaXMucHJldllQb3MgPSB0aGlzLnlwb3M7XG4gICAgICAgICAgICAgICAgdGhpcy54cG9zID0gY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLnlwb3MgPSBjbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlVmVsb2NpdGllcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldE1vdmVDbGFzc2VzKHRoaXMuc2V0dGluZ3MubW92aW5nQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLm1vdmVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MubW92ZWQuY2FsbCh0aGlzLCB0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9jYWxjdWxhdGVWZWxvY2l0aWVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLl9jYXBWZWxvY2l0eSh0aGlzLnByZXZYUG9zIC0gdGhpcy54cG9zLCB0aGlzLnNldHRpbmdzLm1heHZlbG9jaXR5KTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSB0aGlzLl9jYXBWZWxvY2l0eSh0aGlzLnByZXZZUG9zIC0gdGhpcy55cG9zLCB0aGlzLnNldHRpbmdzLm1heHZlbG9jaXR5KTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW52ZXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5ICo9IC0xO1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eVkgKj0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9lbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMueHBvcyAmJiB0aGlzLnByZXZYUG9zICYmIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVWZWxvY2l0aWVzKCk7XG4gICAgICAgICAgICB0aGlzLnhwb3MgPSB0aGlzLnByZXZYUG9zID0gdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21vdmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX3VzZVRhcmdldCA9IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLmZpbHRlclRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuZmlsdGVyVGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBldmVudCkgIT09IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fdGhyZXNob2xkID0gZnVuY3Rpb24odGFyZ2V0LCBldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MudGhyZXNob2xkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy50aHJlc2hvbGQuY2FsbCh0aGlzLCB0YXJnZXQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy50aHJlc2hvbGQ7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fc3RhcnQgPSBmdW5jdGlvbihjbGllbnRYLCBjbGllbnRZKSB7XG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMucHJldlhQb3MgPSAwO1xuICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IHRoaXMucHJldllQb3MgPSAwO1xuICAgICAgICB0aGlzLnhwb3MgPSBjbGllbnRYO1xuICAgICAgICB0aGlzLnlwb3MgPSBjbGllbnRZO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX3Jlc2V0TW91c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy54cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMueXBvcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2RlY2VsZXJhdGVWZWxvY2l0eSA9IGZ1bmN0aW9uKHZlbG9jaXR5LCBzbG93ZG93bikge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLmFicyh2ZWxvY2l0eSkpID09PSAwID8gMCAvLyBpcyB2ZWxvY2l0eSBsZXNzIHRoYW4gMT9cbiAgICAgICAgICAgIDogdmVsb2NpdHkgKiBzbG93ZG93bjsgLy8gcmVkdWNlIHNsb3dkb3duXG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fY2FwVmVsb2NpdHkgPSBmdW5jdGlvbih2ZWxvY2l0eSwgbWF4KSB7XG4gICAgICAgIHZhciBuZXdWZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICBpZiAodmVsb2NpdHkgPiAwKXtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eSA+IG1heCl7XG4gICAgICAgICAgICAgICAgbmV3VmVsb2NpdHkgPSBtYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodmVsb2NpdHkgPCAoMCAtIG1heCkpe1xuICAgICAgICAgICAgICAgIG5ld1ZlbG9jaXR5ID0gKDAgLSBtYXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdWZWxvY2l0eTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9zZXRNb3ZlQ2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgLy8gVGhlIGZpeC1tZSBjb21tZW50IGJlbG93IGlzIGZyb20gb3JpZ2luYWwgalF1ZXJ5LmtpbmV0aWMgcHJvamVjdFxuICAgICAgICAvLyBGSVhNRTogY29uc2lkZXIgaWYgd2Ugd2FudCB0byBhcHBseSBQTCAjNDQsIHRoaXMgc2hvdWxkIG5vdCByZW1vdmVcbiAgICAgICAgLy8gY2xhc3NlcyB3ZSBoYXZlIG5vdCBkZWZpbmVkIG9uIHRoZSBlbGVtZW50IVxuICAgICAgICB2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzO1xuICAgICAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MudXApO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLm1vdmluZ0NsYXNzLmRvd24pO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLm1vdmluZ0NsYXNzLmxlZnQpO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLm1vdmluZ0NsYXNzLnJpZ2h0KTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy51cCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MuZG93bik7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MubGVmdCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MucmlnaHQpO1xuXG4gICAgICAgIGlmICh0aGlzLnZlbG9jaXR5ID4gMCl7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZlbG9jaXR5IDwgMCl7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHlZID4gMCl7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuZG93bik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHlZIDwgMCl7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMudXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsZXIgPSB0aGlzLl9nZXRTY3JvbGxlcigpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLnggJiYgc2Nyb2xsZXIuc2Nyb2xsV2lkdGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbExlZnQodGhpcy5zY3JvbGxMZWZ0KCkgKyB0aGlzLnZlbG9jaXR5KTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnZlbG9jaXR5KSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gc2V0dGluZ3MuZGVjZWxlcmF0ZSA/XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2RlY2VsZXJhdGVWZWxvY2l0eSh0aGlzLnZlbG9jaXR5LCBzZXR0aW5ncy5zbG93ZG93bikgOiB0aGlzLnZlbG9jaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2V0dGluZ3MueSAmJiBzY3JvbGxlci5zY3JvbGxIZWlnaHQgPiAwKXtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wKHRoaXMuc2Nyb2xsVG9wKCkgKyB0aGlzLnZlbG9jaXR5WSk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy52ZWxvY2l0eVkpID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSBzZXR0aW5ncy5kZWNlbGVyYXRlID9cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGVjZWxlcmF0ZVZlbG9jaXR5KHRoaXMudmVsb2NpdHlZLCBzZXR0aW5ncy5zbG93ZG93bikgOiB0aGlzLnZlbG9jaXR5WTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHlZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuX3NldE1vdmVDbGFzc2VzKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzKTtcblxuICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm1vdmVkID09PSAnZnVuY3Rpb24nKXtcbiAgICAgICAgICAgIHNldHRpbmdzLm1vdmVkLmNhbGwodGhpcywgc2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudmVsb2NpdHkpID4gMCB8fCBNYXRoLmFicyh0aGlzLnZlbG9jaXR5WSkgPiAwKXtcbiAgICAgICAgICAgIGlmICghdGhpcy5tb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gdGljayBmb3IgbmV4dCBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIF9yYWYoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX21vdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fZ2V0U2Nyb2xsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRklYTUUgd2UgbWF5IHdhbnQgdG8gbm9ybWFsaXplIGJlaGF2aW91ciBhY3Jvc3MgYnJvd3NlcnMgYXMgaW4gb3JpZ2luYWwgalF1ZXJ5LmtpbmV0aWNcbiAgICAgICAgLy8gY3VycmVudGx5IHRoaXMgd29uJ3Qgd29yayBjb3JyZWN0bHkgb24gYWxsIGJyd29zZXJzIHdoZW4gYXR0YWNoZWQgdG8gaHRtbCBvciBib2R5IGVsZW1lbnRcbiAgICAgICAgcmV0dXJuIHRoaXMuZWw7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zY3JvbGxMZWZ0ID0gZnVuY3Rpb24obGVmdCkge1xuICAgICAgICB2YXIgc2Nyb2xsZXIgPSB0aGlzLl9nZXRTY3JvbGxlcigpO1xuICAgICAgICBpZiAodHlwZW9mIGxlZnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzY3JvbGxlci5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsZXIuc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuc2Nyb2xsVG9wID0gZnVuY3Rpb24odG9wKSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuX2dldFNjcm9sbGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgdG9wID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fYXR0YWNoTGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG5cbiAgICAgICAgaWYgKF9pc1RvdWNoKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0RW5kLCBmYWxzZSk7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hNb3ZlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzZXR0aW5ncy5ldmVudHMuaW5wdXREb3duLCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0TW92ZSwgZmFsc2UpO1xuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0Q2xpY2ssIGZhbHNlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2V0dGluZ3MuZXZlbnRzLnNjcm9sbCwgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5zZWxlY3RTdGFydCwgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMuZHJhZ1N0YXJ0LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fZGV0YWNoTGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG5cbiAgICAgICAgaWYgKF9pc1RvdWNoKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0RW5kLCBmYWxzZSk7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hNb3ZlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzZXR0aW5ncy5ldmVudHMuaW5wdXREb3duLCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0TW92ZSwgZmFsc2UpO1xuXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0Q2xpY2ssIGZhbHNlKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2V0dGluZ3MuZXZlbnRzLnNjcm9sbCwgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5zZWxlY3RTdGFydCwgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMuZHJhZ1N0YXJ0LCBmYWxzZSk7XG4gICAgfTtcblxuXG4gICAgd2luZG93LlZhbmlsbGFLaW5ldGljID0gVmFuaWxsYUtpbmV0aWM7XG59KSgpO1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IGRyYWdzY3JvbGwgLSBzY3JvbGwgYXJlYSBieSBkcmFnZ2luZ1xuICogQHZlcnNpb24gMC4wLjhcbiAqXG4gKiBAbGljZW5zZSBNSVQsIHNlZSBodHRwOi8vZ2l0aHViLmNvbS9hc3ZkL2RyYWdzY3JvbGxcbiAqIEBjb3B5cmlnaHQgMjAxNSBhc3ZkIDxoZWxpb3NmcmFtZXdvcmtAZ21haWwuY29tPlxuICovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpXG57XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcbiAgICB7XG4gICAgICAgIGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJylcbiAgICB7XG4gICAgICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGZhY3RvcnkoKHJvb3QuZHJhZ3Njcm9sbCA9IHt9KSk7XG4gICAgfVxufSh0aGlzLCBmdW5jdGlvbiAoZXhwb3J0cylcbntcbiAgICB2YXIgX3dpbmRvdyA9IHdpbmRvdztcbiAgICB2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgdmFyIG1vdXNlbW92ZSA9ICdtb3VzZW1vdmUnO1xuICAgIHZhciBtb3VzZXVwID0gJ21vdXNldXAnO1xuICAgIHZhciBtb3VzZWRvd24gPSAnbW91c2Vkb3duJztcbiAgICB2YXIgRXZlbnRMaXN0ZW5lciA9ICdFdmVudExpc3RlbmVyJztcbiAgICB2YXIgYWRkRXZlbnRMaXN0ZW5lciA9ICdhZGQnICsgRXZlbnRMaXN0ZW5lcjtcbiAgICB2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9ICdyZW1vdmUnICsgRXZlbnRMaXN0ZW5lcjtcbiAgICB2YXIgbmV3U2Nyb2xsWCwgbmV3U2Nyb2xsWTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICB2YXIgZHJhZ2dlZCA9IFtdO1xuXG4gICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gKGksIGVsKVxuICAgIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRyYWdnZWQubGVuZ3RoOylcbiAgICAgICAge1xuICAgICAgICAgICAgZWwgPSBkcmFnZ2VkW2krK107XG4gICAgICAgICAgICBlbCA9IGVsLmNvbnRhaW5lciB8fCBlbDtcbiAgICAgICAgICAgIGVsW3JlbW92ZUV2ZW50TGlzdGVuZXJdKG1vdXNlZG93biwgZWwubWQsIDApO1xuICAgICAgICAgICAgX3dpbmRvd1tyZW1vdmVFdmVudExpc3RlbmVyXShtb3VzZXVwLCBlbC5tdSwgMCk7XG4gICAgICAgICAgICBfd2luZG93W3JlbW92ZUV2ZW50TGlzdGVuZXJdKG1vdXNlbW92ZSwgZWwubW0sIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3VwcHJlc3Mgd2FybmluZyBhYm91dCBmdW5jdGlvbnMgaW4gbG9vcHMuXG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgLy8gY2xvbmluZyBpbnRvIGFycmF5IHNpbmNlIEhUTUxDb2xsZWN0aW9uIGlzIHVwZGF0ZWQgZHluYW1pY2FsbHlcbiAgICAgICAgZHJhZ2dlZCA9IFtdLnNsaWNlLmNhbGwoX2RvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RyYWdzY3JvbGwnKSk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBkcmFnZ2VkLmxlbmd0aDspXG4gICAgICAgIHtcbiAgICAgICAgICAgIChmdW5jdGlvbiAoZWwsIGxhc3RDbGllbnRYLCBsYXN0Q2xpZW50WSwgcHVzaGVkLCBzY3JvbGxlciwgY29udClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAoY29udCA9IGVsLmNvbnRhaW5lciB8fCBlbClbYWRkRXZlbnRMaXN0ZW5lcl0oXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZG93bixcbiAgICAgICAgICAgICAgICAgICAgY29udC5tZCA9IGZ1bmN0aW9uIChlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZSgnbm9jaGlsZGRyYWcnKSB8fCBfZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLnBhZ2VYLCBlLnBhZ2VZKSA9PT0gY29udClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoZWQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDbGllbnRYID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDbGllbnRZID0gZS5jbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAwXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3dbYWRkRXZlbnRMaXN0ZW5lcl0obW91c2V1cCwgY29udC5tdSA9IGZ1bmN0aW9uICgpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvd1thZGRFdmVudExpc3RlbmVyXShtb3VzZW1vdmUsIGNvbnQubW0gPSBmdW5jdGlvbiAoZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHB1c2hlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2Nyb2xsZXIgPSBlbC5zY3JvbGxlciB8fCBlbCkuc2Nyb2xsTGVmdCAtPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTY3JvbGxYID0gKC1sYXN0Q2xpZW50WCArIChsYXN0Q2xpZW50WCA9IGUuY2xpZW50WCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbFRvcCAtPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTY3JvbGxZID0gKC1sYXN0Q2xpZW50WSArIChsYXN0Q2xpZW50WSA9IGUuY2xpZW50WSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCA9PT0gX2RvY3VtZW50LmJvZHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2Nyb2xsZXIgPSBfZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5zY3JvbGxMZWZ0IC09IG5ld1Njcm9sbFg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbFRvcCAtPSBuZXdTY3JvbGxZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9KShkcmFnZ2VkW2krK10pO1xuICAgICAgICB9XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfTtcblxuICAgIGlmIChfZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJylcbiAgICB7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIF93aW5kb3dbYWRkRXZlbnRMaXN0ZW5lcl0oJ2xvYWQnLCByZXNldCwgMCk7XG4gICAgfVxuXG4gICAgZXhwb3J0cy5yZXNldCA9IHJlc2V0O1xuICAgIHdpbmRvdy5yZXNldERyYWdzY3JvbGwgPSByZXNldDtcbn0pKTtcbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuXHQqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcblx0XHRsZXQgaGFzaCA9IDA7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcblx0fVxuXHRjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuXG5cdC8qKlxuXHQqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXHRcdGxldCBwcmV2VGltZTtcblx0XHRsZXQgZW5hYmxlT3ZlcnJpZGUgPSBudWxsO1xuXHRcdGxldCBuYW1lc3BhY2VzQ2FjaGU7XG5cdFx0bGV0IGVuYWJsZWRDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHtcblx0XHRcdC8vIERpc2FibGVkP1xuXHRcdFx0aWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc2VsZiA9IGRlYnVnO1xuXG5cdFx0XHQvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXHRcdFx0Y29uc3QgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNvbnN0IG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcblx0XHRcdHNlbGYuZGlmZiA9IG1zO1xuXHRcdFx0c2VsZi5wcmV2ID0gcHJldlRpbWU7XG5cdFx0XHRzZWxmLmN1cnIgPSBjdXJyO1xuXHRcdFx0cHJldlRpbWUgPSBjdXJyO1xuXG5cdFx0XHRhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG5cdFx0XHRcdGFyZ3MudW5zaGlmdCgnJU8nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblx0XHRcdGxldCBpbmRleCA9IDA7XG5cdFx0XHRhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgKG1hdGNoLCBmb3JtYXQpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuXHRcdFx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdFx0XHRyZXR1cm4gJyUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuXHRcdGRlYnVnLmNvbG9yID0gY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG5cdFx0ZGVidWcuZGVzdHJveSA9IGNyZWF0ZURlYnVnLmRlc3Ryb3k7IC8vIFhYWCBUZW1wb3JhcnkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0Z2V0OiAoKSA9PiB7XG5cdFx0XHRcdGlmIChlbmFibGVPdmVycmlkZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBlbmFibGVPdmVycmlkZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmFtZXNwYWNlc0NhY2hlICE9PSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzKSB7XG5cdFx0XHRcdFx0bmFtZXNwYWNlc0NhY2hlID0gY3JlYXRlRGVidWcubmFtZXNwYWNlcztcblx0XHRcdFx0XHRlbmFibGVkQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZW5hYmxlZENhY2hlO1xuXHRcdFx0fSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblx0XHRjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzID0gbmFtZXNwYWNlcztcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGxldCBpO1xuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcblx0XHRjb25zdCBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmICghc3BsaXRbaV0pIHtcblx0XHRcdFx0Ly8gaWdub3JlIGVtcHR5IHN0cmluZ3Ncblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG5cdFx0XHRpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnNsaWNlKDEpICsgJyQnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuXHQqXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZGlzYWJsZSgpIHtcblx0XHRjb25zdCBuYW1lc3BhY2VzID0gW1xuXHRcdFx0Li4uY3JlYXRlRGVidWcubmFtZXMubWFwKHRvTmFtZXNwYWNlKSxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcCh0b05hbWVzcGFjZSkubWFwKG5hbWVzcGFjZSA9PiAnLScgKyBuYW1lc3BhY2UpXG5cdFx0XS5qb2luKCcsJyk7XG5cdFx0Y3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcblx0XHRyZXR1cm4gbmFtZXNwYWNlcztcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCogQHJldHVybiB7Qm9vbGVhbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcblx0XHRpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGxldCBpO1xuXHRcdGxldCBsZW47XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcubmFtZXNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb252ZXJ0IHJlZ2V4cCB0byBuYW1lc3BhY2Vcblx0KlxuXHQqIEBwYXJhbSB7UmVnRXhwfSByZWd4ZXBcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiB0b05hbWVzcGFjZShyZWdleHApIHtcblx0XHRyZXR1cm4gcmVnZXhwLnRvU3RyaW5nKClcblx0XHRcdC5zdWJzdHJpbmcoMiwgcmVnZXhwLnRvU3RyaW5nKCkubGVuZ3RoIC0gMilcblx0XHRcdC5yZXBsYWNlKC9cXC5cXCpcXD8kLywgJyonKTtcblx0fVxuXG5cdC8qKlxuXHQqIENvZXJjZSBgdmFsYC5cblx0KlxuXHQqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuXHQqIEByZXR1cm4ge01peGVkfVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG5cdFx0aWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0LyoqXG5cdCogWFhYIERPIE5PVCBVU0UuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc3R1YiBmdW5jdGlvbi5cblx0KiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdCovXG5cdGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdH1cblxuXHRjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcblxuXHRyZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG4iLCIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsKSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oLT8oPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICd3ZWVrcyc6XG4gICAgY2FzZSAnd2Vlayc6XG4gICAgY2FzZSAndyc6XG4gICAgICByZXR1cm4gbiAqIHc7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIG0sICdtaW51dGUnKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gIH1cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiIsImltcG9ydCB7IHVwZGF0ZUhpZ2hsaWdodCwgc2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlciwgc2V0QmdPcGFjaXR5RnJvbVNsaWRlciB9IGZyb20gJy4uL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlQYW5lbCc7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi9ab29tJztcbmltcG9ydCB7IFZpZXdJbnRlcmZhY2UsIERpc3BsYXlDb25zdHJ1Y3RhYmxlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogQSB2aWV3IG1vZHVsZSBmb3IgZGlzcGxheWluZyBhIHNpbmdsZSBwYWdlIG9mIGEgbWFudXNjcmlwdC5cbiAqL1xuY2xhc3MgU2luZ2xlVmlldyBpbXBsZW1lbnRzIFZpZXdJbnRlcmZhY2Uge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSB1cGRhdGVDYWxsYmFja3M6IEFycmF5PCgpID0+IHZvaWQ+O1xuICBwcml2YXRlIGdyb3VwOiBTVkdTVkdFbGVtZW50O1xuICBwcml2YXRlIGJnOiBTVkdJbWFnZUVsZW1lbnQ7XG4gIHByaXZhdGUgc3ZnOiBTVkdTVkdFbGVtZW50O1xuICB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXI7XG4gIHByaXZhdGUgZGlzcGxheVBhbmVsOiBEaXNwbGF5UGFuZWw7XG4gIHJlYWRvbmx5IHBhZ2VVUkk6IHN0cmluZztcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBTaW5nbGVWaWV3LlxuICAgKiBAcGFyYW0gaW1hZ2UgLSBUaGUgVVJJIHRvIHRoZSBiYWNrZ3JvdW5kIGltYWdlIGZvciB0aGUgcGFnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHBhbmVsOiBEaXNwbGF5Q29uc3RydWN0YWJsZSwgaW1hZ2U6IHN0cmluZykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKTtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcyA9IG5ldyBBcnJheSgwKTtcbiAgICAvLyBHcm91cCB3aWxsIGNvbnRhaW4gdGhlIGltYWdlIGFuZCB0aGUgcmVuZGVyZWQgU1ZHXG4gICAgdGhpcy5ncm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgdGhpcy5ncm91cC5pZCA9ICdzdmdfZ3JvdXAnO1xuICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCB3aW5kb3cuaW5uZXJIZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzEwMCUnKTtcblxuICAgIHRoaXMuYmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2ltYWdlJyk7XG4gICAgdGhpcy5iZy5pZCA9ICdiZ2ltZyc7XG4gICAgdGhpcy5iZy5jbGFzc0xpc3QuYWRkKCdiYWNrZ3JvdW5kJyk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ3gnLCAnMCcpO1xuICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCd5JywgJzAnKTtcblxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgZmV0Y2goaW1hZ2UpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIGlmIChyZXN1bHQub2spIHtcbiAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJywgcmVhZGVyLnJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5iZy5nZXRCQm94KCk7XG4gICAgICAgICAgaWYgKCF0aGlzLmdyb3VwLmhhc0F0dHJpYnV0ZSgndmlld0JveCcpKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICBJZiB0aGUgU1ZHIGRvZXMgbm90IGhhdmUgYSB2aWV3Qm94LCBsb2FkIHRoZSBwcmV2aW91cyB2aWV3Qm94XG4gICAgICAgICAgICAgIHZhbHVlIGZyb20gbG9jYWxTdG9yYWdlLiBJZiBub25lIGhhcyBiZWVuIHN0b3JlZCAodmlld0JveCBpcyBudWxsKSxcbiAgICAgICAgICAgICAgc2V0IGl0IHRvIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBiYWNrZ3JvdW5kIGltYWdlXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBOb3RlOiBhbiBTVkcncyB2aWV3Qm94IGdpdmVzIHRoZSBcImJveFwiIHRoYXQgdGhlIHVzZXIgY2FuIHNlZSB0aGUgU1ZHIHRocm91Z2guXG4gICAgICAgICAgICAgIFRoZSB1c2VyIG1heSBiZSB6b29tZWQgaW50byBhIHZlcnkgc3BlY2lmaWMgc2VjdGlvbiBvZiB0aGUgU1ZHLCBpbiB3aGljaCBjYXNlIHRoZVxuICAgICAgICAgICAgICB2aWV3Qm94IHNob3VsZCBnaXZlIGNvb3JkaW5hdGVzIG9mIHRoYXQgc3BlY2lmaWMgYm94LlxuXG4gICAgICAgICAgICAgIFNlZSBtb3JlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3ZpZXdCb3hcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgeyB2aWV3Qm94IH0gPSBnZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgaWYgKCF2aWV3Qm94KVxuICAgICAgICAgICAgICB2aWV3Qm94ID0gJzAgMCAnICsgYmJveC53aWR0aC50b1N0cmluZygpICsgJyAnICsgYmJveC5oZWlnaHQudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCB2aWV3Qm94KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmJsb2IoKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKGJsb2IgPT4ge1xuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgfSk7XG5cbiAgICAvLyBJdCBpcyBiZXR0ZXIgbmFtZWQgc3ZnLCB0byBhdm9pZCBjb25mdXNpb24gd2l0aCB0aGUgYWN0dWFsIE1FSSBmaWxlLlxuICAgIHRoaXMuc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy9zdmcnLCAnc3ZnJykgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICB0aGlzLnN2Zy5pZCA9ICdtZWlfb3V0cHV0JztcbiAgICB0aGlzLnN2Zy5jbGFzc0xpc3QuYWRkKCduZW9uLWNvbnRhaW5lcicsICdhY3RpdmUtcGFnZScpO1xuXG4gICAgdGhpcy5ncm91cC5hcHBlbmRDaGlsZCh0aGlzLmJnKTtcbiAgICB0aGlzLmdyb3VwLmFwcGVuZENoaWxkKHRoaXMuc3ZnKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmdyb3VwKTtcblxuICAgIHRoaXMuem9vbUhhbmRsZXIgPSBuZXcgWm9vbUhhbmRsZXIoKTtcbiAgICB0aGlzLmRpc3BsYXlQYW5lbCA9IG5ldyBwYW5lbCh0aGlzLCAnbmVvbi1jb250YWluZXInLCAnYmFja2dyb3VuZCcsIHRoaXMuem9vbUhhbmRsZXIpO1xuXG4gICAgdGhpcy5wYWdlVVJJID0gaW1hZ2U7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBvblNWR0xvYWQgKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0V2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLmRpc3BsYXlQYW5lbC5zZXREaXNwbGF5TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBTVkcgYmVpbmcgZGlzcGxheWVkLlxuICAgKiBAcGFyYW0gc3ZnIC0gTmV3IHJlbmRlcmVkIFNWRyB0byB1c2UuXG4gICAqL1xuICB1cGRhdGVTVkcgKHN2ZzogU1ZHU1ZHRWxlbWVudCk6IHZvaWQge1xuICAgIHRoaXMuZ3JvdXAucmVwbGFjZUNoaWxkKHN2ZywgdGhpcy5zdmcpO1xuICAgIHRoaXMuc3ZnID0gc3ZnO1xuICAgIHRoaXMuc3ZnLmlkID0gJ21laV9vdXRwdXQnO1xuICAgIHRoaXMuc3ZnLmNsYXNzTGlzdC5hZGQoJ25lb24tY29udGFpbmVyJywgJ2FjdGl2ZS1wYWdlJyk7XG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VJbnQodGhpcy5zdmcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSk7XG4gICAgY29uc3Qgd2lkdGggPSBwYXJzZUludCh0aGlzLnN2Zy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpO1xuXG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKTtcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aC50b1N0cmluZygpKTtcblxuICAgIGNvbnN0IHsgdmlld0JveCB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBpZiAoIXZpZXdCb3gpXG4gICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgJyArIHdpZHRoICsgJyAnICsgaGVpZ2h0KTtcbiAgICBlbHNlXG4gICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3gpO1xuXG4gICAgdXBkYXRlSGlnaGxpZ2h0KCk7XG4gICAgdGhpcy5yZXNldFRyYW5zZm9ybWF0aW9ucygpO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlIHRvIGEgY2VydGFpbiBwYWdlXG4gICAqIFNpbmNlIHRoZXJlIGlzIG9ubHkgb25lIHBhZ2UsIHRoaXMgaXMgZXNzZW50aWFsbHkgYSB3cmFwcGVyIGZvciB1cGRhdGVTVkdcbiAgICovXG4gIGFzeW5jIGNoYW5nZVBhZ2UgKF9wYWdlOiBudW1iZXIsIF9kZWxheTogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN2ZyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0UGFnZVNWRyh0aGlzLmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgIHRoaXMudXBkYXRlU1ZHKHN2Zyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY2FsbGJhY2sgdG8gdGhlIGxpc3Qgb2YgdGhvc2UgYmUgY2FsbGVkIHdoZW4gdGhlIHBhZ2UgdXBkYXRlcy5cbiAgICogQHBhcmFtIGNiIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgYWRkVXBkYXRlQ2FsbGJhY2sgKGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFja3MucHVzaChjYik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdCBvZiBjYWxsYmFja3MgaWYgaXQgaXMgcGFydCBvZiB0aGUgbGlzdC5cbiAgICogQHBhcmFtIGNiIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVtb3ZlVXBkYXRlQ2FsbGJhY2sgKGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5maW5kSW5kZXgoKGVsZW0pID0+IHtcbiAgICAgIHJldHVybiBlbGVtID09PSBjYjtcbiAgICB9KTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgdHJhbnNmb3JtYXRpb25zIHRoYXQgaGF2ZSBiZWVuIGFwcGxpZWQgdG8gdGhlIFNWRyB1cG9uIHVwZGF0ZS5cbiAgICovXG4gIHJlc2V0VHJhbnNmb3JtYXRpb25zICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5yZXN0b3JlVHJhbnNmb3JtYXRpb24oKTtcbiAgICBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyKCk7XG4gICAgc2V0QmdPcGFjaXR5RnJvbVNsaWRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSB6ZXJvLWluZGV4ZWQgbnVtYmVyIG9mIHRoZSBjdXJyZW50IHBhZ2UuIFRoaXMgd2lsbCBhbHdheXMgYmUgemVyby5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlICgpOiBudW1iZXIge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBVUkkgb2YgdGhlIHBhZ2UuXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZVVSSSAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlVVJJO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBldmVudCBoYW5kbGVycyBmb3IgdGhlIHZpZXcgYW5kIGRpc3BsYXkgcGFuZWwuXG4gICAqL1xuICBzZXRWaWV3RXZlbnRIYW5kbGVycyAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ1NoaWZ0JzpcbiAgICAgICAgICBkMy5zZWxlY3QoJyNzdmdfZ3JvdXAnKS5vbignLmRyYWcnLCBudWxsKTtcbiAgICAgICAgICBkMy5zZWxlY3QoJyNzdmdfZ3JvdXAnKS5jYWxsKFxuICAgICAgICAgICAgZDMuZHJhZygpLm9uKCdzdGFydCcsIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnN0YXJ0RHJhZy5iaW5kKHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyKSlcbiAgICAgICAgICAgICAgLm9uKCdkcmFnJywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuZHJhZ2dpbmcuYmluZCh0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlcikpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21laV9vdXRwdXQnKS5zZXRBdHRyaWJ1dGUoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnU2hpZnQnOlxuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgICAgIGlmICh0aGlzLm5lb25WaWV3LmdldFVzZXJNb2RlKCkgIT09ICd2aWV3ZXInKSB7XG4gICAgICAgICAgICB0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdC5zZXRTZWxlY3RMaXN0ZW5lcnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWlfb3V0cHV0Jykuc2V0QXR0cmlidXRlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2hzdGFydCcsICgpID0+IHtcbiAgICAgIGlmIChkMy5ldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5zdGFydERyYWcoKTtcbiAgICAgICAgZDMuc2VsZWN0KCcjY29udGFpbmVyJykub24oJ3RvdWNobW92ZScsIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLmRyYWdnaW5nLmJpbmQodGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIpKTtcbiAgICAgICAgZDMuc2VsZWN0KCcjY29udGFpbmVyJykub24oJ3RvdWNoZW5kJywgKCkgPT4ge1xuICAgICAgICAgIGQzLnNlbGVjdCgnI2NvbnRhaW5lcicpLm9uKCd0b3VjaG1vdmUnLCBudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZDMuc2VsZWN0KCcjY29udGFpbmVyJykub24oJ3doZWVsJywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuc2Nyb2xsWm9vbS5iaW5kKHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyKSwgZmFsc2UpO1xuICAgIC8vIFVwZGF0ZSBoZWlnaHQgb2YgY29udGFpbmVyIGJhc2VkIG9uIHdpbmRvd1xuICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKTtcbiAgICAgIGlmIChuZXdIZWlnaHQgPiBOdW1iZXIoY29udGFpbmVyLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpKSB7XG4gICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIG5ld0hlaWdodC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIEEgaHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHBhZ2UuIFVzZWQgZm9yIGRvd25sb2Fkcy5cbiAgICovXG4gIGdldFBhZ2VOYW1lICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm5lb25WaWV3Lm5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2luZ2xlVmlldyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuXG5leHBvcnQgY2xhc3MgVmlld0JveCB7XG4gIC8vIHZpZUJveCBhdHRyaWJ1dGUgb2YgYW4gU1ZHIHZpZXdwb3J0OlxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3ZpZXdCb3hcbiAgbWluWDogbnVtYmVyO1xuICBtaW5ZOiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuXG4gIGltYWdlSGVpZ2h0OiBudW1iZXI7XG4gIGltYWdlV2lkdGg6IG51bWJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIGltYWdlV2lkdGggLSBXaWR0aCBvZiB0aGUgY29udGFpbmVkIGltYWdlLlxuICAgKiBAcGFyYW0gaW1hZ2VIZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGNvbnRhaW5lZCBpbWFnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChpbWFnZVdpZHRoOiBudW1iZXIsIGltYWdlSGVpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLm1pblggPSAwO1xuICAgIHRoaXMubWluWSA9IDA7XG4gICAgdGhpcy53aWR0aCA9IGltYWdlV2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBpbWFnZUhlaWdodDtcblxuICAgIHRoaXMuaW1hZ2VXaWR0aCA9IGltYWdlV2lkdGg7XG4gICAgdGhpcy5pbWFnZUhlaWdodCA9IGltYWdlSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB2YWx1ZXMgb2YgdGhlIHZpZXdCb3ggbWFudWFsbHkuXG4gICAqIEBwYXJhbSBtaW5YIC0gdG9wIGxlZnQgeC1jb29yZGluYXRlIG9mIFNWR1xuICAgKiBAcGFyYW0gbWluWSAtIHRvcCBsZWZ0IHktY29vcmRpbmF0ZSBvZiBTVkdcbiAgICogQHBhcmFtIHdpZHRoIC0gd2lkdGggb2YgU1ZHXG4gICAqIEBwYXJhbSBoZWlnaHQgLSBoZWlnaHQgb2YgU1ZHXG4gICAqL1xuICBzZXQgKG1pblg6IG51bWJlciwgbWluWTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICAvKiogQHJldHVybnMgVmFsdWUgZm9yIHRoZSB2aWV3Qm94IHBhcmFtZXRlci4gKi9cbiAgZ2V0ICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm1pblgudG9TdHJpbmcoKSArICcgJyArIHRoaXMubWluWS50b1N0cmluZygpICsgJyAnICtcbiAgICAgIHRoaXMud2lkdGggKyAnICcgKyB0aGlzLmhlaWdodDtcbiAgfVxuXG4gIC8qKiBAcGFyYW0gayAtIEZhY3RvciB0byB6b29tIHRvLiAqL1xuICB6b29tVG8gKGs6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHpvb21IZWlnaHQgPSAodGhpcy5pbWFnZUhlaWdodCAvIGspO1xuICAgIGNvbnN0IHpvb21XaWR0aCA9ICh0aGlzLmltYWdlV2lkdGggLyBrKTtcblxuICAgIHRoaXMud2lkdGggPSB6b29tV2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSB6b29tSGVpZ2h0O1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIEN1cnJlbnQgem9vbSBmYWN0b3IuICovXG4gIGdldFpvb20gKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VXaWR0aCAvIHRoaXMud2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0geERpZmYgLSBBbW91bnQgdG8gc2hpZnQgb24geC1heGlzLlxuICAgKiBAcGFyYW0geURpZmYgLSBBbW91bnQgdG8gc2hpZnQgb24geS1heGlzLlxuICAgKi9cbiAgdHJhbnNsYXRlICh4RGlmZjogbnVtYmVyLCB5RGlmZjogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5taW5YICs9IHhEaWZmO1xuICAgIHRoaXMubWluWSArPSB5RGlmZjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgWm9vbUhhbmRsZXIge1xuICBkcmFnQ29vcmRpbmF0ZXM6IERPTVBvaW50O1xuICB2aWV3Qm94OiBWaWV3Qm94O1xuICBtYXRyaXg6IERPTU1hdHJpeDtcblxuICAvKipcbiAgICogUmVzZXQgdGhlIHpvb20gYW5kIHBhbiBvZiB0aGUgU1ZHIHZpZXdib3hcbiAgICovXG4gIHJlc2V0Wm9vbUFuZFBhbiAocmVzZXRTZXR0aW5ncyA9IHRydWUpOiB2b2lkIHtcbiAgICBjb25zdCBiZ2ltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ2ltZycpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgdGhpcy52aWV3Qm94ID0gbmV3IFZpZXdCb3gocGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSwgcGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpO1xuXG4gICAgaWYgKHJlc2V0U2V0dGluZ3MpIHtcbiAgICAgIHRoaXMudXBkYXRlU1ZHVmlld0JveCgpO1xuICAgICAgc2V0U2V0dGluZ3MoeyB6b29tOiAxMDAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBrIC0gRmFjdG9yIHRvIHpvb20gdG8uXG4gICAqL1xuICB6b29tVG8gKGs6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0JveCgpO1xuICAgIHRoaXMudmlld0JveC56b29tVG8oayk7XG4gICAgdGhpcy51cGRhdGVTVkdWaWV3Qm94KCk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IHpvb206IE1hdGguZmxvb3IoayAqIDEwMCkgfSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlIHRoZSB2aWV3IGJveCBieSByZWxhdGl2ZSBjb29yZGluYXRlcy5cbiAgKiBAcGFyYW0geERpZmYgLSBBbW91bnQgdG8gc2hpZnQgb24geC1heGlzLlxuICAqIEBwYXJhbSB5RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB5LWF4aXMuXG4gICovXG4gIHRyYW5zbGF0ZSAoeERpZmY6IG51bWJlciwgeURpZmY6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0JveCgpO1xuICAgIHRoaXMudmlld0JveC50cmFuc2xhdGUoeERpZmYsIHlEaWZmKTtcbiAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0b3JlIHRoZSB2aWV3IGJveCB0byBpdHMgcG9zaXRpb24gYmVmb3JlIHRoZSBlZGl0b3IgYWN0aW9uLlxuICAgKi9cbiAgcmVzdG9yZVRyYW5zZm9ybWF0aW9uICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy52aWV3Qm94ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVzZXRab29tQW5kUGFuKGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cGRhdGVTVkdWaWV3Qm94KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmlldyBib3ggb2YgdGhlIFNWRy5cbiAgICovXG4gIHNldFZpZXdCb3ggKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXdCb3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgYmdpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdpbWcnKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xuICAgICAgdGhpcy52aWV3Qm94ID0gbmV3IFZpZXdCb3gocGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSwgcGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpO1xuICAgIH1cbiAgICBjb25zdCByYXdWaWV3Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Z19ncm91cCcpXG4gICAgICAuZ2V0QXR0cmlidXRlKCd2aWV3Qm94JylcbiAgICAgIC5zcGxpdCgnICcpO1xuICAgIHRoaXMudmlld0JveC5zZXQoXG4gICAgICBwYXJzZUludChyYXdWaWV3Qm94WzBdKSxcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbMV0pLFxuICAgICAgcGFyc2VJbnQocmF3Vmlld0JveFsyXSksXG4gICAgICBwYXJzZUludChyYXdWaWV3Qm94WzNdKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB2aWV3Qm94IGF0dHJpYnV0ZSBvZiBzdmdfZ3JvdXBcbiAgICovXG4gIHVwZGF0ZVNWR1ZpZXdCb3ggKCk6IHZvaWQge1xuICAgIGNvbnN0IHZpZXdCb3hTdHJpbmcgPSB0aGlzLnZpZXdCb3guZ2V0KCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Z19ncm91cCcpLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3hTdHJpbmcpO1xuICAgIHNldFNldHRpbmdzKHsgdmlld0JveDogdmlld0JveFN0cmluZyB9KTtcbiAgfVxuXG4gIHN0YXJ0RHJhZyAoKTogdm9pZCB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykgYXMgdW5rbm93biBhcyBTVkdTVkdFbGVtZW50O1xuICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICBpZiAoZDMuZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAvLyBJZiBkcmFnIGlzIHRyaWdnZXJlZCBieSBhIHRvdWNoIGV2ZW50XG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5YO1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3RoZXJ3aXNlIHRyaWdnZXJlZCBieSBhIG1vdXNlIGNsaWNrXG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQueDtcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnkgPSBkMy5ldmVudC55O1xuICAgIH1cblxuICAgIHRoaXMubWF0cml4ID0gZ3JvdXAuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpO1xuICB9XG5cbiAgZHJhZ2dpbmcgKCk6IHZvaWQge1xuICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Z19ncm91cCcpIGFzIHVua25vd24gYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICBjb25zdCBuZXdDb29yZGluYXRlcyA9IGdyb3VwLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgLy8gU2FtZSBraW5kIG9mIGNoZWNraW5nIGFzIGluIHN0YXJ0RHJhZ1xuICAgIGlmIChkMy5ldmVudC50eXBlID09PSAndG91Y2htb3ZlJykge1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueCA9IGQzLmV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWDtcbiAgICAgIG5ld0Nvb3JkaW5hdGVzLnkgPSBkMy5ldmVudC50b3VjaGVzWzBdLnNjcmVlblk7XG4gICAgfSBlbHNlIGlmIChkMy5ldmVudC50eXBlID09PSAnd2hlZWwnICYmIGQzLmV2ZW50LnNoaWZ0S2V5ID09PSBmYWxzZSkge1xuICAgICAgaWYgKHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBncm91cC5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kcmFnQ29vcmRpbmF0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmRyYWdDb29yZGluYXRlcyA9IGdyb3VwLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQueDtcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnkgPSBkMy5ldmVudC55O1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueCA9IHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggLSBkMy5ldmVudC5kZWx0YVg7XG4gICAgICBuZXdDb29yZGluYXRlcy55ID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSAtIGQzLmV2ZW50LmRlbHRhWTtcbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1RyYW5zZm9ybSA9IG5ld0Nvb3JkaW5hdGVzLm1hdHJpeFRyYW5zZm9ybSh0aGlzLm1hdHJpeCk7XG4gICAgY29uc3QgZHJhZ1RyYW5zZm9ybSA9IHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLm1hdHJpeFRyYW5zZm9ybSh0aGlzLm1hdHJpeCk7XG4gICAgdGhpcy50cmFuc2xhdGUoLW5ld1RyYW5zZm9ybS54ICsgZHJhZ1RyYW5zZm9ybS54LCAtbmV3VHJhbnNmb3JtLnkgKyBkcmFnVHJhbnNmb3JtLnkpO1xuICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gbmV3Q29vcmRpbmF0ZXM7XG4gIH1cblxuICBzY3JvbGxab29tICgpOiB2b2lkIHtcbiAgICBpZiAoZDMuZXZlbnQudHlwZSAhPT0gJ3doZWVsJykgcmV0dXJuO1xuICAgIGlmICghZDMuZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIHRoaXMuZHJhZ2dpbmcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21TbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2V0Vmlld0JveCgpO1xuICAgIGNvbnN0IGsgPSB0aGlzLnZpZXdCb3guZ2V0Wm9vbSgpO1xuICAgIGxldCBuZXdLID0gayAtIGQzLmV2ZW50LmRlbHRhWCAvIDEwMDtcbiAgICBpZiAobmV3SyA8IHBhcnNlSW50KHNsaWRlci5nZXRBdHRyaWJ1dGUoJ21pbicpKSAvIDEwMCkgbmV3SyA9IDAuMjU7XG4gICAgaWYgKG5ld0sgPiBwYXJzZUludChzbGlkZXIuZ2V0QXR0cmlidXRlKCdtYXgnKSkgLyAxMDApIG5ld0sgPSA0O1xuICAgIHRoaXMuem9vbVRvKG5ld0spO1xuXG4gICAgLy8gVXBkYXRlIHpvb20gc2xpZGVyXG4gICAgc2xpZGVyLnZhbHVlID0gKG5ld0sgKiAxMDApLnRvU3RyaW5nKCk7XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQpLnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3SyAqIDEwMCkpO1xuICB9XG59XG5cbmV4cG9ydCB7IFpvb21IYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGJpbmRJbnNlcnRUYWJzLCBpbml0SW5zZXJ0RWRpdENvbnRyb2xzLCBpbml0U2VsZWN0aW9uQnV0dG9ucyB9IGZyb20gJy4vQ29udHJvbHMnO1xuaW1wb3J0ICogYXMgU2VsZWN0IGZyb20gJy4uL3V0aWxzL1NlbGVjdCc7XG5pbXBvcnQgSW5zZXJ0SGFuZGxlciBmcm9tICcuL0luc2VydEhhbmRsZXInO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi9TZWxlY3RPcHRpb25zJztcbmltcG9ydCB7IHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgTmV1bWVFZGl0SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCB7IHVuZG9SZWRvUGFuZWwgfSBmcm9tICcuLi91dGlscy9FZGl0Q29udGVudHMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IFVzZXJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG5jbGFzcyBEaXZhRWRpdCBpbXBsZW1lbnRzIE5ldW1lRWRpdEludGVyZmFjZSB7XG4gIG5lb25WaWV3OiBOZW9uVmlldztcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyO1xuICBpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyO1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdEVkaXRNb2RlKCk7XG4gIH1cblxuICBpbml0RWRpdE1vZGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfY29udHJvbHMnKS5pbm5lckhUTUwgKz0gQ29udGVudHMuaW5zZXJ0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5lZGl0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kb1JlZG9fY29udHJvbHMnKS5pbm5lckhUTUwgPSB1bmRvUmVkb1BhbmVsO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLmFjdGl2ZS1wYWdlID4gc3ZnJyk7XG4gICAgdGhpcy5pbnNlcnRIYW5kbGVyID0gbmV3IEluc2VydEhhbmRsZXIodGhpcy5uZW9uVmlldywgJy5hY3RpdmUtcGFnZSA+IHN2ZycpO1xuICAgIGJpbmRJbnNlcnRUYWJzKHRoaXMuaW5zZXJ0SGFuZGxlcik7XG4gICAgY29uc3QgeyBpbnNlcnRUYWIgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5zZXJ0VGFiKS5jbGljaygpO1xuICAgIFNlbGVjdC5zZXRTZWxlY3RIZWxwZXJPYmplY3RzKHRoaXMubmVvblZpZXcsIHRoaXMuZHJhZ0hhbmRsZXIpO1xuICAgIHRoaXMuc2V0U2VsZWN0TGlzdGVuZXJzKCk7XG4gICAgU2VsZWN0T3B0aW9ucy5pbml0TmVvblZpZXcodGhpcy5uZW9uVmlldyk7XG4gICAgaW5pdEluc2VydEVkaXRDb250cm9scygpO1xuICAgIFNlbGVjdC5zZXRTZWxlY3RTdHJva2VXaWR0aCgxKTtcbiAgICBpbml0U2VsZWN0aW9uQnV0dG9ucygpO1xuICAgIHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzKCk7XG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMuc2V0U2VsZWN0TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlciBtb2RlIHRoYXQgTmVvbiBpcyBpbi4gRWl0aGVyIGluc2VydCwgZWRpdCwgb3Igdmlld2VyLlxuICAgKiBAcmV0dXJucyB7VXNlclR5cGV9XG4gICAqL1xuICBnZXRVc2VyTW9kZSAoKTogVXNlclR5cGUge1xuICAgIGNvbnN0IHsgdXNlck1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgcmV0dXJuIHVzZXJNb2RlO1xuICB9XG5cbiAgc2V0U2VsZWN0TGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBTZWxlY3QuY2xpY2tTZWxlY3QoJy5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZywgLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnIHVzZSwgLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnIHJlY3QnKTtcbiAgICBTZWxlY3QuZHJhZ1NlbGVjdCgnLmFjdGl2ZS1wYWdlIHN2ZycpO1xuICB9XG59XG5cbmV4cG9ydCB7IERpdmFFZGl0IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGJpbmRJbnNlcnRUYWJzLCBpbml0SW5zZXJ0RWRpdENvbnRyb2xzLCBpbml0U2VsZWN0aW9uQnV0dG9ucyB9IGZyb20gJy4vQ29udHJvbHMnO1xuaW1wb3J0IHsgc2V0SGlnaGxpZ2h0T3B0aW9uIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgeyBpbml0VW5kb1JlZG9QYW5lbCB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250cm9scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3QgZnJvbSAnLi4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCBJbnNlcnRIYW5kbGVyIGZyb20gJy4vSW5zZXJ0SGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4uL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IE5ldW1lRWRpdEludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgeyB1bmRvUmVkb1BhbmVsIH0gZnJvbSAnLi4vdXRpbHMvRWRpdENvbnRlbnRzJztcbmltcG9ydCB7IGluaXROYXZiYXIgfSBmcm9tICcuLi91dGlscy9FZGl0Q29udHJvbHMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IFVzZXJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIEFuIEVkaXQgTW9kdWxlIGZvciBhIHNpbmdsZSBwYWdlIG9mIGEgbWFudXNjcmlwdC5cbiAqIFdvcmtzIHdpdGggdGhlIFNpbmdsZVZpZXcgbW9kdWxlLlxuICovXG5jbGFzcyBTaW5nbGVFZGl0TW9kZSBpbXBsZW1lbnRzIE5ldW1lRWRpdEludGVyZmFjZSB7XG4gIG5lb25WaWV3OiBOZW9uVmlldztcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyO1xuICBpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyO1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIEVkaXRNb2RlIG9iamVjdC5cbiAgICogQHBhcmFtIHtOZW9uVmlld30gbmVvblZpZXcgLSBUaGUgTmVvblZpZXcgcGFyZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLmluaXRFZGl0TW9kZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgRWRpdCBtb2RlIChkZWZhdWx0KS5cbiAgICovXG4gIGluaXRFZGl0TW9kZSAoKTogdm9pZCB7XG5cbiAgICBpbml0TmF2YmFyKHRoaXMubmVvblZpZXcpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfY29udHJvbHMnKS5pbm5lckhUTUwgKz0gQ29udGVudHMuaW5zZXJ0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5lZGl0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kb1JlZG9fY29udHJvbHMnKS5pbm5lckhUTUwgPSB1bmRvUmVkb1BhbmVsO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnI3N2Z19ncm91cCcpO1xuICAgIHRoaXMuaW5zZXJ0SGFuZGxlciA9IG5ldyBJbnNlcnRIYW5kbGVyKHRoaXMubmVvblZpZXcsICcjc3ZnX2dyb3VwJyk7XG4gICAgYmluZEluc2VydFRhYnModGhpcy5pbnNlcnRIYW5kbGVyKTtcbiAgICBjb25zdCB7IGluc2VydFRhYiB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnNlcnRUYWIpLmNsaWNrKCk7XG4gICAgU2VsZWN0LnNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgdGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMoKTtcblxuICAgIFNlbGVjdE9wdGlvbnMuaW5pdE5lb25WaWV3KHRoaXMubmVvblZpZXcpO1xuICAgIGluaXRJbnNlcnRFZGl0Q29udHJvbHMoKTtcbiAgICBpbml0U2VsZWN0aW9uQnV0dG9ucygpO1xuICAgIGluaXRVbmRvUmVkb1BhbmVsKHRoaXMubmVvblZpZXcpO1xuICAgIHNldEhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMuc2V0U2VsZWN0TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlciBtb2RlIHRoYXQgTmVvbiBpcyBpbi4gRWl0aGVyIGluc2VydCwgZWRpdCwgb3Igdmlld2VyLlxuICAgKiBAcmV0dXJucyB7VXNlclR5cGV9XG4gICAqL1xuICBnZXRVc2VyTW9kZSAoKTogVXNlclR5cGUge1xuICAgIGNvbnN0IHsgdXNlck1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgcmV0dXJuIHVzZXJNb2RlO1xuICB9XG5cbiAgc2V0U2VsZWN0TGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBTZWxlY3QuY2xpY2tTZWxlY3QoJyNzdmdfZ3JvdXAsICNzdmdfZ3JvdXAgdXNlLCAjc3ZnX2dyb3VwIHJlY3QnKTtcbiAgICBTZWxlY3QuZHJhZ1NlbGVjdCgnI3N2Z19ncm91cCcpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNpbmdsZUVkaXRNb2RlIGFzIGRlZmF1bHQgfTtcbiIsIi8qKiBAbW9kdWxlIEluZm9Nb2R1bGUgKi9cblxuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4vTmVvblZpZXcnO1xuaW1wb3J0IHsgSW5mb0ludGVyZmFjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzLCBDbGVmQXR0cmlidXRlcyB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IHVwZGF0ZURpc3BsYXlBbGxCdG4gfSBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuXG4vKipcbiAqIE1hcCBvZiBjb250b3VycyB0byBuZXVtZSBuYW1lcy5cbiAqL1xuY29uc3QgbmV1bWVHcm91cHMgPSBuZXcgTWFwKFxuICBbWycnLCAnUHVuY3R1bSddLCBbJ3UnLCAnUGVzJ10sIFsnZCcsICdDbGl2aXMnXSwgWyd1dScsICdTY2FuZGljdXMnXSwgWyd1ZCcsICdUb3JjdWx1cyddLCBbJ2R1JywgJ1BvcnJlY3R1cyddLCBbJ3MnLCAnRGlzdHJvcGhhJ10sIFsnc3MnLCAnVHJpc3RvcGhhJ10sXG4gICAgWydzZCcsICdQcmVzc3VzJ10sIFsnZGQnLCAnQ2xpbWFjdXMnXSwgWydkZHUnLCAnQ2xpbWFjdXNSZXN1cGludXMnXSwgWyd1ZHUnLCAnVG9yY3VsdXNSZXN1cGludXMnXSwgWydkdWQnLCAnUG9ycmVjdHVzRmxleHVzJ10sXG4gICAgWyd1ZGQnLCAnUGVzU3VicHVuY3RpcyddLCBbJ3V1ZCcsICdTY2FuZGljdXNGbGV4dXMnXSwgWyd1dWRkJywgJ1NjYW5kaWN1c1N1YnB1bmN0aXMnXSwgWydkdWRkJywgJ1BvcnJlY3R1c1N1YnB1bmN0aXMnXV1cbik7XG5cbmZ1bmN0aW9uIHN0YXJ0SW5mb1Zpc2liaWxpdHkgKCk6IHZvaWQge1xuICBjb25zdCBlbGVtZW50SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50X2luZm8nKTtcbiAgZWxlbWVudEluZm8uaW5uZXJIVE1MID1cbiAgICBgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWhlYWRlclwiPkVsZW1lbnQgSW5mbzwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWJvZHlcIj48aT5Ib3ZlciBvdmVyIGFueSBlbGVtZW50IHRvIHNlZSBpdHMgbWV0YWRhdGE8L2k+PC9kaXY+XG4gICAgPC9kaXY+YDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VsZW1lbnRfaW5mbycpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZScpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgdmlzaWJpbGl0eSBvZiBpbmZvQm94XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUluZm9WaXNpYmlsaXR5ICgpOiB2b2lkIHtcbiAgY29uc3QgZWxlbWVudEluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF9pbmZvJyk7XG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgXG4gIC8vIHNhdmUgc2V0dGluZyB0byBsb2NhbFN0b3JhZ2VcbiAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5SW5mbzogZGlzcGxheUluZm8uY2hlY2tlZCB9KTtcblxuICBpZiAoZGlzcGxheUluZm8uY2hlY2tlZCkge1xuICAgIGVsZW1lbnRJbmZvLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnJyk7XG4gICAgLy8gc2Nyb2xsIG5ldW1lIGluZm8gaW50byB2aWV3XG4gICAgLy9lbGVtZW50SW5mby5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50SW5mby5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmUnKTtcbiAgfVxuICB1cGRhdGVEaXNwbGF5QWxsQnRuKCk7XG59XG5cbi8qKlxuICogTG9hZCBkaXNwbGF5SW5mbyBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5mdW5jdGlvbiBsb2FkU2V0dGluZ3MgKCk6IHZvaWQge1xuICBjb25zdCB7IGRpc3BsYXlJbmZvIH0gPSBnZXRTZXR0aW5ncygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUluZm8nKS5jaGVja2VkID0gZGlzcGxheUluZm87XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIGluZm8gdmlzaWJpbGl0eSBjaGVja2JveC5cbiAqL1xuZnVuY3Rpb24gc2V0SW5mb0NvbnRyb2xzICgpOiB2b2lkIHtcbiAgc3RhcnRJbmZvVmlzaWJpbGl0eSgpO1xuICBsb2FkU2V0dGluZ3MoKTtcbiAgdXBkYXRlSW5mb1Zpc2liaWxpdHkoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1cGRhdGVJbmZvVmlzaWJpbGl0eSk7XG59XG5cbi8qKlxuICogQ2xhc3MgdGhhdCBtYW5hZ2VzIGdldHRpbmcgaW5mb3JtYXRpb24gZm9yIGVsZW1lbnRzIGluIE5lb24gZnJvbSBWZXJvdmlvLlxuICovXG5jbGFzcyBJbmZvTW9kdWxlIGltcGxlbWVudHMgSW5mb0ludGVyZmFjZSB7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuICBpc0hvdmVyaW5nQ2hpbGQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgY29uc3RydWN0b3IgZm9yIGFuIEluZm9Nb2R1bGUuXG4gICAqIEBwYXJhbSB7TmVvblZpZXd9IG5lb25WaWV3IC0gVGhlIE5lb25WaWV3IHBhcmVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgLy8gQWRkIGluZm8gYm94IGVuYWJsZS9kaXNhYmxlIGNoZWNrIGJveFxuICAgIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gJ0luZm8nO1xuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dC5pZCA9ICdkaXNwbGF5SW5mbyc7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBpbnB1dC50eXBlID0gJ2NoZWNrYm94JztcbiAgICBpbnB1dC5jaGVja2VkID0gZmFsc2U7XG4gICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIGNoZWNrYm94ZXNDb250YWluZXIucHJlcGVuZChsYWJlbCk7XG5cbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5yZXNldEluZm9MaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgc2V0SW5mb0NvbnRyb2xzKCk7XG4gICAgdGhpcy5yZXNldEluZm9MaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbGlzdGVuZXJzIGZvciB0aGUgSW5mb01vZHVsZS5cbiAgICogVHJpZ2dlciBhY3Rpb24gb24gbW91c2VvdmVyIG9mIHNwZWNpZmljIG11c2ljYWwgZWxlbWVudCBjbGFzc2VzLlxuICAgKi9cbiAgaW5mb0xpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZS1wYWdlJylbMF1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZSwuY3VzdG9zLC5jbGVmLC5hY2NpZCwuZGl2TGluZSwuc3RhZmYnKVxuICAgICAgICAuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFub2RlLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgdGhpcy5pc0hvdmVyaW5nQ2hpbGQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbmZvKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZS1wYWdlJylbMF1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZSwuY3VzdG9zLC5jbGVmLC5hY2NpZCwuZGl2TGluZScpXG4gICAgICAgIC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNIb3ZlcmluZ0NoaWxkID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBsaXN0ZW5lcnMgZm9yIHRoZSBJbmZvTW9kdWxlLlxuICAgKi9cbiAgc3RvcExpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lLC5jdXN0b3MsLmNsZWYsLmFjY2lkLC5kaXZMaW5lLC5zdGFmZicpLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMudXBkYXRlSW5mby5iaW5kKHRoaXMpKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQsIC5kaXZMaW5lJykuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5pc0hvdmVyaW5nQ2hpbGQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RhcnQgbGlzdGVuZXJzIGZvciB0aGUgSW5mb01vZHVsZS5cbiAgICovXG4gIHJlc2V0SW5mb0xpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5pbmZvTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHVwZGF0ZWQgaW5mbyBmb3IgdGhlIGNhbGxpbmcgZWxlbWVudCBiYXNlZCBvbiBpdHMgZWxlbWVudCB0eXBlLlxuICAgKiBNYWtlcyBjYWxscyB0byBOZW9uQ29yZSB0byBnZXQgdGhlIGluZm9ybWF0aW9uIG5lY2Vzc2FyeS5cbiAgICovXG4gIGFzeW5jIHVwZGF0ZUluZm8gKGV2ZW50OiBNb3VzZUV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIEZvciBub3csIHNpbmNlIENsZWZzIGRvIG5vdCBoYXZlIHRoZWlyIG93biBlbGVtZW50IHRhZyBpbiBtZWk0LCB0aGVyZSBpcyBub3QgYSB3YXkgdG8gc2VsZWN0IHRoZSA8Zz4gZWxlbWVudFxuICAvLyBTbyB3ZSB3aWxsIHNpbXBseSByZXR1cm4gaWYgSUQgZG9lcyBub3QgZXhpc3QgZm9yIG5vd1xuICAgIGNvbnN0IGlkID0gKGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkO1xuICAgIGlmIChpZCA9PT0gJycpIHtcbiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VsZW1lbnRfaW5mbycpLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgY2hpbGQucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBpZCEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGNvbnN0IGNsYXNzUmUgPSAvbmV1bWV8Y2xlZnxjdXN0b3N8c3RhZmZ8YWNjaWR8ZGl2TGluZS87XG4gICAgY29uc3QgZWxlbWVudENsYXNzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykubWF0Y2goY2xhc3NSZSlbMF07XG4gICAgbGV0IGJvZHkgPSAnJztcbiAgICBsZXQgYXR0cmlidXRlczogQXR0cmlidXRlcztcblxuICAgIC8vIEdldHMgdGhlIHBpdGNoZXMgZGVwZW5kaW5nIG9uIGVsZW1lbnQgdHlwZSBhbmRcbiAgICBzd2l0Y2ggKGVsZW1lbnRDbGFzcykge1xuICAgICAgY2FzZSAnbmV1bWUnOiB7XG4gICAgICAgIC8vIFNlbGVjdCBuZXVtZSBjb21wb25lbnRzIG9mIHNlbGVjdGVkIG5ldW1lXG4gICAgICAgIGNvbnN0IG5jcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5jJykgYXMgTm9kZUxpc3RPZjxTVkdHcmFwaGljc0VsZW1lbnQ+O1xuICAgICAgICBpZiAobmNzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IGF0dHI6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jc1swXS5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICAgIGlmIChhdHRyLmN1cnZlID09PSAnYScgfHwgYXR0ci5jdXJ2ZSA9PT0gJ2MnKSB7XG4gICAgICAgICAgICBsZXQgcGl0Y2hlcyA9IGF3YWl0IHRoaXMuZ2V0UGl0Y2hlcyhuY3MpO1xuXG4gICAgICAgICAgICBwaXRjaGVzID0gcGl0Y2hlcy50cmltKCkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGJvZHkgPSAnU2hhcGU6IExpcXVlc2NlbnQnICsgJ1xcclxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb250b3VyID0gYXdhaXQgdGhpcy5nZXRDb250b3VyKG5jcyk7XG4gICAgICAgIGlmIChuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgYXR0cjogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmNzWzBdLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgICAgaWYoYXR0ci50aWx0ID09PSAncycpIHtcbiAgICAgICAgICAgIGxldCBwaXRjaGVzID0gYXdhaXQgdGhpcy5nZXRQaXRjaGVzKG5jcyk7XG5cbiAgICAgICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYm9keSA9ICdTaGFwZTogVmlyZ2EgXFxyXFxuJyAgK1xuICAgICAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKGF0dHIudGlsdCA9PT0gJ24nKXtcbiAgICAgICAgICAgIGxldCBwaXRjaGVzID0gYXdhaXQgdGhpcy5nZXRQaXRjaGVzKG5jcyk7XG5cbiAgICAgICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYm9keSA9ICdTaGFwZTogUmV2ZXJzZWQgVmlyZ2EgXFxyXFxuJyAgK1xuICAgICAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udG91ciA9PT0gJ0NsaXZpcycpIHtcbiAgICAgICAgICBjb25zdCBhdHRyOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuY3NbMF0uaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgICBpZiAoYXR0ci5saWdhdGVkKSB7XG4gICAgICAgICAgICBjb250b3VyID0gJ0xpZ2F0dXJlJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICBwaXRjaGVzID0gcGl0Y2hlcy50cmltKCkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgYm9keSA9ICdTaGFwZTogJyArIChjb250b3VyID09PSB1bmRlZmluZWQgPyAnQ29tcG91bmQnIDogY29udG91cikgKyAnXFxyXFxuJyArXG4gICAgICAgICAgICAgICAgJ1BpdGNoKGVzKTogJyArIHBpdGNoZXM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY3VzdG9zJzoge1xuICAgICAgICBhdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICBib2R5ICs9ICdQaXRjaDogJyArIChhdHRyaWJ1dGVzWydwbmFtZSddKS50b1VwcGVyQ2FzZSgpICsgYXR0cmlidXRlc1snb2N0J107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnYWNjaWQnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGxldCB0eXBlID0gJyc7XG4gICAgICAgIGlmICgoYXR0cmlidXRlc1snYWNjaWQnXSkudG9VcHBlckNhc2UoKSA9PSAnRicpe1xuICAgICAgICAgIHR5cGUgPSAnRmxhdCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZigoYXR0cmlidXRlc1snYWNjaWQnXSkudG9VcHBlckNhc2UoKSA9PSAnTicpe1xuICAgICAgICAgIHR5cGUgPSAnTmF0dXJhbCc7XG4gICAgICAgIH1cbiAgICAgICAgYm9keSArPSAnQWNjaWQgVHlwZTogJyArIHR5cGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY2xlZic6IHtcbiAgICAgICAgY29uc3QgYXR0ciA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIoaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKSBhcyBDbGVmQXR0cmlidXRlcztcblxuICAgICAgICAvLyBJZiBjbGVmIGhhcyBiZWVuIGRpc3BsYWNlZCwgZm9ybWF0IGFuZCBzaG93IHRoZSBkaXNwbGFjZW1lbnQgYXNcbiAgICAgICAgLy8gbnVtYmVyIG9mIG9jdGF2ZXMgbm90IG51bWJlciBvZiBmdWxsIHN0ZXBzXG4gICAgICAgIGlmIChhdHRyWydkaXMucGxhY2UnXSAmJiBhdHRyLmRpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gQ29tYmluZSBhbmQgZm9ybWF0IGBkaXMucGxhY2VgIGFuZCBgZGlzYDpcbiAgICAgICAgICAvLyBFLmcuLCBmb3JtYXQoJ2Fib3ZlJywgOCkgPT4gJysxJ1xuICAgICAgICAgIC8vIEUuZy4sIGZvcm1hdCgnYmVsb3cnLCAyMikgPT4gJy0yMidcbiAgICAgICAgICBjb25zdCBmb3JtYXQgPSAoZGlzcGxhY2U6IHN0cmluZywgZGlzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IGRpc3BsYWNlID09PSAnYWJvdmUnID8gJysnIDogJy0nO1xuICAgICAgICAgICAgY29uc3Qgb2N0YXZlID0gU3RyaW5nKE1hdGguZmxvb3IoTnVtYmVyKGRpcykgLyA3KSk7XG4gICAgICAgICAgICByZXR1cm4gZGlyICsgb2N0YXZlO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBib2R5ICs9ICdPY3RhdmUgRGlzcGxhY2VtZW50OiAnICsgZm9ybWF0KGF0dHJbJ2Rpcy5wbGFjZSddLCBhdHRyLmRpcykgKyAnXFxyXFxuJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBib2R5ICs9ICdPY3RhdmUgRGlzcGxhY2VtZW50OiBOb25lXFxyXFxuJztcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkgKz0gJ1NoYXBlOiAnICsgYXR0ci5zaGFwZSArICdcXHJcXG4nICsgJ0xpbmU6ICcgKyBhdHRyLmxpbmU7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdkaXZMaW5lJzoge1xuICAgICAgICBhdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICBib2R5ICs9ICdEaXZMaW5lIFR5cGU6ICcgKyBhdHRyaWJ1dGVzWydmb3JtJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3RhZmYnOiB7XG4gICAgICAgIGlmICh0aGlzLmlzSG92ZXJpbmdDaGlsZCkgcmV0dXJuO1xuICAgICAgICBhdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICBpZiAoYXR0cmlidXRlc1sndHlwZSddKSBib2R5ICs9ICdDb2x1bW46ICcgKyBhdHRyaWJ1dGVzWyd0eXBlJ10ucmVwbGFjZSgvXmNvbHVtbi8sICcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGJvZHkgKz0gJ25vdGhpbmcnO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgYm9keSA9IGBFbGVtZW50IFR5cGU6ICR7ZWxlbWVudENsYXNzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZWxlbWVudENsYXNzLnNsaWNlKDEpfVxcbiR7Ym9keX1gO1xuICAgIHRoaXMudXBkYXRlSW5mb01vZHVsZShib2R5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGluZGl2aWR1YWwgcGl0Y2hlcyBvZiBhIG5ldW1lLlxuICAgKiBAcGFyYW0gbmNzIC0gTmV1bWUgY29tcG9uZW50cyBpbiB0aGUgbmV1bWUuXG4gICAqIEByZXR1cm5zIFNwYWNlIHNlcGFyYXRlZCBwaXRjaGVzIG9mIHRoZSBuZXVtZSBjb21wb25lbnRzIGluIG9yZGVyLlxuICAgKi9cbiAgYXN5bmMgZ2V0UGl0Y2hlcyAobmNzOiBJdGVyYWJsZTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgcGl0Y2hlcyA9ICcnO1xuICAgIGZvciAoY29uc3QgbmMgb2YgbmNzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuYy5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgcGl0Y2hlcyArPSBhdHRyaWJ1dGVzWydwbmFtZSddICsgYXR0cmlidXRlc1snb2N0J10gKyAnICc7XG4gICAgfVxuICAgIHJldHVybiBwaXRjaGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29udG91ciBvZiBhIG5ldW1lLlxuICAgKiBAcGFyYW0gbmNzIC0gTmV1bWUgY29tcG9uZW50cyBpbiB0aGUgbmV1bWUuXG4gICAqL1xuICBhc3luYyBnZXRDb250b3VyIChuY3M6IEl0ZXJhYmxlPFNWR0dyYXBoaWNzRWxlbWVudD4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGxldCBjb250b3VyID0gJyc7XG4gICAgbGV0IHByZXZpb3VzOiBBdHRyaWJ1dGVzID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IG5jIG9mIG5jcykge1xuICAgICAgY29uc3QgYXR0cmlidXRlczogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgIGlmIChwcmV2aW91cyAhPT0gbnVsbCkge1xuICAgICAgICBpZiAocHJldmlvdXNbJ29jdCddID4gYXR0cmlidXRlc1snb2N0J10pIHtcbiAgICAgICAgICBjb250b3VyICs9ICdkJztcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c1snb2N0J10gPCBhdHRyaWJ1dGVzWydvY3QnXSkge1xuICAgICAgICAgIGNvbnRvdXIgKz0gJ3UnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLnBpdGNoTmFtZVRvTnVtKHByZXZpb3VzWydwbmFtZSddKSA8IHRoaXMucGl0Y2hOYW1lVG9OdW0oYXR0cmlidXRlc1sncG5hbWUnXSkpIHtcbiAgICAgICAgICAgIGNvbnRvdXIgKz0gJ3UnO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5waXRjaE5hbWVUb051bShwcmV2aW91c1sncG5hbWUnXSkgPiB0aGlzLnBpdGNoTmFtZVRvTnVtKGF0dHJpYnV0ZXNbJ3BuYW1lJ10pKSB7XG4gICAgICAgICAgICBjb250b3VyICs9ICdkJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udG91ciArPSAncyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGlmIChuZXVtZUdyb3Vwcy5nZXQoY29udG91cikgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS53YXJuKCdVbmtub3duIGNvbnRvdXI6ICcgKyBjb250b3VyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldW1lR3JvdXBzLmdldChjb250b3VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGFuZCB1cGRhdGUgdGhlIGluZm8gYm94LlxuICAgKiBAcGFyYW0gYm9keSAtIFRoZSBpbmZvIGJveCBjb250ZW50cy5cbiAgICovXG4gIHVwZGF0ZUluZm9Nb2R1bGUgKGJvZHk6IHN0cmluZyk6IHZvaWQge1xuICAgICg8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luZm8tYnViYmxlLWJvZHknKVswXSkuaW5uZXJUZXh0ID0gYm9keTtcblxuICAgIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luZm8tYnViYmxlLWNvbnRhaW5lcicpWzBdIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYSBwaXRjaCBuYW1lIChhLWcpIHRvIGEgbnVtYmVyICh3aGVyZSBjIGlzIDEsIGQgaXMgMiwgLi4uYW5kIGIgaXMgNykuXG4gICAqIEBwYXJhbSBwbmFtZSAtIFRoZSBwaXRjaCBuYW1lLlxuICAgKiBAcmV0dXJucyBFcXVpdmFsZW50IHBpdGNoIG5hbWUgYXMgYSBudW1iZXIgZnJvbSAxIHRvIDcuXG4gICAqL1xuICBwaXRjaE5hbWVUb051bSAocG5hbWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgc3dpdGNoIChwbmFtZSkge1xuICAgICAgY2FzZSAnYyc6XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSAnZCc6XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSAnZSc6XG4gICAgICAgIHJldHVybiAzO1xuICAgICAgY2FzZSAnZic6XG4gICAgICAgIHJldHVybiA0O1xuICAgICAgY2FzZSAnZyc6XG4gICAgICAgIHJldHVybiA1O1xuICAgICAgY2FzZSAnYSc6XG4gICAgICAgIHJldHVybiA2O1xuICAgICAgY2FzZSAnYic6XG4gICAgICAgIHJldHVybiA3O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gcGl0Y2ggbmFtZScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBjb250b3VyIG9mIGFuIG5ldW1lIGdyb3VwaW5nIGJhc2VkIG9uIHRoZSBncm91cGluZyBuYW1lLlxuICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgY29udG91ciBuYW1lLlxuICAgKiBAcmV0dXJucyBCZXN0IGd1ZXNzIG5hbWUgb2YgdGhlIG5ldW1lIHNoYXBlLlxuICAgKi9cbiAgZ2V0Q29udG91ckJ5VmFsdWUgKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIFxuICAgIGZvciAoY29uc3QgW2NvbnQsIHZdIG9mIG5ldW1lR3JvdXBzLmVudHJpZXMoKSkge1xuICAgICAgaWYgKHYgPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb250O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBJbmZvTW9kdWxlIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgeyB1bnNlbGVjdCB9IGZyb20gJy4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IHsgdXBkYXRlRGlzcGxheUFsbEJ0biwgdXBkYXRlSGlnaGxpZ2h0IH0gZnJvbSAnLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCB7IFRleHRWaWV3SW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qXG4gKiBDbGFzcyB0aGF0IG1hbmFnZXMgZ2V0dGluZyB0aGUgdGV4dCBmb3Igc3lsbGFibGVzIGluIE5lb24gZnJvbSB0aGUgbWVpIGZpbGVcbiAqL1xuY2xhc3MgVGV4dFZpZXcgaW1wbGVtZW50cyBUZXh0Vmlld0ludGVyZmFjZSB7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuICAvKiogV2hldGhlciBvciBub3QgdGhlIHVzZXIgaGFzIGJlZW4gbm90aWZpZWQgYWJvdXQgYmxhbmsgc3lsbGFibGVzLiAqL1xuICBwcml2YXRlIG5vdGlmaWNhdGlvblNlbnQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBIGNvbnN0cnVjdG9yIGZvciBhIFRleHRWaWV3LlxuICAgKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgY2FsbGluZyBbW05lb25WaWV3XV0gZm9yIHRoZSBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5ub3RpZmljYXRpb25TZW50ID0gZmFsc2U7XG5cbiAgICAvLyBhZGQgY2hlY2tib3ggdG8gZW5hYmxlL2Rpc2FibGUgdGhlIHZpZXdcbiAgICBjb25zdCBjaGVja2JveGVzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktc2luZ2xlLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRleHRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgYmJveExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCB0ZXh0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCBiYm94QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0ZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgYmJveEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIHRleHRMYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC1jb250YWluZXInLCAnc2lkZS1wYW5lbC1idG4nKTtcbiAgICBiYm94TGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgdGV4dExhYmVsLnRleHRDb250ZW50ID0gJ1RleHQnO1xuICAgIGJib3hMYWJlbC50ZXh0Q29udGVudCA9ICdCQm94ZXMnO1xuICAgIHRleHRCdXR0b24uaWQgPSAnZGlzcGxheVRleHQnO1xuICAgIHRleHRCdXR0b24udHlwZSA9ICdjaGVja2JveCc7XG4gICAgYmJveEJ1dHRvbi5pZCA9ICdkaXNwbGF5QkJveCc7XG4gICAgYmJveEJ1dHRvbi50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0ZXh0QnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICBiYm94QnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB0ZXh0TGFiZWwuYXBwZW5kQ2hpbGQodGV4dEJ1dHRvbik7XG4gICAgYmJveExhYmVsLmFwcGVuZENoaWxkKGJib3hCdXR0b24pO1xuICAgIGNoZWNrYm94ZXNDb250YWluZXIucHJlcGVuZChiYm94TGFiZWwpO1xuICAgIGNoZWNrYm94ZXNDb250YWluZXIucHJlcGVuZCh0ZXh0TGFiZWwpO1xuXG4gICAgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICB0aGlzLnNldFRleHRWaWV3Q29udHJvbHMoKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy51cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMudXBkYXRlQkJveFZpc2liaWxpdHkuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgKiBTZXQgbGlzdGVuZXJzIG9uIHRleHR2aWV3IHZpc2liaWxpdHkgY2hlY2tib3hcbiAgKi9cbiAgc2V0VGV4dFZpZXdDb250cm9scyAoKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkoKTtcbiAgICB0aGlzLnVwZGF0ZUJCb3hWaXNpYmlsaXR5KCk7XG4gIFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkoKTtcbiAgICAgIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTtcbiAgICB9KTtcbiAgXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUJCb3hWaXNpYmlsaXR5KCk7XG4gICAgICB1cGRhdGVEaXNwbGF5QWxsQnRuKCk7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkU2V0dGluZ3MgKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZGlzcGxheVRleHQsIGRpc3BsYXlCQm94IH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5VGV4dCcpLmNoZWNrZWQgPSBkaXNwbGF5VGV4dDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkID0gZGlzcGxheUJCb3g7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHZpc2liaWxpdHkgb2YgdGV4dCBib3VuZGluZyBib3hlc1xuICAgKi9cbiAgdXBkYXRlQkJveFZpc2liaWxpdHkgKCk6IHZvaWQge1xuXG4gICAgY29uc3QgZGlzcGxheUJCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgXG4gICAgLy8gc2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlCQm94OiBkaXNwbGF5QkJveGVzLmNoZWNrZWQgfSk7XG5cbiAgICBpZiAoZGlzcGxheUJCb3hlcy5jaGVja2VkKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QnKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxUZXh0UmVjdCcpO1xuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsLnNlbGVjdGVkIC5zeWxUZXh0UmVjdC1kaXNwbGF5JylcbiAgICAgICAgLmZvckVhY2goKHJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7IHJlY3Quc3R5bGUuZmlsbCA9ICdyZWQnOyB9KTtcblxuICAgICAgaWYgKHRoaXMubmVvblZpZXcuZ2V0VXNlck1vZGUoKSAhPT0gJ3ZpZXdlcicgJiYgdGhpcy5uZW9uVmlldy5UZXh0RWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubmVvblZpZXcuVGV4dEVkaXQuaW5pdFNlbGVjdEJ5QkJveEJ1dHRvbigpO1xuICAgICAgICB0aGlzLm5lb25WaWV3LlRleHRFZGl0LmluaXRCQm94Q2lyY2xlU2xpZGVyKCk7XG4gICAgICAgIGNvbnN0IHsgY2lyY2xlU2l6ZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2NpcmNsZU91dHB1dCcpLnZhbHVlID0gU3RyaW5nKGNpcmNsZVNpemUpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjY2lyY2xlU2xpZGVyJykudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG4gICAgICB9XG4gICAgfSBcbiAgICBlbHNlIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk/LmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgICAgdW5zZWxlY3QoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTeWxsYWJsZScpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICAnc2VsQnlTeWxsYWJsZScgfSk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdzeWxUZXh0UmVjdCcpO1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsLnNlbGVjdGVkIC5zeWxUZXh0UmVjdCcpLmZvckVhY2goKHJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdub25lJztcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0gXG4gICAgICBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYm94LWNpcmNsZS1zbGlkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSBcbiAgICAgIGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG5cbiAgLyoqXG4gICogVXBkYXRlIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB0ZXh0dmlldyBib3hcbiAgKiBhbmQgYWRkIHRoZSBldmVudCBsaXN0ZW5lcnMgdG8gbWFrZSBzdXJlIHRoZSBzeWwgaGlnaGxpZ2h0cyB3aGVuIG1vdXNlZCBvdmVyXG4gICovXG4gIHVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eSAoKTogdm9pZCB7XG5cbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgXG4gICAgLy8gc2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlUZXh0OiBkaXNwbGF5VGV4dC5jaGVja2VkIH0pO1xuXG4gICAgaWYgKGRpc3BsYXlUZXh0LmNoZWNrZWQpIHtcbiAgICAgIGNvbnN0IHN5bFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKTtcbiAgICAgIHN5bFRleHQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgc3lsVGV4dC5pbm5lckhUTUwgPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJpbmZvLWJ1YmJsZS1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtaGVhZGVyXCI+U3lsbGFibGVzIG9uIHRoaXMgcGFnZTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWJ1YmJsZS1ib2R5XCI+JHt0aGlzLmdldFN5bFRleHQoKX08L2Rpdj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGNvbnN0IHNwYW5zID0gc3lsVGV4dC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJyk7XG4gICAgICBzcGFucy5mb3JFYWNoKHNwYW4gPT4ge1xuICAgICAgICBjb25zdCBzeWxsYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNwYW4uY2xhc3NMaXN0WzBdKTtcbiAgICAgICAgY29uc3Qgc3lsID0gc3lsbGFibGUucXVlcnlTZWxlY3RvcignLnN5bCcpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gc3lsLnF1ZXJ5U2VsZWN0b3IoJ3RleHQnKTtcbiAgICAgICAgY29uc3QgcmVjdCA9IHN5bC5xdWVyeVNlbGVjdG9yKCdyZWN0Jyk7XG4gICAgICAgIGlmICh0ZXh0LmNsYXNzTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0ZXh0LmNsYXNzTGlzdC5hZGQoJ3RleHQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChzeWxsYWJsZS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICBzeWxsYWJsZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2gobmV1bWUgPT4ge1xuICAgICAgICAgICAgbmV1bWUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzeWwuYXR0cignZmlsbCcsICcjZmZjN2M3Jyk7XG4gICAgICAgICAgLy8gdGhpcy5oaWdobGlnaHRCb3VuZGluZ0JveChzcGFuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChzeWxsYWJsZS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICBzeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2gobmV1bWUgPT4ge1xuICAgICAgICAgICAgbmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHN5bGxhYmxlLnN0eWxlLmZpbGwgIT09ICdyZ2IoMCwgMCwgMCknKSB7IC8vIHN5bGxhYmxlLmdldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL1NWRycsICdmaWxsJyk7XG4gICAgICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZmlsbCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzeWwuYXR0cignZmlsbCcsIG51bGwpO1xuICAgICAgICAgIC8vIHRoaXMucmVtb3ZlQm91bmRpbmdCb3goc3Bhbik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm5lb25WaWV3LmdldFVzZXJNb2RlKCkgIT09ICd2aWV3ZXInICYmIHRoaXMubmVvblZpZXcuVGV4dEVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm5lb25WaWV3LlRleHRFZGl0LmluaXRUZXh0RWRpdCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBzY3JvbGwgdGhlIHN5bGxhYmxlIHRleHQgYnViYmxlIGludG8gdmlld1xuICAgICAgLy9zeWxUZXh0LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH0gXG4gICAgZWxzZSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN5bGxhYmxlIHRleHQgb2YgdGhlIGxvYWRlZCBmaWxlXG4gICAqL1xuICBnZXRTeWxUZXh0ICgpOiBzdHJpbmcge1xuICAgIGxldCBseXJpY3MgPSAnJztcbiAgICBjb25zdCB1bmlUb0Rhc2ggPSAvXFx1ZTU1MS9nO1xuICAgIGNvbnN0IHN5bGxhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUtcGFnZSAuc3lsbGFibGUnKTtcbiAgICBzeWxsYWJsZXMuZm9yRWFjaChzeWxsYWJsZSA9PiB7XG4gICAgICBpZiAoc3lsbGFibGUucXVlcnlTZWxlY3RvcignLnN5bCcpICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHN5bCA9IHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICAgICAgbHlyaWNzICs9IGA8c3BhbiBjbGFzcz1cIiR7c3lsbGFibGUuaWR9IHN5bC10ZXh0LXNpZGUtcGFuZWxcIj5gO1xuICAgICAgICBpZiAoc3lsLnRleHRDb250ZW50LnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICBseXJpY3MgKz0gJyYjeDI1Q0E7ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgQXJyYXkuZnJvbShzeWwuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4pLmZvckVhY2godGV4dCA9PiB7XG4gICAgICAgICAgICBseXJpY3MgKz0gdGV4dC50ZXh0Q29udGVudCAhPT0gJycgPyB0ZXh0LnRleHRDb250ZW50IDogJyYjeDI1Q0E7ICc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbHlyaWNzICs9ICcgPC9zcGFuPic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCF0aGlzLm5vdGlmaWNhdGlvblNlbnQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQmxhbmsgc3lsbGFibGVzIGFyZSByZXByZXNlbnRlZCBieSDil4ohJyk7XG4gICAgICB0aGlzLm5vdGlmaWNhdGlvblNlbnQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gbHlyaWNzLnJlcGxhY2UodW5pVG9EYXNoLCAnLScpO1xuICB9XG59XG5cbmV4cG9ydCB7IFRleHRWaWV3IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IHVuc2VsZWN0IH0gZnJvbSAnLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBzZXRTZWxlY3RIZWxwZXJPYmplY3RzLCBkcmFnU2VsZWN0LCBjbGlja1NlbGVjdCB9IGZyb20gJy4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCB7IHNldEdyb3VwaW5nSGlnaGxpZ2h0IH0gZnJvbSAnLi91dGlscy9Db2xvcic7XG5pbXBvcnQgeyBUZXh0RWRpdEludGVyZmFjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgIHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5pbXBvcnQgeyBzZXRDaXJjbGVTaXplQ29udHJvbHMgfSBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuXG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBmb3IgcHJvbXB0aW5nIHRoZSB1c2VyLlxuICogQHBhcmFtIHJhd1N0cmluZyAtIFRoZSB1bmZvcm1hdHRlZCBzdHJpbmcuXG4gKi9cbi8qXG5mdW5jdGlvbiBmb3JtYXRSYXcgKHJhd1N0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICByZXR1cm4gcmF3U3RyaW5nLnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xufVxuKi9cblxuZnVuY3Rpb24gc2VsQnlCQm94TGlzdGVuZXIgKCk6IHZvaWQge1xuICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGUgOiAnc2VsQnlCQm94JyB9KTtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5jJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOZXVtZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlMYXllckVsZW1lbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBBIFRleHQgZWRpdGluZyBtb2R1bGUgdGhhdCB3b3JrcyB3aXRoIHRoZSBTaW5nbGVWaWV3IGFuZCBEaXZhVmlldyBtb2R1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRFZGl0TW9kZSBpbXBsZW1lbnRzIFRleHRFZGl0SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBUZXh0RWRpdFxuICAgKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgY2FsbGluZyBbW05lb25WaWV3XV0gZm9yIHRoZSBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5pbml0VGV4dEVkaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAqIFNldCB0ZXh0IHRvIGVkaXQgbW9kZVxuICAqL1xuICBpbml0VGV4dEVkaXQgKCk6IHZvaWQge1xuICAgIGNvbnN0IHNwYW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3BhbicpO1xuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5uZW9uVmlldy5tb2RhbDtcbiAgICBzcGFucy5mb3JFYWNoKChzcGFuOiBIVE1MU3BhbkVsZW1lbnQpID0+IHtcbiAgICAgIGZ1bmN0aW9uIHNlbGVjdFN5bFRleHQgKCk6IHZvaWQge1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkLXRvLWVkaXQnKTtcbiAgICAgICAgbW9kYWwuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQpO1xuICAgICAgICBtb2RhbC5vcGVuTW9kYWxXaW5kb3coKTtcbiAgICAgIH1cblxuICAgICAgc3Bhbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdFN5bFRleHQpO1xuICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdFN5bFRleHQpO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleSA9PT0gJ1QnKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkU3lsVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LXNlbGVjdCcpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTeWxUZXh0KSB7XG4gICAgICAgICAgc2VsZWN0ZWRTeWxUZXh0LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAqIEFkZCB0aGUgc2VsZWN0QnlCQm94IGJ1dHRvbi5cbiAgKiBJZiBuZXVtZSBlZGl0IG1vZGUgaXMgdGhlcmUsIGFkZCBpdCB0byB0aGUgYmFyIHdpdGggdGhlIG90aGVyIHNlbGVjdCBieSBidXR0b25zLlxuICAqIE90aGVyd2lzZSBhZGQgYW4gaW52aXNpYmxlIGJ1dHRvblxuICAqIHNpbmNlIHRoZSBvbmx5IGVkaXQgbW9kZSBpcyBzZWxlY3RCeVJlY3QgaW4gdGhhdCBjYXNlXG4gICovXG4gIGluaXRTZWxlY3RCeUJCb3hCdXR0b24gKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzZWxCeUJCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk7XG4gICAgICBpZiAoc2VsQnlCQm94KSB7XG4gICAgICAgIHNlbEJ5QkJveC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXInKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJywgJ3NlbC1ieScpO1xuICAgICAgYnV0dG9uLmlkID0gJ3NlbEJ5QkJveCc7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQkJveCc7XG4gICAgICBibG9jay5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsQnlCQm94TGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSAnNicpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLnN0eWxlLmRpc3BsYXkgPT09ICcnKSB7XG4gICAgICAgICAgICBzZWxCeUJCb3hMaXN0ZW5lci5iaW5kKHRoaXMpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbG9zZXN0KCcuY29udHJvbCcpO1xuICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHAuY2xhc3NMaXN0LmFkZCgnY29udHJvbCcpO1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnc2lkZS1wYW5lbC1idG4nLCAnc2VsLWJ5Jyk7XG4gICAgICBidXR0b24uaWQgPSAnc2VsQnlCQm94JztcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdCQm94JztcbiAgICAgIHAuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJsb2NrLmFwcGVuZENoaWxkKHApO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc2VsZWN0IGJ5IGJib3ggbW9kZVxuICAgKi9cbiAgYWRkQkJveExpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgaWYgKHRoaXMubmVvblZpZXcuTmV1bWVFZGl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8ganVzdCBpbiBjYXNlXG4gICAgICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIHNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLm5lb25WaWV3LnZpZXcuY29uc3RydWN0b3IubmFtZSA9PT0gJ1NpbmdsZVZpZXcnKSB7XG4gICAgICAgICAgY2xpY2tTZWxlY3QoJyNtZWlfb3V0cHV0LCAjbWVpX291dHB1dCByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnI3N2Z19ncm91cCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWNrU2VsZWN0KCcuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcsIC5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZyByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnLmFjdGl2ZS1wYWdlIHN2ZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgKiBBZGQgdGhlIGJib3ggY2lyY2xlIHNpemUgc2xpZGVyLlxuICAgICovXG4gIGluaXRCQm94Q2lyY2xlU2xpZGVyICgpOiB2b2lkIHtcbiAgICBjb25zdCBjaXJjbGVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmJveC1jaXJjbGUtc2xpZGVyJyk7XG4gICAgaWYgKGNpcmNsZVNsaWRlcikge1xuICAgICAgY2lyY2xlU2xpZGVyLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzbGlkZXJTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktc2xpZGVyLXNlY3Rpb24nKTtcbiAgICBjb25zdCBjaXJjbGVTbGlkZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc2xpZGVyLWFuZC1zbGlkZXItYWN0aW9ucy1jb250YWluZXInLCAnZGlzcGxheS1wYW5lbCcpO1xuICAgIGNpcmNsZVNsaWRlckNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgY2lyY2xlU2xpZGVyQ29udGFpbmVyLmlkID0gJ2Jib3gtY2lyY2xlLXNsaWRlcic7XG4gICAgY2lyY2xlU2xpZGVyQ29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaXNwbGF5LXNsaWRlci10aXRsZVwiPkJCb3ggQ2lyY2xlPC9kaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzbGlkZXItYnRuXCIgaWQ9XCJyZXNldC1jaXJjbGUtc2l6ZVwiIHRpdGxlPVwiUmVzZXQgY2lyY2xlIHNpemVcIj5cbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzbGlkZXItYnRuLWltZ1wiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2Fycm93LXJvdGF0ZS1sZWZ0LXNvbGlkLnN2Z1wiPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgIHN0ZXA9XCIxXCIgbWluPVwiMFwiIG1heD1cIjI1XCIgdmFsdWU9XCIyNVwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNldC1jaXJjbGUtc2l6ZVwiXG4gICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgaWQ9XCJjaXJjbGVTbGlkZXJcIlxuICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDFyZW07IHBhZGRpbmctcmlnaHQ6IDFyZW07XCJcbiAgICAgICAgICAgIGRpc2FibGVkPVwiZGlzYWJsZWRcIlxuICAgICAgICAvPlxuICAgICAgICA8b3V0cHV0IGlkPVwiY2lyY2xlT3V0cHV0XCIgZm9yPVwiY2lyY2xlU2xpZGVyXCI+MjU8L291dHB1dD5cbiAgICA8L2Rpdj5gO1xuICAgIHNsaWRlclNlY3Rpb24uYXBwZW5kQ2hpbGQoY2lyY2xlU2xpZGVyQ29udGFpbmVyKTtcbiAgIFxuICAgIGlmICh0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICBzZXRDaXJjbGVTaXplQ29udHJvbHMoKTtcbiAgfVxufSIsImV4cG9ydCB7IHNldERPTUF0dHJpYnV0ZXMgYXMgc2V0QXR0cmlidXRlcyB9O1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIERPTSBlbGVtZW50LCBzZXQgYXR0cmlidXRlcyBvbiBpdCwgYW5kXG4gKiBhcHBlbmQgY2hpbGRyZW4uIEFsbCBhcmd1bWVudHMgd2hpY2ggYXJlIG5vdCBvZiBwcmltaXRpdmUgdHlwZSwgYXJlIG5vdFxuICogYXJyYXlzLCBhbmQgYXJlIG5vdCBET00gbm9kZXMgYXJlIHRyZWF0ZWQgYXMgYXR0cmlidXRlIGhhc2hlcyBhbmQgYXJlXG4gKiBoYW5kbGVkIGFzIGRlc2NyaWJlZCBmb3Igc2V0RE9NQXR0cmlidXRlcy4gQ2hpbGRyZW4gY2FuIGVpdGhlciBiZSBhIERPTVxuICogbm9kZSBvciBhIHByaW1pdGl2ZSB2YWx1ZSwgd2hpY2ggaXMgY29udmVydGVkIHRvIGEgdGV4dCBub2RlLiBBcnJheXMgYXJlXG4gKiBoYW5kbGVkIHJlY3Vyc2l2ZWx5LiBOdWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzIGFyZSBpZ25vcmVkLlxuICpcbiAqIEluc3BpcmVkIGJ5IHRoZSBQcm9zZU1pcnJvciBoZWxwZXIgb2YgdGhlIHNhbWUgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsdCAodGFnKVxue1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgd2hpbGUgKGFyZ3MubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJnID0gYXJncy5zaGlmdCgpO1xuICAgICAgICBoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyhlbCwgYXJnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWw7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVsdENvbnN0cnVjdG9yQXJnIChlbCwgYXJnKVxue1xuICAgIGlmIChhcmcgPT0gbnVsbCkgIC8vIE5COiA9PSBpcyBjb3JyZWN0O1xuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZyAhPT0gJ2Z1bmN0aW9uJylcbiAgICB7XG4gICAgICAgIC8vIENvZXJjZSB0byBzdHJpbmdcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXJnKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlKVxuICAgIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoYXJnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgQXJyYXkpXG4gICAge1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gYXJnLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZENvdW50OyBpKyspXG4gICAgICAgICAgICBoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyhlbCwgYXJnW2ldKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgc2V0RE9NQXR0cmlidXRlcyhlbCwgYXJnKTtcbiAgICB9XG59XG5cbi8qKlxuICogU2V0IGF0dHJpYnV0ZXMgb2YgYSBET00gZWxlbWVudC4gVGhlIGBzdHlsZWAgcHJvcGVydHkgaXMgc3BlY2lhbC1jYXNlZCB0b1xuICogYWNjZXB0IGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3Qgd2hvc2Ugb3duIGF0dHJpYnV0ZXMgYXJlIGFzc2lnbmVkIHRvXG4gKiBlbC5zdHlsZS5cbiAqL1xuZnVuY3Rpb24gc2V0RE9NQXR0cmlidXRlcyAoZWwsIGF0dHJpYnV0ZXMpXG57XG4gICAgZm9yIChjb25zdCBwcm9wIGluIGF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkocHJvcCkpXG4gICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBpZiAocHJvcCA9PT0gJ3N0eWxlJylcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0U3R5bGUoZWwsIGF0dHJpYnV0ZXMuc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTdHlsZSAoZWwsIHN0eWxlKVxue1xuICAgIGlmICghc3R5bGUpXG4gICAgICAgIHJldHVybjtcblxuICAgIGlmICh0eXBlb2Ygc3R5bGUgIT09ICdvYmplY3QnKVxuICAgIHtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IHN0eWxlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjc3NQcm9wIGluIHN0eWxlKVxuICAgIHtcbiAgICAgICAgaWYgKCFzdHlsZS5oYXNPd25Qcm9wZXJ0eShjc3NQcm9wKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgIGVsLnN0eWxlW2Nzc1Byb3BdID0gc3R5bGVbY3NzUHJvcF07XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIERpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24gKG1lc3NhZ2UpXG57XG4gICAgdGhpcy5uYW1lID0gXCJEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbn1cblxuRGl2YVBhcmVudEVsZW1lbnROb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5vdEFuSUlJRk1hbmlmZXN0RXhjZXB0aW9uIChtZXNzYWdlKVxue1xuICAgIHRoaXMubmFtZSA9IFwiTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb25cIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xufVxuXG5Ob3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIE9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbiAobWVzc2FnZSlcbntcbiAgICB0aGlzLm5hbWUgPSBcIk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvblwiO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG59XG5cbk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbiIsImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vdXRpbHMvZXZlbnRzJztcblxuY29uc3QgZGl2YSA9IHtcbiAgICBFdmVudHM6IEV2ZW50cyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRpdmE7XG4iLCIvKipcbiAqIEV2ZW50cy4gUHViL1N1YiBzeXN0ZW0gZm9yIExvb3NlbHkgQ291cGxlZCBsb2dpYy5cbiAqIEJhc2VkIG9uIFBldGVyIEhpZ2dpbnMnIHBvcnQgZnJvbSBEb2pvIHRvIGpRdWVyeVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BoaWdnaW5zNDIvYmxvb2R5LWpxdWVyeS1wbHVnaW5zL2Jsb2IvbWFzdGVyL3B1YnN1Yi5qc1xuICpcbiAqIFJlLWFkYXB0ZWQgdG8gdmFuaWxsYSBKYXZhc2NyaXB0XG4gKlxuICogQGNsYXNzIEV2ZW50c1xuICovXG5cbmNsYXNzIERpdmFFdmVudHNcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnB1Ymxpc2hcbiAgICAgKiBlLmcuOiBkaXZhLkV2ZW50cy5wdWJsaXNoKFwiUGFnZURpZExvYWRcIiwgW3BhZ2VJbmRleCwgZmlsZW5hbWUsIHBhZ2VTZWxlY3Rvcl0sIHRoaXMpO1xuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBtZXRob2QgcHVibGlzaFxuICAgICAqIEBwYXJhbSB0b3BpYyB7U3RyaW5nfVxuICAgICAqIEBwYXJhbSBhcmdzICB7QXJyYXl9XG4gICAgICogQHBhcmFtIHNjb3BlIHtPYmplY3Q9fSBPcHRpb25hbCAtIFN1YnNjcmliZWQgZnVuY3Rpb25zIHdpbGwgYmUgZXhlY3V0ZWQgd2l0aCB0aGUgc3VwcGxpZWQgb2JqZWN0IGFzIGB0aGlzYC5cbiAgICAgKiAgICAgSXQgaXMgbmVjZXNzYXJ5IHRvIHN1cHBseSB0aGlzIGFyZ3VtZW50IHdpdGggdGhlIHNlbGYgdmFyaWFibGUgd2hlbiB3aXRoaW4gYSBEaXZhIGluc3RhbmNlLlxuICAgICAqICAgICBUaGUgc2NvcGUgYXJndW1lbnQgaXMgbWF0Y2hlZCB3aXRoIHRoZSBpbnN0YW5jZSBJRCBvZiBzdWJzY3JpYmVycyB0byBkZXRlcm1pbmUgd2hldGhlciB0aGV5XG4gICAgICogICAgICAgICBzaG91bGQgYmUgZXhlY3V0ZWQuIChTZWUgaW5zdGFuY2VJRCBhcmd1bWVudCBvZiBzdWJzY3JpYmUuKVxuICAgICAqL1xuICAgIHB1Ymxpc2godG9waWMsIGFyZ3MsIHNjb3BlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlW3RvcGljXSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGhpc1RvcGljID0gdGhpcy5fY2FjaGVbdG9waWNdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNUb3BpYy5nbG9iYWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNUb3BpY0dsb2JhbCA9IHRoaXNUb3BpYy5nbG9iYWw7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ291bnQgPSB0aGlzVG9waWNHbG9iYWwubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgZ2xvYmFsQ291bnQ7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNUb3BpY0dsb2JhbFtpXS5hcHBseShzY29wZSB8fCBudWxsLCBhcmdzIHx8IFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzY29wZSAmJiB0eXBlb2Ygc2NvcGUuZ2V0SW5zdGFuY2VJZCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHB1Ymxpc2hlciBpbnN0YW5jZSBJRCBmcm9tIHNjb3BlIGFyZywgY29tcGFyZSwgYW5kIGV4ZWN1dGUgaWYgbWF0Y2hcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZUlEID0gc2NvcGUuZ2V0SW5zdGFuY2VJZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNUb3BpY0luc3RhbmNlID0gdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRDb3VudCA9IHRoaXNUb3BpY0luc3RhbmNlLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7IGogPCBzY29wZWRDb3VudDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzVG9waWNJbnN0YW5jZVtqXS5hcHBseShzY29wZSwgYXJncyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy5zdWJzY3JpYmVcbiAgICAgKiBlLmcuOiBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoXCJQYWdlRGlkTG9hZFwiLCBoaWdobGlnaHQsIHNldHRpbmdzLklEKVxuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvcGljXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGluc3RhbmNlSUQgIE9wdGlvbmFsIC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgYSBEaXZhIGluc3RhbmNlOyBpZiBwcm92aWRlZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIG9ubHkgZmlyZXMgZm9yIGV2ZW50cyBwdWJsaXNoZWQgZnJvbSB0aGF0IGluc3RhbmNlLlxuICAgICAqIEByZXR1cm4gRXZlbnQgaGFuZGxlciB7QXJyYXl9XG4gICAgICovXG4gICAgc3Vic2NyaWJlKHRvcGljLCBjYWxsYmFjaywgaW5zdGFuY2VJRClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVbdG9waWNdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY10gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2VJRCA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlW3RvcGljXS5nbG9iYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVbdG9waWNdLmdsb2JhbCA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY10uZ2xvYmFsLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlSUQgPyBbdG9waWMsIGNhbGxiYWNrLCBpbnN0YW5jZUlEXSA6IFt0b3BpYywgY2FsbGJhY2tdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlXG4gICAgICogZS5nLjogdmFyIGhhbmRsZSA9IEV2ZW50cy5zdWJzY3JpYmUoXCJQYWdlRGlkTG9hZFwiLCBoaWdobGlnaHQpO1xuICAgICAqICAgICAgICAgRXZlbnRzLnVuc3Vic2NyaWJlKGhhbmRsZSk7XG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRzXG4gICAgICogQG1ldGhvZCB1bnN1YnNjcmliZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGhhbmRsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGNvbXBsZXRlbHkgLSBVbnN1YnNjcmliZSBhbGwgZXZlbnRzIGZvciBhIGdpdmVuIHRvcGljLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZShoYW5kbGUsIGNvbXBsZXRlbHkpXG4gICAge1xuICAgICAgICBjb25zdCB0ID0gaGFuZGxlWzBdO1xuXG4gICAgICAgIGlmICh0aGlzLl9jYWNoZVt0XSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRvcGljQXJyYXk7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZUlEID0gaGFuZGxlLmxlbmd0aCA9PT0gMyA/IGhhbmRsZVsyXSA6ICdnbG9iYWwnO1xuXG4gICAgICAgICAgICB0b3BpY0FycmF5ID0gdGhpcy5fY2FjaGVbdF1baW5zdGFuY2VJRF07XG5cbiAgICAgICAgICAgIGlmICghdG9waWNBcnJheSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWx5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVt0XVtpbnN0YW5jZUlEXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9waWNBcnJheS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaSA9IHRvcGljQXJyYXkubGVuZ3RoO1xuXG4gICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY0FycmF5W2ldID09PSBoYW5kbGVbMV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVt0XVtpbnN0YW5jZUlEXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy51bnN1YnNjcmliZUFsbFxuICAgICAqIGUuZy46IGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlQWxsKCdnbG9iYWwnKTtcbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGluc3RhbmNlSUQgT3B0aW9uYWwgLSBpbnN0YW5jZSBJRCB0byByZW1vdmUgc3Vic2NyaWJlcnMgZnJvbSBvciAnZ2xvYmFsJyAoaWYgb21pdHRlZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzIGluIGFsbCBzY29wZXMgcmVtb3ZlZClcbiAgICAgKiBAbWV0aG9kIHVuc3Vic2NyaWJlQWxsXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmVBbGwoaW5zdGFuY2VJRClcbiAgICB7XG4gICAgICAgIGlmIChpbnN0YW5jZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0b3BpY3MgPSBPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSk7XG4gICAgICAgICAgICBsZXQgaSA9IHRvcGljcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgdG9waWM7XG5cbiAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9waWMgPSB0b3BpY3NbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBsZXQgRXZlbnRzID0gbmV3IERpdmFFdmVudHMoKTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBvbkRvdWJsZUNsaWNrLFxuICAgIG9uUGluY2gsXG4gICAgb25Eb3VibGVUYXBcbn07XG5cbmNvbnN0IERPVUJMRV9DTElDS19USU1FT1VUID0gNTAwO1xuY29uc3QgRE9VQkxFX1RBUF9ESVNUQU5DRV9USFJFU0hPTEQgPSA1MDtcbmNvbnN0IERPVUJMRV9UQVBfVElNRU9VVCA9IDI1MDtcblxuZnVuY3Rpb24gb25Eb3VibGVDbGljayhlbGVtLCBjYWxsYmFjaylcbntcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFldmVudC5jdHJsS2V5KVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIHRoZSBjb250cm9sIGtleSBmb3IgbWFjcyAoaW4gY29uanVuY3Rpb24gd2l0aCBkb3VibGUtY2xpY2tpbmcpXG4gICAgLy8gRklYTUU6IERvZXMgYSBjbGljayBnZXQgaGFuZGxlZCB3aXRoIGN0cmwgcHJlc3NlZCBvbiBub24tTWFjcz9cbiAgICBjb25zdCB0cmFja2VyID0gY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyKERPVUJMRV9DTElDS19USU1FT1VUKTtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZXZlbnQpXG4gICAge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHJhY2tlci5pc1RyaWdnZXJlZCgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYWNrZXIucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFja2VyLnRyaWdnZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvblBpbmNoKGVsZW0sIGNhbGxiYWNrKVxue1xuICAgIGxldCBzdGFydERpc3RhbmNlID0gMDtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudClcbiAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgbW91c2UgZXZlbnQgZnJvbSBmaXJpbmdcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhcnREaXN0YW5jZSA9IGRpc3RhbmNlKFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRZLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sxXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sxXS5jbGllbnRZXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gUHJldmVudCBtb3VzZSBldmVudCBmcm9tIGZpcmluZ1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0b3VjaGVzID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzO1xuXG4gICAgICAgICAgICBjb25zdCBtb3ZlRGlzdGFuY2UgPSBkaXN0YW5jZShcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgdG91Y2hlc1swXS5jbGllbnRZLFxuICAgICAgICAgICAgICAgIHRvdWNoZXNbMV0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzFdLmNsaWVudFlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHpvb21EZWx0YSA9IG1vdmVEaXN0YW5jZSAtIHN0YXJ0RGlzdGFuY2U7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh6b29tRGVsdGEpID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3VjaENlbnRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZVg6ICh0b3VjaGVzWzBdLmNsaWVudFggKyB0b3VjaGVzWzFdLmNsaWVudFgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcGFnZVk6ICh0b3VjaGVzWzBdLmNsaWVudFkgKyB0b3VjaGVzWzFdLmNsaWVudFkpIC8gMlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgdG91Y2hDZW50ZXIpLCBzdGFydERpc3RhbmNlLCBtb3ZlRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uRG91YmxlVGFwKGVsZW0sIGNhbGxiYWNrKVxue1xuICAgIGNvbnN0IHRyYWNrZXIgPSBjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIoRE9VQkxFX1RBUF9USU1FT1VUKTtcbiAgICBsZXQgZmlyc3RUYXAgPSBudWxsO1xuXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT5cbiAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgbW91c2UgZXZlbnQgZnJvbSBmaXJpbmdcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAodHJhY2tlci5pc1RyaWdnZXJlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2VyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIC8vIERvdWJsZXRhcCBoYXMgb2NjdXJyZWRcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFRhcCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIElmIGZpcnN0IHRhcCBpcyBjbG9zZSB0byBzZWNvbmQgdGFwIChwcmV2ZW50cyBpbnRlcmZlcmVuY2Ugd2l0aCBzY2FsZSBldmVudClcbiAgICAgICAgICAgIGNvbnN0IHRhcERpc3RhbmNlID0gZGlzdGFuY2UoZmlyc3RUYXAucGFnZVgsIGZpcnN0VGFwLnBhZ2VZLCBzZWNvbmRUYXAucGFnZVgsIHNlY29uZFRhcC5wYWdlWSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IENvdWxkIGdpdmUgc29tZXRoaW5nIGhpZ2hlci1sZXZlbCB0aGFuIHNlY29uZFRhcCB0byBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHRhcERpc3RhbmNlIDwgRE9VQkxFX1RBUF9ESVNUQU5DRV9USFJFU0hPTEQpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIGdldFJlbGF0aXZlT2Zmc2V0KGV2ZW50LmN1cnJlbnRUYXJnZXQsIHNlY29uZFRhcCkpO1xuXG4gICAgICAgICAgICBmaXJzdFRhcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBmaXJzdFRhcCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyYWNrZXIudHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIFB5dGhhZ29yZWFuIHRoZW9yZW0gdG8gZ2V0IHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgKHVzZWQgZm9yXG4vLyBjYWxjdWxhdGluZyBmaW5nZXIgZGlzdGFuY2UgZm9yIGRvdWJsZS10YXAgYW5kIHBpbmNoLXpvb20pXG5mdW5jdGlvbiBkaXN0YW5jZSh4MSwgeTEsIHgyLCB5MilcbntcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG59XG5cbi8vIFV0aWxpdHkgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIGFuIGV2ZW50IGhhcyBiZWVuIHRyaWdnZXJlZCB0d2ljZVxuLy8gZHVyaW5nIGEgYSBnaXZlbiBkdXJhdGlvblxuZnVuY3Rpb24gY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyKHRpbWVvdXREdXJhdGlvbilcbntcbiAgICBsZXQgdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgbGV0IHRpbWVvdXRJZCA9IG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmlnZ2VyKClcbiAgICAgICAge1xuICAgICAgICAgICAgdHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc2V0VGltZW91dCgpO1xuICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgICAgICB9LCB0aW1lb3V0RHVyYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBpc1RyaWdnZXJlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNldFRpbWVvdXQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZU9mZnNldChlbGVtLCBwYWdlQ29vcmRzKVxue1xuICAgIGNvbnN0IGJvdW5kcyA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBwYWdlQ29vcmRzLnBhZ2VYIC0gYm91bmRzLmxlZnQsXG4gICAgICAgIHRvcDogcGFnZUNvb3Jkcy5wYWdlWSAtIGJvdW5kcy50b3BcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi91dGlscy9lbHQnO1xuLyoqXG4qXG4qXG4qKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VUb29sc092ZXJsYXlcbntcbiAgICBjb25zdHJ1Y3RvciAocGFnZUluZGV4LCB2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZUluZGV4O1xuXG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUgPSB2aWV3ZXJDb3JlO1xuXG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5pbm5lckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3BhZ2VUb29sc0VsZW0gPSBudWxsO1xuICAgICAgICB0aGlzLmxhYmVsV2lkdGggPSAwO1xuICAgIH1cblxuICAgIG1vdW50ICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcGFnZVRvb2xzRWxlbSA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucyA9IHRoaXMuX2luaXRpYWxpemVQYWdlVG9vbEJ1dHRvbnMoKTtcblxuICAgICAgICAgICAgdGhpcy5fcGFnZVRvb2xzRWxlbSA9IGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS10b29scy13cmFwcGVyJyB9LFxuICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS10b29scycgfSwgdGhpcy5fYnV0dG9ucylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhZ2VMYWJlbHNFbGVtID0gZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVscy13cmFwcGVyJ30sXG4gICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVscycgfSwgdGhpcy5fdmlld2VyQ29yZS5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnBhZ2VdLmwpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9wYWdlVG9vbHNFbGVtKTtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3BhZ2VMYWJlbHNFbGVtKTtcbiAgICB9XG5cbiAgICBfaW5pdGlhbGl6ZVBhZ2VUb29sQnV0dG9ucyAoKVxuICAgIHtcbiAgICAgICAgLy8gQ2FsbGJhY2sgcGFyYW1ldGVyc1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgcHVibGljSW5zdGFuY2UgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMucGFnZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlVG9vbHMoKS5tYXAoIChwbHVnaW4pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vICEhISBUaGUgbm9kZSBuZWVkcyB0byBiZSBjbG9uZWQgb3RoZXJ3aXNlIGl0IGlzIGRldGFjaGVkIGZyb21cbiAgICAgICAgICAgIC8vICBvbmUgYW5kIHJlYXR0YWNoZWQgdG8gdGhlIG90aGVyLlxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gcGx1Z2luLnBhZ2VUb29sc0ljb24uY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgdGhlIHBsdWdpbiBpbnN0YW5jZSBpcyBoYW5kZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGNhbGw7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgc2V0IHRoZSBjb250ZXh0IChpLmUuLCBgdGhpc2ApIG9mIHRoZSBoYW5kbGVDbGljayBjYWxsIHRvIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGl0c2VsZi5cbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2suY2FsbChwbHVnaW4sIGV2ZW50LCBzZXR0aW5ncywgcHVibGljSW5zdGFuY2UsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGZpcmluZyBvZiBlbXVsYXRlZCBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgcGx1Z2luLmhhbmRsZUNsaWNrLmNhbGwocGx1Z2luLCBldmVudCwgc2V0dGluZ3MsIHB1YmxpY0luc3RhbmNlLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVubW91bnQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9wYWdlVG9vbHNFbGVtKTtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX3BhZ2VMYWJlbHNFbGVtKTtcbiAgICB9XG5cbiAgICByZWZyZXNoICgpXG4gICAge1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VSZWdpb24odGhpcy5wYWdlLCB7XG4gICAgICAgICAgICBpbmNsdWRlUGFkZGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGluY29ycG9yYXRlVmlld3BvcnQ6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgd2luZG93IGlzIHJlc2l6ZWQgbGFyZ2VyLCBhIG1hcmdpbiBpcyBjcmVhdGVkIC0gbmVlZCB0byBzdWJ0cmFjdCB0aGlzIGZyb20gb2Zmc2V0c1xuICAgICAgICBsZXQgbWFyZ2luTGVmdCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX2lubmVyRWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKTtcblxuICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtLnN0eWxlLnRvcCA9IGAke3Bvcy50b3B9cHhgO1xuICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtLnN0eWxlLmxlZnQgPSBgJHtwb3MubGVmdCAtIHBhcnNlSW50KG1hcmdpbkxlZnQpfXB4YDtcblxuICAgICAgICB0aGlzLl9wYWdlTGFiZWxzRWxlbS5zdHlsZS50b3AgPSBgJHtwb3MudG9wfXB4YDtcbiAgICAgICAgdGhpcy5fcGFnZUxhYmVsc0VsZW0uc3R5bGUubGVmdCA9IGAke3Bvcy5yaWdodCAtIHBhcnNlSW50KG1hcmdpbkxlZnQpIC0gdGhpcy5sYWJlbFdpZHRoIC0gNX1weGA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbWF4QnkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFBhZ2VUb29sc092ZXJsYXkgZnJvbSAnLi9wYWdlLXRvb2xzLW92ZXJsYXknO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvY3VtZW50SGFuZGxlclxue1xuICAgIGNvbnN0cnVjdG9yICh2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZSA9IHZpZXdlckNvcmU7XG4gICAgICAgIHRoaXMuX3ZpZXdlclN0YXRlID0gdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIHRoaXMuX292ZXJsYXlzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVRvb2xzKCkubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBudW1QYWdlcyA9IHZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5udW1QYWdlcztcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QYWdlczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXkgPSBuZXcgUGFnZVRvb2xzT3ZlcmxheShpLCB2aWV3ZXJDb3JlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdmVybGF5cy5wdXNoKG92ZXJsYXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuYWRkUGFnZU92ZXJsYXkob3ZlcmxheSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgZHVtbXkgbGFiZWwgZm9yIHdpZHRoIGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSB0aGUgX3BhZ2VUb29sc0VsZW0gaXMgb25seSBjcmVhdGVkIG9uIG1vdW50XG4gICAgICAgICAgICAgICAgLy8gc28gdGhlcmUncyBubyBvdGhlciB3YXkgdG8gZ2V0IGl0cyB3aWR0aCBiZWZvcmUgdGhlIHBhZ2VzIGFyZSBsb2FkZWRcbiAgICAgICAgICAgICAgICAvLyAod2hpY2ggd2UgbmVlZCB0byBhdm9pZCB0aGVpciB3aWR0aCB0ZW1wb3JhcmlseSBiZWluZyAwIHdoaWxlIGxvYWRpbmcpXG4gICAgICAgICAgICAgICAgbGV0IGR1bW15TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5pbm5lckhUTUwgPSB2aWV3ZXJDb3JlLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW2ldLmw7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5jbGFzc0xpc3QuYWRkKCdkaXZhLXBhZ2UtbGFiZWxzJyk7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGlubGluZS1ibG9jazsnKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGR1bW15TGFiZWwpO1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbFdpZHRoID0gZHVtbXlMYWJlbC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGR1bW15TGFiZWwpO1xuXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5sYWJlbFdpZHRoID0gbGFiZWxXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVTRVIgRVZFTlRTXG4gICAgb25Eb3VibGVDbGljayAoZXZlbnQsIGNvb3JkcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuICAgICAgICBjb25zdCBuZXdab29tTGV2ZWwgPSBldmVudC5jdHJsS2V5ID8gc2V0dGluZ3Muem9vbUxldmVsIC0gMSA6IHNldHRpbmdzLnpvb21MZXZlbCArIDE7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQoY29vcmRzKTtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS56b29tKG5ld1pvb21MZXZlbCwgcG9zaXRpb24pO1xuICAgIH1cblxuICAgIG9uUGluY2ggKGV2ZW50LCBjb29yZHMsIHN0YXJ0RGlzdGFuY2UsIGVuZERpc3RhbmNlKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUU6IERvIHRoaXMgY2hlY2sgaW4gYSB3YXkgd2hpY2ggaXMgbGVzcyBzcGFnaGV0dGkgY29kZS15XG4gICAgICAgIGNvbnN0IHZpZXdlclN0YXRlID0gdGhpcy5fdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuXG4gICAgICAgIGxldCBuZXdab29tTGV2ZWwgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBzZXR0aW5ncy56b29tTGV2ZWwpICogZW5kRGlzdGFuY2UgLyAoc3RhcnREaXN0YW5jZSAqIE1hdGgubG9nKDIpKSkgLyBNYXRoLmxvZygyKTtcbiAgICAgICAgbmV3Wm9vbUxldmVsID0gTWF0aC5tYXgoc2V0dGluZ3MubWluWm9vbUxldmVsLCBuZXdab29tTGV2ZWwpO1xuICAgICAgICBuZXdab29tTGV2ZWwgPSBNYXRoLm1pbihzZXR0aW5ncy5tYXhab29tTGV2ZWwsIG5ld1pvb21MZXZlbCk7XG5cbiAgICAgICAgaWYgKG5ld1pvb21MZXZlbCA9PT0gc2V0dGluZ3Muem9vbUxldmVsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldChjb29yZHMpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBjZW50ZXJPZmZzZXQgPSBsYXlvdXQuZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQocG9zaXRpb24uYW5jaG9yUGFnZSwgdmlld2VyU3RhdGUudmlld3BvcnQpO1xuICAgICAgICBjb25zdCBzY2FsZVJhdGlvID0gMSAvIE1hdGgucG93KDIsIHNldHRpbmdzLnpvb21MZXZlbCAtIG5ld1pvb21MZXZlbCk7XG5cbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5yZWxvYWQoe1xuICAgICAgICAgICAgem9vbUxldmVsOiBuZXdab29tTGV2ZWwsXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IHBvc2l0aW9uLmFuY2hvclBhZ2UsXG4gICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiAoY2VudGVyT2Zmc2V0LnggLSBwb3NpdGlvbi5vZmZzZXQubGVmdCkgKyBwb3NpdGlvbi5vZmZzZXQubGVmdCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogKGNlbnRlck9mZnNldC55IC0gcG9zaXRpb24ub2Zmc2V0LnRvcCkgKyBwb3NpdGlvbi5vZmZzZXQudG9wICogc2NhbGVSYXRpb1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBWSUVXIEVWRU5UU1xuICAgIG9uVmlld1dpbGxMb2FkICgpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goJ0RvY3VtZW50V2lsbExvYWQnLCB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCkpO1xuICAgIH1cblxuICAgIG9uVmlld0RpZExvYWQgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE86IFNob3VsZCBvbmx5IGJlIG5lY2Vzc2FyeSB0byBoYW5kbGUgY2hhbmdlcyBvbiB2aWV3IHVwZGF0ZSwgbm90XG4gICAgICAgIC8vIGluaXRpYWwgbG9hZFxuICAgICAgICB0aGlzLl9oYW5kbGVab29tTGV2ZWxDaGFuZ2UoKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZUluZGV4ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpLmFjdGl2ZVBhZ2VJbmRleDtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VOYW1lKGN1cnJlbnRQYWdlSW5kZXgpO1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJEb2N1bWVudERpZExvYWRcIiwgY3VycmVudFBhZ2VJbmRleCwgZmlsZU5hbWUpO1xuICAgIH1cblxuICAgIG9uVmlld0RpZFVwZGF0ZSAocmVuZGVyZWRQYWdlcywgdGFyZ2V0UGFnZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gKHRhcmdldFBhZ2UgIT09IG51bGwpID9cbiAgICAgICAgICAgIHRhcmdldFBhZ2UgOlxuICAgICAgICAgICAgZ2V0Q2VudGVybW9zdFBhZ2UocmVuZGVyZWRQYWdlcywgdGhpcy5fdmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCksIHRoaXMuX3ZpZXdlckNvcmUuZ2V0Vmlld3BvcnQoKSk7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB2aXNpYmxlIHBhZ2VzIGZyb20gdGhlIHJlbmRlcmVkIHBhZ2VzXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5fdmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICAvLyB3aXRob3V0IHNldHRpbmcgdG8gMCwgaXNQYWdlVmlzaWJsZSByZXR1cm5zIHRydWUgZm9yIHBhZ2VzIG91dCBvZiB2aWV3cG9ydCBieSBpbnRlcnNlY3Rpb25Ub2xlcmFuY2VcbiAgICAgICAgdGhpcy5fdmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gMDtcbiAgICAgICAgbGV0IHZpc2libGVQYWdlcyA9IHJlbmRlcmVkUGFnZXMuZmlsdGVyKGluZGV4ID0+IHRoaXMuX3ZpZXdlclN0YXRlLnJlbmRlcmVyLmlzUGFnZVZpc2libGUoaW5kZXgpKTtcbiAgICAgICAgLy8gcmVzZXQgYmFjayB0byBvcmlnaW5hbCB2YWx1ZSBhZnRlciBnZXR0aW5nIHRydWUgdmlzaWJsZSBwYWdlc1xuICAgICAgICB0aGlzLl92aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgPSB0ZW1wO1xuXG4gICAgICAgIC8vIERvbid0IGNoYW5nZSB0aGUgY3VycmVudCBwYWdlIGlmIHRoZXJlIGlzIG5vIHBhZ2UgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgIC8vIEZJWE1FOiBXb3VsZCBiZSBiZXR0ZXIgdG8gZmFsbCBiYWNrIHRvIHRoZSBwYWdlIGNsb3Nlc3QgdG8gdGhlIHZpZXdwb3J0XG4gICAgICAgIGlmIChjdXJyZW50UGFnZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5zZXRDdXJyZW50UGFnZXMoY3VycmVudFBhZ2UsIHZpc2libGVQYWdlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0UGFnZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKFwiVmlld2VyRGlkSnVtcFwiLCB0YXJnZXRQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hhbmRsZVpvb21MZXZlbENoYW5nZSgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVab29tTGV2ZWxDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXdlclN0YXRlID0gdGhpcy5fdmlld2VyU3RhdGU7XG4gICAgICAgIGNvbnN0IHpvb21MZXZlbCA9IHZpZXdlclN0YXRlLm9wdGlvbnMuem9vbUxldmVsO1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBpbml0aWFsIGxvYWQsIHRyaWdnZXIgdGhlIHpvb20gZXZlbnRzXG4gICAgICAgIGlmICh2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgIT09IHpvb21MZXZlbCAmJiB2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPj0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA8IHpvb21MZXZlbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRab29tSW5cIiwgem9vbUxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRab29tT3V0XCIsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaChcIlZpZXdlckRpZFpvb21cIiwgem9vbUxldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IHpvb21MZXZlbDtcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9vdmVybGF5cy5mb3JFYWNoKChvdmVybGF5KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbW92ZVBhZ2VPdmVybGF5KG92ZXJsYXkpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlcm1vc3RQYWdlIChyZW5kZXJlZFBhZ2VzLCBsYXlvdXQsIHZpZXdwb3J0KVxue1xuICAgIGNvbnN0IGNlbnRlclkgPSB2aWV3cG9ydC50b3AgKyAodmlld3BvcnQuaGVpZ2h0IC8gMik7XG4gICAgY29uc3QgY2VudGVyWCA9IHZpZXdwb3J0LmxlZnQgKyAodmlld3BvcnQud2lkdGggLyAyKTtcblxuICAgIC8vIEZpbmQgdGhlIG1pbmltdW0gZGlzdGFuY2UgZnJvbSB0aGUgdmlld3BvcnQgY2VudGVyIHRvIGEgcGFnZS5cbiAgICAvLyBDb21wdXRlIG1pbnVzIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdmlld3BvcnQgY2VudGVyIHRvIHRoZSBwYWdlJ3MgYm9yZGVyLlxuICAgIC8vIGh0dHA6Ly9nYW1lZGV2LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy80NDQ4My9ob3ctZG8taS1jYWxjdWxhdGUtZGlzdGFuY2UtYmV0d2Vlbi1hLXBvaW50LWFuZC1hbi1heGlzLWFsaWduZWQtcmVjdGFuZ2xlXG4gICAgY29uc3QgY2VudGVyUGFnZSA9IG1heEJ5KHJlbmRlcmVkUGFnZXMsIHBhZ2VJbmRleCA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZGltcyA9IGxheW91dC5nZXRQYWdlRGltZW5zaW9ucyhwYWdlSW5kZXgpO1xuICAgICAgICBjb25zdCBpbWFnZU9mZnNldCA9IGxheW91dC5nZXRQYWdlT2Zmc2V0KHBhZ2VJbmRleCwge2luY2x1ZGVQYWRkaW5nOiB0cnVlfSk7XG5cbiAgICAgICAgY29uc3QgbWlkWCA9IGltYWdlT2Zmc2V0LmxlZnQgKyAoZGltcy53aWR0aCAvIDIpO1xuICAgICAgICBjb25zdCBtaWRZID0gaW1hZ2VPZmZzZXQudG9wICsgKGRpbXMuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLm1heChNYXRoLmFicyhjZW50ZXJYIC0gbWlkWCkgLSAoZGltcy53aWR0aCAvIDIpLCAwKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLm1heChNYXRoLmFicyhjZW50ZXJZIC0gbWlkWSkgLSAoZGltcy5oZWlnaHQgLyAyKSwgMCk7XG5cbiAgICAgICAgcmV0dXJuIC0oZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNlbnRlclBhZ2UgIT0gbnVsbCA/IGNlbnRlclBhZ2UgOiBudWxsO1xufVxuIiwiaW1wb3J0IHsgbWF4QnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkSGFuZGxlclxue1xuICAgIGNvbnN0cnVjdG9yICh2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZSA9IHZpZXdlckNvcmU7XG4gICAgfVxuXG4gICAgLy8gVVNFUiBFVkVOVFNcbiAgICBvbkRvdWJsZUNsaWNrIChldmVudCwgY29vcmRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQoY29vcmRzKTtcblxuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFZpZXdwb3J0KCk7XG4gICAgICAgIGNvbnN0IHBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0KTtcblxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbG9hZCh7XG4gICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiBwb3NpdGlvbi5hbmNob3JQYWdlLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogcGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQueCArIHBvc2l0aW9uLm9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0LnkgKyBwb3NpdGlvbi5vZmZzZXQudG9wXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUGluY2ggKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucmVsb2FkKHtpbkdyaWQ6IGZhbHNlfSk7XG4gICAgfVxuXG4gICAgLy8gVklFVyBFVkVOVFNcbiAgICBvblZpZXdXaWxsTG9hZCAoKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogU2hvdWxkIHNvbWV0aGluZyBoYXBwZW4gaGVyZT9cbiAgICAgICAgLyogTm8tb3AgKi9cbiAgICB9XG5cbiAgICBvblZpZXdEaWRMb2FkICgpXG4gICAge1xuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBTaG91bGQgc29tZXRoaW5nIGhhcHBlbiBoZXJlP1xuICAgICAgICAvKiBOby1vcCAqL1xuICAgIH1cblxuICAgIG9uVmlld0RpZFVwZGF0ZSAocmVuZGVyZWRQYWdlcywgdGFyZ2V0UGFnZSlcbiAgICB7XG4gICAgICAgIC8vIHJldHVybiBlYXJseSBpZiB0aGVyZSBhcmUgbm8gcmVuZGVyZWQgcGFnZXMgaW4gdmlldy5cbiAgICAgICAgaWYgKHJlbmRlcmVkUGFnZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB2aXNpYmxlIHBhZ2VzIGZyb20gdGhlIHJlbmRlcmVkIHBhZ2VzXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5fdmlld2VyQ29yZS52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIC8vIHdpdGhvdXQgc2V0dGluZyB0byAwLCBpc1BhZ2VWaXNpYmxlIHJldHVybnMgdHJ1ZSBmb3IgcGFnZXMgb3V0IG9mIHZpZXdwb3J0IGJ5IGludGVyc2VjdGlvblRvbGVyYW5jZVxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IDA7XG4gICAgICAgIGxldCB2aXNpYmxlUGFnZXMgPSByZW5kZXJlZFBhZ2VzLmZpbHRlcihpbmRleCA9PiB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnJlbmRlcmVyLmlzUGFnZVZpc2libGUoaW5kZXgpKTtcbiAgICAgICAgLy8gcmVzZXQgYmFjayB0byBvcmlnaW5hbCB2YWx1ZSBhZnRlciBnZXR0aW5nIHRydWUgdmlzaWJsZSBwYWdlc1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IHRlbXA7XG5cbiAgICAgICAgaWYgKHRhcmdldFBhZ2UgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuc2V0Q3VycmVudFBhZ2VzKHRhcmdldFBhZ2UsIHZpc2libGVQYWdlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWxlY3QgdGhlIGN1cnJlbnQgcGFnZSBmcm9tIHRoZSBmaXJzdCByb3cgaWYgaXQgaXMgZnVsbHkgdmlzaWJsZSwgb3IgZnJvbVxuICAgICAgICAvLyB0aGUgc2Vjb25kIHJvdyBpZiBpdCBpcyBmdWxseSB2aXNpYmxlLCBvciBmcm9tIHRoZSBjZW50ZXJtb3N0IHJvdyBvdGhlcndpc2UuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHBhZ2UgaXMgaW4gdGhhdCBncm91cCB0aGVuIGRvbid0IGNoYW5nZSBpdC4gT3RoZXJ3aXNlLCBzZXRcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgcGFnZSB0byB0aGUgZ3JvdXAncyBmaXJzdCBwYWdlLlxuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcblxuICAgICAgICByZW5kZXJlZFBhZ2VzLmZvckVhY2gocGFnZUluZGV4ID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCkuZ3JvdXA7XG4gICAgICAgICAgICBpZiAoZ3JvdXBzLmxlbmd0aCA9PT0gMCB8fCBncm91cCAhPT0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRWaWV3cG9ydCgpO1xuICAgICAgICBsZXQgY2hvc2VuR3JvdXA7XG5cbiAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDEgfHwgZ3JvdXBzWzBdLnJlZ2lvbi50b3AgPj0gdmlld3BvcnQudG9wKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaG9zZW5Hcm91cCA9IGdyb3Vwc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChncm91cHNbMV0ucmVnaW9uLmJvdHRvbSA8PSB2aWV3cG9ydC5ib3R0b20pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNob3Nlbkdyb3VwID0gZ3JvdXBzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY2hvc2VuR3JvdXAgPSBnZXRDZW50ZXJtb3N0R3JvdXAoZ3JvdXBzLCB2aWV3cG9ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5hY3RpdmVQYWdlSW5kZXg7XG5cbiAgICAgICAgY29uc3QgaGFzQ3VycmVudFBhZ2UgPSBjaG9zZW5Hcm91cC5wYWdlcy5zb21lKHBhZ2UgPT4gcGFnZS5pbmRleCA9PT0gY3VycmVudFBhZ2UpO1xuXG4gICAgICAgIGlmICghaGFzQ3VycmVudFBhZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuc2V0Q3VycmVudFBhZ2VzKGNob3Nlbkdyb3VwLnBhZ2VzWzBdLmluZGV4LCB2aXNpYmxlUGFnZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gTm8tb3BcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlcm1vc3RHcm91cCAoZ3JvdXBzLCB2aWV3cG9ydClcbntcbiAgICBjb25zdCB2aWV3cG9ydE1pZGRsZSA9IHZpZXdwb3J0LnRvcCArIHZpZXdwb3J0LmhlaWdodCAvIDI7XG5cbiAgICByZXR1cm4gbWF4QnkoZ3JvdXBzLCBncm91cCA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZ3JvdXBNaWRkbGUgPSBncm91cC5yZWdpb24udG9wICsgZ3JvdXAuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xuICAgICAgICByZXR1cm4gLU1hdGguYWJzKHZpZXdwb3J0TWlkZGxlIC0gZ3JvdXBNaWRkbGUpO1xuICAgIH0pO1xufVxuIiwiLyoqXG4gKiBNYW5hZ2VzIGEgY29sbGVjdGlvbiBvZiBwYWdlIG92ZXJsYXlzLCB3aGljaCBpbXBsZW1lbnQgYSBsb3ctbGV2ZWxcbiAqIEFQSSBmb3Igc3luY2hyb25pemluZyBIVE1MIHBhZ2VzIHRvIHRoZSBjYW52YXMuIEVhY2ggb3ZlcmxheSBuZWVkc1xuICogdG8gaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgcHJvdG9jb2w6XG4gKlxuICogICBtb3VudCgpOiBDYWxsZWQgd2hlbiBhIHBhZ2UgaXMgZmlyc3QgcmVuZGVyZWRcbiAqICAgcmVmcmVzaCgpOiBDYWxsZWQgd2hlbiBhIHBhZ2UgaXMgbW92ZWRcbiAqICAgdW5tb3VudCgpOiBDYWxsZWQgd2hlbiBhIHByZXZpb3VzbHkgcmVuZGVyZWQgcGFnZSBoYXMgc3RvcHBlZCBiZWluZyByZW5kZXJlZFxuICpcbiAqIEBjbGFzc1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VPdmVybGF5TWFuYWdlclxue1xuICAgIGNvbnN0cnVjdG9yICgpXG4gICAge1xuICAgICAgICB0aGlzLl9wYWdlcyA9IHt9O1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gW107XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZU1hcCA9IHt9O1xuICAgIH1cblxuICAgIGFkZE92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICBjb25zdCBvdmVybGF5c0J5UGFnZSA9IHRoaXMuX3BhZ2VzW292ZXJsYXkucGFnZV0gfHwgKHRoaXMuX3BhZ2VzW292ZXJsYXkucGFnZV0gPSBbXSk7XG5cbiAgICAgICAgb3ZlcmxheXNCeVBhZ2UucHVzaChvdmVybGF5KTtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWRQYWdlTWFwW292ZXJsYXkucGFnZV0pXG4gICAgICAgICAgICBvdmVybGF5Lm1vdW50KCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlT3ZlcmxheSAob3ZlcmxheSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBvdmVybGF5LnBhZ2U7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlzQnlQYWdlID0gdGhpcy5fcGFnZXNbcGFnZV07XG5cbiAgICAgICAgaWYgKCFvdmVybGF5c0J5UGFnZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBvdmVybGF5SW5kZXggPSBvdmVybGF5c0J5UGFnZS5pbmRleE9mKG92ZXJsYXkpO1xuXG4gICAgICAgIGlmIChvdmVybGF5SW5kZXggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZFBhZ2VNYXBbcGFnZV0pXG4gICAgICAgICAgICBvdmVybGF5c0J5UGFnZVtvdmVybGF5SW5kZXhdLnVubW91bnQoKTtcblxuICAgICAgICBvdmVybGF5c0J5UGFnZS5zcGxpY2Uob3ZlcmxheUluZGV4LCAxKTtcblxuICAgICAgICBpZiAob3ZlcmxheXNCeVBhZ2UubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BhZ2VzW3BhZ2VdO1xuICAgIH1cblxuICAgIHVwZGF0ZU92ZXJsYXlzIChyZW5kZXJlZFBhZ2VzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNseVJlbmRlcmVkID0gdGhpcy5fcmVuZGVyZWRQYWdlcztcbiAgICAgICAgY29uc3QgbmV3UmVuZGVyZWRNYXAgPSB7fTtcblxuICAgICAgICByZW5kZXJlZFBhZ2VzLm1hcCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV3UmVuZGVyZWRNYXBbcGFnZUluZGV4XSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VJbmRleF0gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlT25PdmVybGF5cyhwYWdlSW5kZXgsIG92ZXJsYXkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkubW91bnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJldmlvdXNseVJlbmRlcmVkLm1hcCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1JlbmRlcmVkTWFwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlT25PdmVybGF5cyhwYWdlSW5kZXgsIChvdmVybGF5KSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3JlbmRlcmVkUGFnZU1hcFtwYWdlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uT3ZlcmxheXMocGFnZUluZGV4LCBvdmVybGF5ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnVubW91bnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IHJlbmRlcmVkUGFnZXM7XG4gICAgfVxuXG4gICAgX2ludm9rZU9uT3ZlcmxheXMgKHBhZ2VJbmRleCwgZnVuYylcbiAgICB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlzID0gdGhpcy5fcGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgaWYgKG92ZXJsYXlzKVxuICAgICAgICAgICAgb3ZlcmxheXMubWFwKCAobykgPT4gZnVuYyhvKSApO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGVDb3ZlcmFnZU1hcFxue1xuICAgIGNvbnN0cnVjdG9yIChyb3dzLCBjb2xzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcm93cyA9IHJvd3M7XG4gICAgICAgIHRoaXMuX2NvbHMgPSBjb2xzO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgQXJyYXkocm93cykuZmlsbChudWxsKS5tYXAoKCkgPT4gbmV3IEFycmF5KGNvbHMpLmZpbGwoZmFsc2UpKTtcbiAgICB9XG5cbiAgICBpc0xvYWRlZCAocm93LCBjb2wpXG4gICAge1xuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3Igb3V0IG9mIGJvdW5kcyB0aWxlcyBiZWNhdXNlIHRoZXlcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb2FkLiAoVW5mb3J0dW5hdGVseSB0aGlzIHdpbGwgYWxzb1xuICAgICAgICAvLyBtYXNrIGxvZ2ljYWwgZXJyb3JzLilcbiAgICAgICAgaWYgKHJvdyA+PSB0aGlzLl9yb3dzIHx8IGNvbCA+PSB0aGlzLl9jb2xzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcFtyb3ddW2NvbF07XG4gICAgfVxuXG4gICAgc2V0KHJvdywgY29sLCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX21hcFtyb3ddW2NvbF0gPSB2YWx1ZTtcbiAgICB9XG59IiwiaW1wb3J0IFRpbGVDb3ZlcmFnZU1hcCBmcm9tIFwiLi90aWxlLWNvdmVyYWdlLW1hcFwiO1xuXG4vKipcbiAqIEBjbGFzcyBDb21wb3NpdGVJbWFnZVxuICogQHByaXZhdGVcbiAqXG4gKiBVdGlsaXR5IGNsYXNzIHRvIGNvbXBvc2l0ZSB0aWxlcyBpbnRvIGEgY29tcGxldGUgaW1hZ2VcbiAqIGFuZCB0cmFjayB0aGUgcmVuZGVyZWQgc3RhdGUgb2YgYW4gaW1hZ2UgYXMgbmV3IHRpbGVzXG4gKiBsb2FkLlxuICovXG5cbi8qKlxuICogQHBhcmFtIGxldmVscyB7QXJyYXkuPEFycmF5LjxUaWxlPj59XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRlSW1hZ2VcbntcbiAgICBjb25zdHJ1Y3RvcihsZXZlbHMpXG4gICAge1xuICAgICAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7ICAvLyBBc3N1bWUgbGV2ZWxzIHNvcnRlZCBoaWdoLXJlcyBmaXJzdFxuICAgICAgICBjb25zdCB1cmxzVG9UaWxlcyA9IHRoaXMuX3VybHNUb1RpbGVzID0ge307XG5cbiAgICAgICAgbGV2ZWxzLmZvckVhY2gobGV2ZWwgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV2ZWwudGlsZXMuZm9yRWFjaCh0aWxlID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsc1RvVGlsZXNbdGlsZS51cmxdID0ge1xuICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IGxldmVsLnpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0aWxlLnJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiB0aWxlLmNvbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNsZWFyICgpXG4gICAge1xuICAgICAgICBjb25zdCBsb2FkZWRCeUxldmVsID0gdGhpcy5fbG9hZGVkQnlMZXZlbCA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2xldmVscy5mb3JFYWNoKGxldmVsID0+IHtcbiAgICAgICAgICAgIGxvYWRlZEJ5TGV2ZWxbbGV2ZWwuem9vbUxldmVsXSA9IG5ldyBUaWxlQ292ZXJhZ2VNYXAobGV2ZWwucm93cywgbGV2ZWwuY29scyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFRpbGVzIChiYXNlWm9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgY29uc3QgdG9SZW5kZXJCeUxldmVsID0gW107XG4gICAgICAgIGNvbnN0IGhpZ2hlc3Rab29tTGV2ZWwgPSB0aGlzLl9sZXZlbHNbMF0uem9vbUxldmVsO1xuICAgICAgICBjb25zdCBjb3ZlcmVkID0gbmV3IFRpbGVDb3ZlcmFnZU1hcCh0aGlzLl9sZXZlbHNbMF0ucm93cywgdGhpcy5fbGV2ZWxzWzBdLmNvbHMpO1xuXG4gICAgICAgIGxldCBiZXN0TGV2ZWxJbmRleDtcblxuICAgICAgICAvLyBEZWZhdWx0IHRvIHRoZSBsb3dlc3Qgem9vbSBsZXZlbFxuICAgICAgICBpZiAoYmFzZVpvb21MZXZlbCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgYmVzdExldmVsSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2VpbExldmVsID0gTWF0aC5jZWlsKGJhc2Vab29tTGV2ZWwpO1xuICAgICAgICAgICAgYmVzdExldmVsSW5kZXggPSBmaW5kSW5kZXgodGhpcy5fbGV2ZWxzLCBsZXZlbCA9PiBsZXZlbC56b29tTGV2ZWwgPD0gY2VpbExldmVsKTtcbiAgICAgICAgICAgIC8vIGJlc3RMZXZlbEluZGV4ID0gdGhpcy5fbGV2ZWxzLmZpbmRJbmRleCgobGV2ZWwpID0+IGxldmVsLnpvb21MZXZlbCA8PSBjZWlsTGV2ZWwpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBUaGUgYmVzdCBsZXZlbCwgZm9sbG93ZWQgYnkgaGlnaGVyLXJlcyBsZXZlbHMgaW4gYXNjZW5kaW5nIG9yZGVyIG9mIHJlc29sdXRpb24sXG4gICAgICAgIC8vIGZvbGxvd2VkIGJ5IGxvd2VyLXJlcyBsZXZlbHMgaW4gZGVzY2VuZGluZyBvcmRlciBvZiByZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IGxldmVsc0J5UHJlZmVyZW5jZSA9IHRoaXMuX2xldmVscy5zbGljZSgwLCBiZXN0TGV2ZWxJbmRleCArIDEpLnJldmVyc2UoKVxuICAgICAgICAgICAgLmNvbmNhdCh0aGlzLl9sZXZlbHMuc2xpY2UoYmVzdExldmVsSW5kZXggKyAxKSk7XG5cbiAgICAgICAgbGV2ZWxzQnlQcmVmZXJlbmNlLmZvckVhY2goIChsZXZlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fbG9hZGVkQnlMZXZlbFtsZXZlbC56b29tTGV2ZWxdO1xuXG4gICAgICAgICAgICBsZXQgYWRkaXRpb25hbFRpbGVzID0gbGV2ZWwudGlsZXMuZmlsdGVyKHRpbGUgPT4gbG9hZGVkLmlzTG9hZGVkKHRpbGUucm93LCB0aWxlLmNvbCkpO1xuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IGVudGlyZWx5IGNvdmVyZWQgdGlsZXNcblxuICAgICAgICAgICAgLy8gRklYTUU6IElzIGl0IGJldHRlciB0byBkcmF3IGFsbCBvZiBhIHBhcnRpYWxseSBjb3ZlcmVkIHRpbGUsXG4gICAgICAgICAgICAvLyB3aXRoIHNvbWUgb2YgaXQgdWx0aW1hdGVseSBjb3ZlcmVkLCBvciB0byBwaWNrIG91dCB0aGUgcmVnaW9uXG4gICAgICAgICAgICAvLyB3aGljaCBuZWVkcyB0byBiZSBkcmF3bj9cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRERNQUwvZGl2YS5qcy9pc3N1ZXMvMzU4XG4gICAgICAgICAgICBjb25zdCBzY2FsZVJhdGlvID0gTWF0aC5wb3coMiwgaGlnaGVzdFpvb21MZXZlbCAtIGxldmVsLnpvb21MZXZlbCk7XG5cbiAgICAgICAgICAgIGFkZGl0aW9uYWxUaWxlcyA9IGFkZGl0aW9uYWxUaWxlcy5maWx0ZXIodGlsZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGlzTmVlZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBoaWdoUmVzUm93ID0gdGlsZS5yb3cgKiBzY2FsZVJhdGlvO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hSZXNDb2wgPSB0aWxlLmNvbCAqIHNjYWxlUmF0aW87XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBzY2FsZVJhdGlvOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7IGogPCBzY2FsZVJhdGlvOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY292ZXJlZC5pc0xvYWRlZChoaWdoUmVzUm93ICsgaSwgaGlnaFJlc0NvbCArIGopKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkLnNldChoaWdoUmVzUm93ICsgaSwgaGlnaFJlc0NvbCArIGosIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTmVlZGVkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRvUmVuZGVyQnlMZXZlbC5wdXNoKGFkZGl0aW9uYWxUaWxlcyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIC8vIExlc3MtcHJlZmVycmVkIHRpbGVzIHNob3VsZCBjb21lIGZpcnN0XG4gICAgICAgIHRvUmVuZGVyQnlMZXZlbC5yZXZlcnNlKCk7XG5cbiAgICAgICAgY29uc3QgdGlsZXMgPSBbXTtcblxuICAgICAgICB0b1JlbmRlckJ5TGV2ZWwuZm9yRWFjaChieUxldmVsID0+IHtcbiAgICAgICAgICAgIHRpbGVzLnB1c2guYXBwbHkodGlsZXMsIGJ5TGV2ZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGlsZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBjb21wb3NpdGUgaW1hZ2UgdG8gdGFrZSBpbnRvIGFjY291bnQgYWxsIHRoZSBVUkxzXG4gICAgICogbG9hZGVkIGluIGFuIGltYWdlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhY2hlIHtJbWFnZUNhY2hlfVxuICAgICAqL1xuICAgIHVwZGF0ZUZyb21DYWNoZSAoY2FjaGUpXG4gICAge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fbGV2ZWxzLmZvckVhY2goIChsZXZlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fbG9hZGVkQnlMZXZlbFtsZXZlbC56b29tTGV2ZWxdO1xuXG4gICAgICAgICAgICBsZXZlbC50aWxlcy5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZS5oYXModGlsZS51cmwpKVxuICAgICAgICAgICAgICAgICAgICBsb2FkZWQuc2V0KHRpbGUucm93LCB0aWxlLmNvbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlV2l0aExvYWRlZFVybHMgKHVybHMpXG4gICAge1xuICAgICAgICB1cmxzLmZvckVhY2goICh1cmwpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5fdXJsc1RvVGlsZXNbdXJsXTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZEJ5TGV2ZWxbZW50cnkuem9vbUxldmVsXS5zZXQoZW50cnkucm93LCBlbnRyeS5jb2wsIHRydWUpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbi8vIGZ1bmN0aW9uIGZpbGwgKGNvdW50LCB2YWx1ZSlcbi8vIHtcbi8vICAgICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoY291bnQpO1xuLy9cbi8vICAgICBmb3IgKGxldCBpPTA7IGkgPCBjb3VudDsgaSsrKVxuLy8gICAgICAgICBhcnJbaV0gPSB2YWx1ZTtcbi8vXG4vLyAgICAgcmV0dXJuIGFycjtcbi8vIH1cblxuZnVuY3Rpb24gZmluZEluZGV4IChhcnJheSwgcHJlZGljYXRlKVxue1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpXSwgaSkpXG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59XG4iLCIvKipcbiAqIFRyYW5zbGF0ZSBwYWdlIGxheW91dHMsIGFzIGdlbmVyYXRlZCBieSBwYWdlLWxheW91dHMsIGludG8gYW5cbiAqIG9iamVjdCB3aGljaCBjb21wdXRlcyBsYXlvdXQgaW5mb3JtYXRpb24gZm9yIHRoZSBkb2N1bWVudCBhc1xuICogYSB3aG9sZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jdW1lbnRMYXlvdXRcbntcbiAgICBjb25zdHJ1Y3RvciAoY29uZmlnLCB6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICBjb25zdCBjb21wdXRlZExheW91dCA9IGdldENvbXB1dGVkTGF5b3V0KGNvbmZpZywgem9vbUxldmVsKTtcblxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBjb21wdXRlZExheW91dC5kaW1lbnNpb25zO1xuICAgICAgICB0aGlzLnBhZ2VHcm91cHMgPSBjb21wdXRlZExheW91dC5wYWdlR3JvdXBzO1xuICAgICAgICB0aGlzLl9wYWdlTG9va3VwID0gZ2V0UGFnZUxvb2t1cChjb21wdXRlZExheW91dC5wYWdlR3JvdXBzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQYWdlSW5mb1xuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEBwcm9wZXJ0eSB7e2luZGV4LCBkaW1lbnNpb25zLCBwYWdlcywgcmVnaW9uLCBwYWRkaW5nfX0gZ3JvdXBcbiAgICAgKiBAcHJvcGVydHkge3toZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlcn19IGRpbWVuc2lvbnNcbiAgICAgKiBAcHJvcGVydHkge3t0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyfX0gZ3JvdXBPZmZzZXRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcmV0dXJucyB7UGFnZUluZm98bnVsbH1cbiAgICAgKi9cbiAgICBnZXRQYWdlSW5mbyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGltZW5zaW9ucyBvZiBhIHBhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcmV0dXJucyB7e2hlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyfX1cbiAgICAgKi9cbiAgICBnZXRQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wYWdlTG9va3VwIHx8ICF0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCByZWdpb24gPSBnZXRQYWdlUmVnaW9uRnJvbVBhZ2VJbmZvKHRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogcmVnaW9uLmJvdHRvbSAtIHJlZ2lvbi50b3AsXG4gICAgICAgICAgICB3aWR0aDogcmVnaW9uLnJpZ2h0IC0gcmVnaW9uLmxlZnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUT0RPKHdhYmFpbik6IEdldCByaWQgb2YgdGhpczsgaXQncyBhIHN1YnNldCBvZiB0aGUgcGFnZSByZWdpb24sIHNvXG4gICAgLy8gZ2l2ZSB0aGF0IGluc3RlYWRcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRvcC1sZWZ0IGNvb3JkaW5hdGVzIG9mIGEgcGFnZSwgaW5jbHVkaW5nKioqIHBhZGRpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlcn0gfCBudWxsfVxuICAgICAqL1xuICAgIGdldFBhZ2VPZmZzZXQgKHBhZ2VJbmRleCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHRoaXMuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghcmVnaW9uKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UGFnZVJlZ2lvbiAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZUluZm8gPSB0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF07XG5cbiAgICAgICAgaWYgKCFwYWdlSW5mbylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IGdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8ocGFnZUluZm8pO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gcGFnZUluZm8uZ3JvdXAucGFkZGluZztcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluY2x1ZGVQYWRkaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCArIHBhZGRpbmcudG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0ICsgcGFkZGluZy5sZWZ0LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSxcbiAgICAgICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgLy8gbmVlZCB0byBhY2NvdW50IGZvciBwbHVnaW4gaWNvbnMgYmVsb3cgdGhlIHBhZ2UsIHNlZSBcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL2lzc3Vlcy80MzZcbiAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSArIHBhZGRpbmcudG9wLCBcbiAgICAgICAgICAgIHJpZ2h0OiByZWdpb24ucmlnaHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHRvcC1yaWdodCBvZiB0aGUgcGFnZSB0byB0aGUgY2VudGVyIG9mIHRoZVxuICAgICAqIHNwZWNpZmllZCB2aWV3cG9ydCByZWdpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gdmlld3BvcnQge3t0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyLCBib3R0b206IG51bWJlciwgcmlnaHQ6IG51bWJlcn19XG4gICAgICogQHJldHVybnMge3t4OiBudW1iZXIsIHk6IG51bWJlcn19XG4gICAgICovXG4gICAgZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQgKHBhZ2VJbmRleCwgdmlld3BvcnQpXG4gICAge1xuICAgICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnQubGVmdDtcbiAgICAgICAgY29uc3QgZWxlbWVudFdpZHRoID0gdmlld3BvcnQucmlnaHQgLSB2aWV3cG9ydC5sZWZ0O1xuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IHggPSBzY3JvbGxMZWZ0IC0gb2Zmc2V0LmxlZnQgKyBwYXJzZUludChlbGVtZW50V2lkdGggLyAyLCAxMCk7XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gdmlld3BvcnQudG9wO1xuICAgICAgICBjb25zdCBlbGVtZW50SGVpZ2h0ID0gdmlld3BvcnQuYm90dG9tIC0gdmlld3BvcnQudG9wO1xuXG4gICAgICAgIGNvbnN0IHkgPSBzY3JvbGxUb3AgLSBvZmZzZXQudG9wICsgcGFyc2VJbnQoZWxlbWVudEhlaWdodCAvIDIsIDEwKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8gKHBhZ2UpXG57XG4gICAgY29uc3QgdG9wICAgID0gcGFnZS5ncm91cE9mZnNldC50b3AgICsgcGFnZS5ncm91cC5yZWdpb24udG9wO1xuICAgIGNvbnN0IGJvdHRvbSA9IHRvcCArIHBhZ2UuZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgY29uc3QgbGVmdCAgID0gcGFnZS5ncm91cE9mZnNldC5sZWZ0ICsgcGFnZS5ncm91cC5yZWdpb24ubGVmdDtcbiAgICBjb25zdCByaWdodCAgPSBsZWZ0ICsgcGFnZS5kaW1lbnNpb25zLndpZHRoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQYWdlTG9va3VwIChwYWdlR3JvdXBzKVxue1xuICAgIGNvbnN0IHBhZ2VMb29rdXAgPSB7fTtcblxuICAgIHBhZ2VHcm91cHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICAgIGdyb3VwLnBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgICAgICBwYWdlTG9va3VwW3BhZ2UuaW5kZXhdID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiBwYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cCxcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHBhZ2UuZ3JvdXBPZmZzZXRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBhZ2VMb29rdXA7XG59XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkTGF5b3V0IChjb25maWcsIHpvb21MZXZlbClcbntcbiAgICBjb25zdCBzY2FsZWRMYXlvdXRzID0gem9vbUxldmVsID09PSBudWxsID8gY29uZmlnLnBhZ2VMYXlvdXRzIDogZ2V0U2NhbGVkUGFnZUxheW91dHMoY29uZmlnLCB6b29tTGV2ZWwpO1xuXG4gICAgY29uc3QgZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQgPSBnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMoY29uZmlnLCBzY2FsZWRMYXlvdXRzKTtcblxuICAgIC8vIFRoZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCBhbG9uZyB0aGUgcHJpbWFyeSBheGlzXG4gICAgbGV0IHByaW1hcnlEb2NQb3NpdGlvbiA9IGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQgP1xuICAgICAgICBjb25maWcucGFkZGluZy5kb2N1bWVudC50b3AgOlxuICAgICAgICBjb25maWcucGFkZGluZy5kb2N1bWVudC5sZWZ0O1xuXG4gICAgY29uc3QgcGFnZUdyb3VwcyA9IFtdO1xuXG4gICAgLy8gVE9ETzogVXNlIGJvdHRvbSwgcmlnaHQgYXMgd2VsbFxuICAgIGNvbnN0IHBhZ2VQYWRkaW5nID0ge1xuICAgICAgICB0b3A6IGNvbmZpZy5wYWRkaW5nLnBhZ2UudG9wLFxuICAgICAgICBsZWZ0OiBjb25maWcucGFkZGluZy5wYWdlLmxlZnRcbiAgICB9O1xuXG4gICAgc2NhbGVkTGF5b3V0cy5mb3JFYWNoKChsYXlvdXQsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCB0b3AsIGxlZnQ7XG5cbiAgICAgICAgaWYgKGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvcCA9IHByaW1hcnlEb2NQb3NpdGlvbjtcbiAgICAgICAgICAgIGxlZnQgPSAoZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQgLSBsYXlvdXQuZGltZW5zaW9ucy53aWR0aCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wID0gKGRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50IC0gbGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICBsZWZ0ID0gcHJpbWFyeURvY1Bvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVnaW9uID0ge1xuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBib3R0b206IHRvcCArIHBhZ2VQYWRkaW5nLnRvcCArIGxheW91dC5kaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHBhZ2VQYWRkaW5nLmxlZnQgKyBsYXlvdXQuZGltZW5zaW9ucy53aWR0aFxuICAgICAgICB9O1xuXG4gICAgICAgIHBhZ2VHcm91cHMucHVzaCh7XG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBsYXlvdXQuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiBsYXlvdXQucGFnZXMsXG4gICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZ2VQYWRkaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHByaW1hcnlEb2NQb3NpdGlvbiA9IGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyByZWdpb24uYm90dG9tIDogcmVnaW9uLnJpZ2h0O1xuICAgIH0pO1xuXG4gICAgbGV0IGhlaWdodCwgd2lkdGg7XG5cbiAgICBpZiAoY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICB7XG4gICAgICAgIGhlaWdodCA9IHByaW1hcnlEb2NQb3NpdGlvbiArIHBhZ2VQYWRkaW5nLnRvcDtcbiAgICAgICAgd2lkdGggPSBkb2N1bWVudFNlY29uZGFyeUV4dGVudDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgaGVpZ2h0ID0gZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQ7XG4gICAgICAgIHdpZHRoID0gcHJpbWFyeURvY1Bvc2l0aW9uICsgcGFnZVBhZGRpbmcubGVmdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9LFxuICAgICAgICBwYWdlR3JvdXBzOiBwYWdlR3JvdXBzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGVkUGFnZUxheW91dHMgKGNvbmZpZywgem9vbUxldmVsKVxue1xuICAgIGNvbnN0IHNjYWxlUmF0aW8gPSBNYXRoLnBvdygyLCB6b29tTGV2ZWwgLSBjb25maWcubWF4Wm9vbUxldmVsKTtcblxuICAgIHJldHVybiBjb25maWcucGFnZUxheW91dHMubWFwKGdyb3VwID0+ICh7XG4gICAgICAgIGRpbWVuc2lvbnM6IHNjYWxlRGltZW5zaW9ucyhncm91cC5kaW1lbnNpb25zLCBzY2FsZVJhdGlvKSxcblxuICAgICAgICBwYWdlczogZ3JvdXAucGFnZXMubWFwKHBhZ2UgPT4gKHtcbiAgICAgICAgICAgIGluZGV4OiBwYWdlLmluZGV4LFxuXG4gICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgIHRvcDogTWF0aC5mbG9vcihwYWdlLmdyb3VwT2Zmc2V0LnRvcCAqIHNjYWxlUmF0aW8pLFxuICAgICAgICAgICAgICAgIGxlZnQ6IE1hdGguZmxvb3IocGFnZS5ncm91cE9mZnNldC5sZWZ0ICogc2NhbGVSYXRpbylcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHNjYWxlRGltZW5zaW9ucyhwYWdlLmRpbWVuc2lvbnMsIHNjYWxlUmF0aW8pXG4gICAgICAgIH0pKVxuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gc2NhbGVEaW1lbnNpb25zIChkaW1lbnNpb25zLCBzY2FsZVJhdGlvKVxue1xuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogTWF0aC5mbG9vcihkaW1lbnNpb25zLmhlaWdodCAqIHNjYWxlUmF0aW8pLFxuICAgICAgICB3aWR0aDogTWF0aC5mbG9vcihkaW1lbnNpb25zLndpZHRoICogc2NhbGVSYXRpbylcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMgKGNvbmZpZywgc2NhbGVkTGF5b3V0cylcbntcbiAgICAvLyBHZXQgdGhlIGV4dGVudCBvZiB0aGUgZG9jdW1lbnQgYWxvbmcgdGhlIHNlY29uZGFyeSBheGlzXG4gICAgbGV0IHNlY29uZGFyeURpbSwgc2Vjb25kYXJ5UGFkZGluZztcbiAgICBjb25zdCBkb2NQYWRkaW5nID0gY29uZmlnLnBhZGRpbmcuZG9jdW1lbnQ7XG5cbiAgICBpZiAoY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICB7XG4gICAgICAgIHNlY29uZGFyeURpbSA9ICd3aWR0aCc7XG4gICAgICAgIHNlY29uZGFyeVBhZGRpbmcgPSBkb2NQYWRkaW5nLmxlZnQgKyBkb2NQYWRkaW5nLnJpZ2h0O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBzZWNvbmRhcnlEaW0gPSAnaGVpZ2h0JztcbiAgICAgICAgc2Vjb25kYXJ5UGFkZGluZyA9IGRvY1BhZGRpbmcudG9wICsgZG9jUGFkZGluZy5ib3R0b207XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlY29uZGFyeVBhZGRpbmcgKyBzY2FsZWRMYXlvdXRzLnJlZHVjZSgobWF4RGltLCBsYXlvdXQpID0+IE1hdGgubWF4KGxheW91dC5kaW1lbnNpb25zW3NlY29uZGFyeURpbV0sIG1heERpbSksIDApO1xufVxuIiwiY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdkaXZhOkltYWdlQ2FjaGUnKTtcblxuLyogRklYTUUod2FiYWluKTogVGhlIGNhY2hpbmcgc3RyYXRlZ3kgaGVyZSBpcyBjb21wbGV0ZWx5XG4gKiBhcmJpdHJhcnkgYW5kIHRoZSBpbXBsZW1lbnRhdGlvbiBpc24ndCBlc3BlY2lhbGx5IGVmZmljaWVudC5cbiAqL1xuY29uc3QgREVGQVVMVF9NQVhfS0VZUyA9IDEwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VDYWNoZVxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBtYXhLZXlzOiBERUZBVUxUX01BWF9LRVlTIH07XG4gICAgICAgIHRoaXMubWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cyB8fCBERUZBVUxUX01BWF9LRVlTO1xuXG4gICAgICAgIHRoaXMuX2hlbGQgPSB7fTtcbiAgICAgICAgdGhpcy5fdXJscyA9IHt9O1xuICAgICAgICB0aGlzLl9scnUgPSBbXTtcbiAgICB9XG5cbiAgICBnZXQgKHVybClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX3VybHNbdXJsXTtcbiAgICAgICAgcmV0dXJuIHJlY29yZCA/IHJlY29yZC5pbWcgOiBudWxsO1xuICAgIH1cblxuICAgIGhhcyAodXJsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fdXJsc1t1cmxdO1xuICAgIH1cblxuICAgIHB1dCAodXJsLCBpbWcpXG4gICAge1xuICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5fdXJsc1t1cmxdO1xuICAgICAgICBpZiAocmVjb3JkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGSVhNRTogRG9lcyB0aGlzIG1ha2Ugc2Vuc2UgZm9yIHRoaXMgdXNlIGNhc2U/XG4gICAgICAgICAgICByZWNvcmQuaW1nID0gaW1nO1xuICAgICAgICAgICAgdGhpcy5fcHJvbW90ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3JkID0ge1xuICAgICAgICAgICAgICAgIGltZzogaW1nLFxuICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLl91cmxzW3VybF0gPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl90cnlFdmljdCgxKTtcbiAgICAgICAgICAgIHRoaXMuX2xydS51bnNoaWZ0KHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJvbW90ZSAocmVjb3JkKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9scnUuaW5kZXhPZihyZWNvcmQpO1xuICAgICAgICB0aGlzLl9scnUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fbHJ1LnVuc2hpZnQocmVjb3JkKTtcbiAgICB9XG5cbiAgICBfdHJ5RXZpY3QgKGV4dHJhQ2FwYWNpdHkpXG4gICAge1xuICAgICAgICBjb25zdCBhbGxvd2VkRW50cnlDb3VudCA9IHRoaXMubWF4S2V5cyAtIGV4dHJhQ2FwYWNpdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xydS5sZW5ndGggPD0gYWxsb3dlZEVudHJ5Q291bnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgbGV0IGV2aWN0aW9uSW5kZXggPSB0aGlzLl9scnUubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IgKDs7KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9scnVbZXZpY3Rpb25JbmRleF07XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5faGVsZFt0YXJnZXQudXJsXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnRXZpY3RpbmcgaW1hZ2UgJXMnLCB0YXJnZXQudXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9scnUuc3BsaWNlKGV2aWN0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl91cmxzW3RhcmdldC51cmxdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xydS5sZW5ndGggPD0gYWxsb3dlZEVudHJ5Q291bnQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZpY3Rpb25JbmRleCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIGRlYnVnLmVuYWJsZWQgJiYgZGVidWcoJ0NhY2hlIG92ZXJmdWxsIGJ5ICVzIChhbGwgZW50cmllcyBhcmUgYmVpbmcgaGVsZCknLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9scnUubGVuZ3RoIC0gYWxsb3dlZEVudHJ5Q291bnQpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV2aWN0aW9uSW5kZXgtLTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFjcXVpcmUgKHVybClcbiAgICB7XG4gICAgICAgIHRoaXMuX2hlbGRbdXJsXSA9ICh0aGlzLl9oZWxkW3VybF0gfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLl9wcm9tb3RlKHRoaXMuX3VybHNbdXJsXSk7XG4gICAgfVxuXG4gICAgcmVsZWFzZSAodXJsKVxuICAgIHtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9oZWxkW3VybF07XG5cbiAgICAgICAgaWYgKGNvdW50ID4gMSlcbiAgICAgICAgICAgIHRoaXMuX2hlbGRbdXJsXS0tO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faGVsZFt1cmxdO1xuXG4gICAgICAgIHRoaXMuX3RyeUV2aWN0KDApO1xuICAgIH1cbn1cbiIsIi8qKlxuICogSGFuZGxlciBmb3IgdGhlIHJlcXVlc3QgZm9yIGFuIGltYWdlIHRpbGVcbiAqXG4gKiBAcGFyYW0gdXJsXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVJlcXVlc3RIYW5kbGVyXG57XG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLl91cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBvcHRpb25zLmxvYWQ7XG4gICAgICAgIHRoaXMuX2Vycm9yQ2FsbGJhY2sgPSBvcHRpb25zLmVycm9yO1xuICAgICAgICB0aGlzLnRpbWVvdXRUaW1lID0gb3B0aW9ucy50aW1lb3V0VGltZSB8fCAwO1xuICAgICAgICB0aGlzLl9hYm9ydGVkID0gdGhpcy5fY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3Jvc3NPcmlnaW4gPSBvcHRpb25zLnNldHRpbmdzLmltYWdlQ3Jvc3NPcmlnaW47XG5cbiAgICAgICAgLy9Vc2UgYSB0aW1lb3V0IHRvIGFsbG93IHRoZSByZXF1ZXN0cyB0byBiZSBkZWJvdW5jZWQgKGFzIHRoZXkgYXJlIGluIHJlbmRlcmVyKVxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIEluaXRpYXRlIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICB0aGlzLl9pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2UuY3Jvc3NPcmlnaW4gPSB0aGlzLl9jcm9zc09yaWdpbjtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMuX2hhbmRsZUxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9uZXJyb3IgPSB0aGlzLl9oYW5kbGVFcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gb3B0aW9ucy51cmw7XG5cbiAgICAgICAgfSwgdGhpcy50aW1lb3V0VGltZSk7XG4gICAgfVxuXG4gICAgYWJvcnQgKClcbiAgICB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgIC8vIEZJWE1FXG4gICAgICAgIC8vIFBlb3BsZSBvbiB0aGUgSW50ZXJuZXQgc2F5IHRoYXQgZG9pbmcgdGhpcyB7e3Nob3VsZC9zaG91bGQgbm90fX0gYWJvcnQgdGhlIHJlcXVlc3QuIEkgYmVsaWV2ZVxuICAgICAgICAvLyBpdCBjb3JyZXNwb25kcyB0byB3aGF0IHRoZSBXSEFUV0cgSFRNTCBzcGVjIHNheXMgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZSBVQVxuICAgICAgICAvLyB1cGRhdGVzIHRoZSBpbWFnZSBkYXRhIGlmIHNlbGVjdGVkIHNvdXJjZSBpcyBudWxsLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTb3VyY2VzOlxuICAgICAgICAvL1xuICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGhlLWltZy1lbGVtZW50XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzM5MDg4OC9kb2VzLWNoYW5naW5nLXRoZS1zcmMtYXR0cmlidXRlLW9mLWFuLWltYWdlLXN0b3AtdGhlLWltYWdlLWZyb20tZG93bmxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMuX2ltYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5vbmxvYWQgPSB0aGlzLl9pbWFnZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTG9hZCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Fib3J0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlUmVxdWVzdEhhbmRsZXIgaW52b2tlZCBvbiBjYW5jZWxsZWQgcmVxdWVzdCBmb3IgJyArIHRoaXMuX3VybCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlUmVxdWVzdEhhbmRsZXIgaW52b2tlZCBvbiBjb21wbGV0ZWQgcmVxdWVzdCBmb3IgJyArIHRoaXMuX3VybCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sodGhpcy5faW1hZ2UpO1xuICAgIH1cblxuICAgIF9oYW5kbGVFcnJvciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZXJyb3JDYWxsYmFjayh0aGlzLl9pbWFnZSk7XG4gICAgfVxufVxuIiwiLy8gVE9ETzogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZhbGxiYWNrXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBhbmltYXRlLFxuICAgIGVhc2luZzoge1xuICAgICAgICBsaW5lYXI6IGxpbmVhckVhc2luZyxcbiAgICAgICAgY3ViaWM6IGluT3V0Q3ViaWNFYXNpbmdcbiAgICB9XG59O1xuXG5sZXQgbm93O1xuXG5pZiAodHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiBwZXJmb3JtYW5jZS5ub3cpXG57XG4gICAgbm93ID0gKCkgPT4geyByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7IH07XG59XG5lbHNlXG57XG4gICAgbm93ID0gKCkgPT4geyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbn1cblxuXG5mdW5jdGlvbiBhbmltYXRlIChvcHRpb25zKVxue1xuICAgIGNvbnN0IGR1cmF0aW9uTXMgPSBvcHRpb25zLmR1cmF0aW9uO1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBvcHRpb25zLnBhcmFtZXRlcnM7XG4gICAgY29uc3Qgb25VcGRhdGUgPSBvcHRpb25zLm9uVXBkYXRlO1xuICAgIGNvbnN0IG9uRW5kID0gb3B0aW9ucy5vbkVuZDtcblxuICAgIC8vIFNldHVwXG4gICAgLy8gVGltZXMgYXJlIGluIG1pbGxpc2Vjb25kcyBmcm9tIGEgYmFzaWNhbGx5IGFyYml0cmFyeSBzdGFydFxuICAgIGNvbnN0IHN0YXJ0ID0gbm93KCk7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBkdXJhdGlvbk1zO1xuXG4gICAgY29uc3QgdHdlZW5GbnMgPSB7fTtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICBjb25zdCBwYXJhbUtleXMgPSBPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKTtcblxuICAgIHBhcmFtS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHBhcmFtZXRlcnNba2V5XTtcbiAgICAgICAgdHdlZW5GbnNba2V5XSA9IGludGVycG9sYXRlKGNvbmZpZy5mcm9tLCBjb25maWcudG8sIGNvbmZpZy5lYXNpbmcgfHwgaW5PdXRDdWJpY0Vhc2luZyk7XG4gICAgfSk7XG5cbiAgICAvLyBSdW4gaXQhXG4gICAgbGV0IHJlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FuY2VsKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RJZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZXF1ZXN0SWQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUFuaW1hdGlvbkNvbXBsZXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnJ1cHRlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbm93KCk7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLm1pbigoY3VycmVudCAtIHN0YXJ0KSAvIGR1cmF0aW9uTXMsIDEpO1xuXG4gICAgICAgIHVwZGF0ZVZhbHVlcyhlbGFwc2VkKTtcbiAgICAgICAgb25VcGRhdGUodmFsdWVzKTtcblxuICAgICAgICBpZiAoY3VycmVudCA8IGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVBbmltYXRpb25Db21wbGV0aW9uKHtcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRlZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlVmFsdWVzKGVsYXBzZWQpXG4gICAge1xuICAgICAgICBwYXJhbUtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgdmFsdWVzW2tleV0gPSB0d2VlbkZuc1trZXldKGVsYXBzZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVBbmltYXRpb25Db21wbGV0aW9uKGluZm8pXG4gICAge1xuICAgICAgICByZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvbkVuZClcbiAgICAgICAgICAgIG9uRW5kKGluZm8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RhcnQsIGVuZCwgZWFzaW5nKVxue1xuICAgIHJldHVybiAoZWxhcHNlZCkgPT4geyByZXR1cm4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogZWFzaW5nKGVsYXBzZWQpOyB9O1xufVxuXG4vKipcbiAqIEVhc2luZyBmdW5jdGlvbnMuIGluT3V0Q3ViaWNFYXNpbmcgaXMgdGhlIGRlZmF1bHQsIGJ1dFxuICogb3RoZXJzIGFyZSBnaXZlbiBmb3IgY29udmVuaWVuY2UuXG4gKlxuICoqL1xuZnVuY3Rpb24gbGluZWFyRWFzaW5nKGUpXG57XG4gICAgcmV0dXJuIGU7XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmZ1bmN0aW9uIGluT3V0UXVhZEVhc2luZyAoZSlcbntcbiAgICByZXR1cm4gZSA8IC41ID8gMiAqIGUgKiBlIDogLTErKDQtMiAqIGUpICogZVxufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuXG5mdW5jdGlvbiBpbk91dEN1YmljRWFzaW5nICh0KVxue1xuICAgIHJldHVybiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICggdCAtIDEgKSAqICggMiAqIHQgLSAyICkgKiAoIDIgKiB0IC0gMiApICsgMTtcbn1cbiIsImltcG9ydCB7IGVsdCwgc2V0QXR0cmlidXRlcyB9IGZyb20gJy4vdXRpbHMvZWx0JztcbmltcG9ydCBDb21wb3NpdGVJbWFnZSBmcm9tICcuL2NvbXBvc2l0ZS1pbWFnZSc7XG5pbXBvcnQgRG9jdW1lbnRMYXlvdXQgZnJvbSAnLi9kb2N1bWVudC1sYXlvdXQnO1xuaW1wb3J0IEltYWdlQ2FjaGUgZnJvbSAnLi9pbWFnZS1jYWNoZSc7XG5pbXBvcnQgSW1hZ2VSZXF1ZXN0SGFuZGxlciBmcm9tICcuL2ltYWdlLXJlcXVlc3QtaGFuZGxlcic7XG5pbXBvcnQgSW50ZXJwb2xhdGVBbmltYXRpb24gZnJvbSAnLi9pbnRlcnBvbGF0ZS1hbmltYXRpb24nO1xuXG5jb25zdCBSRVFVRVNUX0RFQk9VTkNFX0lOVEVSVkFMID0gMjUwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlclxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zLCBob29rcylcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0ID0gb3B0aW9ucy52aWV3cG9ydDtcbiAgICAgICAgdGhpcy5fb3V0ZXJFbGVtZW50ID0gb3B0aW9ucy5vdXRlckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2RvY3VtZW50RWxlbWVudCA9IG9wdGlvbnMuaW5uZXJFbGVtZW50O1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IG9wdGlvbnMuc2V0dGluZ3M7XG5cbiAgICAgICAgdGhpcy5faG9va3MgPSBob29rcyB8fCB7fTtcblxuICAgICAgICB0aGlzLl9jYW52YXMgPSBlbHQoJ2NhbnZhcycsIHsgY2xhc3M6ICdkaXZhLXZpZXdlci1jYW52YXMnIH0pO1xuICAgICAgICB0aGlzLl9jdHggPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB0aGlzLmxheW91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc291cmNlUmVzb2x2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5fem9vbUxldmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRUaWxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG5cbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogV2hhdCBsZXZlbCBzaG91bGQgdGhpcyBiZSBtYWludGFpbmVkIGF0P1xuICAgICAgICAvLyBEaXZhIGdsb2JhbD9cbiAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgSW1hZ2VDYWNoZSgpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPSB7fTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Q29tcGF0aWJpbGl0eUVycm9ycyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdZb3VyIGJyb3dzZXIgbGFja3Mgc3VwcG9ydCBmb3IgdGhlICcsIGVsdCgncHJlJywgJ2NhbnZhcycpLFxuICAgICAgICAgICAgJyBlbGVtZW50LiBQbGVhc2UgdXBncmFkZSB5b3VyIGJyb3dzZXIuJ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIGxvYWQgKGNvbmZpZywgdmlld3BvcnRQb3NpdGlvbiwgc291cmNlUmVzb2x2ZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob29rcy5vblZpZXdXaWxsTG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3V2lsbExvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NvdXJjZVJlc29sdmVyID0gc291cmNlUmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzID0ge307XG4gICAgICAgIHRoaXMuX3NldExheW91dFRvWm9vbUxldmVsKHZpZXdwb3J0UG9zaXRpb24uem9vbUxldmVsKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBSZW1vdmUgdGhpcyB3aGVuIHRoZXJlJ3MgbW9yZSBjb25maWRlbmNlIHRoZSBjaGVjayBzaG91bGRuJ3QgYmUgbmVlZGVkXG4gICAgICAgIGlmICghdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8odmlld3BvcnRQb3NpdGlvbi5hbmNob3JQYWdlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBhZ2U6ICcgKyB2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhbnZhcy53aWR0aCAhPT0gdGhpcy5fdmlld3BvcnQud2lkdGggfHwgdGhpcy5fY2FudmFzLmhlaWdodCAhPT0gdGhpcy5fdmlld3BvcnQuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSB0aGlzLl92aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSB0aGlzLl92aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogV2hhdCBob29rcyBzaG91bGQgYmUgY2FsbGVkIGhlcmU/XG4gICAgICAgIHRoaXMuZ290byh2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0UG9zaXRpb24udmVydGljYWxPZmZzZXQsIHZpZXdwb3J0UG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhbnZhcy5wYXJlbnROb2RlICE9PSB0aGlzLl9vdXRlckVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX291dGVyRWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5fY2FudmFzLCB0aGlzLl9vdXRlckVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkTG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkTG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldFZpZXdwb3J0UG9zaXRpb24gKHZpZXdwb3J0UG9zaXRpb24pXG4gICAge1xuICAgICAgICBpZiAodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwgIT09IHRoaXMuX3pvb21MZXZlbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21MZXZlbCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY3VycmVudCB2aWV3IGlzIG5vdCB6b29tYWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGN1cnJlbnQgdmlldyByZXF1aXJlcyBhIHpvb20gbGV2ZWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0TGF5b3V0VG9ab29tTGV2ZWwodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ290byh2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0UG9zaXRpb24udmVydGljYWxPZmZzZXQsIHZpZXdwb3J0UG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgfVxuXG4gICAgX3NldExheW91dFRvWm9vbUxldmVsICh6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICB0aGlzLmxheW91dCA9IG5ldyBEb2N1bWVudExheW91dCh0aGlzLl9jb25maWcsIHpvb21MZXZlbCk7XG4gICAgICAgIHRoaXMuX3pvb21MZXZlbCA9IHpvb21MZXZlbDtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVzKHRoaXMuX2RvY3VtZW50RWxlbWVudCwge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMubGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5sYXlvdXQuZGltZW5zaW9ucy53aWR0aCArICdweCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fdmlld3BvcnQuc2V0SW5uZXJEaW1lbnNpb25zKHRoaXMubGF5b3V0LmRpbWVuc2lvbnMpO1xuICAgIH1cblxuICAgIGFkanVzdCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUodGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZW5kZXIgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IG5ld1JlbmRlcmVkUGFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXlvdXQucGFnZUdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl92aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKGdyb3VwLnJlZ2lvbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlUGFnZXMgPSBncm91cC5wYWdlc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1BhZ2VWaXNpYmxlKHBhZ2UuaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgICAgICAgICAgLm1hcChwYWdlID0+IHBhZ2UuaW5kZXgpO1xuXG4gICAgICAgICAgICBuZXdSZW5kZXJlZFBhZ2VzLnB1c2guYXBwbHkobmV3UmVuZGVyZWRQYWdlcywgdmlzaWJsZVBhZ2VzKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9wYWludE91dGxpbmUobmV3UmVuZGVyZWRQYWdlcyk7XG5cbiAgICAgICAgbmV3UmVuZGVyZWRQYWdlcy5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMubGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgem9vbUxldmVscyA9IHRoaXMuX3NvdXJjZVJlc29sdmVyLmdldEFsbFpvb21MZXZlbHNGb3JQYWdlKHBhZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IG5ldyBDb21wb3NpdGVJbWFnZSh6b29tTGV2ZWxzKTtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGUudXBkYXRlRnJvbUNhY2hlKHRoaXMuX2NhY2hlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XSA9IGNvbXBvc2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhdGVUaWxlUmVxdWVzdHMobmV3UmVuZGVyZWRQYWdlcyk7XG5cbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IGZpbmRDaGFuZ2VzKHRoaXMuX3JlbmRlcmVkUGFnZXMgfHwgW10sIG5ld1JlbmRlcmVkUGFnZXMpO1xuXG4gICAgICAgIGNoYW5nZXMucmVtb3ZlZC5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IG5ld1JlbmRlcmVkUGFnZXM7XG4gICAgICAgIHRoaXMuX3BhaW50KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uUGFnZVdpbGxMb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGFuZ2VzLmFkZGVkLmZvckVhY2goKHBhZ2VJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob29rcy5vblBhZ2VXaWxsTG9hZChwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFpbnQgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkVGlsZXMgPSBbXTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzLmZvckVhY2goIChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdLmdldFRpbGVzKHRoaXMuX3pvb21MZXZlbCkuZm9yRWFjaCgoc291cmNlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlZCA9IGdldFNjYWxlZFRpbGVSZWNvcmQoc291cmNlLCB0aGlzLl96b29tTGV2ZWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVGlsZVZpc2libGUocGFnZUluZGV4LCBzY2FsZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRUaWxlcy5wdXNoKHNvdXJjZS51cmwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3VGlsZShwYWdlSW5kZXgsIHNjYWxlZCwgdGhpcy5fY2FjaGUuZ2V0KHNvdXJjZS51cmwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9jYWNoZTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gZmluZENoYW5nZXModGhpcy5fcmVuZGVyZWRUaWxlcyB8fCBbXSwgcmVuZGVyZWRUaWxlcyk7XG5cbiAgICAgICAgY2hhbmdlcy5hZGRlZC5mb3JFYWNoKHVybCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZS5hY3F1aXJlKHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYW5nZXMucmVtb3ZlZC5mb3JFYWNoKHVybCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZS5yZWxlYXNlKHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzLnJlbW92ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBTaG91bGQgb25seSBuZWVkIHRvIHVwZGF0ZSB0aGUgY29tcG9zaXRlIGltYWdlc1xuICAgICAgICAgICAgLy8gZm9yIHdoaWNoIHRpbGVzIHdlcmUgcmVtb3ZlZFxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcy5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0udXBkYXRlRnJvbUNhY2hlKHRoaXMuX2NhY2hlKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRUaWxlcyA9IHJlbmRlcmVkVGlsZXM7XG4gICAgfVxuXG4gICAgLy8gUGFpbnQgYSBwYWdlIG91dGxpbmUgd2hpbGUgdGhlIHRpbGVzIGFyZSBsb2FkaW5nLlxuICAgIF9wYWludE91dGxpbmUgKHBhZ2VzKVxuICAgIHtcbiAgICAgICAgcGFnZXMuZm9yRWFjaCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBhZ2VJbmZvID0gdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KTtcbiAgICAgICAgICAgIGxldCBwYWdlT2Zmc2V0ID0gdGhpcy5fZ2V0SW1hZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBkb2N1bWVudCBpcyBkcmF3biB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1ggPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQud2lkdGggLSB0aGlzLmxheW91dC5kaW1lbnNpb25zLndpZHRoKSAvIDIpO1xuICAgICAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1kgPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQuaGVpZ2h0IC0gdGhpcy5sYXlvdXQuZGltZW5zaW9ucy5oZWlnaHQpIC8gMik7XG5cbiAgICAgICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFggPSBwYWdlT2Zmc2V0LmxlZnQgLSB0aGlzLl92aWV3cG9ydC5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nWDtcbiAgICAgICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFkgPSBwYWdlT2Zmc2V0LnRvcCAtIHRoaXMuX3ZpZXdwb3J0LnRvcCArIHZpZXdwb3J0UGFkZGluZ1k7XG5cbiAgICAgICAgICAgIGxldCBkZXN0WE9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WCA8IDAgPyAtdmlld3BvcnRPZmZzZXRYIDogMDtcbiAgICAgICAgICAgIGxldCBkZXN0WU9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WSA8IDAgPyAtdmlld3BvcnRPZmZzZXRZIDogMDtcblxuICAgICAgICAgICAgbGV0IGNhbnZhc1ggPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFgpO1xuICAgICAgICAgICAgbGV0IGNhbnZhc1kgPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFkpO1xuXG4gICAgICAgICAgICBsZXQgZGVzdFdpZHRoID0gcGFnZUluZm8uZGltZW5zaW9ucy53aWR0aCAtIGRlc3RYT2Zmc2V0O1xuICAgICAgICAgICAgbGV0IGRlc3RIZWlnaHQgPSBwYWdlSW5mby5kaW1lbnNpb25zLmhlaWdodCAtIGRlc3RZT2Zmc2V0O1xuXG4gICAgICAgICAgICB0aGlzLl9jdHguc3Ryb2tlU3R5bGUgPSAnI0FBQSc7XG4gICAgICAgICAgICAvLyBJbiBvcmRlciB0byBnZXQgYSAxcHggd2lkZSBsaW5lIHVzaW5nIHN0cm9rZXMsIHdlIG5lZWQgdG8gc3RhcnQgYXQgYSAnaGFsZiBwaXhlbCdcbiAgICAgICAgICAgIHRoaXMuX2N0eC5zdHJva2VSZWN0KGNhbnZhc1ggKyAwLjUsIGNhbnZhc1kgKyAwLjUsIGRlc3RXaWR0aCwgZGVzdEhlaWdodCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBzZW50IGFsbCB2aXNpYmxlIHBhZ2VzIGF0IG9uY2UgYmVjYXVzZSBpdCB3aWxsIGluaXRpYXRlXG4gICAgLy8gYWxsIGltYWdlIHJlcXVlc3RzIGFuZCBjYW5jZWwgYW55IHJlbWFpbmluZyBpbWFnZSByZXF1ZXN0cy4gSW4gdGhlIGNhc2UgdGhhdFxuICAgIC8vIGEgcmVxdWVzdCBpcyBvbmdvaW5nIGFuZCB0aGUgdGlsZSBpcyBzdGlsbCB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydCwgdGhlIG9sZCByZXF1ZXN0XG4gICAgLy8gaXMga2VwdCBhY3RpdmUgaW5zdGVhZCBvZiByZXN0YXJ0aW5nIGl0LiBUaGUgaW1hZ2UgcmVxdWVzdHMgYXJlIGdpdmVuIGEgdGltZW91dFxuICAgIC8vIGJlZm9yZSBsb2FkaW5nIGluIG9yZGVyIHRvIGRlYm91bmNlIHRoZW0gYW5kIGhhdmUgYSBzbWFsbCByZWFjdGlvbiB0aW1lXG4gICAgLy8gdG8gY2FuY2VsIHRoZW0gYW5kIGF2b2lkIHVzZWxlc3MgcmVxdWVzdHMuXG4gICAgX2luaXRpYXRlVGlsZVJlcXVlc3RzIChwYWdlcylcbiAgICB7XG4gICAgICAgIC8vIE9ubHkgcmVxdWVzdHMgaW4gdGhpcyBvYmplY3QgYXJlIGtlcHQgYWxpdmUsIHNpbmNlIGFsbCBvdGhlcnMgYXJlIG5vdCB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICBjb25zdCBuZXdQZW5kaW5nUmVxdWVzdHMgPSB7fTtcblxuICAgICAgICAvLyBVc2VkIGxhdGVyIGFzIGEgY2xvc3VyZSB0byBpbml0aWF0ZSB0aGUgaW1hZ2UgcmVxdWVzdHMgd2l0aCB0aGUgcmlnaHQgc291cmNlIGFuZCBwYWdlSW5kZXhcbiAgICAgICAgY29uc3QgaW5pdGlhdGVSZXF1ZXN0ID0gKHNvdXJjZSwgcGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XTtcblxuICAgICAgICAgICAgbmV3UGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdID0gbmV3IEltYWdlUmVxdWVzdEhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIHVybDogc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0VGltZTogUkVRVUVTVF9ERUJPVU5DRV9JTlRFUlZBTCxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogdGhpcy5fc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgbG9hZDogaW1nID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZS5wdXQoc291cmNlLnVybCwgaW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBd2t3YXJkIHdheSB0byBjaGVjayBmb3IgdXBkYXRlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9zaXRlID09PSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRlLnVwZGF0ZVdpdGhMb2FkZWRVcmxzKFtzb3VyY2UudXJsXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlKHBhZ2VJbmRleCwgc291cmNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVGlsZUZvclNvdXJjZVZpc2libGUocGFnZUluZGV4LCBzb3VyY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ291bGQgbWFrZSBhIGxpbWl0ZWQgbnVtYmVyIG9mIHJldHJpZXMsIGV0Yy5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSBwYWdlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVzID0gdGhpcy5fc291cmNlUmVzb2x2ZXIuZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2UodGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KSkudGlsZXM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGlsZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gdGlsZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlLmhhcyhzb3VyY2UudXJsKSB8fCAhdGhpcy5faXNUaWxlRm9yU291cmNlVmlzaWJsZShwYWdlSW5kZXgsIHNvdXJjZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjcmVhdGUgYSBuZXcgcmVxdWVzdCBpZiB0aGUgdGlsZSBpcyBhbHJlYWR5IGJlaW5nIGxvYWRlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdQZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF0gPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVzZSBhIGNsb3N1cmUgc2luY2UgdGhlIGxvYWQgYW5kIGVycm9yIG1ldGhvZHMgYXJlIGdvaW5nIHRvIGJlIGNhbGxlZCBsYXRlciBhbmRcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJpZ2h0IHJlZmVyZW5jZSB0byB0aGUgc291cmNlIGFuZCB0aGUgcGFnZSBpbmRleFxuICAgICAgICAgICAgICAgIGluaXRpYXRlUmVxdWVzdChzb3VyY2UsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHVybCBpbiB0aGlzLl9wZW5kaW5nUmVxdWVzdHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1t1cmxdLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzID0gbmV3UGVuZGluZ1JlcXVlc3RzO1xuICAgIH1cblxuICAgIF9kcmF3VGlsZSAocGFnZUluZGV4LCBzY2FsZWRUaWxlLCBpbWcpXG4gICAge1xuICAgICAgICBsZXQgdGlsZU9mZnNldCA9IHRoaXMuX2dldFRpbGVUb0RvY3VtZW50T2Zmc2V0KHBhZ2VJbmRleCwgc2NhbGVkVGlsZSk7XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBkb2N1bWVudCBpcyBkcmF3biB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICBsZXQgdmlld3BvcnRQYWRkaW5nWCA9IE1hdGgubWF4KDAsICh0aGlzLl92aWV3cG9ydC53aWR0aCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMud2lkdGgpIC8gMik7XG4gICAgICAgIGxldCB2aWV3cG9ydFBhZGRpbmdZID0gTWF0aC5tYXgoMCwgKHRoaXMuX3ZpZXdwb3J0LmhlaWdodCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0KSAvIDIpO1xuXG4gICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFggPSB0aWxlT2Zmc2V0LmxlZnQgLSB0aGlzLl92aWV3cG9ydC5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nWDtcbiAgICAgICAgbGV0IHZpZXdwb3J0T2Zmc2V0WSA9IHRpbGVPZmZzZXQudG9wIC0gdGhpcy5fdmlld3BvcnQudG9wICsgdmlld3BvcnRQYWRkaW5nWTtcblxuICAgICAgICBsZXQgZGVzdFhPZmZzZXQgPSB2aWV3cG9ydE9mZnNldFggPCAwID8gLXZpZXdwb3J0T2Zmc2V0WCA6IDA7XG4gICAgICAgIGxldCBkZXN0WU9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WSA8IDAgPyAtdmlld3BvcnRPZmZzZXRZIDogMDtcblxuICAgICAgICBsZXQgY2FudmFzWCA9IE1hdGgubWF4KDAsIHZpZXdwb3J0T2Zmc2V0WCk7XG4gICAgICAgIGxldCBjYW52YXNZID0gTWF0aC5tYXgoMCwgdmlld3BvcnRPZmZzZXRZKTtcblxuICAgICAgICBsZXQgc291cmNlWE9mZnNldCA9IGRlc3RYT2Zmc2V0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuICAgICAgICBsZXQgc291cmNlWU9mZnNldCA9IGRlc3RZT2Zmc2V0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBzcGVjaWZpZWQgZGltZW5zaW9ucyBhcmUgbm8gZ3JlYXRlciB0aGFuIHRoZSBhY3R1YWxcbiAgICAgICAgLy8gc2l6ZSBvZiB0aGUgaW1hZ2UuIFNhZmFyaSB3b24ndCBkaXNwbGF5IHRoZSB0aWxlIGlmIHRoZXkgYXJlLlxuICAgICAgICBsZXQgZGVzdEltZ1dpZHRoID0gTWF0aC5taW4oc2NhbGVkVGlsZS5kaW1lbnNpb25zLndpZHRoLCBpbWcud2lkdGggKiBzY2FsZWRUaWxlLnNjYWxlUmF0aW8pIC0gZGVzdFhPZmZzZXQ7XG4gICAgICAgIGxldCBkZXN0SW1nSGVpZ2h0ID0gTWF0aC5taW4oc2NhbGVkVGlsZS5kaW1lbnNpb25zLmhlaWdodCwgaW1nLmhlaWdodCAqIHNjYWxlZFRpbGUuc2NhbGVSYXRpbykgLSBkZXN0WU9mZnNldDtcblxuICAgICAgICBsZXQgZGVzdFdpZHRoID0gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChkZXN0SW1nV2lkdGgpKTtcbiAgICAgICAgbGV0IGRlc3RIZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKGRlc3RJbWdIZWlnaHQpKTtcblxuICAgICAgICBsZXQgc291cmNlV2lkdGggPSBkZXN0V2lkdGggLyBzY2FsZWRUaWxlLnNjYWxlUmF0aW87XG4gICAgICAgIGxldCBzb3VyY2VIZWlnaHQgPSBkZXN0SGVpZ2h0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuXG4gICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICBpbWcsXG4gICAgICAgICAgICBzb3VyY2VYT2Zmc2V0LCBzb3VyY2VZT2Zmc2V0LFxuICAgICAgICAgICAgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCxcbiAgICAgICAgICAgIGNhbnZhc1gsIGNhbnZhc1ksXG4gICAgICAgICAgICBkZXN0V2lkdGgsIGRlc3RIZWlnaHQpO1xuICAgIH1cblxuICAgIF9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlIChwYWdlSW5kZXgsIHRpbGVTb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNUaWxlVmlzaWJsZShwYWdlSW5kZXgsIGdldFNjYWxlZFRpbGVSZWNvcmQodGlsZVNvdXJjZSwgdGhpcy5fem9vbUxldmVsKSk7XG4gICAgfVxuXG4gICAgX2lzVGlsZVZpc2libGUgKHBhZ2VJbmRleCwgc2NhbGVkVGlsZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHRpbGVPZmZzZXQgPSB0aGlzLl9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldChwYWdlSW5kZXgsIHNjYWxlZFRpbGUpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFRoaXMgY2hlY2sgaXMgaW5zdWZmaWNpZW50IGR1cmluZyBhIHpvb20gdHJhbnNpdGlvblxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3BvcnQuaW50ZXJzZWN0c1JlZ2lvbih7XG4gICAgICAgICAgICB0b3A6IHRpbGVPZmZzZXQudG9wLFxuICAgICAgICAgICAgYm90dG9tOiB0aWxlT2Zmc2V0LnRvcCArIHNjYWxlZFRpbGUuZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICBsZWZ0OiB0aWxlT2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICByaWdodDogdGlsZU9mZnNldC5sZWZ0ICsgc2NhbGVkVGlsZS5kaW1lbnNpb25zLndpZHRoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldCAocGFnZUluZGV4LCBzY2FsZWRUaWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW1hZ2VPZmZzZXQgPSB0aGlzLl9nZXRJbWFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IGltYWdlT2Zmc2V0LnRvcCArIHNjYWxlZFRpbGUub2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IGltYWdlT2Zmc2V0LmxlZnQgKyBzY2FsZWRUaWxlLm9mZnNldC5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2dldEltYWdlT2Zmc2V0IChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgsIHtpbmNsdWRlUGFkZGluZzogdHJ1ZX0pO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFVwZGF0ZSBzaWduYXR1cmVcbiAgICBnb3RvIChwYWdlSW5kZXgsIHZlcnRpY2FsT2Zmc2V0LCBob3Jpem9udGFsT2Zmc2V0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5fZ290byhwYWdlSW5kZXgsIHZlcnRpY2FsT2Zmc2V0LCBob3Jpem9udGFsT2Zmc2V0KTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUodGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpLCBwYWdlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dvdG8gKHBhZ2VJbmRleCwgdmVydGljYWxPZmZzZXQsIGhvcml6b250YWxPZmZzZXQpXG4gICAge1xuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBNb3ZlIHRoaXMgbG9naWMgdG8gdGhlIHZpZXdlclxuICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gdGhpcy5sYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IGRlc2lyZWRWZXJ0aWNhbENlbnRlciA9IHBhZ2VPZmZzZXQudG9wICsgdmVydGljYWxPZmZzZXQ7XG4gICAgICAgIGNvbnN0IHRvcCA9IGRlc2lyZWRWZXJ0aWNhbENlbnRlciAtIE1hdGgucm91bmQodGhpcy5fdmlld3BvcnQuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgY29uc3QgZGVzaXJlZEhvcml6b250YWxDZW50ZXIgPSBwYWdlT2Zmc2V0LmxlZnQgKyBob3Jpem9udGFsT2Zmc2V0O1xuICAgICAgICBjb25zdCBsZWZ0ID0gZGVzaXJlZEhvcml6b250YWxDZW50ZXIgLSBNYXRoLnJvdW5kKHRoaXMuX3ZpZXdwb3J0LndpZHRoIC8gMik7XG5cbiAgICAgICAgdGhpcy5fdmlld3BvcnQudG9wID0gdG9wO1xuICAgICAgICB0aGlzLl92aWV3cG9ydC5sZWZ0ID0gbGVmdDtcblxuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uVmlld3BvcnRQb3NpdGlvbiAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgZ2V0UG9zaXRpb24gPSBvcHRpb25zLmdldFBvc2l0aW9uO1xuICAgICAgICBjb25zdCBvblZpZXdEaWRUcmFuc2l0aW9uID0gdGhpcy5faG9va3Mub25WaWV3RGlkVHJhbnNpdGlvbjtcblxuICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBJbnRlcnBvbGF0ZUFuaW1hdGlvbi5hbmltYXRlKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogb3B0aW9ucy5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgb25VcGRhdGU6ICh2YWx1ZXMpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Vmlld3BvcnRQb3NpdGlvbihnZXRQb3NpdGlvbih2YWx1ZXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob29rcy5vblpvb21MZXZlbFdpbGxDaGFuZ2UodmFsdWVzLnpvb21MZXZlbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAob25WaWV3RGlkVHJhbnNpdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9uVmlld0RpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbmQ6IChpbmZvKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uRW5kKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVuZChpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlICYmICFpbmZvLmludGVycnVwdGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfY2xlYXJBbmltYXRpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hbmltYXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1BhZ2VWaXNpYmxlIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubGF5b3V0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KTtcblxuICAgICAgICBpZiAoIXBhZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKHRoaXMubGF5b3V0LmdldFBhZ2VSZWdpb24ocGFnZUluZGV4KSk7XG4gICAgfVxuXG4gICAgZ2V0UmVuZGVyZWRQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IEkgZG9uJ3Qga25vdyBpZiB3ZSBzaG91bGQgYWN0dWFsbHkgZG8gdGhpc1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wZW5kaW5nUmVxdWVzdHMpLmZvckVhY2goKHJlcSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyZXFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyZXFdO1xuXG4gICAgICAgICAgICBoYW5kbGVyLmFib3J0KCk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2NhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NhbnZhcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTY2FsZWRUaWxlUmVjb3JkIChzb3VyY2UsIHNjYWxlRmFjdG9yKVxue1xuICAgIGxldCBzY2FsZVJhdGlvO1xuXG4gICAgaWYgKHNjYWxlRmFjdG9yID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgc2NhbGVSYXRpbyA9IDE7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHNjYWxlUmF0aW8gPSBNYXRoLnBvdygyLCBzY2FsZUZhY3RvciAtIHNvdXJjZS56b29tTGV2ZWwpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZVpvb21MZXZlbDogc291cmNlLnpvb21MZXZlbCxcbiAgICAgICAgc2NhbGVSYXRpbzogc2NhbGVSYXRpbyxcbiAgICAgICAgcm93OiBzb3VyY2Uucm93LFxuICAgICAgICBjb2w6IHNvdXJjZS5jb2wsXG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIHdpZHRoOiBzb3VyY2UuZGltZW5zaW9ucy53aWR0aCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICBoZWlnaHQ6IHNvdXJjZS5kaW1lbnNpb25zLmhlaWdodCAqIHNjYWxlUmF0aW9cbiAgICAgICAgfSxcbiAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICBsZWZ0OiBzb3VyY2Uub2Zmc2V0LmxlZnQgKiBzY2FsZVJhdGlvLFxuICAgICAgICAgICAgdG9wOiBzb3VyY2Uub2Zmc2V0LnRvcCAqIHNjYWxlUmF0aW9cbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiBzb3VyY2UudXJsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZmluZENoYW5nZXMgKG9sZEFycmF5LCBuZXdBcnJheSlcbntcbiAgICBpZiAob2xkQXJyYXkgPT09IG5ld0FycmF5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZGVkOiBbXSxcbiAgICAgICAgICAgIHJlbW92ZWQ6IFtdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcmVtb3ZlZCA9IG9sZEFycmF5LmZpbHRlcihvbGRFbnRyeSA9PiBuZXdBcnJheS5pbmRleE9mKG9sZEVudHJ5KSA9PT0gLTEpO1xuXG4gICAgY29uc3QgYWRkZWQgPSBuZXdBcnJheS5maWx0ZXIobmV3RW50cnkgPT4gb2xkQXJyYXkuaW5kZXhPZihuZXdFbnRyeSkgPT09IC0xKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZGVkOiBhZGRlZCxcbiAgICAgICAgcmVtb3ZlZDogcmVtb3ZlZFxuICAgIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4LCBtYW5pZmVzdClcbntcbiAgICBjb25zdCBkaW1zID0gbWFuaWZlc3QuZ2V0TWF4UGFnZURpbWVuc2lvbnMocGFnZUluZGV4KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBNYXRoLmZsb29yKGRpbXMud2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IE1hdGguZmxvb3IoZGltcy5oZWlnaHQpXG4gICAgfTtcbn1cbiIsImltcG9ydCBnZXRQYWdlRGltZW5zaW9ucyBmcm9tICcuL3BhZ2UtZGltZW5zaW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJvb2tMYXlvdXRHcm91cHMgKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCBncm91cGluZ3MgPSBnZXRHcm91cGluZ3Modmlld2VyQ29uZmlnKTtcblxuICAgIHJldHVybiBncm91cGluZ3MubWFwKGdyb3VwaW5nID0+IGdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmcodmlld2VyQ29uZmlnLCBncm91cGluZykpO1xufVxuXG5mdW5jdGlvbiBnZXRHcm91cGluZ3Modmlld2VyQ29uZmlnKVxue1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gdmlld2VyQ29uZmlnLm1hbmlmZXN0O1xuXG4gICAgY29uc3QgcGFnZXNCeUdyb3VwID0gW107XG4gICAgbGV0IGxlZnRQYWdlID0gbnVsbDtcbiAgICBsZXQgbm9uUGFnZWRQYWdlcyA9IFtdOyAvLyBQYWdlcyB0byBkaXNwbGF5IGJlbG93IHRoZSBjdXJyZW50IGdyb3VwXG5cbiAgICBjb25zdCBfYWRkTm9uUGFnZWRQYWdlcyA9ICgpID0+XG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbmxlbiA9IG5vblBhZ2VkUGFnZXMubGVuZ3RoOyBpIDwgbmxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbIG5vblBhZ2VkUGFnZXNbaV0gXSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9uUGFnZWRQYWdlcyA9IFtdO1xuICAgIH07XG5cbiAgICBtYW5pZmVzdC5wYWdlcy5mb3JFYWNoKCAocGFnZSwgaW5kZXgpID0+XG4gICAge1xuICAgICAgICBjb25zdCBwYWdlUmVjb3JkID0ge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgZGltZW5zaW9uczogZ2V0UGFnZURpbWVuc2lvbnMoaW5kZXgsIG1hbmlmZXN0KSxcbiAgICAgICAgICAgIHBhZ2VkOiAoIW1hbmlmZXN0LnBhZ2VkIHx8IHBhZ2UucGFnZWQpXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gT25seSBkaXNwbGF5IG5vbi1wYWdlZCBwYWdlcyBpZiBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmdzXG4gICAgICAgIGlmICghdmlld2VyQ29uZmlnLnNob3dOb25QYWdlZFBhZ2VzICYmICFwYWdlUmVjb3JkLnBhZ2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICghcGFnZVJlY29yZC5wYWdlZClcbiAgICAgICAge1xuICAgICAgICAgICAgbm9uUGFnZWRQYWdlcy5wdXNoKHBhZ2VSZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSAwIHx8IHBhZ2UuZmFjaW5nUGFnZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBwYWdlIGlzIHBsYWNlZCBvbiBpdHMgb3duXG4gICAgICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbcGFnZVJlY29yZF0pO1xuICAgICAgICAgICAgX2FkZE5vblBhZ2VkUGFnZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsZWZ0UGFnZSA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbGVmdFBhZ2UgPSBwYWdlUmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZXNCeUdyb3VwLnB1c2goW2xlZnRQYWdlLCBwYWdlUmVjb3JkXSk7XG4gICAgICAgICAgICBsZWZ0UGFnZSA9IG51bGw7XG4gICAgICAgICAgICBfYWRkTm9uUGFnZWRQYWdlcygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBGbHVzaCBhIGZpbmFsIGxlZnQgcGFnZVxuICAgIGlmIChsZWZ0UGFnZSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIHBhZ2VzQnlHcm91cC5wdXNoKFtsZWZ0UGFnZV0pO1xuICAgICAgICBfYWRkTm9uUGFnZWRQYWdlcygpO1xuICAgIH1cblxuICAgIHJldHVybiBwYWdlc0J5R3JvdXA7XG59XG5cbmZ1bmN0aW9uIGdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmcodmlld2VyQ29uZmlnLCBncm91cGluZylcbntcbiAgICBjb25zdCB2ZXJ0aWNhbGx5T3JpZW50ZWQgPSB2aWV3ZXJDb25maWcudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgaWYgKGdyb3VwaW5nLmxlbmd0aCA9PT0gMilcbiAgICAgICAgcmV0dXJuIGdldEZhY2luZ1BhZ2VHcm91cChncm91cGluZ1swXSwgZ3JvdXBpbmdbMV0sIHZlcnRpY2FsbHlPcmllbnRlZCk7XG5cbiAgICBjb25zdCBwYWdlID0gZ3JvdXBpbmdbMF07XG4gICAgY29uc3QgcGFnZURpbXMgPSBwYWdlLmRpbWVuc2lvbnM7XG5cbiAgICAvLyBUaGUgZmlyc3QgcGFnZSBpcyBwbGFjZWQgb24gaXRzIG93biB0byB0aGUgcmlnaHQgaW4gdmVydGljYWwgb3JpZW50YXRpb24uXG4gICAgLy8gTkIgdGhhdCB0aGlzIG5lZWRzIHRvIGJlIHRoZSBwYWdlIHdpdGggaW5kZXggMDsgaWYgdGhlIGZpcnN0IHBhZ2UgaXMgZXhjbHVkZWRcbiAgICAvLyBmcm9tIHRoZSBsYXlvdXQgdGhlbiB0aGlzIHNwZWNpYWwgY2FzZSBzaG91bGRuJ3QgYXBwbHkuXG4gICAgLy8gSWYgdGhlIHBhZ2UgaXMgdGFnZ2VkIGFzICdub24tcGFnZWQnLCBjZW50ZXIgaXQgaG9yaXpvbnRhbGx5XG4gICAgbGV0IGxlZnRPZmZzZXQ7XG4gICAgaWYgKHBhZ2UucGFnZWQpXG4gICAgICAgIGxlZnRPZmZzZXQgPSAocGFnZS5pbmRleCA9PT0gMCAmJiB2ZXJ0aWNhbGx5T3JpZW50ZWQpID8gcGFnZURpbXMud2lkdGggOiAwO1xuICAgIGVsc2VcbiAgICAgICAgbGVmdE9mZnNldCA9ICh2ZXJ0aWNhbGx5T3JpZW50ZWQpID8gcGFnZURpbXMud2lkdGggLyAyIDogMDtcblxuICAgIGNvbnN0IHNob3VsZEJlSG9yaXpvbnRhbGx5QWRqdXN0ZWQgPVxuICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQgJiYgIXZpZXdlckNvbmZpZy5tYW5pZmVzdC5wYWdlc1twYWdlLmluZGV4XS5mYWNpbmdQYWdlcztcblxuICAgIC8vIFdlIG5lZWQgdG8gbGVmdC1hbGlnbiB0aGUgcGFnZSBpbiB2ZXJ0aWNhbCBvcmllbnRhdGlvbiwgc28gd2UgZG91YmxlXG4gICAgLy8gdGhlIGdyb3VwIHdpZHRoXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgaGVpZ2h0OiBwYWdlRGltcy5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogc2hvdWxkQmVIb3Jpem9udGFsbHlBZGp1c3RlZCA/IHBhZ2VEaW1zLndpZHRoICogMiA6IHBhZ2VEaW1zLndpZHRoXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VzOiBbe1xuICAgICAgICAgICAgaW5kZXg6IHBhZ2UuaW5kZXgsXG4gICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0T2Zmc2V0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXNcbiAgICAgICAgfV1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRGYWNpbmdQYWdlR3JvdXAobGVmdFBhZ2UsIHJpZ2h0UGFnZSwgdmVydGljYWxseU9yaWVudGVkKVxue1xuICAgIGNvbnN0IGxlZnREaW1zID0gbGVmdFBhZ2UuZGltZW5zaW9ucztcbiAgICBjb25zdCByaWdodERpbXMgPSByaWdodFBhZ2UuZGltZW5zaW9ucztcblxuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KGxlZnREaW1zLmhlaWdodCwgcmlnaHREaW1zLmhlaWdodCk7XG5cbiAgICBsZXQgd2lkdGgsIGZpcnN0TGVmdE9mZnNldCwgc2Vjb25kTGVmdE9mZnNldDtcblxuICAgIGlmICh2ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAge1xuICAgICAgICBjb25zdCBtaWRXaWR0aCA9IE1hdGgubWF4KGxlZnREaW1zLndpZHRoLCByaWdodERpbXMud2lkdGgpO1xuXG4gICAgICAgIHdpZHRoID0gbWlkV2lkdGggKiAyO1xuXG4gICAgICAgIGZpcnN0TGVmdE9mZnNldCA9IG1pZFdpZHRoIC0gbGVmdERpbXMud2lkdGg7XG4gICAgICAgIHNlY29uZExlZnRPZmZzZXQgPSBtaWRXaWR0aDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBsZWZ0RGltcy53aWR0aCArIHJpZ2h0RGltcy53aWR0aDtcbiAgICAgICAgZmlyc3RMZWZ0T2Zmc2V0ID0gMDtcbiAgICAgICAgc2Vjb25kTGVmdE9mZnNldCA9IGxlZnREaW1zLndpZHRoO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGxlZnRQYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IGxlZnREaW1zLFxuICAgICAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogZmlyc3RMZWZ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleDogcmlnaHRQYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHJpZ2h0RGltcyxcbiAgICAgICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHNlY29uZExlZnRPZmZzZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRHcmlkTGF5b3V0R3JvdXBzICh2aWV3ZXJDb25maWcpXG57XG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHZpZXdlckNvbmZpZy52aWV3cG9ydC53aWR0aDtcbiAgICBjb25zdCBtYW5pZmVzdCA9IHZpZXdlckNvbmZpZy5tYW5pZmVzdDtcbiAgICBjb25zdCBwYWdlc1BlclJvdyA9IHZpZXdlckNvbmZpZy5wYWdlc1BlclJvdztcbiAgICBjb25zdCBmaXhlZEhlaWdodEdyaWQgPSB2aWV3ZXJDb25maWcuZml4ZWRIZWlnaHRHcmlkO1xuICAgIGNvbnN0IGZpeGVkUGFkZGluZyA9IHZpZXdlckNvbmZpZy5maXhlZFBhZGRpbmc7XG4gICAgY29uc3Qgc2hvd05vblBhZ2VkUGFnZXMgPSB2aWV3ZXJDb25maWcuc2hvd05vblBhZ2VkUGFnZXM7XG5cbiAgICBjb25zdCBob3Jpem9udGFsUGFkZGluZyA9IGZpeGVkUGFkZGluZyAqIChwYWdlc1BlclJvdyArIDEpO1xuICAgIGNvbnN0IHBhZ2VXaWR0aCA9ICh2aWV3cG9ydFdpZHRoIC0gaG9yaXpvbnRhbFBhZGRpbmcpIC8gcGFnZXNQZXJSb3c7XG4gICAgY29uc3QgZ3JpZFBhZ2VXaWR0aCA9IHBhZ2VXaWR0aDtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgcm93IGhlaWdodCBkZXBlbmRpbmcgb24gd2hldGhlciB3ZSB3YW50IHRvIGZpeCB0aGUgd2lkdGggb3IgdGhlIGhlaWdodFxuICAgIGNvbnN0IHJvd0hlaWdodCA9IChmaXhlZEhlaWdodEdyaWQpID8gZml4ZWRQYWRkaW5nICsgbWFuaWZlc3QubWluUmF0aW8gKiBwYWdlV2lkdGggOiBmaXhlZFBhZGRpbmcgKyBtYW5pZmVzdC5tYXhSYXRpbyAqIHBhZ2VXaWR0aDtcblxuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgIGxldCBjdXJyZW50UGFnZXMgPSBbXTtcblxuICAgIGNvbnN0IGdldEdyaWRQYWdlRGltZW5zaW9ucyA9IHBhZ2VEYXRhID0+XG4gICAge1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHdpZHRoLCBoZWlnaHQgYW5kIGhvcml6b250YWwgcGxhY2VtZW50IG9mIHRoaXMgcGFnZVxuICAgICAgICAvLyBHZXQgZGltZW5zaW9ucyBhdCBtYXggem9vbSBsZXZlbCwgYWx0aG91Z2ggYW55IGxldmVsIHNob3VsZCBiZSBmaW5lXG4gICAgICAgIGNvbnN0IHBhZ2VEaW1lbkRhdGEgPSBwYWdlRGF0YS5kW3BhZ2VEYXRhLmQubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGhlaWdodFRvV2lkdGhSYXRpbyA9IHBhZ2VEaW1lbkRhdGEuaCAvIHBhZ2VEaW1lbkRhdGEudztcblxuICAgICAgICBsZXQgcGFnZVdpZHRoLCBwYWdlSGVpZ2h0O1xuXG4gICAgICAgIGlmIChmaXhlZEhlaWdodEdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VXaWR0aCA9IChyb3dIZWlnaHQgLSBmaXhlZFBhZGRpbmcpIC8gaGVpZ2h0VG9XaWR0aFJhdGlvO1xuICAgICAgICAgICAgcGFnZUhlaWdodCA9IHJvd0hlaWdodCAtIGZpeGVkUGFkZGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VXaWR0aCA9IGdyaWRQYWdlV2lkdGg7XG4gICAgICAgICAgICBwYWdlSGVpZ2h0ID0gcGFnZVdpZHRoICogaGVpZ2h0VG9XaWR0aFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHBhZ2VXaWR0aCksXG4gICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQocGFnZUhlaWdodClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgcm93RGltZW5zaW9ucyA9IHtcbiAgICAgICAgaGVpZ2h0OiByb3dIZWlnaHQsXG4gICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoXG4gICAgfTtcblxuICAgIG1hbmlmZXN0LnBhZ2VzLmZvckVhY2goIChwYWdlLCBwYWdlSW5kZXgpID0+XG4gICAge1xuICAgICAgICBpZiAoIXNob3dOb25QYWdlZFBhZ2VzICYmIG1hbmlmZXN0LnBhZ2VkICYmICFwYWdlLnBhZ2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgd2lkdGgsIGhlaWdodCBhbmQgaG9yaXpvbnRhbCBwbGFjZW1lbnQgb2YgdGhpcyBwYWdlXG4gICAgICAgIGNvbnN0IHBhZ2VEaW1lbnMgPSBnZXRHcmlkUGFnZURpbWVuc2lvbnMocGFnZSk7XG4gICAgICAgIGxldCBsZWZ0T2Zmc2V0ID0gTWF0aC5mbG9vcihjdXJyZW50UGFnZXMubGVuZ3RoICogKGZpeGVkUGFkZGluZyArIGdyaWRQYWdlV2lkdGgpICsgZml4ZWRQYWRkaW5nKTtcblxuICAgICAgICAvLyBDZW50ZXIgdGhlIHBhZ2UgaWYgdGhlIGhlaWdodCBpcyBmaXhlZCAob3RoZXJ3aXNlLCB0aGVyZSBpcyBubyBob3Jpem9udGFsIHBhZGRpbmcpXG4gICAgICAgIGlmIChmaXhlZEhlaWdodEdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxlZnRPZmZzZXQgKz0gKGdyaWRQYWdlV2lkdGggLSBwYWdlRGltZW5zLndpZHRoKSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBQcmVjb21wdXRlIHBhZ2UgZGltZW5zaW9ucyBldmVyeXdoZXJlXG4gICAgICAgIGN1cnJlbnRQYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIGluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlRGltZW5zLFxuICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdE9mZnNldFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY3VycmVudFBhZ2VzLmxlbmd0aCA9PT0gcGFnZXNQZXJSb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiByb3dEaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgIHBhZ2VzOiBjdXJyZW50UGFnZXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjdXJyZW50UGFnZXMgPSBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGN1cnJlbnRQYWdlcy5sZW5ndGggPiAwKVxuICAgIHtcbiAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgZGltZW5zaW9uczogcm93RGltZW5zaW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiBjdXJyZW50UGFnZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3Vwcztcbn1cbiIsImltcG9ydCBnZXRCb29rTGF5b3V0R3JvdXBzIGZyb20gJy4vYm9vay1sYXlvdXQnO1xuaW1wb3J0IGdldFNpbmdsZXNMYXlvdXRHcm91cHMgZnJvbSAnLi9zaW5nbGVzLWxheW91dCc7XG5pbXBvcnQgZ2V0R3JpZExheW91dEdyb3VwcyBmcm9tICcuL2dyaWQtbGF5b3V0JztcblxuLyoqIEdldCB0aGUgcmVsYXRpdmUgcG9zaXRpb25pbmcgb2YgcGFnZXMgZm9yIHRoZSBjdXJyZW50IHZpZXcgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFBhZ2VMYXlvdXRzIChzZXR0aW5ncylcbntcbiAgICBpZiAoc2V0dGluZ3MuaW5HcmlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldEdyaWRMYXlvdXRHcm91cHMocGx1Y2soc2V0dGluZ3MsIFtcbiAgICAgICAgICAgICdtYW5pZmVzdCcsXG4gICAgICAgICAgICAndmlld3BvcnQnLFxuICAgICAgICAgICAgJ3BhZ2VzUGVyUm93JyxcbiAgICAgICAgICAgICdmaXhlZEhlaWdodEdyaWQnLFxuICAgICAgICAgICAgJ2ZpeGVkUGFkZGluZycsXG4gICAgICAgICAgICAnc2hvd05vblBhZ2VkUGFnZXMnXG4gICAgICAgIF0pKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gcGx1Y2soc2V0dGluZ3MsIFsnbWFuaWZlc3QnLCAndmVydGljYWxseU9yaWVudGVkJywgJ3Nob3dOb25QYWdlZFBhZ2VzJ10pO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5pbkJvb2tMYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm9va0xheW91dEdyb3Vwcyhjb25maWcpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gZ2V0U2luZ2xlc0xheW91dEdyb3Vwcyhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGx1Y2sgKG9iaiwga2V5cylcbntcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSlcbiAgICB7XG4gICAgICAgIG91dFtrZXldID0gb2JqW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsImltcG9ydCBnZXRQYWdlRGltZW5zaW9ucyBmcm9tICcuL3BhZ2UtZGltZW5zaW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNpbmdsZXNMYXlvdXRHcm91cHMgKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCBtYW5pZmVzdCA9IHZpZXdlckNvbmZpZy5tYW5pZmVzdDtcblxuICAgIC8vIFJlbmRlciBlYWNoIHBhZ2UgYWxvbmUgaW4gYSBncm91cFxuICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgbWFuaWZlc3QucGFnZXMuZm9yRWFjaCggKHBhZ2UsIGluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKCF2aWV3ZXJDb25maWcuc2hvd05vblBhZ2VkUGFnZXMgJiYgbWFuaWZlc3QucGFnZWQgJiYgIXBhZ2UucGFnZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcGFnZURpbXMgPSBnZXRQYWdlRGltZW5zaW9ucyhpbmRleCwgbWFuaWZlc3QpO1xuXG4gICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXMsXG4gICAgICAgICAgICBwYWdlczogW3tcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXNcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBhZ2VzO1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nc1ZpZXcoc291cmNlcylcbntcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHNvdXJjZXMuZm9yRWFjaCggKHNvdXJjZSkgPT5cbiAgICB7XG4gICAgICAgIHJlZ2lzdGVyTWl4aW4ob2JqLCBzb3VyY2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJNaXhpbihvYmosIG1peGluKVxue1xuICAgIE9iamVjdC5rZXlzKG1peGluKS5mb3JFYWNoKCAoa2V5KSA9PlxuICAgIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1peGluW2tleV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1ha2UgZXZlcnl0aGluZyBzdHJpY3QgbW9kZSBzbyB0aGlzIGlzbid0IG5lZWRlZFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBzZXQgc2V0dGluZ3MuJyArIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmFsaWRhdGlvblJ1bm5lclxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy53aGl0ZWxpc3RlZEtleXMgPSBvcHRpb25zLndoaXRlbGlzdGVkS2V5cyB8fCBbXTtcbiAgICAgICAgdGhpcy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IG9wdGlvbnMuYWRkaXRpb25hbFByb3BlcnRpZXMgfHwgW107XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMgPSBvcHRpb25zLnZhbGlkYXRpb25zO1xuICAgIH1cblxuICAgIGlzVmFsaWQgKGtleSwgdmFsdWUsIHNldHRpbmdzKVxuICAgIHtcbiAgICAgICAgLy8gR2V0IHRoZSB2YWxpZGF0aW9uIGluZGV4XG4gICAgICAgIGxldCB2YWxpZGF0aW9uSW5kZXggPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMuc29tZSgodmFsaWRhdGlvbiwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLmtleSAhPT0ga2V5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsaWRhdGlvbkluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkYXRpb25JbmRleCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHZhbGlkYXRpb25cbiAgICAgICAgY29uc3QgZHVtbXlDaGFuZ2VzID0ge307XG4gICAgICAgIGR1bW15Q2hhbmdlc1trZXldID0gdmFsdWU7XG4gICAgICAgIGNvbnN0IHByb3hpZXIgPSBjcmVhdGVTZXR0aW5nc1Byb3hpZXIoc2V0dGluZ3MsIGR1bW15Q2hhbmdlcywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuICF0aGlzLl9ydW5WYWxpZGF0aW9uKHZhbGlkYXRpb25JbmRleCwgdmFsdWUsIHByb3hpZXIpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlIChzZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlT3B0aW9ucyh7fSwgc2V0dGluZ3MpO1xuICAgIH1cblxuICAgIGdldFZhbGlkYXRlZE9wdGlvbnMgKHNldHRpbmdzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlT3B0aW9ucyhzZXR0aW5ncywgY2xvbmVkKTtcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVPcHRpb25zIChzZXR0aW5ncywgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzUHJveGllciA9IGNyZWF0ZVNldHRpbmdzUHJveGllcihzZXR0aW5ncywgb3B0aW9ucywgdGhpcyk7XG4gICAgICAgIHRoaXMuX2FwcGx5VmFsaWRhdGlvbnMob3B0aW9ucywgc2V0dGluZ3NQcm94aWVyKTtcbiAgICB9XG5cbiAgICBfYXBwbHlWYWxpZGF0aW9ucyAob3B0aW9ucywgcHJveGllcilcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMuZm9yRWFjaCgodmFsaWRhdGlvbiwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWxpZGF0aW9uLmtleSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IG9wdGlvbnNbdmFsaWRhdGlvbi5rZXldO1xuICAgICAgICAgICAgY29uc3QgY29ycmVjdGVkID0gdGhpcy5fcnVuVmFsaWRhdGlvbihpbmRleCwgaW5wdXQsIHByb3hpZXIpO1xuXG4gICAgICAgICAgICBpZiAoY29ycmVjdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghY29ycmVjdGVkLndhcm5pbmdTdXBwcmVzc2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdFdhcm5pbmcodmFsaWRhdGlvbi5rZXksIGlucHV0LCBjb3JyZWN0ZWQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9wdGlvbnNbdmFsaWRhdGlvbi5rZXldID0gY29ycmVjdGVkLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICBfcnVuVmFsaWRhdGlvbiAoaW5kZXgsIGlucHV0LCBwcm94aWVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGlvbnNbaW5kZXhdO1xuXG4gICAgICAgIHByb3hpZXIuaW5kZXggPSBpbmRleDtcblxuICAgICAgICBsZXQgd2FybmluZ1N1cHByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgc3VwcHJlc3NXYXJuaW5nOiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm5pbmdTdXBwcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvdXRwdXRWYWx1ZSA9IHZhbGlkYXRpb24udmFsaWRhdGUoaW5wdXQsIHByb3hpZXIucHJveHksIGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKG91dHB1dFZhbHVlID09PSB1bmRlZmluZWQgfHwgb3V0cHV0VmFsdWUgPT09IGlucHV0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogb3V0cHV0VmFsdWUsXG4gICAgICAgICAgICB3YXJuaW5nU3VwcHJlc3NlZDogd2FybmluZ1N1cHByZXNzZWRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIHNldHRpbmdzIHByb3h5IHdyYXBzIHRoZSBzZXR0aW5ncyBvYmplY3QgYW5kIGVuc3VyZXMgdGhhdFxuICogb25seSB2YWx1ZXMgd2hpY2ggaGF2ZSBwcmV2aW91c2x5IGJlZW4gdmFsaWRhdGVkIGFyZSBhY2Nlc3NlZCxcbiAqIHRocm93aW5nIGEgVHlwZUVycm9yIG90aGVyd2lzZS5cbiAqXG4gKiBGSVhNRSh3YWJhaW4pOiBJcyBpdCB3b3J0aCBrZWVwaW5nIHRoaXM/IFdoZW4gSSB3cm90ZSBpdCBJIGhhZFxuICogbXVsdGlwbGUgdmFsaWRhdGlvbiBzdGFnZXMgYW5kIGl0IHdhcyBhIGxvdCBoYXJkZXIgdG8ga2VlcCB0cmFja1xuICogb2YgZXZlcnl0aGluZywgc28gdGhpcyB3YXMgbW9yZSB2YWx1YWJsZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3NQcm94aWVyIChzZXR0aW5ncywgb3B0aW9ucywgcnVubmVyKVxue1xuICAgIGNvbnN0IHByb3hpZXIgPSB7XG4gICAgICAgIHByb3h5OiB7fSxcbiAgICAgICAgaW5kZXg6IG51bGxcbiAgICB9O1xuXG4gICAgY29uc3QgbG9va3VwID0gbG9va3VwVmFsdWUuYmluZChudWxsLCBzZXR0aW5ncywgb3B0aW9ucyk7XG5cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG5cbiAgICBydW5uZXIud2hpdGVsaXN0ZWRLZXlzLmZvckVhY2goKHdoaXRlbGlzdGVkKSA9PlxuICAgIHtcbiAgICAgICAgcHJvcGVydGllc1t3aGl0ZWxpc3RlZF0gPSB7XG4gICAgICAgICAgICBnZXQ6IGxvb2t1cC5iaW5kKG51bGwsIHdoaXRlbGlzdGVkKVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgcnVubmVyLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLmZvckVhY2goKGFkZGl0aW9uYWwpID0+XG4gICAge1xuICAgICAgICBwcm9wZXJ0aWVzW2FkZGl0aW9uYWwua2V5XSA9IHtcbiAgICAgICAgICAgIGdldDogYWRkaXRpb25hbC5nZXRcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJ1bm5lci52YWxpZGF0aW9ucy5mb3JFYWNoKCAodmFsaWRhdGlvbiwgdmFsaWRhdGlvbkluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgcHJvcGVydGllc1t2YWxpZGF0aW9uLmtleV0gPSB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25JbmRleCA8IHByb3hpZXIuaW5kZXgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9va3VwKHZhbGlkYXRpb24ua2V5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0gcnVubmVyLnZhbGlkYXRpb25zW3Byb3hpZXIuaW5kZXhdLmtleTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYWNjZXNzIHNldHRpbmcgJyArIHZhbGlkYXRpb24ua2V5ICsgJyB3aGlsZSB2YWxpZGF0aW5nICcgKyBjdXJyZW50S2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHByb3hpZXIucHJveHksIHByb3BlcnRpZXMpO1xuXG4gICAgcmV0dXJuIHByb3hpZXI7XG59XG5cbmZ1bmN0aW9uIGVtaXRXYXJuaW5nIChrZXksIG9yaWdpbmFsLCBjb3JyZWN0ZWQpXG57XG4gICAgY29uc29sZS53YXJuKCdJbnZhbGlkIHZhbHVlIGZvciAnICsga2V5ICsgJzogJyArIG9yaWdpbmFsICsgJy4gVXNpbmcgJyArIGNvcnJlY3RlZCArICcgaW5zdGVhZC4nKTtcbn1cblxuZnVuY3Rpb24gbG9va3VwVmFsdWUgKGJhc2UsIGV4dGVuc2lvbiwga2V5KVxue1xuICAgIGlmIChrZXkgaW4gZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbltrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlW2tleV07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3cG9ydFxue1xuICAgIGNvbnN0cnVjdG9yIChvdXRlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gb3B0aW9ucy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgfHwgMDtcbiAgICAgICAgdGhpcy5vdXRlciA9IG91dGVyO1xuICAgICAgICB0aGlzLl90b3AgPSB0aGlzLl9sZWZ0ID0gdGhpcy5fd2lkdGggPSB0aGlzLl9oZWlnaHQgPSB0aGlzLl9pbm5lckRpbWVuc2lvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIGludGVyc2VjdHNSZWdpb24gKHJlZ2lvbilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc0hvcml6b250YWxPdmVybGFwKHJlZ2lvbikgJiYgdGhpcy5oYXNWZXJ0aWNhbE92ZXJsYXAocmVnaW9uKTtcbiAgICB9XG5cbiAgICBoYXNWZXJ0aWNhbE92ZXJsYXAgKHJlZ2lvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMudG9wIC0gdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuYm90dG9tICsgdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24udG9wLCB0b3AsIGJvdHRvbSkgfHxcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24uYm90dG9tLCB0b3AsIGJvdHRvbSkgfHxcbiAgICAgICAgICAgIChyZWdpb24udG9wIDw9IHRvcCAmJiByZWdpb24uYm90dG9tID49IGJvdHRvbSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBoYXNIb3Jpem9udGFsT3ZlcmxhcCAocmVnaW9uKVxuICAgIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMubGVmdCAtIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMucmlnaHQgKyB0aGlzLmludGVyc2VjdGlvblRvbGVyYW5jZTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZmFsbHNCZXR3ZWVuKHJlZ2lvbi5sZWZ0LCBsZWZ0LCByaWdodCkgfHxcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24ucmlnaHQsIGxlZnQsIHJpZ2h0KSB8fFxuICAgICAgICAgICAgKHJlZ2lvbi5sZWZ0IDw9IGxlZnQgJiYgcmVnaW9uLnJpZ2h0ID49IHJpZ2h0KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGludmFsaWRhdGUgKClcbiAgICB7XG4gICAgICAgIC8vIEZJWE1FOiBTaG91bGQgdGhpcyBjaGVjayB0aGUgaW5uZXIgZGltZW5zaW9ucyBhcyB3ZWxsP1xuICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMub3V0ZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHRoaXMub3V0ZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX3RvcCA9IHRoaXMub3V0ZXIuc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLl9sZWZ0ID0gdGhpcy5vdXRlci5zY3JvbGxMZWZ0O1xuICAgIH1cblxuICAgIHNldElubmVyRGltZW5zaW9ucyAoZGltZW5zaW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuX2lubmVyRGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG5cbiAgICAgICAgaWYgKGRpbWVuc2lvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcCA9IGNsYW1wKHRoaXMuX3RvcCwgMCwgZGltZW5zaW9ucy5oZWlnaHQgLSB0aGlzLl9oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fbGVmdCA9IGNsYW1wKHRoaXMuX2xlZnQsIDAsIGRpbWVuc2lvbnMud2lkdGggLSB0aGlzLl93aWR0aCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZpZXdwb3J0LnByb3RvdHlwZSwge1xuICAgIHRvcDogZ2V0Q29vcmRpbmF0ZURlc2NyaXB0b3IoJ3RvcCcsICdoZWlnaHQnKSxcbiAgICBsZWZ0OiBnZXRDb29yZGluYXRlRGVzY3JpcHRvcignbGVmdCcsICd3aWR0aCcpLFxuXG4gICAgd2lkdGg6IGdldERpbWVuc2lvbkRlc2NyaXB0b3IoJ3dpZHRoJyksXG4gICAgaGVpZ2h0OiBnZXREaW1lbnNpb25EZXNjcmlwdG9yKCdoZWlnaHQnKSxcblxuICAgIGJvdHRvbToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3AgKyB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnQgKyB0aGlzLl93aWR0aDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiBnZXRDb29yZGluYXRlRGVzY3JpcHRvciAoY29vcmQsIGFzc29jaWF0ZWREaW1lbnNpb24pXG57XG4gICAgY29uc3QgcHJpdmF0ZVByb3AgPSAnXycgKyBjb29yZDtcbiAgICBjb25zdCBzb3VyY2UgPSAnc2Nyb2xsJyArIGNvb3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29vcmQuc2xpY2UoMSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVQcm9wXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBub3JtYWxpemVkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faW5uZXJEaW1lbnNpb25zKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFsbG93ZWQgPSB0aGlzLl9pbm5lckRpbWVuc2lvbnNbYXNzb2NpYXRlZERpbWVuc2lvbl0gLSB0aGlzW2Fzc29jaWF0ZWREaW1lbnNpb25dO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBjbGFtcChuZXdWYWx1ZSwgMCwgbWF4QWxsb3dlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZCA9IGNsYW1wTWluKG5ld1ZhbHVlLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpc1twcml2YXRlUHJvcF0gPSB0aGlzLm91dGVyW3NvdXJjZV0gPSBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGltZW5zaW9uRGVzY3JpcHRvciAoZGltZW4pXG57XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1snXycgKyBkaW1lbl07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBmYWxsc0JldHdlZW4gKHBvaW50LCBzdGFydCwgZW5kKVxue1xuICAgIHJldHVybiBwb2ludCA+PSBzdGFydCAmJiBwb2ludCA8PSBlbmQ7XG59XG5cbmZ1bmN0aW9uIGNsYW1wICh2YWx1ZSwgbWluLCBtYXgpXG57XG4gICAgcmV0dXJuIGNsYW1wTWluKGNsYW1wTWF4KHZhbHVlLCBtYXgpLCBtaW4pO1xufVxuXG5mdW5jdGlvbiBjbGFtcE1pbiAodmFsdWUsIG1pbilcbntcbiAgICByZXR1cm4gTWF0aC5tYXgodmFsdWUsIG1pbik7XG59XG5cbmZ1bmN0aW9uIGNsYW1wTWF4ICh2YWx1ZSwgbWF4KVxue1xuICAgIHJldHVybiBNYXRoLm1pbih2YWx1ZSwgbWF4KTtcbn1cbiIsImltcG9ydCB7IGVsdCB9IGZyb20gJy4vdXRpbHMvZWx0JztcbmltcG9ydCBnZXRTY3JvbGxiYXJXaWR0aCBmcm9tICcuL3V0aWxzL2dldC1zY3JvbGxiYXItd2lkdGgnO1xuaW1wb3J0IGdlc3R1cmVFdmVudHMgZnJvbSAnLi9nZXN0dXJlLWV2ZW50cyc7XG5pbXBvcnQgZGl2YSBmcm9tICcuL2RpdmEtZ2xvYmFsJztcbmltcG9ydCBEb2N1bWVudEhhbmRsZXIgZnJvbSAnLi9kb2N1bWVudC1oYW5kbGVyJztcbmltcG9ydCBHcmlkSGFuZGxlciBmcm9tICcuL2dyaWQtaGFuZGxlcic7XG5pbXBvcnQgUGFnZU92ZXJsYXlNYW5hZ2VyIGZyb20gJy4vcGFnZS1vdmVybGF5LW1hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IGdldFBhZ2VMYXlvdXRzIGZyb20gJy4vcGFnZS1sYXlvdXRzJztcbmltcG9ydCBjcmVhdGVTZXR0aW5nc1ZpZXcgZnJvbSAnLi9zZXR0aW5ncy12aWV3JztcbmltcG9ydCBWYWxpZGF0aW9uUnVubmVyIGZyb20gJy4vdmFsaWRhdGlvbi1ydW5uZXInO1xuaW1wb3J0IFZpZXdwb3J0IGZyb20gJy4vdmlld3BvcnQnO1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2RpdmE6Vmlld2VyQ29yZScpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUlkKCkge1xuICAgIHJldHVybiBnZW5lcmF0ZUlkLmNvdW50ZXIrKztcbn1cbmdlbmVyYXRlSWQuY291bnRlciA9IDE7XG5cblxuLy8gRGVmaW5lIHZhbGlkYXRpb25zXG5jb25zdCBvcHRpb25zVmFsaWRhdGlvbnMgPSBbXG4gICAge1xuICAgICAgICBrZXk6ICdnb0RpcmVjdGx5VG8nLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+PSBzZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWluUGFnZXNQZXJSb3cnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21heFBhZ2VzUGVyUm93JyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWx1ZSwgc2V0dGluZ3MubWluUGFnZXNQZXJSb3cpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ3BhZ2VzUGVyUm93JyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gdGhlIG1heGltdW1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IHNldHRpbmdzLm1pblBhZ2VzUGVyUm93IHx8IHZhbHVlID4gc2V0dGluZ3MubWF4UGFnZXNQZXJSb3cpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1heFBhZ2VzUGVyUm93O1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21heFpvb21MZXZlbCcsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzLCBjb25maWcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIENoYW5naW5nIHRoaXMgdmFsdWUgaXNuJ3QgcmVhbGx5IGFuIGVycm9yLCBpdCBqdXN0IGRlcGVuZHMgb24gdGhlXG4gICAgICAgICAgICAvLyBzb3VyY2UgbWFuaWZlc3RcbiAgICAgICAgICAgIGNvbmZpZy5zdXBwcmVzc1dhcm5pbmcoKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb207XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWluWm9vbUxldmVsJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MsIGNvbmZpZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2hhbmdlcyBiYXNlZCBvbiB0aGUgbWFuaWZlc3QgdmFsdWUgc2hvdWxkbid0IHRyaWdnZXIgYVxuICAgICAgICAgICAgLy8gd2FybmluZ1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc3VwcHJlc3NXYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiBzZXR0aW5ncy5tYXhab29tTGV2ZWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnem9vbUxldmVsJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MsIGNvbmZpZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc3VwcHJlc3NXYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IHNldHRpbmdzLm1pblpvb21MZXZlbCB8fCB2YWx1ZSA+IHNldHRpbmdzLm1heFpvb21MZXZlbClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MubWluWm9vbUxldmVsO1xuICAgICAgICB9XG4gICAgfVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld2VyQ29yZVxue1xuICAgIGNvbnN0cnVjdG9yIChlbGVtZW50LCBvcHRpb25zLCBwdWJsaWNJbnN0YW5jZSlcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50T2JqZWN0ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5wdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlO1xuXG4gICAgICAgIC8vIFRoaW5ncyB0aGF0IGNhbm5vdCBiZSBjaGFuZ2VkIGJlY2F1c2Ugb2YgdGhlIHdheSB0aGV5IGFyZSB1c2VkIGJ5IHRoZSBzY3JpcHRcbiAgICAgICAgLy8gTWFueSBvZiB0aGVzZSBhcmUgZGVjbGFyZWQgd2l0aCBhcmJpdHJhcnkgdmFsdWVzIHRoYXQgYXJlIGNoYW5nZWQgbGF0ZXIgb25cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZSA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlSW5kaWNlczogWzBdLCAgICAvLyBUaGUgdmlzaWJsZSBwYWdlcyBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJbmRleDogMCwgICAgICAgICAvLyBUaGUgY3VycmVudCAnYWN0aXZlJyBwYWdlIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogMCwgICAgICAgIC8vIERpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZGl2YSBlbGVtZW50IHRvIHRoZSB0b3Agb2YgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgaG9yaXpvbnRhbFBhZGRpbmc6IDAsICAgICAgIC8vIEVpdGhlciB0aGUgZml4ZWQgcGFkZGluZyBvciBhZGFwdGl2ZSBwYWRkaW5nXG4gICAgICAgICAgICBJRDogbnVsbCwgICAgICAgICAgICAgICAgICAgLy8gVGhlIHByZWZpeCBvZiB0aGUgSURzIG9mIHRoZSBlbGVtZW50cyAodXN1YWxseSAxLWRpdmEtKVxuICAgICAgICAgICAgaW5pdGlhbEtleVNjcm9sbDogZmFsc2UsICAgIC8vIEhvbGRzIHRoZSBpbml0aWFsIHN0YXRlIG9mIGVuYWJsZUtleVNjcm9sbFxuICAgICAgICAgICAgaW5pdGlhbFNwYWNlU2Nyb2xsOiBmYWxzZSwgIC8vIEhvbGRzIHRoZSBpbml0aWFsIHN0YXRlIG9mIGVuYWJsZVNwYWNlU2Nyb2xsXG4gICAgICAgICAgICBpbm5lckVsZW1lbnQ6IG51bGwsICAgICAgICAgLy8gVGhlIG5hdGl2ZSAuZGl2YS1vdXRlciBET00gb2JqZWN0XG4gICAgICAgICAgICBpbm5lck9iamVjdDoge30sICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2V0dGluZ3MuSUQgKyAnaW5uZXInKSwgZm9yIHNlbGVjdGluZyB0aGUgLmRpdmEtaW5uZXIgZWxlbWVudFxuICAgICAgICAgICAgaXNBY3RpdmVEaXZhOiB0cnVlLCAgICAgICAgIC8vIEluIHRoZSBjYXNlIHRoYXQgbXVsdGlwbGUgZGl2YSBwYW5lcyBleGlzdCBvbiB0aGUgc2FtZSBwYWdlLCB0aGlzIHNob3VsZCBoYXZlIGV2ZW50cyBmdW5uZWxlZCB0byBpdC5cbiAgICAgICAgICAgIGlzU2Nyb2xsYWJsZTogdHJ1ZSwgICAgICAgICAvLyBVc2VkIGluIGVuYWJsZS9kaXNhYmxlU2Nyb2xsYWJsZSBwdWJsaWMgbWV0aG9kc1xuICAgICAgICAgICAgaXNab29taW5nOiBmYWxzZSwgICAgICAgICAgIC8vIEZsYWcgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIHpvb21pbmcgaXMgc3RpbGwgaW4gcHJvZ3Jlc3MsIGZvciBoYW5kbGVab29tXG4gICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLCAgICAgICAgICAgICAgLy8gQSBmbGFnIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgbG9hZGVkIGFuZCByZWFkeSB0byBnby5cbiAgICAgICAgICAgIG1hbmlmZXN0OiBudWxsLFxuICAgICAgICAgICAgbW9iaWxlV2Via2l0OiBmYWxzZSwgICAgICAgIC8vIENoZWNrcyBpZiB0aGUgdXNlciBpcyBvbiBhIHRvdWNoIGRldmljZSAoaVBhZC9pUG9kL2lQaG9uZS9BbmRyb2lkKVxuICAgICAgICAgICAgbnVtUGFnZXM6IDAsICAgICAgICAgICAgICAgIC8vIE51bWJlciBvZiBwYWdlcyBpbiB0aGUgYXJyYXlcbiAgICAgICAgICAgIG9sZFpvb21MZXZlbDogLTEsICAgICAgICAgICAvLyBIb2xkcyB0aGUgcHJldmlvdXMgem9vbSBsZXZlbCBhZnRlciB6b29taW5nIGluIG9yIG91dFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIG91dGVyRWxlbWVudDogbnVsbCwgICAgICAgICAvLyBUaGUgbmF0aXZlIC5kaXZhLW91dGVyIERPTSBvYmplY3RcbiAgICAgICAgICAgIG91dGVyT2JqZWN0OiB7fSwgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZXR0aW5ncy5JRCArICdvdXRlcicpLCBmb3Igc2VsZWN0aW5nIHRoZSAuZGl2YS1vdXRlciBlbGVtZW50XG4gICAgICAgICAgICBwYWdlT3ZlcmxheXM6IG5ldyBQYWdlT3ZlcmxheU1hbmFnZXIoKSxcbiAgICAgICAgICAgIHBhZ2VUb29sczogW10sICAgICAgICAgICAgICAvLyBUaGUgcGx1Z2lucyB3aGljaCBhcmUgZW5hYmxlZCBhcyBwYWdlIHRvb2xzXG4gICAgICAgICAgICBwYXJlbnRPYmplY3Q6IHRoaXMucGFyZW50T2JqZWN0LCAvLyBKUXVlcnkgb2JqZWN0IHJlZmVyZW5jaW5nIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICAgICAgcGVuZGluZ01hbmlmZXN0UmVxdWVzdDogbnVsbCwgLy8gUmVmZXJlbmNlIHRvIHRoZSB4aHIgcmVxdWVzdCByZXRyaWV2aW5nIHRoZSBtYW5pZmVzdC4gVXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3Qgb24gZGVzdHJveSgpXG4gICAgICAgICAgICBwbHVnaW5JbnN0YW5jZXM6IFtdLCAgICAgICAgICAgICAgICAvLyBGaWxsZWQgd2l0aCB0aGUgZW5hYmxlZCBwbHVnaW5zIGZyb20gdGhlIHJlZ2lzdHJ5XG4gICAgICAgICAgICByZW5kZXJlcjogbnVsbCxcbiAgICAgICAgICAgIHJlc2l6ZVRpbWVyOiAtMSwgICAgICAgICAgICAvLyBIb2xkcyB0aGUgSUQgb2YgdGhlIHRpbWVvdXQgdXNlZCB3aGVuIHJlc2l6aW5nIHRoZSB3aW5kb3cgKGZvciBjbGVhcmluZylcbiAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAwLCAgICAgICAgICAvLyBTZXQgdG8gdGhlIGFjdHVhbCBzY3JvbGxiYXIgd2lkdGggaW4gaW5pdCgpXG4gICAgICAgICAgICBzZWxlY3RvcjogJycsICAgICAgICAgICAgICAgLy8gVXNlcyB0aGUgZ2VuZXJhdGVkIElEIHByZWZpeCB0byBlYXNpbHkgc2VsZWN0IGVsZW1lbnRzXG4gICAgICAgICAgICB0aHJvYmJlclRpbWVvdXRJRDogLTEsICAgICAgLy8gSG9sZHMgdGhlIElEIG9mIHRoZSB0aHJvYmJlciBsb2FkaW5nIHRpbWVvdXRcbiAgICAgICAgICAgIHRvb2xiYXI6IG51bGwsICAgICAgICAgICAgICAvLyBIb2xkcyBhbiBvYmplY3Qgd2l0aCBzb21lIHRvb2xiYXItcmVsYXRlZCBmdW5jdGlvbnNcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiAwLCAgICAgICAgICAvLyBEaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRpdmEgZWxlbWVudCB0byB0aGUgbGVmdCBzaWRlIG9mIHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZzogMCwgICAgICAgICAvLyBFaXRoZXIgdGhlIGZpeGVkIHBhZGRpbmcgb3IgYWRhcHRpdmUgcGFkZGluZ1xuICAgICAgICAgICAgdmlld0hhbmRsZXI6IG51bGwsXG4gICAgICAgICAgICB2aWV3cG9ydDogbnVsbCwgICAgICAgICAgICAgLy8gT2JqZWN0IGNhY2hpbmcgdGhlIHZpZXdwb3J0IGRpbWVuc2lvbnNcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIHZpZXdwb3J0T2JqZWN0OiBudWxsLFxuICAgICAgICAgICAgem9vbUR1cmF0aW9uOiA0MDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzID0gY3JlYXRlU2V0dGluZ3NWaWV3KFtvcHRpb25zLCB0aGlzLnZpZXdlclN0YXRlXSk7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgYW4gSUQgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHByZWZpeCBmb3IgYWxsIHRoZSBvdGhlciBJRHNcbiAgICAgICAgY29uc3QgaWROdW1iZXIgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuSUQgPSAnZGl2YS0nICsgaWROdW1iZXIgKyAnLSc7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuc2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLklEO1xuXG4gICAgICAgIC8vIEFsaWFzZXMgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5zZXR0aW5ncywge1xuICAgICAgICAgICAgLy8gSGVpZ2h0IG9mIHRoZSBkb2N1bWVudCB2aWV3ZXIgcGFuZVxuICAgICAgICAgICAgcGFuZWxIZWlnaHQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFdpZHRoIG9mIHRoZSBkb2N1bWVudCB2aWV3ZXIgcGFuZVxuICAgICAgICAgICAgcGFuZWxXaWR0aDoge1xuICAgICAgICAgICAgICAgIGdldDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zVmFsaWRhdG9yID0gbmV3IFZhbGlkYXRpb25SdW5uZXIoe1xuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ21hbmlmZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIHZhbGlkYXRpb25zOiBvcHRpb25zVmFsaWRhdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5zY3JvbGxiYXJXaWR0aCA9IGdldFNjcm9sbGJhcldpZHRoKCk7XG5cbiAgICAgICAgLy8gSWYgd2luZG93Lm9yaWVudGF0aW9uIGlzIGRlZmluZWQsIHRoZW4gaXQncyBwcm9iYWJseSBtb2JpbGVXZWJraXRcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5tb2JpbGVXZWJraXQgPSB3aW5kb3cub3JpZW50YXRpb24gIT09IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNoUGFyYW1TdWZmaXggPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE9taXQgdGhlIHN1ZmZpeCBmcm9tIHRoZSBmaXJzdCBpbnN0YW5jZVxuICAgICAgICAgICAgaWYgKGlkTnVtYmVyID09PSAxKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGFzaFBhcmFtU3VmZml4ID0gJyc7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oYXNoUGFyYW1TdWZmaXggPSBpZE51bWJlciArICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBpbm5lciBhbmQgb3V0ZXIgcGFuZWxzXG4gICAgICAgIGNvbnN0IGlubmVyRWxlbSA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ2lubmVyJywgeyBjbGFzczogJ2RpdmEtaW5uZXInIH0pKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygndmlld3BvcnQnKSwgaW5uZXJFbGVtKTtcbiAgICAgICAgY29uc3Qgb3V0ZXJFbGVtID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygnb3V0ZXInKSxcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbSxcbiAgICAgICAgICAgIGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ3Rocm9iYmVyJyksXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmUxJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlMicgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTMnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU0JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlNScgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTYnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU3JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlOCcgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTknIH0pLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50ID0gaW5uZXJFbGVtO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0RWxlbWVudCA9IHZpZXdwb3J0RWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlckVsZW1lbnQgPSBvdXRlckVsZW07XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lck9iamVjdCA9IGlubmVyRWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCA9IHZpZXdwb3J0RWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlck9iamVjdCA9IG91dGVyRWxlbTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5hcHBlbmQob3V0ZXJFbGVtKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRFbGVtZW50LCB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Ub2xlcmFuY2U6IHRoaXMuc2V0dGluZ3Mudmlld3BvcnRNYXJnaW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFNjcm9sbEZ1bmN0aW9uID0gdGhpcy5zY3JvbGxGdW5jdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJvdW5kRXNjYXBlTGlzdGVuZXIgPSB0aGlzLmVzY2FwZUxpc3RlbmVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gRG8gYWxsIHRoZSBwbHVnaW4gaW5pdGlhbGlzYXRpb25cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucygpO1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50cygpO1xuXG4gICAgICAgIC8vIFNob3cgdGhlIHRocm9iYmVyIHdoaWxlIHdhaXRpbmcgZm9yIHRoZSBtYW5pZmVzdCB0byBsb2FkXG4gICAgICAgIHRoaXMuc2hvd1Rocm9iYmVyKCk7XG4gICAgfVxuXG4gICAgaXNWYWxpZE9wdGlvbiAoa2V5LCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNWYWxpZGF0b3IuaXNWYWxpZChrZXksIHZhbHVlLCB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIGVsZW1BdHRycyAoaWRlbnQsIGJhc2UpXG4gICAge1xuICAgICAgICBjb25zdCBhdHRycyA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgaWRlbnQsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtJyArIGlkZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJhc2UpXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhdHRycywgYmFzZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICBnZXRQYWdlRGF0YSAocGFnZUluZGV4LCBhdHRyaWJ1dGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdLmRbdGhpcy5zZXR0aW5ncy56b29tTGV2ZWxdW2F0dHJpYnV0ZV07XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgc29tZSBzZXR0aW5ncyBhbmQgZW1wdHkgdGhlIHZpZXdwb3J0XG4gICAgY2xlYXJWaWV3ZXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wID0gMDtcblxuICAgICAgICAvLyBDbGVhciBhbGwgdGhlIHRpbWVvdXRzIHRvIHByZXZlbnQgdW5kZXNpcmVkIHBhZ2VzIGZyb20gbG9hZGluZ1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZE9wdGlvbiAob3B0aW9ucywga2V5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiBvcHRpb25zICYmIG9wdGlvbnNba2V5XSAhPT0gdGhpcy5zZXR0aW5nc1trZXldO1xuICAgIH1cblxuICAgIC8vU2hvcnRjdXQgZm9yIGNsb3NpbmcgZnVsbHNjcmVlbiB3aXRoIHRoZSBlc2NhcGUga2V5XG4gICAgZXNjYXBlTGlzdGVuZXIgKGUpXG4gICAge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaWNJbnN0YW5jZS5sZWF2ZUZ1bGxzY3JlZW5Nb2RlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc2V0dGluZ3MgdG8gbWF0Y2ggdGhlIHNwZWNpZmllZCBvcHRpb25zLiBMb2FkIHRoZSB2aWV3ZXIsXG4gICAgICogZmlyZSBhcHByb3ByaWF0ZSBldmVudHMgZm9yIGNoYW5nZWQgb3B0aW9ucy5cbiAgICAgKi9cbiAgICByZWxvYWRWaWV3ZXIgKG5ld09wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBxdWV1ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBuZXdPcHRpb25zID0gdGhpcy5vcHRpb25zVmFsaWRhdG9yLmdldFZhbGlkYXRlZE9wdGlvbnModGhpcy5zZXR0aW5ncywgbmV3T3B0aW9ucyk7XG5cbiAgICAgICAgLy8gU2V0IHRoZSB6b29tIGxldmVsIGlmIHZhbGlkIGFuZCBmaXJlIGEgWm9vbUxldmVsRGlkQ2hhbmdlIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3pvb21MZXZlbCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnpvb21MZXZlbCA9IG5ld09wdGlvbnMuem9vbUxldmVsO1xuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiWm9vbUxldmVsRGlkQ2hhbmdlXCIsIG5ld09wdGlvbnMuem9vbUxldmVsXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIHBhZ2VzIHBlciByb3cgaWYgdmFsaWQgYW5kIGZpcmUgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAncGFnZXNQZXJSb3cnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnBhZ2VzUGVyUm93ID0gbmV3T3B0aW9ucy5wYWdlc1BlclJvdztcbiAgICAgICAgICAgIHF1ZXVlZEV2ZW50cy5wdXNoKFtcIkdyaWRSb3dOdW1iZXJEaWRDaGFuZ2VcIiwgbmV3T3B0aW9ucy5wYWdlc1BlclJvd10pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHZlcnRpY2FsbHlPcmllbnRlZCAobm8gZXZlbnQgZmlyZWQpXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3ZlcnRpY2FsbHlPcmllbnRlZCcpKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnZlcnRpY2FsbHlPcmllbnRlZCA9IG5ld09wdGlvbnMudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgICAgIC8vIFNob3cvSGlkZSBub24tcGFnZWQgcGFnZXNcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAnc2hvd05vblBhZ2VkUGFnZXMnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnNob3dOb25QYWdlZFBhZ2VzID0gbmV3T3B0aW9ucy5zaG93Tm9uUGFnZWRQYWdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBwYWdlIHBvc2l0aW9uIChubyBldmVudCBmaXJlZCBoZXJlKVxuICAgICAgICBpZiAoJ2dvRGlyZWN0bHlUbycgaW4gbmV3T3B0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmdvRGlyZWN0bHlUbyA9IG5ld09wdGlvbnMuZ29EaXJlY3RseVRvO1xuXG4gICAgICAgICAgICBpZiAoJ3ZlcnRpY2FsT2Zmc2V0JyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBuZXdPcHRpb25zLnZlcnRpY2FsT2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAoJ2hvcml6b250YWxPZmZzZXQnIGluIG5ld09wdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gbmV3T3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSBkZWZhdWx0IGlzIHRvIHJlbWFpbiBvbiB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZ29EaXJlY3RseVRvID0gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICdpbkdyaWQnKSB8fCB0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ2luQm9va0xheW91dCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoJ2luR3JpZCcgaW4gbmV3T3B0aW9ucylcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5HcmlkID0gbmV3T3B0aW9ucy5pbkdyaWQ7XG5cbiAgICAgICAgICAgIGlmICgnaW5Cb29rTGF5b3V0JyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkJvb2tMYXlvdXQgPSBuZXdPcHRpb25zLmluQm9va0xheW91dDtcblxuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiVmlld0RpZFN3aXRjaFwiLCB0aGlzLnNldHRpbmdzLmluR3JpZF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90ZTogcHJlcGFyZU1vZGVDaGFuZ2UoKSBkZXBlbmRzIG9uIGluR3JpZCBhbmQgdGhlIHZlcnRpY2FsL2hvcml6b250YWxPZmZzZXQgKGZvciBub3cpXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ2luRnVsbHNjcmVlbicpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5GdWxsc2NyZWVuID0gbmV3T3B0aW9ucy5pbkZ1bGxzY3JlZW47XG4gICAgICAgICAgICB0aGlzLnByZXBhcmVNb2RlQ2hhbmdlKG5ld09wdGlvbnMpO1xuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiTW9kZURpZFN3aXRjaFwiLCB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhclZpZXdlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdIYW5kbGVyQW5kUmVuZGVyaW5nKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFRoZSB1c2FnZSBvZiBwYWRkaW5nIHZhcmlhYmxlcyBpcyBzdGlsbCByZWFsbHlcbiAgICAgICAgICAgIC8vIG1lc3N5IGFuZCBpbmNvbnNpc3RlbnRcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIHBhZ2VMYXlvdXRzOiBnZXRQYWdlTGF5b3V0cyh0aGlzLnNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiB0aGlzLmdldFBhZGRpbmcoKSxcbiAgICAgICAgICAgICAgICBtYXhab29tTGV2ZWw6IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gbnVsbCA6IHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QubWF4Wm9vbSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQ6IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkIHx8IHRoaXMuc2V0dGluZ3MuaW5HcmlkLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gbnVsbCA6IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsLFxuICAgICAgICAgICAgICAgIGFuY2hvclBhZ2U6IHRoaXMuc2V0dGluZ3MuZ29EaXJlY3RseVRvLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgc291cmNlUHJvdmlkZXIgPSB0aGlzLmdldEN1cnJlbnRTb3VyY2VQcm92aWRlcigpO1xuXG4gICAgICAgICAgICBpZiAoZGVidWcuZW5hYmxlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gT2JqZWN0LmtleXMocmVuZGVyZXJDb25maWcpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgIT09ICdwYWdlTGF5b3V0cycgJiYga2V5ICE9PSAncGFkZGluZyc7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZW5kZXJlckNvbmZpZ1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSArICc6ICcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpO1xuXG4gICAgICAgICAgICAgICAgZGVidWcoJ3JlbG9hZCB3aXRoICVzJywgc2VyaWFsaXplZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubG9hZChyZW5kZXJlckNvbmZpZywgdmlld3BvcnRQb3NpdGlvbiwgc291cmNlUHJvdmlkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVldWVkRXZlbnRzLmZvckVhY2goIChwYXJhbXMpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaC5hcHBseSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGVzIHN3aXRjaGluZyBpbiBhbmQgb3V0IG9mIGZ1bGxzY3JlZW4gbW9kZVxuICAgIHByZXBhcmVNb2RlQ2hhbmdlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gVG9nZ2xlIHRoZSBjbGFzc2VzXG4gICAgICAgIGNvbnN0IGNoYW5nZUNsYXNzID0gb3B0aW9ucy5pbkZ1bGxzY3JlZW4gPyAnYWRkJyA6ICdyZW1vdmUnO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmNsYXNzTGlzdFtjaGFuZ2VDbGFzc10oJ2RpdmEtZnVsbHNjcmVlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdFtjaGFuZ2VDbGFzc10oJ2RpdmEtaGlkZS1zY3JvbGxiYXInKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QuY2xhc3NMaXN0W2NoYW5nZUNsYXNzXSgnZGl2YS1mdWxsLXdpZHRoJyk7XG5cbiAgICAgICAgLy8gQWRqdXN0IERpdmEncyBpbnRlcm5hbCBwYW5lbCBzaXplLCBrZWVwaW5nIHRoZSBvbGQgdmFsdWVzXG4gICAgICAgIGNvbnN0IHN0b3JlZEhlaWdodCA9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHN0b3JlZFdpZHRoID0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludmFsaWRhdGUoKTtcblxuICAgICAgICAvLyBJZiB0aGlzIGlzbid0IHRoZSBvcmlnaW5hbCBsb2FkLCB0aGUgb2Zmc2V0cyBtYXR0ZXIsIGFuZCB0aGUgcG9zaXRpb24gaXNuJ3QgYmVpbmcgY2hhbmdlZC4uLlxuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUubG9hZGVkICYmICF0aGlzLnNldHRpbmdzLmluR3JpZCAmJiAhKCd2ZXJ0aWNhbE9mZnNldCcgaW4gb3B0aW9ucykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vZ2V0IHRoZSB1cGRhdGVkIHBhbmVsIHNpemVcbiAgICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBuZXdXaWR0aCA9IHRoaXMuc2V0dGluZ3MucGFuZWxXaWR0aDtcblxuICAgICAgICAgICAgLy9hbmQgcmUtY2VudGVyIHRoZSBuZXcgcGFuZWwgb24gdGhlIHNhbWUgcG9pbnRcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgKz0gKChzdG9yZWRIZWlnaHQgLSBuZXdIZWlnaHQpIC8gMik7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgKz0gKChzdG9yZWRXaWR0aCAtIG5ld1dpZHRoKSAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90dXJuIG9uL29mZiBlc2NhcGUga2V5IGxpc3RlbmVyXG4gICAgICAgIGlmIChvcHRpb25zLmluRnVsbHNjcmVlbilcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5ib3VuZEVzY2FwZUxpc3RlbmVyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmJvdW5kRXNjYXBlTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlldyBoYW5kbGVyIGFuZCB0aGUgdmlldyByZW5kZXJpbmcgZm9yIHRoZSBjdXJyZW50IHZpZXdcbiAgICB1cGRhdGVWaWV3SGFuZGxlckFuZFJlbmRlcmluZyAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgSGFuZGxlciA9IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gR3JpZEhhbmRsZXIgOiBEb2N1bWVudEhhbmRsZXI7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIgJiYgISh0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyIGluc3RhbmNlb2YgSGFuZGxlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyID0gbmV3IEhhbmRsZXIodGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUmVuZGVyZXIoKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIHByb2JhYmx5IGJlIGRvbmUgdXBvbiBWaWV3ZXJDb3JlIGluaXRpYWxpemF0aW9uXG4gICAgaW5pdGlhbGl6ZVJlbmRlcmVyICgpXG4gICAge1xuICAgICAgICBjb25zdCBjb21wYXRFcnJvcnMgPSBSZW5kZXJlci5nZXRDb21wYXRpYmlsaXR5RXJyb3JzKCk7XG5cbiAgICAgICAgaWYgKGNvbXBhdEVycm9ycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoY29tcGF0RXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQ6IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQsXG4gICAgICAgICAgICAgICAgb3V0ZXJFbGVtZW50OiB0aGlzLnZpZXdlclN0YXRlLm91dGVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICBpbm5lckVsZW1lbnQ6IHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBob29rcyA9IHtcbiAgICAgICAgICAgICAgICBvblZpZXdXaWxsTG9hZDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25WaWV3V2lsbExvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmlld0RpZExvYWQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VPdmVybGF5cygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uVmlld0RpZExvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmlld0RpZFVwZGF0ZTogKHBhZ2VzLCB0YXJnZXRQYWdlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdlT3ZlcmxheXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblZpZXdEaWRVcGRhdGUocGFnZXMsIHRhcmdldFBhZ2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25WaWV3RGlkVHJhbnNpdGlvbjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnZU92ZXJsYXlzKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblBhZ2VXaWxsTG9hZDogKHBhZ2VJbmRleCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnUGFnZVdpbGxMb2FkJywgcGFnZUluZGV4KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uWm9vbUxldmVsV2lsbENoYW5nZTogKHpvb21MZXZlbCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnWm9vbUxldmVsV2lsbENoYW5nZScsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcihvcHRpb25zLCBob29rcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDdXJyZW50U291cmNlUHJvdmlkZXIgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZ3JpZFNvdXJjZVByb3ZpZGVyID0ge1xuICAgICAgICAgICAgICAgIGdldEFsbFpvb21MZXZlbHNGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZ3JpZFNvdXJjZVByb3ZpZGVyLmdldEJlc3Rab29tTGV2ZWxGb3JQYWdlKHBhZ2UpXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldEJlc3Rab29tTGV2ZWxGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0UGFnZUltYWdlVVJMKHBhZ2UuaW5kZXgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBwYWdlLmRpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogMSwgLy8gRklYTUVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiAxLCAvLyBGSVhNRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2w6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZS5kaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBncmlkU291cmNlUHJvdmlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aWxlRGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnNldHRpbmdzLnRpbGVXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zZXR0aW5ncy50aWxlSGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldEJlc3Rab29tTGV2ZWxGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VUaWxlcyhwYWdlLmluZGV4LCBNYXRoLmNlaWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwpLCB0aWxlRGltZW5zaW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2U6IChwYWdlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVscyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsQ291bnQgPSB0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0Lm1heFpvb207XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBsZXZlbD0wOyBsZXZlbCA8PSBsZXZlbENvdW50OyBsZXZlbCsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2godGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VUaWxlcyhwYWdlLmluZGV4LCBsZXZlbCwgdGlsZURpbWVuc2lvbnMpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXZlbHMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRQYWRkaW5nICgpXG4gICAge1xuICAgICAgICBsZXQgdG9wUGFkZGluZywgbGVmdFBhZGRpbmc7XG4gICAgICAgIGxldCBkb2NWUGFkZGluZywgZG9jSFBhZGRpbmc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2NWUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MuZml4ZWRQYWRkaW5nO1xuICAgICAgICAgICAgdG9wUGFkZGluZyA9IGxlZnRQYWRkaW5nID0gZG9jSFBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgOiAwO1xuICAgICAgICAgICAgbGVmdFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IDAgOiB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nO1xuXG4gICAgICAgICAgICBkb2NWUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gMCA6IHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nO1xuICAgICAgICAgICAgZG9jSFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbFBhZGRpbmcgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvY3VtZW50OiB7XG4gICAgICAgICAgICAgICAgdG9wOiBkb2NWUGFkZGluZyxcbiAgICAgICAgICAgICAgICBib3R0b206IGRvY1ZQYWRkaW5nLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGRvY0hQYWRkaW5nLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBkb2NIUGFkZGluZ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZ2U6IHtcbiAgICAgICAgICAgICAgICB0b3A6IHRvcFBhZGRpbmcsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRQYWRkaW5nLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdXBkYXRlUGFnZU92ZXJsYXlzICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VPdmVybGF5cy51cGRhdGVPdmVybGF5cyhcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ2V0UmVuZGVyZWRQYWdlcygpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2FsbGVkIHRvIGhhbmRsZSBhbnkgem9vbSBsZXZlbFxuICAgIGhhbmRsZVpvb20gKG5ld1pvb21MZXZlbCwgZm9jYWxQb2ludClcbiAgICB7XG4gICAgICAgIC8vIElmIHRoZSB6b29tIGxldmVsIHByb3ZpZGVkIGlzIGludmFsaWQsIHJldHVybiBmYWxzZVxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZE9wdGlvbignem9vbUxldmVsJywgbmV3Wm9vbUxldmVsKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvLyBXaGlsZSB6b29taW5nLCBkb24ndCB1cGRhdGUgc2Nyb2xsIG9mZnNldHMgYmFzZWQgb24gdGhlIHNjYWxlZCB2ZXJzaW9uIG9mIGRpdmEtaW5uZXJcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgIC8vIElmIG5vIGZvY2FsIHBvaW50IHdhcyBnaXZlbiwgem9vbSBvbiB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICBpZiAoIWZvY2FsUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcblxuICAgICAgICAgICAgZm9jYWxQb2ludCA9IHtcbiAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogKHZpZXdwb3J0LndpZHRoIC8gMikgLSAoY3VycmVudFJlZ2lvbi5sZWZ0IC0gdmlld3BvcnQubGVmdCksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogKHZpZXdwb3J0LmhlaWdodCAvIDIpIC0gKGN1cnJlbnRSZWdpb24udG9wIC0gdmlld3BvcnQudG9wKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlUmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbihmb2NhbFBvaW50LmFuY2hvclBhZ2UpO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIGN1cnNvciBjb29yZGluYXRlcyB0byBjZW50ZXIgb2Ygdmlld3BvcnRcbiAgICAgICAgY29uc3QgZm9jYWxYVG9DZW50ZXIgPSAocGFnZVJlZ2lvbi5sZWZ0ICsgZm9jYWxQb2ludC5vZmZzZXQubGVmdCkgLVxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQubGVmdCArICh0aGlzLnNldHRpbmdzLnZpZXdwb3J0LndpZHRoIC8gMikpO1xuICAgICAgICBjb25zdCBmb2NhbFlUb0NlbnRlciA9IChwYWdlUmVnaW9uLnRvcCArIGZvY2FsUG9pbnQub2Zmc2V0LnRvcCkgLVxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQudG9wICsgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQuaGVpZ2h0IC8gMikpO1xuXG4gICAgICAgIGNvbnN0IGdldFBvc2l0aW9uRm9yWm9vbUxldmVsID0gICh6b29tTGV2ZWwsIGluaXRab29tKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB6b29tUmF0aW8gPSBNYXRoLnBvdygyLCB6b29tTGV2ZWwgLSBpbml0Wm9vbSk7XG5cbiAgICAgICAgICAgIC8vVE9ETyhqZXJvbWVwbCk6IENhbGN1bGF0ZSBwb3NpdGlvbiBmcm9tIHBhZ2UgdG9wIGxlZnQgdG8gdmlld3BvcnQgdG9wIGxlZnRcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBob3Jpem9udGFsL3ZlcnRpY2FsT2Zmc2V0OiBkaXN0YW5jZSBmcm9tIHZpZXdwb3J0IGNlbnRlciB0byBwYWdlIHVwcGVyIGxlZnQgY29ybmVyXG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsT2Zmc2V0ID0gKGZvY2FsUG9pbnQub2Zmc2V0LmxlZnQgKiB6b29tUmF0aW8pIC0gZm9jYWxYVG9DZW50ZXI7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbE9mZnNldCA9IChmb2NhbFBvaW50Lm9mZnNldC50b3AgKiB6b29tUmF0aW8pIC0gZm9jYWxZVG9DZW50ZXI7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgYW5jaG9yUGFnZTogZm9jYWxQb2ludC5hbmNob3JQYWdlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiB2ZXJ0aWNhbE9mZnNldCxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiBob3Jpem9udGFsT2Zmc2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy56b29tTGV2ZWwgPSBuZXdab29tTGV2ZWw7XG4gICAgICAgIGxldCBpbml0aWFsWm9vbUxldmVsID0gdGhpcy52aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWw7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwobmV3Wm9vbUxldmVsLCBpbml0aWFsWm9vbUxldmVsKTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmdvRGlyZWN0bHlUbyA9IGVuZFBvc2l0aW9uLmFuY2hvclBhZ2U7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBlbmRQb3NpdGlvbi52ZXJ0aWNhbE9mZnNldDtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gZW5kUG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldDtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLnRyYW5zaXRpb25WaWV3cG9ydFBvc2l0aW9uKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLnNldHRpbmdzLnpvb21EdXJhdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogaW5pdGlhbFpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgdG86IG5ld1pvb21MZXZlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQb3NpdGlvbjogKHBhcmFtZXRlcnMpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFBvc2l0aW9uRm9yWm9vbUxldmVsKHBhcmFtZXRlcnMuem9vbUxldmVsLCBpbml0aWFsWm9vbUxldmVsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVuZDogKGluZm8pID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZm8uaW50ZXJydXB0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gbmV3Wm9vbUxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZWFjdGl2YXRlIHpvb20gYnV0dG9ucyB3aGlsZSB6b29taW5nXG4gICAgICAgIGxldCB6b29tSW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3pvb20taW4tYnV0dG9uJyk7XG4gICAgICAgIGxldCB6b29tT3V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd6b29tLW91dC1idXR0b24nKTtcbiAgICAgICAgem9vbUluQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgem9vbU91dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgem9vbUluQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB6b29tT3V0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muem9vbUR1cmF0aW9uKTtcblxuICAgICAgICAvLyBTZW5kIG9mZiB0aGUgem9vbSBsZXZlbCBkaWQgY2hhbmdlIGV2ZW50LlxuICAgICAgICB0aGlzLnB1Ymxpc2goXCJab29tTGV2ZWxEaWRDaGFuZ2VcIiwgbmV3Wm9vbUxldmVsKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICBHZXRzIHRoZSBZLW9mZnNldCBmb3IgYSBzcGVjaWZpYyBwb2ludCBvbiBhIHNwZWNpZmljIHBhZ2VcbiAgICAgQWNjZXB0YWJsZSB2YWx1ZXMgZm9yIFwiYW5jaG9yXCI6XG4gICAgIFwidG9wXCIgKGRlZmF1bHQpIC0gd2lsbCBhbmNob3IgdG9wIG9mIHRoZSBwYWdlIHRvIHRoZSB0b3Agb2YgdGhlIGRpdmEtb3V0ZXIgZWxlbWVudFxuICAgICBcImJvdHRvbVwiIC0gdG9wLCBzL3RvcC9ib3R0b21cbiAgICAgXCJjZW50ZXJcIiAtIHdpbGwgY2VudGVyIHRoZSBwYWdlIG9uIHRoZSBkaXZhIGVsZW1lbnRcbiAgICAgUmV0dXJuZWQgdmFsdWUgd2lsbCBiZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBkaXZhLW91dGVyIGVsZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgY3VycmVudCBwYWdlIGZvciB0aGUgc3BlY2lmaWVkIGFuY2hvclxuICAgICAqL1xuICAgIGdldFlPZmZzZXQgKHBhZ2VJbmRleCwgYW5jaG9yKVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSAodHlwZW9mKHBhZ2VJbmRleCkgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCA6IHBhZ2VJbmRleCk7XG5cbiAgICAgICAgaWYgKGFuY2hvciA9PT0gXCJjZW50ZXJcIiB8fCBhbmNob3IgPT09IFwiY2VudHJlXCIpIC8vaG93IHlvdSBjYW4gdGVsbCBhbiBBbWVyaWNhbiBjb2RlZCB0aGlzXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwiaFwiKSAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbmNob3IgPT09IFwiYm90dG9tXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwiaFwiKSAtIHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodCAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vU2FtZSBhcyBnZXRZT2Zmc2V0IHdpdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIiBhcyBhY2NlcHRhYmxlIHZhbHVlcyBpbnN0ZWFkIG9mIFwidG9wXCIgYW5kIFwiYm90dG9tXCJcbiAgICBnZXRYT2Zmc2V0IChwYWdlSW5kZXgsIGFuY2hvcilcbiAgICB7XG4gICAgICAgIGxldCBwaWR4ID0gKHR5cGVvZihwYWdlSW5kZXgpID09PSBcInVuZGVmaW5lZFwiID8gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXggOiBwYWdlSW5kZXgpO1xuXG4gICAgICAgIGlmIChhbmNob3IgPT09IFwibGVmdFwiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoIC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFuY2hvciA9PT0gXCJyaWdodFwiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcIndcIikgLSB0aGlzLnNldHRpbmdzLnBhbmVsV2lkdGggLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcIndcIikgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGVzIHBhbmVsSGVpZ2h0L3BhbmVsV2lkdGggb24gcmVzaXplXG4gICAgdXBkYXRlUGFuZWxTaXplICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludmFsaWRhdGUoKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBUaGlzIHNob3VsZCByZWFsbHkgb25seSBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbCBsb2FkXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldHMoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ290byh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCwgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldHMgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG5cbiAgICAgICAgaWYgKHBhZ2VPZmZzZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCA9IHBhZ2VPZmZzZXQueDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBwYWdlT2Zmc2V0Lnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCaW5kIG1vdXNlIGV2ZW50cyAoZHJhZyB0byBzY3JvbGwsIGRvdWJsZS1jbGljaylcbiAgICBiaW5kTW91c2VFdmVudHMgKClcbiAgICB7XG4gICAgICAgIC8vIFNldCBkcmFnIHNjcm9sbCBvbiB0aGUgdmlld3BvcnQgb2JqZWN0XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuY2xhc3NMaXN0LmFkZCgnZHJhZ3Njcm9sbCcpO1xuXG4gICAgICAgIGdlc3R1cmVFdmVudHMub25Eb3VibGVDbGljayh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LCAoZXZlbnQsIGNvb3JkcykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZGVidWcoJ0RvdWJsZSBjbGljayBhdCAlcywgJXMnLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uRG91YmxlQ2xpY2soZXZlbnQsIGNvb3Jkcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVzaXplICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVBhbmVsU2l6ZSgpO1xuICAgICAgICAvLyBDYW5jZWwgYW55IHByZXZpb3VzbHktc2V0IHJlc2l6ZSB0aW1lb3V0c1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lciA9IHNldFRpbWVvdXQoICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG5cbiAgICAgICAgICAgIGlmIChwYWdlT2Zmc2V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgZ29EaXJlY3RseVRvOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHBhZ2VPZmZzZXQueSxcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogcGFnZU9mZnNldC54XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBnb0RpcmVjdGx5VG86IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG4gICAgLy8gQmluZCB0b3VjaCBhbmQgb3JpZW50YXRpb24gY2hhbmdlIGV2ZW50c1xuICAgIGJpbmRUb3VjaEV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgLy8gQmxvY2sgdGhlIHVzZXIgZnJvbSBtb3ZpbmcgdGhlIHdpbmRvdyBvbmx5IGlmIGl0J3Mgbm90IGludGVncmF0ZWRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYmxvY2tNb2JpbGVNb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvdWNoIGV2ZW50cyBmb3Igc3dpcGluZyBpbiB0aGUgdmlld3BvcnQgdG8gc2Nyb2xsIHBhZ2VzXG4gICAgICAgIC8vIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxGdW5jdGlvbi5iaW5kKHRoaXMpKTtcblxuICAgICAgICBnZXN0dXJlRXZlbnRzLm9uUGluY2godGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCwgZnVuY3Rpb24gKGV2ZW50LCBjb29yZHMsIHN0YXJ0LCBlbmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlYnVnKCdQaW5jaCAlcyBhdCAlcywgJXMnLCBlbmQgLSBzdGFydCwgY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblBpbmNoKGV2ZW50LCBjb29yZHMsIHN0YXJ0LCBlbmQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBnZXN0dXJlRXZlbnRzLm9uRG91YmxlVGFwKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QsIGZ1bmN0aW9uIChldmVudCwgY29vcmRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWJ1ZygnRG91YmxlIHRhcCBhdCAlcywgJXMnLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uRG91YmxlQ2xpY2soZXZlbnQsIGNvb3Jkcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgc2Nyb2xsXG4gICAgc2Nyb2xsRnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVG9wU2Nyb2xsID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3A7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzTGVmdFNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdDtcblxuICAgICAgICBsZXQgZGlyZWN0aW9uO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5ld1Njcm9sbFRvcCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wO1xuICAgICAgICBjb25zdCBuZXdTY3JvbGxMZWZ0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0O1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCB8fCB0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IG5ld1Njcm9sbFRvcCAtIHByZXZpb3VzVG9wU2Nyb2xsO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBuZXdTY3JvbGxMZWZ0IC0gcHJldmlvdXNMZWZ0U2Nyb2xsO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuYWRqdXN0KCk7XG5cbiAgICAgICAgY29uc3QgcHJpbWFyeVNjcm9sbCA9ICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCB8fCB0aGlzLnNldHRpbmdzLmluR3JpZCkgPyBuZXdTY3JvbGxUb3AgOiBuZXdTY3JvbGxMZWZ0O1xuXG4gICAgICAgIHRoaXMucHVibGlzaChcIlZpZXdlckRpZFNjcm9sbFwiLCBwcmltYXJ5U2Nyb2xsKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkU2Nyb2xsRG93blwiLCBwcmltYXJ5U2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJWaWV3ZXJEaWRTY3JvbGxVcFwiLCBwcmltYXJ5U2Nyb2xsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0cygpO1xuICAgIH1cblxuICAgIC8vIEJpbmRzIG1vc3Qgb2YgdGhlIGV2ZW50IGhhbmRsZXJzIChzb21lIG1vcmUgaW4gY3JlYXRlVG9vbGJhcilcbiAgICBoYW5kbGVFdmVudHMgKClcbiAgICB7XG4gICAgICAgIC8vIENoYW5nZSB0aGUgY3Vyc29yIGZvciBkcmFnZ2luZ1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJPYmplY3QuY2xhc3NMaXN0LmFkZCgnZGl2YS1ncmFiYmluZycpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2RpdmEtZ3JhYmJpbmcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5iaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IHVwQXJyb3dLZXkgPSAzOCwgZG93bkFycm93S2V5ID0gNDAsIGxlZnRBcnJvd0tleSA9IDM3LCByaWdodEFycm93S2V5ID0gMzksIHNwYWNlS2V5ID0gMzIsIHBhZ2VVcEtleSA9IDMzLCBwYWdlRG93bktleSA9IDM0LCBob21lS2V5ID0gMzYsIGVuZEtleSA9IDM1O1xuXG4gICAgICAgIC8vIENhdGNoIHRoZSBrZXkgcHJlc3NlcyBpbiBkb2N1bWVudFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duLmRpdmEnLCAoZXZlbnQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5pc0FjdGl2ZURpdmEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIC8vIFNwYWNlIG9yIHBhZ2UgZG93biAtIGdvIHRvIHRoZSBuZXh0IHBhZ2VcbiAgICAgICAgICAgIGlmICgodGhpcy5zZXR0aW5ncy5lbmFibGVTcGFjZVNjcm9sbCAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gc3BhY2VLZXkpIHx8ICh0aGlzLnNldHRpbmdzLmVuYWJsZUtleVNjcm9sbCAmJiBldmVudC5rZXlDb2RlID09PSBwYWdlRG93bktleSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgKz0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zZXR0aW5ncy5lbmFibGVTcGFjZVNjcm9sbCAmJiBldmVudC5rZXlDb2RlID09PSBzcGFjZUtleSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVLZXlTY3JvbGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc3RlYWwga2V5Ym9hcmQgc2hvcnRjdXRzIChtZXRhS2V5ID0gY29tbWFuZCBbT1MgWF0sIHN1cGVyIFtXaW4vTGludXhdKVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwYWdlVXBLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYWdlIHVwIC0gZ28gdG8gdGhlIHByZXZpb3VzIHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wIC09IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB1cEFycm93S2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXAgYXJyb3cgLSBzY3JvbGwgdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wIC09IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBkb3duQXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb3duIGFycm93IC0gc2Nyb2xsIGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wICs9IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBsZWZ0QXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZWZ0IGFycm93IC0gc2Nyb2xsIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCAtPSB0aGlzLnNldHRpbmdzLmFycm93U2Nyb2xsQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcmlnaHRBcnJvd0tleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGFycm93IC0gc2Nyb2xsIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQgKz0gdGhpcy5zZXR0aW5ncy5hcnJvd1Njcm9sbEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvbWVLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb21lIGtleSAtIGdvIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbmRLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQga2V5IC0gZ28gdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50IG9uIHRoZSB2aWV3cG9ydCBjb29yZGluYXRlIHZhbHVlIGJlaW5nIG5vcm1hbGl6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCA9IEluZmluaXR5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsIGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bi5kaXZhJyk7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuXG4gICAgICAgIC8vIHRoaXMuYmluZFRvdWNoRXZlbnRzKCk7XG5cbiAgICAgICAgLy8gSGFuZGxlIHdpbmRvdyByZXNpemluZyBldmVudHNcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuXG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnVmlld2VyRGlkVGVybWluYXRlJywgZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpO1xuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLklEKTtcblxuICAgICAgICAvLyBIYW5kbGUgb3JpZW50YXRpb24gY2hhbmdlIHNlcGFyYXRlbHlcbiAgICAgICAgaWYgKCdvbm9yaWVudGF0aW9uY2hhbmdlJyBpbiB3aW5kb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMub25SZXNpemUsIGZhbHNlKTtcblxuICAgICAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCBmdW5jdGlvbigpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy5JRCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1BhbmVsU2l6ZURpZENoYW5nZScsIHRoaXMudXBkYXRlUGFuZWxTaXplLCB0aGlzLnNldHRpbmdzLklEKTtcblxuICAgICAgICAvLyBDbGVhciBwYWdlIGFuZCByZXNpemUgdGltZW91dHMgd2hlbiB0aGUgdmlld2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cblxuICAgIGluaXRQbHVnaW5zICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ3BsdWdpbnMnKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucGx1Z2luSW5zdGFuY2VzID0gdGhpcy5zZXR0aW5ncy5wbHVnaW5zLm1hcCggKHBsdWdpbikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcCA9IG5ldyBwbHVnaW4odGhpcyk7XG5cbiAgICAgICAgICAgIGlmIChwLmlzUGFnZVRvb2wpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlVG9vbHMucHVzaChwKTtcblxuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNob3dUaHJvYmJlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5oaWRlVGhyb2JiZXIoKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnRocm9iYmVyVGltZW91dElEID0gc2V0VGltZW91dCggKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRoYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndGhyb2JiZXInKTtcbiAgICAgICAgICAgIGlmICh0aGIpIHRoYi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy50aHJvYmJlclRpbWVvdXQpO1xuICAgIH1cblxuICAgIGhpZGVUaHJvYmJlciAoKVxuICAgIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHRpbWVvdXQsIGlmIGl0IGhhc24ndCBleGVjdXRlZCB5ZXRcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld2VyU3RhdGUudGhyb2JiZXJUaW1lb3V0SUQpO1xuXG4gICAgICAgIGxldCB0aGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3Rocm9iYmVyJyk7XG4gICAgICAgIC8vIEhpZGUgdGhlIHRocm9iYmVyIGlmIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXG4gICAgICAgIGlmICh0aGIpIHRoYi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHNob3dFcnJvciAobWVzc2FnZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ2Vycm9yJyksIFtcbiAgICAgICAgICAgIGVsdCgnYnV0dG9uJywgdGhpcy5lbGVtQXR0cnMoJ2Vycm9yLWNsb3NlJywgeydhcmlhLWxhYmVsJzogJ0Nsb3NlIGRpYWxvZyd9KSksXG4gICAgICAgICAgICBlbHQoJ3AnLFxuICAgICAgICAgICAgICAgIGVsdCgnc3Ryb25nJywgJ0Vycm9yJylcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlbHQoJ2RpdicsIG1lc3NhZ2UpXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuYXBwZW5kQ2hpbGQoZXJyb3JFbGVtZW50KTtcblxuICAgICAgICAvLyBCaW5kIGRpYWxvZyBjbG9zZSBidXR0b25cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICdlcnJvci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXJyb3JFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0TWFuaWZlc3QgKG1hbmlmZXN0LCBsb2FkT3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QgPSBtYW5pZmVzdDtcblxuICAgICAgICB0aGlzLmhpZGVUaHJvYmJlcigpO1xuXG4gICAgICAgIC8vIENvbnZlbmllbmNlIHZhbHVlXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubnVtUGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzLmxlbmd0aDtcblxuICAgICAgICB0aGlzLm9wdGlvbnNWYWxpZGF0b3IudmFsaWRhdGUodGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zKTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2goJ051bWJlck9mUGFnZXNEaWRDaGFuZ2UnLCB0aGlzLnNldHRpbmdzLm51bVBhZ2VzKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludGVyLXBhZ2UgcGFkZGluZyBiYXNlZCBvbiB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXZlcmFnZSB6b29tIGxldmVsXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmFkYXB0aXZlUGFkZGluZyA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHogPSBNYXRoLmZsb29yKCh0aGlzLnNldHRpbmdzLm1pblpvb21MZXZlbCArIHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsKSAvIDIpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZyA9IHBhcnNlSW50KHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0QXZlcmFnZVdpZHRoKHopICogdGhpcy5zZXR0aW5ncy5hZGFwdGl2ZVBhZGRpbmcsIDEwKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nID0gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRBdmVyYWdlSGVpZ2h0KHopICogdGhpcy5zZXR0aW5ncy5hZGFwdGl2ZVBhZGRpbmcsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEl0J3MgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDA7IHVzZSBmaXhlZFBhZGRpbmcgaW5zdGVhZFxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MuZml4ZWRQYWRkaW5nO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLmZpeGVkUGFkZGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdmVydGljYWwgcGFkZGluZyBpcyBhdCBsZWFzdCA0MCwgaWYgcGx1Z2luIGljb25zIGFyZSBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnBhZ2VUb29scy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nID0gTWF0aC5tYXgoNDAsIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGRldGVjdCBhIHZpZXdpbmdIaW50IG9mICdwYWdlZCcgaW4gdGhlIG1hbmlmZXN0IG9yIHNlcXVlbmNlLCBlbmFibGUgYm9vayB2aWV3IGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkJvb2tMYXlvdXQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGx1Z2luIHNldHVwIGhvb2tzIHNob3VsZCBiZSBib3VuZCB0byB0aGUgT2JqZWN0RGlkTG9hZCBldmVudFxuICAgICAgICB0aGlzLnB1Ymxpc2goJ09iamVjdERpZExvYWQnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBBZGp1c3QgdGhlIGRvY3VtZW50IHBhbmVsIGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbFNpemUoKTtcblxuICAgICAgICBsZXQgbmVlZHNYQ29vcmQsIG5lZWRzWUNvb3JkO1xuXG4gICAgICAgIGxldCBhbmNob3JlZFZlcnRpY2FsbHkgPSBmYWxzZTtcbiAgICAgICAgbGV0IGFuY2hvcmVkSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTkI6IGA9PWAgaGVyZSB3aWxsIGNoZWNrIGJvdGggbnVsbCBhbmQgdW5kZWZpbmVkXG4gICAgICAgIGlmIChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8gPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvID0gdGhpcy5zZXR0aW5ncy5nb0RpcmVjdGx5VG87XG4gICAgICAgICAgICBuZWVkc1hDb29yZCA9IG5lZWRzWUNvb3JkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5lZWRzWENvb3JkID0gbG9hZE9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9PSBudWxsIHx8IGlzTmFOKGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQpO1xuICAgICAgICAgICAgbmVlZHNZQ29vcmQgPSBsb2FkT3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9PSBudWxsIHx8IGlzTmFOKGxvYWRPcHRpb25zLnZlcnRpY2FsT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIG9mZnNldHNcbiAgICAgICAgaWYgKG5lZWRzWENvb3JkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGSVhNRTogV2hhdCBpZiBpbkJvb2tMYXlvdXQvdmVydGljYWxseU9yaWVudGVkIGlzIGNoYW5nZWQgYnkgbG9hZE9wdGlvbnM/XG4gICAgICAgICAgICBpZiAobG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvID09PSAwICYmIHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0ICYmIHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGluIGJvb2sgbGF5b3V0LCBjZW50ZXIgdGhlIGZpcnN0IG9wZW5pbmcgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgIGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFuY2hvcmVkSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2FkT3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5nZXRYT2Zmc2V0KGxvYWRPcHRpb25zLmdvRGlyZWN0bHlUbywgXCJjZW50ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmVlZHNZQ29vcmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvcmVkVmVydGljYWxseSA9IHRydWU7XG4gICAgICAgICAgICBsb2FkT3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9IHRoaXMuZ2V0WU9mZnNldChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8sIFwidG9wXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIobG9hZE9wdGlvbnMpO1xuXG4gICAgICAgIC8vcHJlcCBkaW1lbnNpb25zIG9uZSBsYXN0IHRpbWUgbm93IHRoYXQgcGFnZXMgaGF2ZSBsb2FkZWRcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbFNpemUoKTtcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVBdXRvVGl0bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndGl0bGUnKTtcblxuICAgICAgICAgICAgaWYgKHRpdGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlLmlubmVySFRNTCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0Lmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygndGl0bGUnKSwgW3RoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlXSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IFRoaXMgaXMgYSBoYWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBvdXRlckVsZW1lbnQgc2Nyb2xsYmFycyBhcmUgdGFrZW4gaW50byBhY2NvdW50XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50LnN0eWxlLm1pbldpZHRoID0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoICsgJ3B4JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lckVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodCArICdweCc7XG5cbiAgICAgICAgLy8gRklYTUU6IElmIHRoZSBwYWdlIHdhcyBzdXBwb3NlZCB0byBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGl0IHRvIHRha2UgaW50byBhY2NvdW50IHRoZSBzY3JvbGxiYXJzXG4gICAgICAgIGlmIChhbmNob3JlZFZlcnRpY2FsbHkgfHwgYW5jaG9yZWRIb3Jpem9udGFsbHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhbmNob3JlZFZlcnRpY2FsbHkpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCA9IHRoaXMuZ2V0WU9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgXCJ0b3BcIik7XG5cbiAgICAgICAgICAgIGlmIChhbmNob3JlZEhvcml6b250YWxseSlcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLmdldFhPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIFwiY2VudGVyXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdvdG8odGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQsIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaWduYWwgdGhhdCBldmVyeXRoaW5nIHNob3VsZCBiZSBzZXQgdXAgYW5kIHJlYWR5IHRvIGdvLlxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkTG9hZFwiLCB0aGlzLnNldHRpbmdzKTtcbiAgICB9XG5cbiAgICBwdWJsaXNoIChldmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBkaXZhLkV2ZW50cy5wdWJsaXNoKGV2ZW50LCBhcmdzLCB0aGlzLnB1YmxpY0luc3RhbmNlKTtcbiAgICB9XG5cbiAgICBnZXRTZXR0aW5ncyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgLy8gVGVtcG9yYXJ5IGFjY2Vzc29yIGZvciB0aGUgc3RhdGUgb2YgdGhlIHZpZXdlciBjb3JlXG4gICAgLy8gVE9ETzogUmVwbGFjZSB0aGlzIHdpdGggYSBtb3JlIHJlc3RyaWN0ZWQgdmlldyBvZiB3aGF0ZXZlciBuZWVkc1xuICAgIC8vIGJlIGV4cG9zZWQgdGhyb3VnaCBzZXR0aW5ncyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgIGdldEludGVybmFsU3RhdGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlO1xuICAgIH1cblxuICAgIGdldFB1YmxpY0luc3RhbmNlICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wdWJsaWNJbnN0YW5jZTtcbiAgICB9XG5cbiAgICBnZXRQYWdlVG9vbHMgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnBhZ2VUb29scztcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50TGF5b3V0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlciA/IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0IDogbnVsbDtcbiAgICB9XG5cbiAgICAvKiogR2V0IGEgY29weSBvZiB0aGUgY3VycmVudCB2aWV3cG9ydCBkaW1lbnNpb25zICovXG4gICAgZ2V0Vmlld3BvcnQgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiB2aWV3cG9ydC50b3AsXG4gICAgICAgICAgICBsZWZ0OiB2aWV3cG9ydC5sZWZ0LFxuICAgICAgICAgICAgYm90dG9tOiB2aWV3cG9ydC5ib3R0b20sXG4gICAgICAgICAgICByaWdodDogdmlld3BvcnQucmlnaHQsXG5cbiAgICAgICAgICAgIHdpZHRoOiB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYWRkUGFnZU92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VPdmVybGF5cy5hZGRPdmVybGF5KG92ZXJsYXkpO1xuICAgIH1cblxuICAgIHJlbW92ZVBhZ2VPdmVybGF5IChvdmVybGF5KVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlT3ZlcmxheXMucmVtb3ZlT3ZlcmxheShvdmVybGF5KTtcbiAgICB9XG5cbiAgICBnZXRQYWdlUmVnaW9uIChwYWdlSW5kZXgsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dDtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gbGF5b3V0LmdldFBhZ2VSZWdpb24ocGFnZUluZGV4LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluY29ycG9yYXRlVmlld3BvcnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZGFyeURpbSA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydFtzZWNvbmRhcnlEaW1dID4gbGF5b3V0LmRpbWVuc2lvbnNbc2Vjb25kYXJ5RGltXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NPZmZzZXQgPSAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydFtzZWNvbmRhcnlEaW1dIC0gbGF5b3V0LmRpbWVuc2lvbnNbc2Vjb25kYXJ5RGltXSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnQgKyBkb2NPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0ICsgZG9jT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AgKyBkb2NPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHJlZ2lvbi5ib3R0b20gKyBkb2NPZmZzZXQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHJlZ2lvbi5yaWdodFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdpb247XG4gICAgfVxuXG4gICAgZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldCAoY29vcmRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZG9jQ29vcmRzID0ge1xuICAgICAgICAgICAgbGVmdDogY29vcmRzLmxlZnQgKyB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQsXG4gICAgICAgICAgICB0b3A6IGNvb3Jkcy50b3AgKyB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVkUGFnZXMgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdldFJlbmRlcmVkUGFnZXMoKTtcbiAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gcmVuZGVyZWRQYWdlcy5sZW5ndGg7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgcGFnZSBvbiB3aGljaCB0aGUgY29vcmRzIG9jY3VyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHBhZ2VDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSByZW5kZXJlZFBhZ2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAocmVnaW9uLmxlZnQgPD0gZG9jQ29vcmRzLmxlZnQgJiYgcmVnaW9uLnJpZ2h0ID49IGRvY0Nvb3Jkcy5sZWZ0ICYmXG4gICAgICAgICAgICAgICAgcmVnaW9uLnRvcCA8PSBkb2NDb29yZHMudG9wICYmIHJlZ2lvbi5ib3R0b20gPj0gZG9jQ29vcmRzLnRvcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZG9jQ29vcmRzLmxlZnQgLSByZWdpb24ubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZG9jQ29vcmRzLnRvcCAtIHJlZ2lvbi50b3BcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gY3VycmVudCBwYWdlXG4gICAgICAgIC8vIEZJWE1FOiBXb3VsZCBiZSBiZXR0ZXIgdG8gdXNlIHRoZSBjbG9zZXN0IHBhZ2Ugb3Igc29tZXRoaW5nXG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW5jaG9yUGFnZTogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsXG4gICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBkb2NDb29yZHMubGVmdCAtIGN1cnJlbnRSZWdpb24ubGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IGRvY0Nvb3Jkcy50b3AgLSBjdXJyZW50UmVnaW9uLnRvcFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIHNldE1hbmlmZXN0IChtYW5pZmVzdCwgbG9hZE9wdGlvbnMpXG4gICAgLy8ge1xuICAgIC8vICAgICBzZXRNYW5pZmVzdChtYW5pZmVzdCwgbG9hZE9wdGlvbnMgfHwge30pO1xuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBwYWdlIHRvIHRoZSBnaXZlbiBpbmRleCwgZmlyaW5nIFZpc2libGVQYWdlRGlkQ2hhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4XG4gICAgICovXG4gICAgc2V0Q3VycmVudFBhZ2VzIChhY3RpdmVQYWdlLCB2aXNpYmxlUGFnZXMpXG4gICAge1xuICAgICAgICBpZiAoIWFycmF5c0VxdWFsKHRoaXMudmlld2VyU3RhdGUuY3VycmVudFBhZ2VJbmRpY2VzLCB2aXNpYmxlUGFnZXMpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmN1cnJlbnRQYWdlSW5kaWNlcyA9IHZpc2libGVQYWdlcztcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCAhPT0gYWN0aXZlUGFnZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiQWN0aXZlUGFnZURpZENoYW5nZVwiLCBhY3RpdmVQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVibGlzaChcIlZpc2libGVQYWdlRGlkQ2hhbmdlXCIsIHZpc2libGVQYWdlcyk7XG5cbiAgICAgICAgICAgIC8vIFB1Ymxpc2ggYW4gZXZlbnQgaWYgdGhlIHBhZ2Ugd2UncmUgc3dpdGNoaW5nIHRvIGhhcyBvdGhlciBpbWFnZXMuXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdC5wYWdlc1thY3RpdmVQYWdlXS5vdGhlckltYWdlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnVmlzaWJsZVBhZ2VIYXNBbHRlcm5hdGVWaWV3cycsIGFjdGl2ZVBhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmlld2VyU3RhdGUuYWN0aXZlUGFnZUluZGV4ICE9PSBhY3RpdmVQYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJBY3RpdmVQYWdlRGlkQ2hhbmdlXCIsIGFjdGl2ZVBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYXJyYXlzRXF1YWwgKGEsIGIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQYWdlTmFtZSAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5mO1xuICAgIH1cblxuICAgIHJlbG9hZCAobmV3T3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMucmVsb2FkVmlld2VyKG5ld09wdGlvbnMpO1xuICAgIH1cblxuICAgIHpvb20gKHpvb21MZXZlbCwgZm9jYWxQb2ludClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVpvb20oem9vbUxldmVsLCBmb2NhbFBvaW50KTtcbiAgICB9XG5cbiAgICBlbmFibGVTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpbmRNb3VzZUV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZUtleVNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbEtleVNjcm9sbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5lbmFibGVTcGFjZVNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbFNwYWNlU2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuaGFzQXR0cmlidXRlKCdub2NoaWxkZHJhZycpKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5yZW1vdmVBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJyk7XG4gICAgfVxuXG4gICAgZGlzYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmxvY2sgZHJhZ2dpbmdcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZURyYWdTY3JvbGxhYmxlKCk7XG5cbiAgICAgICAgICAgIC8vIGJsb2NrIGRvdWJsZS1jbGljayB6b29taW5nXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmRibGNsaWNrID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuY29udGV4dG1lbnUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBkaXNhYmxlIGFsbCBvdGhlciBzY3JvbGxpbmcgYWN0aW9uc1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgICAgICAgICAgLy8gYmxvY2sgc2Nyb2xsaW5nIGtleXMgYmVoYXZpb3IsIHJlc3BlY3RpbmcgaW5pdGlhbCBzY3JvbGwgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbEtleVNjcm9sbCA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlS2V5U2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbml0aWFsU3BhY2VTY3JvbGwgPSB0aGlzLnNldHRpbmdzLmVuYWJsZVNwYWNlU2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZUtleVNjcm9sbCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZVNwYWNlU2Nyb2xsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlRHJhZ1Njcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5oYXNBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJykpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LnNldEF0dHJpYnV0ZSgnbm9jaGlsZGRyYWcnLCBcIlwiKTtcbiAgICB9XG5cbiAgICAvLyBpc1ZhbGlkT3B0aW9uIChrZXksIHZhbHVlKVxuICAgIC8vIHtcbiAgICAvLyAgICAgcmV0dXJuIGlzVmFsaWRPcHRpb24oa2V5LCB2YWx1ZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0WE9mZnNldCAocGFnZUluZGV4LCB4QW5jaG9yKVxuICAgIC8vIHtcbiAgICAvLyAgICAgcmV0dXJuIGdldFhPZmZzZXQocGFnZUluZGV4LCB4QW5jaG9yKTtcbiAgICAvLyB9XG5cbiAgICAvLyBnZXRZT2Zmc2V0IChwYWdlSW5kZXgsIHlBbmNob3IpXG4gICAgLy8ge1xuICAgIC8vICAgICByZXR1cm4gZ2V0WU9mZnNldChwYWdlSW5kZXgsIHlBbmNob3IpO1xuICAgIC8vIH1cblxuICAgIC8vIHRoaXMucHVibGlzaCA9IHB1Ymxpc2g7XG5cbiAgICBjbGVhciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jbGVhclZpZXdlcigpO1xuICAgIH1cblxuICAgIHNldFBlbmRpbmdNYW5pZmVzdFJlcXVlc3QgKHBlbmRpbmdNYW5pZmVzdFJlcXVlc3QpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBlbmRpbmdNYW5pZmVzdFJlcXVlc3QgPSBwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0O1xuICAgIH1cblxuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFVzZWZ1bCBldmVudCB0byBhY2Nlc3MgZWxlbWVudHMgaW4gZGl2YSBiZWZvcmUgdGhleSBnZXQgZGVzdHJveWVkLiBVc2VkIGJ5IHRoZSBoaWdobGlnaHQgcGx1Z2luLlxuICAgICAgICB0aGlzLnB1Ymxpc2goJ1ZpZXdlcldpbGxUZXJtaW5hdGUnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgcmVxdWVzdCByZXRyaWV2aW5nIGEgbWFuaWZlc3RcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucGVuZGluZ01hbmlmZXN0UmVxdWVzdClcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGVuZGluZ01hbmlmZXN0UmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgIC8vIFJlbW92ZXMgdGhlIGhpZGUtc2Nyb2xsYmFyIGNsYXNzIGZyb20gdGhlIGJvZHlcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcygnZGl2YS1oaWRlLXNjcm9sbGJhcicpO1xuXG4gICAgICAgIC8vIEVtcHR5IHRoZSBwYXJlbnQgY29udGFpbmVyIGFuZCByZW1vdmUgYW55IGRpdmEtcmVsYXRlZCBkYXRhXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LnBhcmVudCgpLmVtcHR5KCkucmVtb3ZlRGF0YSgnZGl2YScpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBhbnkgYWRkaXRpb25hbCBzdHlsaW5nIG9uIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5wYXJlbnQoKS5yZW1vdmVBdHRyKCdzdHlsZScpLnJlbW92ZUF0dHIoJ2NsYXNzJyk7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBDbGVhciB0aGUgRXZlbnRzIGNhY2hlXG4gICAgICAgIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlQWxsKHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cbn1cbiIsIi8vIEZyb20gaHR0cDovL3d3dy5hbGV4YW5kcmUtZ29tZXMuY29tLz9wPTExNSwgbW9kaWZpZWQgc2xpZ2h0bHlcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNjcm9sbGJhcldpZHRoKClcbntcbiAgICBsZXQgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICAgIGxldCBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG91dGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBvdXRlci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICBvdXRlci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIG91dGVyLnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICBvdXRlci5zdHlsZS5oZWlnaHQgPSAnMTUwcHgnO1xuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdXRlcik7XG5cbiAgICBsZXQgdzEgPSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAgIGxldCB3MiA9IGlubmVyLm9mZnNldFdpZHRoO1xuICAgIGlmICh3MSA9PT0gdzIpIHtcbiAgICAgICAgdzIgPSBvdXRlci5jbGllbnRXaWR0aDsgLy8gZm9yIElFIGkgdGhpbmtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcbiAgICByZXR1cm4gdzEgLSB3Mjtcbn1cbiIsIi8qKlxuICogUGFyc2VzIGEgdjMgbWFuaWZlc3QncyBsYWJlbC92YWx1ZSBwYWlyIGZyb20gYW4gb2JqZWN0ICYgYXJyYXkgdG8gYSBzdHJpbmdcbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW1zIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgZnJvbSB3aGljaCBhIGxhYmVsL3ZhbHVlIHBhaXIgc2hvdWxkIGJlIGV4dHJhY3RlZC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGxhYmVsL3ZhbHVlIHBhaXIgYXMgc3RyaW5ncy5cbiAqICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlTGFiZWxWYWx1ZSAoa2V5KVxue1xuICAgIGxldCBsID0ga2V5LmxhYmVsOyBcbiAgICBsZXQgbGFiZWwgPSAodHlwZW9mIGwgPT09ICdvYmplY3QnKSA/IGxbT2JqZWN0LmtleXMobClbMF1dWzBdIDogbDtcblxuICAgIGxldCB2ID0ga2V5LnZhbHVlO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSlcbiAgICB7IC8vIGlzIGFycmF5IG9mIG9iamVjdHNcbiAgICAgICAgdmFsdWUgPSB2Lm1hcChlID0+IGVbT2JqZWN0LmtleXMoZSlbMF1dKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHsgLy8gaXMgb2JqZWN0IHdoZXJlIHZhbHVlIGlzIHBvc3NpYmx5IGFuIGFycmF5XG4gICAgICAgIHZhbHVlID0gKHR5cGVvZiB2ID09PSAnb2JqZWN0JykgPyB2W09iamVjdC5rZXlzKHYpWzBdXSA6IHY7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5qb2luKCcsICcpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbn0iLCJpbXBvcnQgcGFyc2VMYWJlbFZhbHVlIGZyb20gJy4vdXRpbHMvcGFyc2UtbGFiZWwtdmFsdWUnO1xuXG5jb25zdCBnZXRNYXhab29tTGV2ZWwgPSAod2lkdGgsIGhlaWdodCkgPT5cbntcbiAgICBjb25zdCBsYXJnZXN0RGltZW5zaW9uID0gTWF0aC5tYXgod2lkdGgsIGhlaWdodCk7XG4gICAgaWYgKGxhcmdlc3REaW1lbnNpb24gPCAxMjgpIFxuICAgICAgICByZXR1cm4gMDtcbiAgICByZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKChsYXJnZXN0RGltZW5zaW9uICsgMSkgLyAoMjU2ICsgMSkpIC8gTWF0aC5sb2coMikpO1xufTtcblxuY29uc3QgaW5jb3Jwb3JhdGVab29tID0gKGltYWdlRGltZW5zaW9uLCB6b29tRGlmZmVyZW5jZSkgPT4gaW1hZ2VEaW1lbnNpb24gLyAoTWF0aC5wb3coMiwgem9vbURpZmZlcmVuY2UpKTtcblxuY29uc3QgZ2V0T3RoZXJJbWFnZURhdGEgPSAob3RoZXJJbWFnZXMsIGxvd2VzdE1heFpvb20pID0+XG57XG4gICAgcmV0dXJuIG90aGVySW1hZ2VzLm1hcCggKGl0bSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHcgPSBpdG0ud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBpdG0uaGVpZ2h0O1xuICAgICAgICBjb25zdCBpbmZvID0gcGFyc2VJbWFnZUluZm8oaXRtKTtcbiAgICAgICAgY29uc3QgdXJsID0gaW5mby51cmwuc2xpY2UoLTEpICE9PSAnLycgPyBpbmZvLnVybCArICcvJyA6IGluZm8udXJsOyAgLy8gYXBwZW5kIHRyYWlsaW5nIHNsYXNoIHRvIHVybCBpZiBpdCdzIG5vdCB0aGVyZS5cblxuICAgICAgICBjb25zdCBkaW1zID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb3dlc3RNYXhab29tICsgMTsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaW1zW2pdID0ge1xuICAgICAgICAgICAgICAgIGg6IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKGgsIGxvd2VzdE1heFpvb20gLSBqKSksXG4gICAgICAgICAgICAgICAgdzogTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20odywgbG93ZXN0TWF4Wm9vbSAtIGopKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmOiBpbmZvLnVybCxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaWw6IGl0bS5sYWJlbCB8fCBcIlwiLFxuICAgICAgICAgICAgZDogZGltc1xuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxuY29uc3QgZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24gPSAoY29udGV4dCkgPT5cbntcbiAgICBpZiAoY29udGV4dCA9PT0gXCJodHRwOi8vaWlpZi5pby9hcGkvcHJlc2VudGF0aW9uLzIvY29udGV4dC5qc29uXCIpXG4gICAgICAgIHJldHVybiAyO1xuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkgJiYgY29udGV4dC5pbmNsdWRlcyhcImh0dHA6Ly9paWlmLmlvL2FwaS9wcmVzZW50YXRpb24vMi9jb250ZXh0Lmpzb25cIikpXG4gICAgICAgIHJldHVybiAyO1xuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkgJiYgY29udGV4dC5pbmNsdWRlcyhcImh0dHA6Ly9paWlmLmlvL2FwaS9wcmVzZW50YXRpb24vMy9jb250ZXh0Lmpzb25cIikpXG4gICAgICAgIHJldHVybiAzO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIDI7IC8vIEFzc3VtZSBhIHYyIG1hbmlmZXN0LlxufTtcblxuLyoqXG4gKiBQYXJzZXMgYW4gSUlJRiBQcmVzZW50YXRpb24gQVBJIE1hbmlmZXN0IGFuZCBjb252ZXJ0cyBpdCBpbnRvIGEgRGl2YS5qcy1mb3JtYXQgb2JqZWN0XG4gKiAoU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL3dpa2kvRGV2ZWxvcG1lbnQtbm90ZXMjZGF0YS1yZWNlaXZlZC10aHJvdWdoLWFqYXgtcmVxdWVzdClcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuaWZlc3QgLSBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgdmFsaWQgSUlJRiBtYW5pZmVzdFxuICogQHJldHVybnMge09iamVjdH0gZGl2YVNlcnZpY2VCbG9jayAtIHRoZSBkYXRhIG5lZWRlZCBieSBEaXZhIHRvIHNob3cgYSB2aWV3IG9mIGEgc2luZ2xlIGRvY3VtZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlSUlJRk1hbmlmZXN0IChtYW5pZmVzdClcbntcbiAgICBsZXQgY3R4ID0gbWFuaWZlc3RbXCJAY29udGV4dFwiXTtcblxuICAgIGlmICghY3R4KVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgSUlJRiBNYW5pZmVzdDsgTm8gQGNvbnRleHQgZm91bmQuXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB2ZXJzaW9uID0gZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24oY3R4KTtcbiAgICBjb25zdCBzZXF1ZW5jZSA9IG1hbmlmZXN0LnNlcXVlbmNlcyA/IG1hbmlmZXN0LnNlcXVlbmNlc1swXSA6IG51bGw7XG4gICAgY29uc3QgY2FudmFzZXMgPSBzZXF1ZW5jZSA/IHNlcXVlbmNlLmNhbnZhc2VzIDogbWFuaWZlc3QuaXRlbXM7XG4gICAgY29uc3QgbnVtQ2FudmFzZXMgPSBjYW52YXNlcy5sZW5ndGg7XG5cbiAgICBjb25zdCBwYWdlcyA9IG5ldyBBcnJheShjYW52YXNlcy5sZW5ndGgpO1xuXG4gICAgbGV0IHRoaXNDYW52YXMsIFxuICAgICAgICB0aGlzUmVzb3VyY2UsIFxuICAgICAgICB0aGlzSW1hZ2UsXG4gICAgICAgIHNlY29uZGFyeUltYWdlcyxcbiAgICAgICAgb3RoZXJJbWFnZXMgPSBbXSxcbiAgICAgICAgY29udGV4dCwgXG4gICAgICAgIHVybCwgXG4gICAgICAgIGluZm8sIFxuICAgICAgICBpbWFnZUFQSVZlcnNpb24sIFxuICAgICAgICB3aWR0aCwgXG4gICAgICAgIGhlaWdodCwgXG4gICAgICAgIG1heFpvb20sIFxuICAgICAgICBjYW52YXMsIFxuICAgICAgICBsYWJlbCwgXG4gICAgICAgIGltYWdlTGFiZWwsIFxuICAgICAgICB6b29tRGltZW5zaW9ucywgXG4gICAgICAgIHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsLCBcbiAgICAgICAgaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsO1xuXG4gICAgbGV0IGxvd2VzdE1heFpvb20gPSAxMDA7XG4gICAgbGV0IG1heFJhdGlvID0gMDtcbiAgICBsZXQgbWluUmF0aW8gPSAxMDA7XG5cbiAgICAvLyBxdWlja2x5IGRldGVybWluZSB0aGUgbG93ZXN0IHBvc3NpYmxlIG1heCB6b29tIGxldmVsIChpLmUuLCB0aGUgdXBwZXIgYm91bmQgZm9yIGltYWdlcykgYWNyb3NzIGFsbCBjYW52YXNlcy5cbiAgICAvLyB3aGlsZSB3ZSdyZSBoZXJlLCBjb21wdXRlIHRoZSBnbG9iYWwgcmF0aW9zIGFzIHdlbGwuXG4gICAgZm9yIChsZXQgeiA9IDA7IHogPCBudW1DYW52YXNlczsgeisrKVxuICAgIHtcbiAgICAgICAgY29uc3QgYyA9IGNhbnZhc2VzW3pdO1xuICAgICAgICBjb25zdCB3ID0gYy53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IGMuaGVpZ2h0O1xuICAgICAgICBjb25zdCBteiA9IGdldE1heFpvb21MZXZlbCh3LCBoKTtcbiAgICAgICAgY29uc3QgcmF0aW8gPSBoIC8gdztcbiAgICAgICAgbWF4UmF0aW8gPSBNYXRoLm1heChyYXRpbywgbWF4UmF0aW8pO1xuICAgICAgICBtaW5SYXRpbyA9IE1hdGgubWluKHJhdGlvLCBtaW5SYXRpbyk7XG5cbiAgICAgICAgbG93ZXN0TWF4Wm9vbSA9IE1hdGgubWluKGxvd2VzdE1heFpvb20sIG16KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBUaGVzZSBhcnJheXMgbmVlZCB0byBiZSBwcmUtaW5pdGlhbGl6ZWQgc2luY2Ugd2Ugd2lsbCBkbyBhcml0aG1ldGljIGFuZCB2YWx1ZSBjaGVja2luZyBvbiB0aGVtXG4gICAgKi9cbiAgICBjb25zdCB0b3RhbFdpZHRocyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSkuZmlsbCgwKTtcbiAgICBjb25zdCB0b3RhbEhlaWdodHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG4gICAgY29uc3QgbWF4V2lkdGhzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKS5maWxsKDApO1xuICAgIGNvbnN0IG1heEhlaWdodHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNhbnZhc2VzOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzQ2FudmFzID0gY2FudmFzZXNbaV07XG4gICAgICAgIGNhbnZhcyA9IHRoaXNDYW52YXNbJ0BpZCddIHx8IHRoaXNDYW52YXMuaWQ7XG4gICAgICAgIGxhYmVsID0gdGhpc0NhbnZhcy5sYWJlbDtcbiAgICAgICAgdGhpc1Jlc291cmNlID0gdGhpc0NhbnZhcy5pbWFnZXMgPyB0aGlzQ2FudmFzLmltYWdlc1swXS5yZXNvdXJjZSA6IHRoaXNDYW52YXMuaXRlbXNbMF0uaXRlbXNbMF0uYm9keTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBJZiBhIGNhbnZhcyBoYXMgbXVsdGlwbGUgaW1hZ2VzIGl0IHdpbGwgYmUgZW5jb2RlZFxuICAgICAgICAgKiB3aXRoIGEgcmVzb3VyY2UgdHlwZSBvZiBcIm9hOkNob2ljZVwiICh2Mikgb3IgXCJDaG9pY2VcIiAodjMpLlxuICAgICAgICAgKiovXG4gICAgICAgIG90aGVySW1hZ2VzID0gW107IC8vIHJlc2V0IGFycmF5XG4gICAgICAgIGlmICh0aGlzUmVzb3VyY2VbJ0B0eXBlJ10gPT09IFwib2E6Q2hvaWNlXCIgfHwgdGhpc1Jlc291cmNlLnR5cGUgPT09IFwiQ2hvaWNlXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXNJbWFnZSA9IHRoaXNSZXNvdXJjZS5kZWZhdWx0IHx8IHRoaXNSZXNvdXJjZS5pdGVtc1swXTtcbiAgICAgICAgICAgIHNlY29uZGFyeUltYWdlcyA9IHRoaXNSZXNvdXJjZS5pdGVtIHx8IHRoaXNSZXNvdXJjZS5pdGVtcy5zbGljZSgxKTtcbiAgICAgICAgICAgIG90aGVySW1hZ2VzID0gZ2V0T3RoZXJJbWFnZURhdGEoc2Vjb25kYXJ5SW1hZ2VzLCBsb3dlc3RNYXhab29tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXNJbWFnZSA9IHRoaXNSZXNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByaW9yaXRpemUgdGhlIGNhbnZhcyBoZWlnaHQgLyB3aWR0aCBmaXJzdCwgc2luY2UgaW1hZ2VzIG1heSBub3QgaGF2ZSBoL3dcbiAgICAgICAgd2lkdGggPSB0aGlzQ2FudmFzLndpZHRoIHx8IHRoaXNJbWFnZS53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gdGhpc0NhbnZhcy5oZWlnaHQgfHwgdGhpc0ltYWdlLmhlaWdodDtcblxuICAgICAgICBpZiAod2lkdGggPD0gMCB8fCBoZWlnaHQgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIHdpZHRoIG9yIGhlaWdodCBmb3IgY2FudmFzICcgKyBsYWJlbCArICcuIFNraXBwaW5nJyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1heFpvb20gPSBnZXRNYXhab29tTGV2ZWwod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaW1hZ2VMYWJlbCA9IHRoaXNJbWFnZS5sYWJlbCB8fCBudWxsO1xuXG4gICAgICAgIGluZm8gPSBwYXJzZUltYWdlSW5mbyh0aGlzSW1hZ2UpO1xuICAgICAgICB1cmwgPSBpbmZvLnVybC5zbGljZSgtMSkgIT09ICcvJyA/IGluZm8udXJsICsgJy8nIDogaW5mby51cmw7ICAvLyBhcHBlbmQgdHJhaWxpbmcgc2xhc2ggdG8gdXJsIGlmIGl0J3Mgbm90IHRoZXJlLlxuXG4gICAgICAgIGNvbnRleHQgPSB0aGlzSW1hZ2Uuc2VydmljZVsnQGNvbnRleHQnXSB8fCB0aGlzSW1hZ2Uuc2VydmljZS50eXBlO1xuXG4gICAgICAgIGlmIChjb250ZXh0ID09PSAnaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvY29udGV4dC5qc29uJyB8fCBjb250ZXh0ID09PSBcIkltYWdlU2VydmljZTJcIilcbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2VBUElWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb250ZXh0ID09PSAnaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb250ZXh0Lmpzb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZUFQSVZlcnNpb24gPSAxLjE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZUFQSVZlcnNpb24gPSAxLjA7XG4gICAgICAgIH1cblxuICAgICAgICB6b29tRGltZW5zaW9ucyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBsb3dlc3RNYXhab29tICsgMTsgaysrKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aEF0Q3VycmVudFpvb21MZXZlbCA9IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKHdpZHRoLCBsb3dlc3RNYXhab29tIC0gaykpO1xuICAgICAgICAgICAgaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsID0gTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20oaGVpZ2h0LCBsb3dlc3RNYXhab29tIC0gaykpO1xuICAgICAgICAgICAgem9vbURpbWVuc2lvbnNba10gPSB7XG4gICAgICAgICAgICAgICAgaDogaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsLFxuICAgICAgICAgICAgICAgIHc6IHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0b3RhbFdpZHRoc1trXSArPSB3aWR0aEF0Q3VycmVudFpvb21MZXZlbDtcbiAgICAgICAgICAgIHRvdGFsSGVpZ2h0c1trXSArPSBoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWw7XG4gICAgICAgICAgICBtYXhXaWR0aHNba10gPSBNYXRoLm1heCh3aWR0aEF0Q3VycmVudFpvb21MZXZlbCwgbWF4V2lkdGhzW2tdKTtcbiAgICAgICAgICAgIG1heEhlaWdodHNba10gPSBNYXRoLm1heChoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWwsIG1heEhlaWdodHNba10pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlzUGFnZWQgPSB0aGlzQ2FudmFzLnZpZXdpbmdIaW50ICE9PSAnbm9uLXBhZ2VkJyB8fCAodGhpc0NhbnZhcy5iZWhhdmlvciA/IHRoaXNDYW52YXMuYmVoYXZpb3JbMF0gIT09ICdub24tcGFnZWQnIDogZmFsc2UpO1xuICAgICAgICBsZXQgaXNGYWNpbmcgPSB0aGlzQ2FudmFzLnZpZXdpbmdIaW50ID09PSAnZmFjaW5nLXBhZ2VzJyB8fCAodGhpc0NhbnZhcy5iZWhhdmlvciA/IHRoaXNDYW52YXMuYmVoYXZpb3JbMF0gPT09ICdmYWNpbmctcGFnZXMnIDogZmFsc2UpO1xuXG4gICAgICAgIHBhZ2VzW2ldID0ge1xuICAgICAgICAgICAgZDogem9vbURpbWVuc2lvbnMsXG4gICAgICAgICAgICBtOiBtYXhab29tLFxuICAgICAgICAgICAgbDogbGFiZWwsICAgICAgICAgLy8gY2FudmFzIGxhYmVsICgncGFnZSAxLCBwYWdlIDInLCBldGMuKVxuICAgICAgICAgICAgaWw6IGltYWdlTGFiZWwsICAgLy8gZGVmYXVsdCBpbWFnZSBsYWJlbCAoJ3ByaW1hcnkgaW1hZ2UnLCAnVVYgbGlnaHQnLCBldGMuKVxuICAgICAgICAgICAgZjogaW5mby51cmwsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGFwaTogaW1hZ2VBUElWZXJzaW9uLFxuICAgICAgICAgICAgcGFnZWQ6IGlzUGFnZWQsXG4gICAgICAgICAgICBmYWNpbmdQYWdlczogaXNGYWNpbmcsXG4gICAgICAgICAgICBjYW52YXM6IGNhbnZhcyxcbiAgICAgICAgICAgIG90aGVySW1hZ2VzOiBvdGhlckltYWdlcyxcbiAgICAgICAgICAgIHhvZmZzZXQ6IGluZm8ueCB8fCBudWxsLFxuICAgICAgICAgICAgeW9mZnNldDogaW5mby55IHx8IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBhdmVyYWdlV2lkdGhzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcbiAgICBjb25zdCBhdmVyYWdlSGVpZ2h0cyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG5cbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IGxvd2VzdE1heFpvb20gKyAxOyBhKyspXG4gICAge1xuICAgICAgICBhdmVyYWdlV2lkdGhzW2FdID0gdG90YWxXaWR0aHNbYV0gLyBudW1DYW52YXNlcztcbiAgICAgICAgYXZlcmFnZUhlaWdodHNbYV0gPSB0b3RhbEhlaWdodHNbYV0gLyBudW1DYW52YXNlcztcbiAgICB9XG5cbiAgICBjb25zdCBkaW1zID0ge1xuICAgICAgICBhX3dpZDogYXZlcmFnZVdpZHRocyxcbiAgICAgICAgYV9oZWk6IGF2ZXJhZ2VIZWlnaHRzLFxuICAgICAgICBtYXhfdzogbWF4V2lkdGhzLFxuICAgICAgICBtYXhfaDogbWF4SGVpZ2h0cyxcbiAgICAgICAgbWF4X3JhdGlvOiBtYXhSYXRpbyxcbiAgICAgICAgbWluX3JhdGlvOiBtaW5SYXRpbyxcbiAgICAgICAgdF9oZWk6IHRvdGFsSGVpZ2h0cyxcbiAgICAgICAgdF93aWQ6IHRvdGFsV2lkdGhzXG4gICAgfTtcblxuICAgIC8vIGFzc3VtZXMgcGFnZWQgaXMgZmFsc2UgZm9yIG5vbi1wYWdlZCB2YWx1ZXNcbiAgICByZXR1cm4ge1xuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBpdGVtX3RpdGxlOiBwYXJzZUxhYmVsVmFsdWUobWFuaWZlc3QpLmxhYmVsLFxuICAgICAgICBtZXRhZGF0YTogbWFuaWZlc3QubWV0YWRhdGEgfHwgbnVsbCxcbiAgICAgICAgZGltczogZGltcyxcbiAgICAgICAgbWF4X3pvb206IGxvd2VzdE1heFpvb20sXG4gICAgICAgIHBnczogcGFnZXMsXG4gICAgICAgIHBhZ2VkOiBtYW5pZmVzdC52aWV3aW5nSGludCA9PT0gJ3BhZ2VkJyB8fCAobWFuaWZlc3QuYmVoYXZpb3VyID8gbWFuaWZlc3QuYmVoYXZpb3VyWzBdID09PSAncGFnZWQnIDogZmFsc2UpIHx8IChzZXF1ZW5jZSA/IHNlcXVlbmNlLnZpZXdpbmdIaW50ID09PSAncGFnZWQnIDogZmFsc2UpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBUYWtlcyBpbiBhIHJlc291cmNlIGJsb2NrIGZyb20gYSBjYW52YXMgYW5kIG91dHB1dHMgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhhdCByZXNvdXJjZTpcbiAqIC0gSW1hZ2UgVVJMXG4gKiAtIEltYWdlIHJlZ2lvbiB0byBiZSBkaXNwbGF5ZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2UgLSBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXNvdXJjZSBibG9jayBvZiBhIGNhbnZhcyBzZWN0aW9uIGluIGEgSUlJRiBtYW5pZmVzdFxuICogQHJldHVybnMge09iamVjdH0gaW1hZ2VJbmZvIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgaW1hZ2UgVVJMIGFuZCByZWdpb25cbiAqL1xuZnVuY3Rpb24gcGFyc2VJbWFnZUluZm8gKHJlc291cmNlKVxue1xuICAgIGxldCB1cmwgPSByZXNvdXJjZVsnQGlkJ10gfHwgcmVzb3VyY2UuaWQ7XG4gICAgY29uc3QgZnJhZ21lbnRSZWdleCA9IC8jeHl3aD0oWzAtOV0rLFswLTldKyxbMC05XSssWzAtOV0rKS87XG4gICAgbGV0IHh5d2ggPSAnJztcbiAgICBsZXQgc3RyaXBVUkwgPSB0cnVlO1xuXG4gICAgaWYgKC9cXC8oWzAtOV0rLFswLTldKyxbMC05XSssWzAtOV0rKVxcLy8udGVzdCh1cmwpKVxuICAgIHtcbiAgICAgICAgLy8gaWYgcmVzb3VyY2UgaW4gaW1hZ2UgQVBJIGZvcm1hdCwgZXh0cmFjdCByZWdpb24geCx5LHcsaCBmcm9tIFVSTCAoYWZ0ZXIgNHRoIHNsYXNoIGZyb20gbGFzdClcbiAgICAgICAgLy8gbWF0Y2hlcyBjb29yZGluYXRlcyBpbiBVUkxzIG9mIHRoZSBmb3JtIGh0dHA6Ly93d3cuZXhhbXBsZS5vcmcvaWlpZi9ib29rMS1wYWdlMS80MCw1MCwxMjAwLDE4MDAvZnVsbC8wL2RlZmF1bHQuanBnXG4gICAgICAgIGNvbnN0IHVybEFycmF5ID0gdXJsLnNwbGl0KCcvJyk7XG4gICAgICAgIHh5d2ggPSB1cmxBcnJheVt1cmxBcnJheS5sZW5ndGggLSA0XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZnJhZ21lbnRSZWdleC50ZXN0KHVybCkpXG4gICAge1xuICAgICAgICAvLyBtYXRjaGVzIGNvb3JkaW5hdGVzIG9mIHRoZSBzdHlsZSBodHRwOi8vd3d3LmV4YW1wbGUub3JnL2lpaWYvYm9vazEvY2FudmFzL3AxI3h5d2g9NTAsNTAsMzIwLDI0MFxuICAgICAgICBjb25zdCByZXN1bHQgPSBmcmFnbWVudFJlZ2V4LmV4ZWModXJsKTtcbiAgICAgICAgeHl3aCA9IHJlc3VsdFsxXTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzb3VyY2Uuc2VydmljZSAmJiAocmVzb3VyY2Uuc2VydmljZVsnQGlkJ10gfHwgcmVzb3VyY2Uuc2VydmljZS5pZCkpXG4gICAge1xuICAgICAgICAvLyB0aGlzIFVSTCBleGNsdWRlcyByZWdpb24gcGFyYW1ldGVycyBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlbW92ZSB0aGVtXG4gICAgICAgIHVybCA9IHJlc291cmNlLnNlcnZpY2VbJ0BpZCddIHx8IHJlc291cmNlLnNlcnZpY2UuaWQ7XG4gICAgICAgIHN0cmlwVVJMID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHN0cmlwVVJMKVxuICAgIHtcbiAgICAgICAgLy8gZXh0cmFjdCBVUkwgdXAgdG8gaWRlbnRpZmllciAod2UgZWxpbWluYXRlIHRoZSBsYXN0IDUgcGFyYW1ldGVyczogL3JlZ2lvbi9zaXplL3JvdGF0aW9uL3F1YWxpdHkuZm9ybWF0KVxuICAgICAgICB1cmwgPSB1cmwuc3BsaXQoJy8nKS5zbGljZSgwLCAtNCkuam9pbignLycpO1xuICAgIH1cblxuICAgIGNvbnN0IGltYWdlSW5mbyA9IHtcbiAgICAgICAgdXJsOiB1cmxcbiAgICB9O1xuXG4gICAgaWYgKHh5d2gubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgLy8gcGFyc2UgaW50byBzZXBhcmF0ZSBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB4eXdoLnNwbGl0KCcsJyk7XG4gICAgICAgIGltYWdlSW5mby54ID0gcGFyc2VJbnQoZGltZW5zaW9uc1swXSwgMTApO1xuICAgICAgICBpbWFnZUluZm8ueSA9IHBhcnNlSW50KGRpbWVuc2lvbnNbMV0sIDEwKTtcbiAgICAgICAgaW1hZ2VJbmZvLncgPSBwYXJzZUludChkaW1lbnNpb25zWzJdLCAxMCk7XG4gICAgICAgIGltYWdlSW5mby5oID0gcGFyc2VJbnQoZGltZW5zaW9uc1szXSwgMTApO1xuICAgIH1cblxuICAgIHJldHVybiBpbWFnZUluZm87XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJSUlGU291cmNlQWRhcHRlclxue1xuICAgIGdldFBhZ2VJbWFnZVVSTCAobWFuaWZlc3QsIHBhZ2VJbmRleCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIGxldCBkaW1lbnM7XG5cbiAgICAgICAgaWYgKCFzaXplIHx8IChzaXplLndpZHRoID09IG51bGwgJiYgc2l6ZS5oZWlnaHQgPT0gbnVsbCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpbWVucyA9ICdmdWxsJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpbWVucyA9IChzaXplLndpZHRoID09IG51bGwgPyAnJyA6IHNpemUud2lkdGgpICsgJywnICsgKHNpemUuaGVpZ2h0ID09IG51bGwgPyAnJyA6IHNpemUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBtYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICBjb25zdCBxdWFsaXR5ID0gKHBhZ2UuYXBpID4gMS4xKSA/ICdkZWZhdWx0JyA6ICduYXRpdmUnO1xuXG4gICAgICAgIHJldHVybiBlbmNvZGVVUkkocGFnZS51cmwgKyAnZnVsbC8nICsgZGltZW5zICsgJy8wLycgKyBxdWFsaXR5ICsgJy5qcGcnKTtcbiAgICB9XG5cbiAgICBnZXRUaWxlSW1hZ2VVUkwgKG1hbmlmZXN0LCBwYWdlSW5kZXgsIHBhcmFtcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBtYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdO1xuXG4gICAgICAgIGxldCBoZWlnaHQsIHdpZHRoO1xuXG4gICAgICAgIGlmIChwYXJhbXMucm93ID09PSBwYXJhbXMucm93Q291bnQgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYWdlLmRbcGFyYW1zLnpvb21MZXZlbF0uaCAtIChwYXJhbXMucm93Q291bnQgLSAxKSAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJhbXMudGlsZURpbWVuc2lvbnMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5jb2wgPT09IHBhcmFtcy5jb2xDb3VudCAtIDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gcGFnZS5kW3BhcmFtcy56b29tTGV2ZWxdLncgLSAocGFyYW1zLmNvbENvdW50IC0gMSkgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IHBhcmFtcy50aWxlRGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHpvb21EaWZmZXJlbmNlID0gTWF0aC5wb3coMiwgbWFuaWZlc3QubWF4Wm9vbSAtIHBhcmFtcy56b29tTGV2ZWwpO1xuXG4gICAgICAgIGxldCB4ID0gcGFyYW1zLmNvbCAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy53aWR0aCAqIHpvb21EaWZmZXJlbmNlO1xuICAgICAgICBsZXQgeSA9IHBhcmFtcy5yb3cgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMuaGVpZ2h0ICogem9vbURpZmZlcmVuY2U7XG5cbiAgICAgICAgaWYgKHBhZ2UuaGFzT3duUHJvcGVydHkoJ3hvZmZzZXQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgeCArPSBwYWdlLnhvZmZzZXQ7XG4gICAgICAgICAgICB5ICs9IHBhZ2UueW9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IFt4LCB5LCB3aWR0aCAqIHpvb21EaWZmZXJlbmNlLCBoZWlnaHQgKiB6b29tRGlmZmVyZW5jZV0uam9pbignLCcpO1xuXG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSAocGFnZS5hcGkgPiAxLjEpID8gJ2RlZmF1bHQnIDogJ25hdGl2ZSc7XG5cbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSShwYWdlLnVybCArIHJlZ2lvbiArICcvJyArIHdpZHRoICsgJywnICsgaGVpZ2h0ICsgJy8wLycgKyBxdWFsaXR5ICsgJy5qcGcnKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFyc2VJSUlGTWFuaWZlc3QgZnJvbSAnLi9wYXJzZS1paWlmLW1hbmlmZXN0JztcbmltcG9ydCBJSUlGU291cmNlQWRhcHRlciBmcm9tIFwiLi9paWlmLXNvdXJjZS1hZGFwdGVyXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VNYW5pZmVzdFxue1xuICAgIGNvbnN0cnVjdG9yIChkYXRhLCB1cmxBZGFwdGVyKVxuICAgIHtcbiAgICAgICAgLy8gU2F2ZSBhbGwgdGhlIGRhdGEgd2UgbmVlZFxuICAgICAgICB0aGlzLnBhZ2VzID0gZGF0YS5wZ3M7XG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IGRhdGEubWF4X3pvb207XG4gICAgICAgIHRoaXMubWF4UmF0aW8gPSBkYXRhLmRpbXMubWF4X3JhdGlvO1xuICAgICAgICB0aGlzLm1pblJhdGlvID0gZGF0YS5kaW1zLm1pbl9yYXRpbztcbiAgICAgICAgdGhpcy5pdGVtVGl0bGUgPSBkYXRhLml0ZW1fdGl0bGU7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBkYXRhLm1ldGFkYXRhO1xuXG4gICAgICAgIC8vIE9ubHkgZ2l2ZW4gZm9yIElJSUYgbWFuaWZlc3RzXG4gICAgICAgIHRoaXMucGFnZWQgPSAhIWRhdGEucGFnZWQ7XG5cbiAgICAgICAgLy8gVGhlc2UgYXJlIGFycmF5cywgdGhlIGluZGV4IGNvcnJlc3BvbmRpbmcgdG8gdGhlIHpvb20gbGV2ZWxcbiAgICAgICAgdGhpcy5fbWF4V2lkdGhzID0gZGF0YS5kaW1zLm1heF93O1xuICAgICAgICB0aGlzLl9tYXhIZWlnaHRzID0gZGF0YS5kaW1zLm1heF9oO1xuICAgICAgICB0aGlzLl9hdmVyYWdlV2lkdGhzID0gZGF0YS5kaW1zLmFfd2lkO1xuICAgICAgICB0aGlzLl9hdmVyYWdlSGVpZ2h0cyA9IGRhdGEuZGltcy5hX2hlaTtcbiAgICAgICAgdGhpcy5fdG90YWxIZWlnaHRzID0gZGF0YS5kaW1zLnRfaGVpO1xuICAgICAgICB0aGlzLl90b3RhbFdpZHRocyA9IGRhdGEuZGltcy50X3dpZDtcblxuICAgICAgICB0aGlzLl91cmxBZGFwdGVyID0gdXJsQWRhcHRlcjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUlJSUYgKGlpaWZNYW5pZmVzdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwYXJzZUlJSUZNYW5pZmVzdChpaWlmTWFuaWZlc3QpO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlTWFuaWZlc3QoZGF0YSwgbmV3IElJSUZTb3VyY2VBZGFwdGVyKCkpO1xuICAgIH1cblxuICAgIGlzUGFnZVZhbGlkIChwYWdlSW5kZXgsIHNob3dOb25QYWdlZFBhZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCFzaG93Tm9uUGFnZWRQYWdlcyAmJiB0aGlzLnBhZ2VkICYmICF0aGlzLnBhZ2VzW3BhZ2VJbmRleF0ucGFnZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlSW5kZXggPj0gMCAmJiBwYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXRNYXhQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF4RGltcyA9IHRoaXMucGFnZXNbcGFnZUluZGV4XS5kW3RoaXMubWF4Wm9vbV07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogbWF4RGltcy5oLFxuICAgICAgICAgICAgd2lkdGg6IG1heERpbXMud1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhZ2VEaW1lbnNpb25zQXRab29tTGV2ZWwgKHBhZ2VJbmRleCwgem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF4RGltcyA9IHRoaXMucGFnZXNbcGFnZUluZGV4XS5kW3RoaXMubWF4Wm9vbV07XG5cbiAgICAgICAgY29uc3Qgc2NhbGVSYXRpbyA9IGdldFNjYWxlUmF0aW8odGhpcy5tYXhab29tLCB6b29tTGV2ZWwpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG1heERpbXMuaCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICB3aWR0aDogbWF4RGltcy53ICogc2NhbGVSYXRpb1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBpbWFnZSBvZiB0aGUgZ2l2ZW4gcGFnZS4gVGhlIG9wdGlvbmFsIHNpemVcbiAgICAgKiBwYXJhbWV0ZXIgc3VwcG9ydHMgc2V0dGluZyB0aGUgaW1hZ2Ugd2lkdGggb3IgaGVpZ2h0IChkZWZhdWx0IGlzXG4gICAgICogZnVsbC1zaXplZCkuXG4gICAgICovXG4gICAgZ2V0UGFnZUltYWdlVVJMIChwYWdlSW5kZXgsIHNpemUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXJsQWRhcHRlci5nZXRQYWdlSW1hZ2VVUkwodGhpcywgcGFnZUluZGV4LCBzaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgdGlsZSBvYmplY3RzIGZvciB0aGUgc3BlY2lmaWVkIHBhZ2UgYW5kIGludGVnZXIgem9vbSBsZXZlbFxuICAgICAqL1xuICAgIGdldFBhZ2VJbWFnZVRpbGVzIChwYWdlSW5kZXgsIHpvb21MZXZlbCwgdGlsZURpbWVuc2lvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlc1twYWdlSW5kZXhdO1xuXG4gICAgICAgIGlmICghaXNGaW5pdGUoem9vbUxldmVsKSB8fCB6b29tTGV2ZWwgJSAxICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdab29tIGxldmVsIG11c3QgYmUgYW4gaW50ZWdlcjogJyArIHpvb21MZXZlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKHBhZ2UuZFt6b29tTGV2ZWxdLmggLyB0aWxlRGltZW5zaW9ucy5oZWlnaHQpO1xuICAgICAgICBjb25zdCBjb2xzID0gTWF0aC5jZWlsKHBhZ2UuZFt6b29tTGV2ZWxdLncgLyB0aWxlRGltZW5zaW9ucy53aWR0aCk7XG5cbiAgICAgICAgY29uc3QgdGlsZXMgPSBbXTtcblxuICAgICAgICBsZXQgcm93LCBjb2wsIHVybDtcblxuICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IGNvbHM7IGNvbCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuX3VybEFkYXB0ZXIuZ2V0VGlsZUltYWdlVVJMKHRoaXMsIHBhZ2VJbmRleCwge1xuICAgICAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIHJvd0NvdW50OiByb3dzLFxuICAgICAgICAgICAgICAgICAgICBjb2xDb3VudDogY29scyxcbiAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIHRpbGVEaW1lbnNpb25zOiB0aWxlRGltZW5zaW9uc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IERpbWVuc2lvbnMgc2hvdWxkIGFjY291bnQgZm9yIHBhcnRpYWwgdGlsZXMgKGUuZy4gdGhlXG4gICAgICAgICAgICAgICAgLy8gbGFzdCByb3cgYW5kIGNvbHVtbiBpbiBhIHRpbGVkIGltYWdlKVxuICAgICAgICAgICAgICAgIHRpbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogem9vbUxldmVsLFxuICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRpbGVEaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aWxlRGltZW5zaW9ucy53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcm93ICogdGlsZURpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogY29sICogdGlsZURpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB6b29tTGV2ZWw6IHpvb21MZXZlbCxcbiAgICAgICAgICAgIHJvd3M6IHJvd3MsXG4gICAgICAgICAgICBjb2xzOiBjb2xzLFxuICAgICAgICAgICAgdGlsZXM6IHRpbGVzXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRNYXhXaWR0aCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfbWF4V2lkdGhzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRNYXhIZWlnaHQgPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX21heEhlaWdodHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldEF2ZXJhZ2VXaWR0aCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfYXZlcmFnZVdpZHRocycpO1xuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0QXZlcmFnZUhlaWdodCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfYXZlcmFnZUhlaWdodHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldFRvdGFsV2lkdGggPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX3RvdGFsV2lkdGhzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRUb3RhbEhlaWdodCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfdG90YWxIZWlnaHRzJyk7XG5cbmZ1bmN0aW9uIHpvb21lZFByb3BlcnR5R2V0dGVyIChwcml2YXRlTmFtZSlcbntcbiAgICByZXR1cm4gZnVuY3Rpb24gKHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVOYW1lXVt6b29tTGV2ZWxdO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFNjYWxlUmF0aW8gKHNvdXJjZVpvb21MZXZlbCwgdGFyZ2V0Wm9vbUxldmVsKVxue1xuICAgIHJldHVybiAxIC8gTWF0aC5wb3coMiwgc291cmNlWm9vbUxldmVsIC0gdGFyZ2V0Wm9vbUxldmVsKTtcbn1cbiIsImltcG9ydCBkaXZhIGZyb20gJy4vZGl2YS1nbG9iYWwnO1xuaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi91dGlscy9lbHQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sYmFyXG57XG4gICAgY29uc3RydWN0b3IgKHZpZXdlcilcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdmlld2VyLnNldHRpbmdzO1xuICAgIH1cblxuICAgIF9lbGVtQXR0cnMgKGlkZW50LCBiYXNlKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlkZW50LFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLScgKyBpZGVudFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChiYXNlKVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYXR0cnMsIGJhc2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG5cbiAgICAvKiogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc3Vic2NyaWJlIHRvIGEgRGl2YSBldmVudCAqL1xuICAgIF9zdWJzY3JpYmUgKGV2ZW50LCBjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZShldmVudCwgY2FsbGJhY2ssIHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cblxuXG4gICAgY3JlYXRlQnV0dG9uIChuYW1lLCBsYWJlbCwgY2FsbGJhY2ssIGljb24pXG4gICAge1xuICAgICAgICBjb25zdCBidXR0b24gPSBlbHQoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBuYW1lLFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLScgKyBuYW1lICsgJyBkaXZhLWJ1dHRvbicsXG4gICAgICAgICAgICB0aXRsZTogbGFiZWwsXG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGxhYmVsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpY29uKVxuICAgICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGljb24pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGxiYWNrKTtcblxuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsIChuYW1lLCBpZCwgbGFiZWwsIGlubmVyTmFtZSwgaW5uZXJWYWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHsgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBpZCwgY2xhc3M6IG5hbWUgKyAnIGRpdmEtbGFiZWwnfSxcbiAgICAgICAgICAgICAgICAgICAgWyBsYWJlbCwgZWx0KCdzcGFuJywgeyBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlubmVyTmFtZSB9LCBpbm5lclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBjcmVhdGVab29tQnV0dG9ucyAoKVxuICAgIHtcbiAgICAgICAgbGV0IHpvb21PdXRJY29uID0gdGhpcy5fY3JlYXRlWm9vbU91dEljb24oKTtcbiAgICAgICAgbGV0IHpvb21Jbkljb24gPSB0aGlzLl9jcmVhdGVab29tSW5JY29uKCk7XG5cbiAgICAgICAgbGV0IHpvb21CdXR0b25zID0gW1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b24oJ3pvb20tb3V0LWJ1dHRvbicsICdab29tIE91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgLSAxKTtcbiAgICAgICAgICAgIH0sIHpvb21PdXRJY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCd6b29tLWluLWJ1dHRvbicsICdab29tIEluJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDEpO1xuICAgICAgICAgICAgfSwgem9vbUluSWNvbiksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxhYmVsKCdkaXZhLXpvb20tbGFiZWwnLCAnem9vbS1sYWJlbCcsICdab29tIGxldmVsOiAnLCAnem9vbS1sZXZlbCcsIHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMSlcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgem9vbUhhbmRsZXIgPSBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGFiZWxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyAnem9vbS1sZXZlbCcpO1xuICAgICAgICAgICAgbGFiZWxFbC50ZXh0Q29udGVudCA9IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1pvb21MZXZlbERpZENoYW5nZScsIHpvb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdWaWV3ZXJEaWRMb2FkJywgem9vbUhhbmRsZXIpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHsgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBcInpvb20tY29udHJvbHNcIiwgc3R5bGU6IFwiZGlzcGxheTogbm9uZVwifSwgem9vbUJ1dHRvbnMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyaWRDb250cm9scyAoKVxuICAgIHtcbiAgICAgICAgbGV0IGdyaWRNb3JlSWNvbiA9IHRoaXMuX2NyZWF0ZUdyaWRNb3JlSWNvbigpO1xuICAgICAgICBsZXQgZ3JpZEZld2VySWNvbiA9IHRoaXMuX2NyZWF0ZUdyaWRGZXdlckljb24oKTtcblxuICAgICAgICBsZXQgZ3JpZEJ1dHRvbnMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbignZ3JpZC1vdXQtYnV0dG9uJywgJ0Zld2VyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldEdyaWRQYWdlc1BlclJvdyh0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93IC0gMSk7XG4gICAgICAgICAgICB9LCBncmlkRmV3ZXJJY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCdncmlkLWluLWJ1dHRvbicsICdNb3JlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldEdyaWRQYWdlc1BlclJvdyh0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93ICsgMSk7XG4gICAgICAgICAgICB9LCBncmlkTW9yZUljb24pLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgnZGl2YS1ncmlkLWxhYmVsJywgJ2dyaWQtbGFiZWwnLCAnUGFnZXMgcGVyIHJvdzogJywgJ3BhZ2VzLXBlci1yb3cnLCB0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93KVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBncmlkQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsYWJlbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArICdwYWdlcy1wZXItcm93Jyk7XG4gICAgICAgICAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ0dyaWRSb3dOdW1iZXJEaWRDaGFuZ2UnLCBncmlkQ2hhbmdlSGFuZGxlcik7XG5cbiAgICAgICAgcmV0dXJuIGVsdCgnZGl2Jywge2lkOiB0aGlzLnNldHRpbmdzLklEICsgXCJncmlkLWNvbnRyb2xzXCIsIHN0eWxlOiBcImRpc3BsYXk6bm9uZVwiIH0sIGdyaWRCdXR0b25zKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQYWdlTGFiZWwgKClcbiAgICB7XG4gICAgICAgIC8vIEN1cnJlbnQgcGFnZVxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IGVsdCgnc3BhbicsIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgJ2N1cnJlbnQtcGFnZSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2UgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgbGFiZWxzIGZvciBpbmRleCByYW5nZVxuICAgICAgICAgICAgbGV0IGluZGljZXMgPSB0aGlzLnZpZXdlci5nZXRDdXJyZW50UGFnZUluZGljZXMoKTtcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gaW5kaWNlc1swXTtcbiAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IGluZGljZXNbaW5kaWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBzdGFydExhYmVsID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1tzdGFydEluZGV4XS5sO1xuICAgICAgICAgICAgbGV0IGVuZExhYmVsID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1tlbmRJbmRleF0ubDtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggIT09IGVuZEluZGV4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgXHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVJbmRleEFzTGFiZWwpXG4gICAgICAgICAgICAgICAgXHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0SW5kZXggKyBcIiAtIFwiICsgZW5kSW5kZXg7XG4gICAgICAgICAgICBcdGVsc2VcbiAgICAgICAgICAgIFx0XHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0TGFiZWwgKyBcIiAtIFwiICsgZW5kTGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgIFx0e1xuICAgICAgICAgICAgXHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVJbmRleEFzTGFiZWwpXG4gICAgICAgICAgICBcdFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydEluZGV4O1xuICAgICAgICAgICAgXHRlbHNlXG4gICAgICAgICAgICBcdFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydExhYmVsO1xuICAgICAgICBcdH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1Zpc2libGVQYWdlRGlkQ2hhbmdlJywgdXBkYXRlQ3VycmVudFBhZ2UpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1ZpZXdlckRpZExvYWQnLCB1cGRhdGVDdXJyZW50UGFnZSk7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld0RpZFN3aXRjaCcsIHVwZGF0ZUN1cnJlbnRQYWdlKTtcblxuICAgICAgICByZXR1cm4gZWx0KCdzcGFuJywge1xuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVsIGRpdmEtbGFiZWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVudFBhZ2VcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjcmVhdGVHb3RvUGFnZUZvcm0gKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdvdG9QYWdlSW5wdXQgPSBlbHQoJ2lucHV0Jywge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnZ290by1wYWdlLWlucHV0JyxcbiAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1pbnB1dCBkaXZhLWdvdG8tcGFnZS1pbnB1dCcsXG4gICAgICAgICAgICBhdXRvY29tcGxldGU6ICdvZmYnLFxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnUGFnZSBJbnB1dCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ290b1BhZ2VTdWJtaXQgPSBlbHQoJ2lucHV0Jywge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnZ290by1wYWdlLXN1Ym1pdCcsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtYnV0dG9uIGRpdmEtYnV0dG9uLXRleHQnLFxuICAgICAgICAgICAgdHlwZTogJ3N1Ym1pdCcsXG4gICAgICAgICAgICB2YWx1ZTogJ0dvJ1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbnB1dFN1Z2dlc3Rpb25zID0gZWx0KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnaW5wdXQtc3VnZ2VzdGlvbnMnLFxuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1pbnB1dC1zdWdnZXN0aW9ucydcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBnb3RvRm9ybSA9IGVsdCgnZm9ybScsIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArICdnb3RvLXBhZ2UnLFxuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1nb3RvLWZvcm0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ290b1BhZ2VJbnB1dCxcbiAgICAgICAgICAgIGdvdG9QYWdlU3VibWl0LFxuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIGdvdG9Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWRQYWdlTGFiZWwgPSBnb3RvUGFnZUlucHV0LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5vbkdvdG9TdWJtaXQgJiYgdHlwZW9mIHRoaXMuc2V0dGluZ3Mub25Hb3RvU3VibWl0ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5zZXR0aW5ncy5vbkdvdG9TdWJtaXQoZGVzaXJlZFBhZ2VMYWJlbCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlci5nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4KSlcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFwiTm8gcGFnZSBjb3VsZCBiZSBmb3VuZCB3aXRoIHRoYXQgbGFiZWwgb3IgcGFnZSBudW1iZXJcIik7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgLy8gRGVmYXVsdCBpZiBubyBmdW5jdGlvbiBpcyBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmdzXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlci5nb3RvUGFnZUJ5TGFiZWwoZGVzaXJlZFBhZ2VMYWJlbCkpXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydChcIk5vIHBhZ2UgY291bGQgYmUgZm91bmQgd2l0aCB0aGF0IGxhYmVsIG9yIHBhZ2UgbnVtYmVyXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvbiBvZiByZWxvYWRpbmcgdGhlIHBhZ2VcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgWydpbnB1dCcsICdmb2N1cyddLmZvckVhY2goZXZlbnQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZ290b1BhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5pbm5lckhUTUwgPSAnJzsgLy8gUmVtb3ZlIGFsbCBwcmV2aW91cyBzdWdnZXN0aW9uc1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBnb3RvUGFnZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBudW1TdWdnZXN0aW9ucyA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlR290b1N1Z2dlc3Rpb25zICYmIHZhbHVlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFnZXMubGVuZ3RoOyBpIDwgbGVuICYmIG51bVN1Z2dlc3Rpb25zIDwgMTA7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VzW2ldLmwudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbHVlLnRvTG93ZXJDYXNlKCkpID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SW5wdXRTdWdnZXN0aW9uID0gZWx0KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZXNbaV0ubFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLmFwcGVuZENoaWxkKG5ld0lucHV0U3VnZ2VzdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1TdWdnZXN0aW9ucysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBsYWJlbCBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtU3VnZ2VzdGlvbnMgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ290b1BhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICAgICAgICBsZXQgZWw7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykgLy8gJ0VudGVyJyBrZXlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUnKVswXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdGl2ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIGdvdG9QYWdlSW5wdXQudmFsdWUgPSBhY3RpdmUuaW5uZXJUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzgpIC8vIFVwIGFycm93IGtleVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlJylbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkVsID0gZWwgPyBlbC5wcmV2aW91c1NpYmxpbmcgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmV2RWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RWwgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJykubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJylbbGFzdF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSA0MCkgLy8gRG93biBhcnJvdyBrZXlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZScpWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRFbCA9IGVsID8gZWwubmV4dFNpYmxpbmcgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXh0RWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RWwgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbicpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgb25FdmVudChpbnB1dFN1Z2dlc3Rpb25zLCAnbW91c2Vkb3duJywgJy5kaXZhLWlucHV0LXN1Z2dlc3Rpb24nLCBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBnb3RvUGFnZUlucHV0LnZhbHVlID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIGxldCBzdWJtaXRFdmVudCA9IG5ldyBFdmVudCgnc3VibWl0Jywge1xuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ290b0Zvcm0uZGlzcGF0Y2hFdmVudChzdWJtaXRFdmVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGphdmFzY3JpcHQgZXF1aXZhbGVudCB0byBqcXVlcnkgLm9uKGV2ZW50LCBzZWxlY3RvciwgZnVuY3Rpb24pXG4gICAgICAgIGZ1bmN0aW9uIG9uRXZlbnQgKGVsZW0sIGV2dCwgc2VsLCBoYW5kbGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jdGlvbiAoZXZlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHQgJiYgdCAhPT0gdGhpcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lm1hdGNoZXMoc2VsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBnb3RvUGFnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBIaWRlIGxhYmVsIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBnb3RvRm9ybTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaWV3TWVudSAoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgdmlld09wdGlvbnNMaXN0ID0gZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3ZpZXctb3B0aW9ucycpKTtcbiAgICAgICAgY29uc3QgZ3JpZFZpZXdJY29uID0gdGhpcy5fY3JlYXRlR3JpZFZpZXdJY29uKCk7XG4gICAgICAgIGNvbnN0IGJvb2tWaWV3SWNvbiA9IHRoaXMuX2NyZWF0ZUJvb2tWaWV3SWNvbigpO1xuICAgICAgICBjb25zdCBwYWdlVmlld0ljb24gPSB0aGlzLl9jcmVhdGVQYWdlVmlld0ljb24oKTtcblxuICAgICAgICBjb25zdCB2aWV3T3B0aW9uc1RvZ2dsZSA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID0gdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY2hhbmdlVmlld0J1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKCd2aWV3LWljb24nLCAnQ2hhbmdlIHZpZXcnLCB2aWV3T3B0aW9uc1RvZ2dsZSk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0VmlldyA9ICh2aWV3KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5jaGFuZ2VWaWV3KHZpZXcpO1xuXG4gICAgICAgICAgICAvL2hpZGUgdmlldyBtZW51XG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVZpZXdNZW51ID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgdmlld0ljb25DbGFzc2VzID0gJyBkaXZhLXZpZXctaWNvbiBkaXZhLWJ1dHRvbic7XG5cblxuICAgICAgICAgICAgLy8gZGlzcGxheSB0aGUgaWNvbiBvZiB0aGUgbW9kZSB3ZSdyZSBjdXJyZW50bHkgaW4gKD8pXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5hcHBlbmRDaGlsZChncmlkVmlld0ljb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ2RpdmEtZ3JpZC1pY29uJyArIHZpZXdJY29uQ2xhc3NlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uYXBwZW5kQ2hpbGQoYm9va1ZpZXdJY29uKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmNsYXNzTmFtZSA9ICdkaXZhLWJvb2staWNvbicgKyB2aWV3SWNvbkNsYXNzZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5hcHBlbmRDaGlsZChwYWdlVmlld0ljb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ2RpdmEtZG9jdW1lbnQtaWNvbicgKyB2aWV3SWNvbkNsYXNzZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHZpZXdPcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgICAgICAgICAvLyB0aGVuIGRpc3BsYXkgZG9jdW1lbnQsIGJvb2ssIGFuZCBncmlkIGJ1dHRvbnMgaW4gdGhhdCBvcmRlciwgZXhjbHVkaW5nIHRoZSBjdXJyZW50IHZpZXdcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZCB8fCB0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignZG9jdW1lbnQtaWNvbicsICdEb2N1bWVudCBWaWV3Jywgc2VsZWN0Vmlldy5iaW5kKG51bGwsICdkb2N1bWVudCcpLCBwYWdlVmlld0ljb24pKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkIHx8ICF0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignYm9vay1pY29uJywgJ0Jvb2sgVmlldycsIHNlbGVjdFZpZXcuYmluZChudWxsLCAnYm9vaycpLCBib29rVmlld0ljb24pKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignZ3JpZC1pY29uJywgJ0dyaWQgVmlldycsIHNlbGVjdFZpZXcuYmluZChudWxsLCAnZ3JpZCcpLCBncmlkVmlld0ljb24pKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBtZW51XG4gICAgICAgICAgICB3aGlsZSAodmlld09wdGlvbnNMaXN0LmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnJlbW92ZUNoaWxkKHZpZXdPcHRpb25zTGlzdC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5zZXJ0IG5ldyBtZW51XG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3QuYXBwZW5kQ2hpbGQodmlld09wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmlld09wdGlvbnNMaXN0ICE9PSBldmVudC50YXJnZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld0RpZFN3aXRjaCcsIHVwZGF0ZVZpZXdNZW51KTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdPYmplY3REaWRMb2FkJywgdXBkYXRlVmlld01lbnUpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndmlldy1tZW51JyksXG4gICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLFxuICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlRnVsbHNjcmVlbkJ1dHRvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IGZ1bGxzY3JlZW5JY29uID0gdGhpcy5fY3JlYXRlRnVsbHNjcmVlbkljb24oKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVCdXR0b24oJ2Z1bGxzY3JlZW4taWNvbicsICdUb2dnbGUgZnVsbHNjcmVlbiBtb2RlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIudG9nZ2xlRnVsbHNjcmVlbk1vZGUoKTtcbiAgICAgICAgfSwgZnVsbHNjcmVlbkljb24pO1xuICAgIH1cblxuICAgIHRvZ2dsZVpvb21HcmlkQ29udHJvbHMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcInpvb20tY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcImdyaWQtY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArIFwiem9vbS1jb250cm9sc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgXCJncmlkLWNvbnRyb2xzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKFwiVmlld0RpZFN3aXRjaFwiLCB0aGlzLnRvZ2dsZVpvb21HcmlkQ29udHJvbHMpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoXCJPYmplY3REaWRMb2FkXCIsIHRoaXMudG9nZ2xlWm9vbUdyaWRDb250cm9scyk7XG5cbiAgICAgICAgbGV0IGxlZnRUb29scyA9IFtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlWm9vbUJ1dHRvbnMoKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlR3JpZENvbnRyb2xzKClcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHJpZ2h0VG9vbHMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVBhZ2VMYWJlbCgpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3TWVudSgpXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUZ1bGxzY3JlZW4pXG4gICAgICAgICAgICByaWdodFRvb2xzLnB1c2godGhpcy5jcmVhdGVGdWxsc2NyZWVuQnV0dG9uKCkpO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVHb3RvUGFnZSlcbiAgICAgICAgICAgIHJpZ2h0VG9vbHMuc3BsaWNlKDEsIDAsIHRoaXMuY3JlYXRlR290b1BhZ2VGb3JtKCkpO1xuXG4gICAgICAgIC8vIGFzc2lnbiB0b29sYmFyIHBsdWdpbnMgdG8gcHJvcGVyIHNpZGVcbiAgICAgICAgbGV0IHBsdWdpbnMgPSB0aGlzLnZpZXdlci52aWV3ZXJTdGF0ZS5wbHVnaW5JbnN0YW5jZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwbHVnaW5zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcGx1Z2luID0gcGx1Z2luc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFwbHVnaW4udG9vbGJhclNpZGUpIC8vIG5vdCBhIHRvb2xiYXIgdG9vbFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBwbHVnaW4udG9vbGJhckljb24gPSBwbHVnaW4uY3JlYXRlSWNvbigpO1xuICAgICAgICAgICAgaWYgKCFwbHVnaW4udG9vbGJhckljb24pIC8vIGljb24gY291bGRuJ3QgYmUgY3JlYXRlZFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBhZGQgcGx1Z2luIHRvb2xzIGFmdGVyIHRoZSBnby10by1wYWdlIGFuZCBwYWdlLWxhYmVsIHRvb2xzXG4gICAgICAgICAgICBpZiAocGx1Z2luLnRvb2xiYXJTaWRlID09PSAncmlnaHQnKVxuICAgICAgICAgICAgICAgIHJpZ2h0VG9vbHMuc3BsaWNlKDIsIDAsIHBsdWdpbi50b29sYmFySWNvbik7XG4gICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4udG9vbGJhclNpZGUgPT09ICdsZWZ0JylcbiAgICAgICAgICAgICAgICBsZWZ0VG9vbHMuc3BsaWNlKDIsIDAsIHBsdWdpbi50b29sYmFySWNvbik7XG5cbiAgICAgICAgICAgIHBsdWdpbi50b29sYmFySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVBsdWdpbkNsaWNrLmJpbmQodGhpcywgcGx1Z2luKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVQbHVnaW5DbGljayAocGx1Z2luKVxuICAgICAgICB7XG4gICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2sodGhpcy52aWV3ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9vbHMgPSBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndG9vbHMnKSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3Rvb2xzLWxlZnQnKSwgbGVmdFRvb2xzKSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3Rvb2xzLXJpZ2h0JyksIHJpZ2h0VG9vbHMpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLnRvb2xiYXJQYXJlbnRPYmplY3QuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnRvb2xiYXJQYXJlbnRPYmplY3QuZmlyc3RDaGlsZFxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9jcmVhdGVUb29sYmFySWNvbiAocGF0aHMpXG4gICAge1xuICAgICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBpY29uLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3Qm94JywgXCIwIDAgMjUgMjVcIik7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCAnMHB4Jyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3knLCAnMHB4Jyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4IDQ4O1wiKTtcblxuICAgICAgICBsZXQgZ2x5cGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gICAgICAgIGdseXBoLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIFwibWF0cml4KDEsIDAsIDAsIDEsIC0xMiwgLTEyKVwiKTtcblxuICAgICAgICBwYXRocy5mb3JFYWNoKCAocGF0aCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgICAgIHBFbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgcGF0aCk7XG4gICAgICAgICAgICBnbHlwaC5hcHBlbmRDaGlsZChwRWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpY29uLmFwcGVuZENoaWxkKGdseXBoKTtcbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfVxuXG4gICAgX2NyZWF0ZVpvb21PdXRJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0xOS41LDIzYy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di0xYzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoN2MwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djFjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxOS41elwiLFxuICAgICAgICAgICAgXCJNMzcuMjE5LDM0LjI1N2wtMi4yMTMsMi4yMTJjLTAuMjAyLDAuMjAyLTAuNTM0LDAuMjAyLTAuNzM2LDBsLTYuMDk4LTYuMDk5Yy0xLjUzNywwLjk5My0zLjM2MiwxLjU3Ny01LjMyMywxLjU3N2MtNS40MzEsMC05Ljg0OS00LjQxOC05Ljg0OS05Ljg0OWMwLTUuNDMxLDQuNDE4LTkuODQ5LDkuODQ5LTkuODQ5YzUuNDMxLDAsOS44NDksNC40MTgsOS44NDksOS44NDljMCwxLjk2MS0wLjU4NCwzLjc4Ni0xLjU3Niw1LjMyM2w2LjA5OCw2LjA5OEMzNy40MjIsMzMuNzIyLDM3LjQyMiwzNC4wNTQsMzcuMjE5LDM0LjI1N3ogTTI5LjU2OCwyMi4wOTljMC0zLjcwNi0zLjAxNC02LjcyLTYuNzItNi43MmMtMy43MDYsMC02LjcyLDMuMDE0LTYuNzIsNi43MmMwLDMuNzA2LDMuMDE0LDYuNzIsNi43Miw2LjcyQzI2LjU1NSwyOC44MTgsMjkuNTY4LDI1LjgwNSwyOS41NjgsMjIuMDk5elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlWm9vbUluSWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMzcuNDY5LDM0LjI1N2wtMi4yMTMsMi4yMTJjLTAuMjAyLDAuMjAyLTAuNTM0LDAuMjAyLTAuNzM2LDBsLTYuMDk4LTYuMDk5Yy0xLjUzNywwLjk5My0zLjM2MiwxLjU3Ny01LjMyMywxLjU3N2MtNS40MzEsMC05Ljg0OS00LjQxOC05Ljg0OS05Ljg0OWMwLTUuNDMxLDQuNDE4LTkuODQ5LDkuODQ5LTkuODQ5YzUuNDMxLDAsOS44NDksNC40MTgsOS44NDksOS44NDljMCwxLjk2MS0wLjU4NCwzLjc4Ni0xLjU3Niw1LjMyM2w2LjA5OCw2LjA5OEMzNy42NzIsMzMuNzIyLDM3LjY3MiwzNC4wNTQsMzcuNDY5LDM0LjI1N3ogTTI5LjgxOCwyMi4wOTljMC0zLjcwNi0zLjAxNC02LjcyLTYuNzItNi43MmMtMy43MDYsMC02LjcyLDMuMDE0LTYuNzIsNi43MmMwLDMuNzA2LDMuMDE0LDYuNzIsNi43Miw2LjcyQzI2LjgwNSwyOC44MTgsMjkuODE4LDI1LjgwNSwyOS44MTgsMjIuMDk5eiBNMjYuNSwyMUgyNHYtMi41YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTFjLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjVWMjFoLTIuNWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXYxYzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMjJ2Mi41YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVoMWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41VjIzaDIuNWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di0xQzI3LDIxLjIyNSwyNi43NzUsMjEsMjYuNSwyMXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVHcmlkTW9yZUljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI5LjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVHcmlkRmV3ZXJJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0yNS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di05YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoOWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djljMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyNS41eiBNMjIuNSwzNWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di05YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTljLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2OWMwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41SDIyLjV6IE0zNC41LDIzYzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjV2LTljMC0wLjI3NS0wLjIyNS0wLjUtMC41LTAuNWgtOWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXY5YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMzQuNXogTTIyLjUsMjNjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNXYtOWMwLTAuMjc1LTAuMjI1LTAuNS0wLjUtMC41aC05Yy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41djljMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNUgyMi41elwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUdyaWRWaWV3SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMjkuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41elwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUJvb2tWaWV3SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMzUsMTYuOHYtMS4zMjNjMCwwLTIuMjkyLTEuMzI4LTUuNzQtMS4zMjhjLTMuNDQ4LDAtNS4yNiwxLjI1LTUuMjYsMS4yNXMtMS44MTMtMS4yNS01LjI2LTEuMjVjLTMuNDQ4LDAtNS43NCwxLjMyOC01Ljc0LDEuMzI4VjE2LjhsLTEsMC41MzF2MC4wMjF2MTUuNjg3YzAsMCw0LjUzMS0xLjU3OCw2Ljk5OS0xLjU3OGMyLjQ2OCwwLDUuMDAxLDAuODg1LDUuMDAxLDAuODg1czIuNTMyLTAuODg1LDUtMC44ODVjMC4zMDYsMCwwLjY0MywwLjAyNCwxLDAuMDY2djQuMzI1bDEuNTMxLTIuMDE2TDMzLDM1Ljg1MnYtMy43MmMyLDAuNDMsMywwLjkwNiwzLDAuOTA2VjE3LjM1MnYtMC4wMjFMMzUsMTYuOHogTTIzLDI5LjAzYy0xLTAuMjkyLTIuNTg0LTAuNjc5LTMuOTgxLTAuNjc5Yy0yLjI0NiwwLTMuMDE5LDAuNDA0LTQuMDE5LDAuNjk5VjE2LjYzNGMwLDAsMS4xMjUtMC42OTksNC4wMTktMC42OTljMS42OTQsMCwyLjk4MSwwLjQxNywzLjk4MSwxLjEyNlYyOS4wM3ogTTMzLDI5LjA1MWMtMS0wLjI5NS0xLjc3My0wLjY5OS00LjAyLTAuNjk5Yy0xLjM5NiwwLTIuOTgxLDAuMzg3LTMuOTgsMC42NzlWMTcuMDZjMS0wLjcwOSwyLjI4Ni0xLjEyNiwzLjk4LTEuMTI2YzIuODk1LDAsNC4wMiwwLjY5OSw0LjAyLDAuNjk5VjI5LjA1MXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVQYWdlVmlld0ljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI5LjQyNSwyOWg0LjQ3TDI5LDMzLjkzNHYtNC40N0MyOSwyOS4xOSwyOS4xNTEsMjksMjkuNDI1LDI5eiBNMzQsMTQuNTYzVjI4aC01LjU2OUMyOC4xNTcsMjgsMjgsMjguMTk2LDI4LDI4LjQ3VjM0SDE0LjQ5N0MxNC4yMjMsMzQsMTQsMzMuNzEsMTQsMzMuNDM3VjE0LjU2M0MxNCwxNC4yOSwxNC4yMjMsMTQsMTQuNDk3LDE0aDE4LjlDMzMuNjcyLDE0LDM0LDE0LjI5LDM0LDE0LjU2M3ogTTI1LjQ5NywyNi40OTdDMjUuNDk3LDI2LjIyMywyNS4yNzUsMjYsMjUsMjZoLTdjLTAuMjc1LDAtMC40OTcsMC4yMjMtMC40OTcsMC40OTd2MS4wMDZDMTcuNTAzLDI3Ljc3NywxNy43MjUsMjgsMTgsMjhoN2MwLjI3NSwwLDAuNDk3LTAuMjIzLDAuNDk3LTAuNDk3VjI2LjQ5N3ogTTMwLjQ5NywyMi40OTdDMzAuNDk3LDIyLjIyMywzMC4yNzUsMjIsMzAsMjJIMThjLTAuMjc1LDAtMC40OTcsMC4yMjMtMC40OTcsMC40OTd2MS4wMDZDMTcuNTAzLDIzLjc3NywxNy43MjUsMjQsMTgsMjRoMTJjMC4yNzUsMCwwLjQ5Ny0wLjIyMywwLjQ5Ny0wLjQ5N1YyMi40OTd6IE0zMC40OTcsMTguNDk3QzMwLjQ5NywxOC4yMjMsMzAuMjc1LDE4LDMwLDE4SDE4Yy0wLjI3NSwwLTAuNDk3LDAuMjIzLTAuNDk3LDAuNDk3djEuMDA2QzE3LjUwMywxOS43NzcsMTcuNzI1LDIwLDE4LDIwaDEyYzAuMjc1LDAsMC40OTctMC4yMjMsMC40OTctMC40OTdWMTguNDk3elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlRnVsbHNjcmVlbkljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTM1LDEySDEzYy0wLjU1LDAtMSwwLjQ1LTEsMXYyMmMwLDAuNTUsMC40NSwxLDEsMWgyMmMwLjU1LDAsMS0wLjQ1LDEtMVYxM0MzNiwxMi40NSwzNS41NSwxMiwzNSwxMnogTTM0LDM0SDE0VjE0aDIwVjM0elwiLFxuICAgICAgICAgICAgXCJNMTcsMjEuNzV2LTQuNWMwLTAuMTM4LDAuMTEyLTAuMjUsMC4yNS0wLjI1aDQuNWMwLjEzOCwwLDAuMTcsMC4wOCwwLjA3MywwLjE3N2wtMS42MTYsMS42MTZsMS44MjMsMS44MjNjMC4wOTcsMC4wOTcsMC4wOTcsMC4yNTYsMCwwLjM1NGwtMS4wNjEsMS4wNmMtMC4wOTcsMC4wOTctMC4yNTYsMC4wOTctMC4zNTQsMGwtMS44MjMtMS44MjNsLTEuNjE2LDEuNjE2QzE3LjA4LDIxLjkyLDE3LDIxLjg4OCwxNywyMS43NXogTTIwLjk3LDI1Ljk3Yy0wLjA5Ny0wLjA5Ny0wLjI1Ni0wLjA5Ny0wLjM1NCwwbC0xLjgyMywxLjgyM2wtMS42MTYtMS42MTZDMTcuMDgsMjYuMDgsMTcsMjYuMTEyLDE3LDI2LjI1djQuNWMwLDAuMTM4LDAuMTEyLDAuMjUsMC4yNSwwLjI1aDQuNWMwLjEzOCwwLDAuMTctMC4wOCwwLjA3My0wLjE3N2wtMS42MTYtMS42MTZsMS44MjMtMS44MjNjMC4wOTctMC4wOTcsMC4wOTctMC4yNTYsMC0wLjM1NEwyMC45NywyNS45N3ogTTMwLjc1LDE3aC00LjVjLTAuMTM4LDAtMC4xNywwLjA4LTAuMDczLDAuMTc3bDEuNjE2LDEuNjE2bC0xLjgyMywxLjgyM2MtMC4wOTcsMC4wOTctMC4wOTcsMC4yNTYsMCwwLjM1NGwxLjA2MSwxLjA2YzAuMDk3LDAuMDk3LDAuMjU2LDAuMDk3LDAuMzU0LDBsMS44MjMtMS44MjNsMS42MTYsMS42MTZDMzAuOTIsMjEuOTIsMzEsMjEuODg4LDMxLDIxLjc1di00LjVDMzEsMTcuMTEyLDMwLjg4OCwxNywzMC43NSwxN3ogTTMwLjgyMywyNi4xNzdsLTEuNjE2LDEuNjE2bC0xLjgyMy0xLjgyM2MtMC4wOTctMC4wOTctMC4yNTYtMC4wOTctMC4zNTQsMGwtMS4wNjEsMS4wNmMtMC4wOTcsMC4wOTctMC4wOTcsMC4yNTYsMCwwLjM1NGwxLjgyMywxLjgyM2wtMS42MTYsMS42MTZDMjYuMDgsMzAuOTIsMjYuMTEyLDMxLDI2LjI1LDMxaDQuNWMwLjEzOCwwLDAuMjUtMC4xMTIsMC4yNS0wLjI1di00LjVDMzEsMjYuMTEyLDMwLjkyLDI2LjA4LDMwLjgyMywyNi4xNzd6IE0yNiwyMi41YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTNjLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2M2MwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41aDNjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNVYyMi41elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG59XG4iLCJsZXQgSGFzaFBhcmFtcyA9IHtcbiAgICBnZXQ6IGdldEhhc2hQYXJhbSxcbiAgICB1cGRhdGU6IHVwZGF0ZUhhc2hQYXJhbVxufTtcblxuZXhwb3J0IGRlZmF1bHQgSGFzaFBhcmFtcztcblxuXG4vLyBGb3IgZ2V0dGluZyB0aGUgI2tleSB2YWx1ZXMgZnJvbSB0aGUgVVJMLiBGb3Igc3BlY2lmeWluZyBhIHBhZ2UgYW5kIHpvb20gbGV2ZWxcbi8vIExvb2sgaW50byBjYWNoaW5nLCBiZWNhdXNlIHdlIG9ubHkgbmVlZCB0byBnZXQgdGhpcyBkdXJpbmcgdGhlIGluaXRpYWwgbG9hZFxuLy8gQWx0aG91Z2ggZm9yIHRoZSB0ZXN0cyBJIGd1ZXNzIHdlIHdvdWxkIG5lZWQgdG8gb3ZlcnJpZGUgY2FjaGluZyBzb21laG93XG5mdW5jdGlvbiBnZXRIYXNoUGFyYW0gKGtleSlcbntcbiAgICBjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgICBpZiAoaGFzaCAhPT0gJycpXG4gICAge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBzb21ldGhpbmcgdGhhdCBsb29rcyBsaWtlIGVpdGhlciAma2V5PSBvciAja2V5PVxuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IChoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA+IDApID8gaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgOiBoYXNoLmluZGV4T2YoJyMnICsga2V5ICsgJz0nKTtcblxuICAgICAgICAvLyBJZiBzdGFydEluZGV4IGlzIHN0aWxsIC0xLCBpdCBtZWFucyBpdCBjYW4ndCBmaW5kIGVpdGhlclxuICAgICAgICBpZiAoc3RhcnRJbmRleCA+PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIGxlbmd0aCBvZiB0aGUga2V5IHBsdXMgdGhlICYgYW5kID1cbiAgICAgICAgICAgIHN0YXJ0SW5kZXggKz0ga2V5Lmxlbmd0aCArIDI7XG5cbiAgICAgICAgICAgIC8vIEVpdGhlciB0byB0aGUgbmV4dCBhbXBlcnNhbmQgb3IgdG8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nXG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IGhhc2guaW5kZXhPZignJicsIHN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgaWYgKGVuZEluZGV4ID4gc3RhcnRJbmRleClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2guc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbmRJbmRleCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGlzIGhhc2ggcGFyYW0gaXMgdGhlIGxhc3Qgb25lXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoYXNoLnN1YnN0cmluZyhzdGFydEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUga2V5IGRvZXNuJ3QgaGF2ZSBhIHZhbHVlIEkgdGhpbmtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGl0IGNhbid0IGZpbmQgdGhlIGtleVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBoYXNoIHBhcmFtcyBqdXN0IHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVIYXNoUGFyYW0gKGtleSwgdmFsdWUpXG57XG4gICAgLy8gRmlyc3QgbWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSB0byBkbyBhbnkgd29yayBhdCBhbGxcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gZ2V0SGFzaFBhcmFtKGtleSk7XG4gICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXG4gICAgaWYgKG9yaWdpbmFsVmFsdWUgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgLy8gSXMgdGhlIGtleSBhbHJlYWR5IGluIHRoZSBVUkw/XG4gICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxWYWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFscmVhZHkgaW4gdGhlIFVSTC4gSnVzdCBnZXQgcmlkIG9mIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IChoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA+IDApID8gaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgOiBoYXNoLmluZGV4T2YoJyMnICsga2V5ICsgJz0nKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIGtleS5sZW5ndGggKyAyICsgb3JpZ2luYWxWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAvLyAjIGlmIGl0J3MgdGhlIGZpcnN0LCAmIG90aGVyd2lzZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaGluZyA9IChzdGFydEluZGV4ID09PSAwKSA/ICcjJyA6ICcmJztcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhhc2guc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXgpICsgc3RhcnRUaGluZyArIGtleSArICc9JyArIHZhbHVlICsgaGFzaC5zdWJzdHJpbmcoZW5kSW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEl0J3Mgbm90IHByZXNlbnQgLSBhZGQgaXRcbiAgICAgICAgICAgIGlmIChoYXNoLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnIycgKyBrZXkgKyAnPScgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGl0XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaGFzaCArICcmJyArIGtleSArICc9JyArIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCAnLi91dGlscy92YW5pbGxhLmtpbmV0aWMnO1xuaW1wb3J0ICcuL3V0aWxzL2RyYWdzY3JvbGwnO1xuaW1wb3J0IHsgZWx0IH0gZnJvbSBcIi4vdXRpbHMvZWx0XCI7XG5pbXBvcnQge1xuICAgIERpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24sXG4gICAgTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24sXG4gICAgT2JqZWN0RGF0YU5vdFN1cHBsaWVkRXhjZXB0aW9uXG59IGZyb20gXCIuL2V4Y2VwdGlvbnNcIjtcbmltcG9ydCBkaXZhIGZyb20gXCIuL2RpdmEtZ2xvYmFsXCI7XG5pbXBvcnQgVmlld2VyQ29yZSBmcm9tIFwiLi92aWV3ZXItY29yZVwiO1xuaW1wb3J0IEltYWdlTWFuaWZlc3QgZnJvbSBcIi4vaW1hZ2UtbWFuaWZlc3RcIjtcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuL3Rvb2xiYXJcIjtcbmltcG9ydCBIYXNoUGFyYW1zIGZyb20gXCIuL3V0aWxzL2hhc2gtcGFyYW1zXCI7XG5cblxuLyoqXG4gKiBUaGUgdG9wLWxldmVsIGNsYXNzIGZvciBEaXZhIG9iamVjdHMuIFRoaXMgaXMgaW5zdGFudGlhdGVkIGJ5IHBhc3NpbmcgaW4gYW4gSFRNTCBlbGVtZW50XG4gKiBJRCBvciBIVE1MIEVsZW1lbnQgbm9kZSBhbmQgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBsaXN0IG9mIG9wdGlvbnMsIG9mIHdoaWNoIHRoZSAnb2JqZWN0RGF0YSdcbiAqIG9wdGlvbiBpcyByZXF1aXJlZCBhbmQgd2hpY2ggbXVzdCBwb2ludCB0byBhIElJSUYgUHJlc2VudGF0aW9uIEFQSSBNYW5pZmVzdDpcbiAqXG4gKiB2YXIgZGl2YSA9IG5ldyBEaXZhKCdlbGVtZW50LWlkJywge1xuICogICAgIG9iamVjdERhdGE6IFwiaHR0cDovL2V4YW1wbGUuY29tL2lpaWYtbWFuaWZlc3QuanNvblwiXG4gKiB9KTtcbiAqXG4gKiBUaGlzIGNsYXNzIGFsc28gc2VydmVzIGFzIHRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIEV2ZW50cyBzeXN0ZW0sIGluIHdoaWNoIGFwcGxpY2F0aW9ucyBjYW4gc3Vic2NyaWJlXG4gKiB0byBub3RpZmljYXRpb25zIHNlbnQgZnJvbSBEaXZhIGluc3RhbmNlczpcbiAqXG4gKiBEaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1Zpc2libGVQYWdlRGlkQ2hhbmdlJywgZnVuY3Rpb24gKCkgeyBjb25zb2xlLmxvZyhcIlZpc2libGUgUGFnZSBDaGFuZ2VkXCIpOyB9KTtcbiAqXG4gKlxuICpcbiAqKi9cbmNsYXNzIERpdmFcbntcbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIElmIGEgc3RyaW5nIGlzIHBhc3NlZCBpbiwgY29udmVydCB0aGF0IHRvIGFuIGVsZW1lbnQuXG4gICAgICAgICAqICovXG4gICAgICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMub2JqZWN0RGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbignWW91IG11c3Qgc3VwcGx5IGVpdGhlciBhIFVSTCBvciBhIGxpdGVyYWwgb2JqZWN0IHRvIHRoZSBgb2JqZWN0RGF0YWAga2V5LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhZGFwdGl2ZVBhZGRpbmc6IDAuMDUsICAgICAgLy8gVGhlIHJhdGlvIG9mIHBhZGRpbmcgdG8gdGhlIHBhZ2UgZGltZW5zaW9uXG4gICAgICAgICAgICBhcnJvd1Njcm9sbEFtb3VudDogNDAsICAgICAgLy8gVGhlIGFtb3VudCAoaW4gcGl4ZWxzKSB0byBzY3JvbGwgYnkgd2hlbiB1c2luZyBhcnJvdyBrZXlzXG4gICAgICAgICAgICBibG9ja01vYmlsZU1vdmU6IGZhbHNlLCAgICAgLy8gUHJldmVudCBtb3Zpbmcgb3Igc2Nyb2xsaW5nIHRoZSBwYWdlIG9uIG1vYmlsZSBkZXZpY2VzXG4gICAgICAgICAgICBvYmplY3REYXRhOiAnJywgICAgICAgICAgICAgLy8gQSBJSUlGIE1hbmlmZXN0IG9yIGEgSlNPTiBmaWxlIGdlbmVyYXRlZCBieSBwcm9jZXNzLnB5IHRoYXQgcHJvdmlkZXMgdGhlIG9iamVjdCBkaW1lbnNpb24gZGF0YSwgb3IgYSBVUkwgcG9pbnRpbmcgdG8gc3VjaCBkYXRhIC0gKlJFUVVJUkVEKlxuICAgICAgICAgICAgZW5hYmxlQXV0b1RpdGxlOiB0cnVlLCAgICAgIC8vIFNob3dzIHRoZSB0aXRsZSB3aXRoaW4gYSBkaXYgb2YgaWQgZGl2YS10aXRsZVxuICAgICAgICAgICAgZW5hYmxlRmlsZW5hbWU6IHRydWUsICAgICAgIC8vIFVzZXMgZmlsZW5hbWVzIGFuZCBub3QgcGFnZSBudW1iZXJzIGZvciBsaW5rcyAoaT1ibV8wMDEudGlmLCBub3QgcD0xKVxuICAgICAgICAgICAgZW5hYmxlRnVsbHNjcmVlbjogdHJ1ZSwgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZ1bGxzY3JlZW4gaWNvbiAobW9kZSBzdGlsbCBhdmFpbGFibGUpXG4gICAgICAgICAgICBlbmFibGVHb3RvUGFnZTogdHJ1ZSwgICAgICAgLy8gQSBcImdvIHRvIHBhZ2VcIiBqdW1wIGJveFxuICAgICAgICAgICAgZW5hYmxlR290b1N1Z2dlc3Rpb25zOiB0cnVlLCAvLyBDb250cm9scyB3aGV0aGVyIHN1Z2dlc3Rpb25zIGFyZSBzaG93biB1bmRlciB0aGUgaW5wdXQgZmllbGQgd2hlbiB0aGUgdXNlciBpcyB0eXBpbmcgaW4gdGhlICdnbyB0byBwYWdlJyBmb3JtXG4gICAgICAgICAgICBlbmFibGVHcmlkSWNvbjogdHJ1ZSwgICAgICAgLy8gQSBncmlkIHZpZXcgb2YgYWxsIHRoZSBwYWdlc1xuICAgICAgICAgICAgZW5hYmxlR3JpZENvbnRyb2xzOiAnYnV0dG9ucycsICAvLyBTcGVjaWZ5IGNvbnRyb2wgb2YgcGFnZXMgcGVyIGdyaWQgcm93IGluIEdyaWQgdmlldy4gUG9zc2libGUgdmFsdWVzOiAnYnV0dG9ucycgKCsvLSksICdzbGlkZXInLiBBbnkgb3RoZXIgdmFsdWUgZGlzYWJsZXMgdGhlIGNvbnRyb2xzLlxuICAgICAgICAgICAgZW5hYmxlSW1hZ2VUaXRsZXM6IHRydWUsICAgIC8vIEFkZHMgXCJQYWdlIHtufVwiIHRpdGxlIHRvIHBhZ2UgaW1hZ2VzIGlmIHRydWVcbiAgICAgICAgICAgIGVuYWJsZUluZGV4QXNMYWJlbDogZmFsc2UsICAvLyBVc2UgaW5kZXggbnVtYmVycyBpbnN0ZWFkIG9mIHBhZ2UgbGFiZWxzIGluIHRoZSBwYWdlIG4tbSBkaXNwbGF5LlxuICAgICAgICAgICAgZW5hYmxlS2V5U2Nyb2xsOiB0cnVlLCAgICAgIC8vIENhcHR1cmVzIHNjcm9sbGluZyB1c2luZyB0aGUgYXJyb3cgYW5kIHBhZ2UgdXAvZG93biBrZXlzIHJlZ2FyZGxlc3Mgb2YgcGFnZSBmb2N1cy4gV2hlbiBvZmYsIGRlZmVycyB0byBkZWZhdWx0IGJyb3dzZXIgc2Nyb2xsaW5nIGJlaGF2aW9yLlxuICAgICAgICAgICAgZW5hYmxlTGlua0ljb246IHRydWUsICAgICAgIC8vIENvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsaW5rIGljb25cbiAgICAgICAgICAgIGVuYWJsZU5vblBhZ2VkVmlzaWJpbGl0eUljb246IHRydWUsIC8vIENvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBpY29uIHRvIHRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiBub24tcGFnZWQgcGFnZXMuIChBdXRvbWF0aWNhbGx5IGhpZGRlbiBpZiBubyAnbm9uLXBhZ2VkJyBwYWdlcykuXG4gICAgICAgICAgICBlbmFibGVTcGFjZVNjcm9sbDogZmFsc2UsICAgLy8gU2Nyb2xsaW5nIGRvd24gYnkgcHJlc3NpbmcgdGhlIHNwYWNlIGtleVxuICAgICAgICAgICAgZW5hYmxlVG9vbGJhcjogdHJ1ZSwgICAgICAgIC8vIEVuYWJsZXMgdGhlIHRvb2xiYXIuIE5vdGUgdGhhdCBkaXNhYmxpbmcgdGhpcyBtZWFucyB5b3UgaGF2ZSB0byBoYW5kbGUgYWxsIGNvbnRyb2xzIHlvdXJzZWxmLlxuICAgICAgICAgICAgZW5hYmxlWm9vbUNvbnRyb2xzOiAnYnV0dG9ucycsIC8vIFNwZWNpZnkgY29udHJvbHMgZm9yIHpvb21pbmcgaW4gYW5kIG91dC4gUG9zc2libGUgdmFsdWVzOiAnYnV0dG9ucycgKCsvLSksICdzbGlkZXInLiBBbnkgb3RoZXIgdmFsdWUgZGlzYWJsZXMgdGhlIGNvbnRyb2xzLlxuICAgICAgICAgICAgZmlsbFBhcmVudEhlaWdodDogdHJ1ZSwgICAgIC8vIFVzZSBhIGZsZXhib3ggbGF5b3V0IHRvIGFsbG93IERpdmEgdG8gZmlsbCBpdHMgcGFyZW50J3MgaGVpZ2h0XG4gICAgICAgICAgICBmaXhlZFBhZGRpbmc6IDEwLCAgICAgICAgICAgLy8gRmFsbGJhY2sgaWYgYWRhcHRpdmUgcGFkZGluZyBpcyBzZXQgdG8gMFxuICAgICAgICAgICAgZml4ZWRIZWlnaHRHcmlkOiB0cnVlLCAgICAgIC8vIFNvIGVhY2ggcGFnZSBpbiBncmlkIHZpZXcgaGFzIHRoZSBzYW1lIGhlaWdodCAob25seSB3aWR0aHMgZGlmZmVyKVxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiAwLCAgICAgICAgICAgIC8vIERlZmF1bHQgaW5pdGlhbCBwYWdlIHRvIHNob3cgKDAtaW5kZXhlZClcbiAgICAgICAgICAgIGhhc2hQYXJhbVN1ZmZpeDogbnVsbCwgICAgICAvLyBVc2VkIHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGRvY3VtZW50IHZpZXdlcnMgb24gYSBwYWdlXG4gICAgICAgICAgICBpbWFnZUNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJywgLy8gU2V0IGNyb3NzT3JpZ2luIHByb3BlcnR5IGZvciBpbWFnZSByZXF1ZXN0c1xuICAgICAgICAgICAgaW5GdWxsc2NyZWVuOiBmYWxzZSwgICAgICAgIC8vIFNldCB0byB0cnVlIHRvIGxvYWQgZnVsbHNjcmVlbiBtb2RlIGluaXRpYWxseVxuICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZSwgICAgICAgLy8gU2V0IHRvIHRydWUgdG8gdmlldyB0aGUgZG9jdW1lbnQgd2l0aCBmYWNpbmcgcGFnZXMgaW4gZG9jdW1lbnQgbW9kZVxuICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSwgICAgICAgICAgICAgIC8vIFNldCB0byB0cnVlIHRvIGxvYWQgZ3JpZCB2aWV3IGluaXRpYWxseVxuICAgICAgICAgICAgbWF4UGFnZXNQZXJSb3c6IDgsICAgICAgICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIHBhZ2VzIHBlciByb3cgaW4gZ3JpZCB2aWV3XG4gICAgICAgICAgICBtYXhab29tTGV2ZWw6IC0xLCAgICAgICAgICAgLy8gT3B0aW9uYWw7IGRlZmF1bHRzIHRvIHRoZSBtYXggem9vbSByZXR1cm5lZCBpbiB0aGUgSlNPTiByZXNwb25zZVxuICAgICAgICAgICAgbWluUGFnZXNQZXJSb3c6IDIsICAgICAgICAgIC8vIE1pbmltdW0gcGFnZXMgcGVyIHJvdyBpbiBncmlkIHZpZXcuIFJlY29tbWVuZGVkIGRlZmF1bHQuXG4gICAgICAgICAgICBtaW5ab29tTGV2ZWw6IDAsICAgICAgICAgICAgLy8gRGVmYXVsdHMgdG8gMCAodGhlIG1pbmltdW0gem9vbSlcbiAgICAgICAgICAgIG9uR290b1N1Ym1pdDogbnVsbCwgICAgICAgICAvLyBXaGVuIHNldCB0byBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBzdHJpbmcgYW5kIHJldHVybnMgYSBwYWdlIGluZGV4LCB0aGlzIHdpbGwgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHRoZSAnZ28gdG8gcGFnZScgZm9ybSBzdWJtaXNzaW9uXG4gICAgICAgICAgICBwYWdlQWxpYXNlczoge30sICAgICAgICAgICAgLy8gQW4gb2JqZWN0IG1hcHBpbmcgc3BlY2lmaWMgcGFnZSBpbmRpY2VzIHRvIGFsaWFzZXMgKGhhcyBwcmlvcml0eSBvdmVyICdwYWdlQWxpYXNGdW5jdGlvbidcbiAgICAgICAgICAgIHBhZ2VBbGlhc0Z1bmN0aW9uOiBmdW5jdGlvbigpe3JldHVybiBmYWxzZTt9LCAgLy8gQSBmdW5jdGlvbiBtYXBwaW5nIHBhZ2UgaW5kaWNlcyB0byBhbiBhbGlhcy4gSWYgZmFsc2UgaXMgcmV0dXJuZWQsIGRlZmF1bHQgcGFnZSBudW1iZXIgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICBwYWdlTG9hZFRpbWVvdXQ6IDIwMCwgICAgICAgLy8gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBsb2FkaW5nIHBhZ2VzXG4gICAgICAgICAgICBwYWdlc1BlclJvdzogNSwgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgbnVtYmVyIG9mIHBhZ2VzIHBlciByb3cgaW4gZ3JpZCB2aWV3XG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVyczoge1wiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwifSwgLy8gRGVmYXVsdCBoZWFkZXIgc2VudCBvZmYgdG8gdGhlIHNlcnZlciBpbiBjb250ZW50IG5lZ290aWF0aW9uXG4gICAgICAgICAgICBzaG93Tm9uUGFnZWRQYWdlczogZmFsc2UsICAgLy8gV2hldGhlciBwYWdlcyB0YWdnZWQgYXMgJ25vbi1wYWdlZCcgKGluIElJSUYgbWFuaWZlc3RzIG9ubHkpIHNob3VsZCBiZSB2aXNpYmxlIGFmdGVyIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgdGhyb2JiZXJUaW1lb3V0OiAxMDAsICAgICAgIC8vIE51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgc2hvd2luZyB0aHJvYmJlclxuICAgICAgICAgICAgdGlsZUhlaWdodDogMjU2LCAgICAgICAgICAgIC8vIFRoZSBoZWlnaHQgb2YgZWFjaCB0aWxlLCBpbiBwaXhlbHM7IHVzdWFsbHkgMjU2XG4gICAgICAgICAgICB0aWxlV2lkdGg6IDI1NiwgICAgICAgICAgICAgLy8gVGhlIHdpZHRoIG9mIGVhY2ggdGlsZSwgaW4gcGl4ZWxzOyB1c3VhbGx5IDI1NlxuICAgICAgICAgICAgdG9vbGJhclBhcmVudE9iamVjdDogbnVsbCwgIC8vIFRoZSB0b29sYmFyIHBhcmVudCBvYmplY3QuXG4gICAgICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQ6IHRydWUsICAgLy8gRGV0ZXJtaW5lcyB2ZXJ0aWNhbCB2cy4gaG9yaXpvbnRhbCBvcmllbnRhdGlvblxuICAgICAgICAgICAgdmlld3BvcnRNYXJnaW46IDIwMCwgICAgICAgIC8vIFByZXRlbmQgdGlsZXMgKy8tIDIwMHB4IGF3YXkgZnJvbSB2aWV3cG9ydCBhcmUgaW5cbiAgICAgICAgICAgIHpvb21MZXZlbDogMiAgICAgICAgICAgICAgICAvLyBUaGUgaW5pdGlhbCB6b29tIGxldmVsICh1c2VkIHRvIHN0b3JlIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGZpbGwgdGhlIGhlaWdodCwgdXNlIGEgd3JhcHBlciBkaXYgZGlzcGxheWVkIHVzaW5nIGEgZmxleGJveCBsYXlvdXRcbiAgICAgICAgY29uc3Qgd3JhcHBlckVsZW1lbnQgPSBlbHQoJ2RpdicsIHtcbiAgICAgICAgICAgIGNsYXNzOiBgZGl2YS13cmFwcGVyJHt0aGlzLm9wdGlvbnMuZmlsbFBhcmVudEhlaWdodCA/IFwiIGRpdmEtd3JhcHBlci1mbGV4Ym94XCIgOiBcIlwifWBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHdyYXBwZXJFbGVtZW50KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMudG9vbGJhclBhcmVudE9iamVjdCA9IHRoaXMub3B0aW9ucy50b29sYmFyUGFyZW50T2JqZWN0IHx8IHdyYXBwZXJFbGVtZW50O1xuXG4gICAgICAgIGNvbnN0IHZpZXdlckNvcmUgPSBuZXcgVmlld2VyQ29yZSh3cmFwcGVyRWxlbWVudCwgdGhpcy5vcHRpb25zLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlID0gdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB2aWV3ZXJDb3JlLmdldFNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMudG9vbGJhciA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlVG9vbGJhciA/IG5ldyBUb29sYmFyKHRoaXMpIDogbnVsbDtcblxuICAgICAgICB3cmFwcGVyRWxlbWVudC5pZCA9IHRoaXMuc2V0dGluZ3MuSUQgKyAnd3JhcHBlcic7XG5cbiAgICAgICAgdGhpcy5kaXZhU3RhdGUgPSB7XG4gICAgICAgICAgICB2aWV3ZXJDb3JlOiB2aWV3ZXJDb3JlLFxuICAgICAgICAgICAgdG9vbGJhcjogdGhpcy50b29sYmFyXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgdGhlIHRvb2xiYXIgYWZ0ZXIgdGhlIG9iamVjdCBoYXMgYmVlbiBsb2FkZWRcbiAgICAgICAgbGV0IGhhbmRsZSA9IGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnT2JqZWN0RGlkTG9hZCcsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2xiYXIgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50b29sYmFyLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXZhLkV2ZW50cy51bnN1YnNjcmliZShoYW5kbGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmhhc2hTdGF0ZSA9IHRoaXMuX2dldEhhc2hQYXJhbVN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5fbG9hZE9yRmV0Y2hPYmplY3REYXRhKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2xvYWRPckZldGNoT2JqZWN0RGF0YSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLm9iamVjdERhdGEgPT09ICdvYmplY3QnKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWZlciBleGVjdXRpb24gdW50aWwgaW5pdGlhbGl6YXRpb24gaGFzIGNvbXBsZXRlZFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRPYmplY3REYXRhKHRoaXMuc2V0dGluZ3Mub2JqZWN0RGF0YSwgdGhpcy5oYXNoU3RhdGUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0ID0gZmV0Y2godGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5zZXR0aW5ncy5yZXF1ZXN0SGVhZGVyc1xuICAgICAgICAgICAgfSkudGhlbiggKHJlc3BvbnNlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIG1hbmlmZXN0IGxvYWQgZXJyb3IgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgZGl2YS5FdmVudHMucHVibGlzaCgnTWFuaWZlc3RGZXRjaEVycm9yJywgW3Jlc3BvbnNlXSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWpheEVycm9yKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICB9KS50aGVuKCAoZGF0YSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkT2JqZWN0RGF0YShkYXRhLCB0aGlzLmhhc2hTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHBlbmRpbmcgcmVxdWVzdCBzbyB0aGF0IGl0IGNhbiBiZSBjYW5jZWxsZWQgaW4gdGhlIGV2ZW50IHRoYXQgRGl2YSBuZWVkcyB0byBiZSBkZXN0cm95ZWRcbiAgICAgICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2V0UGVuZGluZ01hbmlmZXN0UmVxdWVzdChwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9zaG93RXJyb3IgKG1lc3NhZ2UpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnNob3dFcnJvcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2FqYXhFcnJvciAocmVzcG9uc2UpXG4gICAge1xuICAgICAgICAvLyBTaG93IGEgYmFzaWMgZXJyb3IgbWVzc2FnZSB3aXRoaW4gdGhlIGRvY3VtZW50IHZpZXdlciBwYW5lXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IFsnSW52YWxpZCBvYmplY3REYXRhIHNldHRpbmcuIEVycm9yIGNvZGU6ICcgKyByZXNwb25zZS5zdGF0dXMgKyAnICcgKyByZXNwb25zZS5zdGF0dXNUZXh0XTtcblxuICAgICAgICAvLyBEZXRlY3QgYW5kIGhhbmRsZSBDT1JTIGVycm9yc1xuICAgICAgICBjb25zdCBkYXRhSGFzQWJzb2x1dGVQYXRoID0gdGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLmxhc3RJbmRleE9mKCdodHRwJywgMCkgPT09IDA7XG5cbiAgICAgICAgaWYgKGRhdGFIYXNBYnNvbHV0ZVBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGpzb25Ib3N0ID0gdGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8vaSwgXCJcIikuc3BsaXQoL1svPyNdLylbMF07XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgIT09IGpzb25Ib3N0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ3AnLCAnQXR0ZW1wdGVkIHRvIGFjY2VzcyBjcm9zcy1vcmlnaW4gZGF0YSB3aXRob3V0IENPUlMuJyksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgncCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnWW91IG1heSBuZWVkIHRvIHVwZGF0ZSB5b3VyIHNlcnZlciBjb25maWd1cmF0aW9uIHRvIHN1cHBvcnQgQ09SUy4gRm9yIGhlbHAsIHNlZSB0aGUgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsdCgnYScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL0RETUFML2RpdmEuanMvd2lraS9JbnN0YWxsYXRpb24jYS1ub3RlLWFib3V0LWNyb3NzLXNpdGUtcmVxdWVzdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdjcm9zcy1zaXRlIHJlcXVlc3QgZG9jdW1lbnRhdGlvbi4nKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Nob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9sb2FkT2JqZWN0RGF0YSAocmVzcG9uc2VEYXRhLCBoYXNoU3RhdGUpXG4gICAge1xuICAgICAgICBsZXQgbWFuaWZlc3Q7XG5cbiAgICAgICAgLy8gVE9ETyBpbXByb3ZlIElJSUYgZGV0ZWN0aW9uIG1ldGhvZFxuICAgICAgICBpZiAoIXJlc3BvbnNlRGF0YS5oYXNPd25Qcm9wZXJ0eSgnQGNvbnRleHQnKSAmJiAocmVzcG9uc2VEYXRhWydAY29udGV4dCddLmluZGV4T2YoJ2lpaWYnKSA9PT0gLTEgfHwgcmVzcG9uc2VEYXRhWydAY29udGV4dCddLmluZGV4T2YoJ3NoYXJlZC1jYW52YXMnKSA9PT0gLTEpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24oJ1RoaXMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgSUlJRiBNYW5pZmVzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyaWdnZXIgTWFuaWZlc3REaWRMb2FkIGV2ZW50XG4gICAgICAgIGRpdmEuRXZlbnRzLnB1Ymxpc2goJ01hbmlmZXN0RGlkTG9hZCcsIFtyZXNwb25zZURhdGFdLCB0aGlzKTtcbiAgICAgICAgbWFuaWZlc3QgPSBJbWFnZU1hbmlmZXN0LmZyb21JSUlGKHJlc3BvbnNlRGF0YSk7XG4gICAgICAgIGNvbnN0IGxvYWRPcHRpb25zID0gaGFzaFN0YXRlID8gdGhpcy5fZ2V0TG9hZE9wdGlvbnNGb3JTdGF0ZShoYXNoU3RhdGUsIG1hbmlmZXN0KSA6IHt9O1xuXG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2V0TWFuaWZlc3QobWFuaWZlc3QsIGxvYWRPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aGUgaGFzaCBwYXJhbWV0ZXJzIGludG8gdGhlIGZvcm1hdCB1c2VkIGJ5IGdldFN0YXRlIGFuZCBzZXRTdGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldEhhc2hQYXJhbVN0YXRlICgpXG4gICAge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHt9O1xuXG4gICAgICAgIFsnZicsICd2JywgJ3onLCAnbicsICdpJywgJ3AnLCAneScsICd4J10uZm9yRWFjaCggKHBhcmFtKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IEhhc2hQYXJhbXMuZ2V0KHBhcmFtICsgdGhpcy5zZXR0aW5ncy5oYXNoUGFyYW1TdWZmaXgpO1xuXG4gICAgICAgICAgICAvLyBgZmFsc2VgIGlzIHJldHVybmVkIGlmIHRoZSB2YWx1ZSBpcyBtaXNzaW5nXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHN0YXRlW3BhcmFtXSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEbyBzb21lIGF3a3dhcmQgc3BlY2lhbC1jYXNpbmcsIHNpbmNlIHRoaXMgZm9ybWF0IGlzIGtpbmQgb2Ygd2VpcmQuXG5cbiAgICAgICAgLy8gRm9yIGluRnVsbHNjcmVlbiAoZiksIHRydWUgYW5kIGZhbHNlIHN0cmluZ3Mgc2hvdWxkIGJlIGludGVycHJldGVkXG4gICAgICAgIC8vIGFzIGJvb2xlYW5zLlxuICAgICAgICBpZiAoc3RhdGUuZiA9PT0gJ3RydWUnKVxuICAgICAgICAgICAgc3RhdGUuZiA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmYgPT09ICdmYWxzZScpXG4gICAgICAgICAgICBzdGF0ZS5mID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ29udmVydCBudW1lcmljYWwgdmFsdWVzIHRvIGludGVnZXJzLCBpZiBwcm92aWRlZFxuICAgICAgICBbJ3onLCAnbicsICdwJywgJ3gnLCAneSddLmZvckVhY2goIChwYXJhbSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcmFtIGluIHN0YXRlKVxuICAgICAgICAgICAgICAgIHN0YXRlW3BhcmFtXSA9IHBhcnNlSW50KHN0YXRlW3BhcmFtXSwgMTApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldExvYWRPcHRpb25zRm9yU3RhdGUgKHN0YXRlLCBtYW5pZmVzdClcbiAgICB7XG4gICAgICAgIG1hbmlmZXN0ID0gbWFuaWZlc3QgfHwgdGhpcy5zZXR0aW5ncy5tYW5pZmVzdDtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gKCd2JyBpbiBzdGF0ZSkgPyB0aGlzLl9nZXRWaWV3U3RhdGUoc3RhdGUudikgOiB7fTtcblxuICAgICAgICBpZiAoJ2YnIGluIHN0YXRlKVxuICAgICAgICAgICAgb3B0aW9ucy5pbkZ1bGxzY3JlZW4gPSBzdGF0ZS5mO1xuXG4gICAgICAgIGlmICgneicgaW4gc3RhdGUpXG4gICAgICAgICAgICBvcHRpb25zLnpvb21MZXZlbCA9IHN0YXRlLno7XG5cbiAgICAgICAgaWYgKCduJyBpbiBzdGF0ZSlcbiAgICAgICAgICAgIG9wdGlvbnMucGFnZXNQZXJSb3cgPSBzdGF0ZS5uO1xuXG4gICAgICAgIC8vIE9ubHkgY2hhbmdlIHNwZWNpZnkgdGhlIHBhZ2UgaWYgc3RhdGUuaSBvciBzdGF0ZS5wIGlzIHZhbGlkXG4gICAgICAgIGxldCBwYWdlSW5kZXggPSB0aGlzLl9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdChtYW5pZmVzdCwgc3RhdGUuaSk7XG5cbiAgICAgICAgaWYgKCEocGFnZUluZGV4ID49IDAgJiYgcGFnZUluZGV4IDwgbWFuaWZlc3QucGFnZXMubGVuZ3RoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZUluZGV4ID0gc3RhdGUucCAtIDE7XG5cbiAgICAgICAgICAgIC8vIFBvc3NpYmx5IE5hTlxuICAgICAgICAgICAgaWYgKCEocGFnZUluZGV4ID49IDAgJiYgcGFnZUluZGV4IDwgbWFuaWZlc3QucGFnZXMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VJbmRleCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbE9mZnNldCA9IHBhcnNlSW50KHN0YXRlLngsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT2Zmc2V0ID0gcGFyc2VJbnQoc3RhdGUueSwgMTApO1xuXG4gICAgICAgICAgICBvcHRpb25zLmdvRGlyZWN0bHlUbyA9IHBhZ2VJbmRleDtcbiAgICAgICAgICAgIG9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9IGhvcml6b250YWxPZmZzZXQ7XG4gICAgICAgICAgICBvcHRpb25zLnZlcnRpY2FsT2Zmc2V0ID0gdmVydGljYWxPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2dldFZpZXdTdGF0ZSAodmlldylcbiAgICB7XG4gICAgICAgIHN3aXRjaCAodmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgJ2InOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluQm9va0xheW91dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgJ2cnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdCAobWFuaWZlc3QsIGZpbGVuYW1lKVxuICAgIHtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGNvbnN0IG5wID0gbWFuaWZlc3QucGFnZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBucDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobWFuaWZlc3QucGFnZXNbaV0uZiA9PT0gZmlsZW5hbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9nZXRTdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgbGV0IHZpZXc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3ID0gJ2cnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3ID0gJ2InO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmlldyA9ICdkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2YnOiB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbixcbiAgICAgICAgICAgICd2JzogdmlldyxcbiAgICAgICAgICAgICd6JzogdGhpcy5zZXR0aW5ncy56b29tTGV2ZWwsXG4gICAgICAgICAgICAnbic6IHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3csXG4gICAgICAgICAgICAnaSc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRmlsZW5hbWUgPyB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5mIDogZmFsc2UsXG4gICAgICAgICAgICAncCc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRmlsZW5hbWUgPyBmYWxzZSA6IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4ICsgMSxcbiAgICAgICAgICAgICd5JzogcGFnZU9mZnNldCA/IHBhZ2VPZmZzZXQueSA6IGZhbHNlLFxuICAgICAgICAgICAgJ3gnOiBwYWdlT2Zmc2V0ID8gcGFnZU9mZnNldC54IDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfZ2V0VVJMSGFzaCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgaGFzaFBhcmFtcyA9IHRoaXMuX2dldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGhhc2hTdHJpbmdCdWlsZGVyID0gW107XG4gICAgICAgIGxldCBwYXJhbTtcblxuICAgICAgICBmb3IgKHBhcmFtIGluIGhhc2hQYXJhbXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoYXNoUGFyYW1zW3BhcmFtXSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgaGFzaFN0cmluZ0J1aWxkZXIucHVzaChwYXJhbSArIHRoaXMuc2V0dGluZ3MuaGFzaFBhcmFtU3VmZml4ICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGhhc2hQYXJhbXNbcGFyYW1dKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFzaFN0cmluZ0J1aWxkZXIuam9pbignJicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhZ2UgaW5kZXggYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBmaWxlbmFtZTsgbXVzdCBjYWxsZWQgYWZ0ZXIgc2V0dGluZyBzZXR0aW5ncy5tYW5pZmVzdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldFBhZ2VJbmRleCAoZmlsZW5hbWUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UGFnZUluZGV4Rm9yTWFuaWZlc3QodGhpcy5zZXR0aW5ncy5tYW5pZmVzdCwgZmlsZW5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfY2hlY2tMb2FkZWQgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoZSB2aWV3ZXIgaXMgbm90IGNvbXBsZXRlbHkgaW5pdGlhbGl6ZWQuIFRoaXMgaXMgbGlrZWx5IGJlY2F1c2UgaXQgaXMgc3RpbGwgZG93bmxvYWRpbmcgZGF0YS4gVG8gZml4IHRoaXMsIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIGlmIHRoZSBpc1JlYWR5KCkgbWV0aG9kIHJldHVybnMgdHJ1ZS5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGZ1bGxzY3JlZW4gaWNvbiBpcyBjbGlja2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfdG9nZ2xlRnVsbHNjcmVlbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgIGluRnVsbHNjcmVlbjogIXRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGhhbmRsZSB0b29sYmFyIG9wYWNpdHkgaW4gZnVsbHNjcmVlblxuICAgICAgICBsZXQgdDtcbiAgICAgICAgbGV0IGhvdmVyID0gZmFsc2U7XG4gICAgICAgIGxldCB0b29scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndG9vbHMnKTtcbiAgICAgICAgY29uc3QgVElNRU9VVCA9IDIwMDA7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5jbGFzc0xpc3QuYWRkKFwiZGl2YS1mdWxsc2NyZWVuLXRvb2xzXCIpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0b2dnbGVPcGFjaXR5LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS12aWV3cG9ydCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRvZ2dsZU9wYWNpdHkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0b29scy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhvdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9vbHMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBob3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5jbGFzc0xpc3QucmVtb3ZlKFwiZGl2YS1mdWxsc2NyZWVuLXRvb2xzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlT3BhY2l0eSAoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgICAgIGlmICghaG92ZXIgJiYgdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHMuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgfSwgVElNRU9VVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIGJldHdlZW4gb3JpZW50YXRpb25zXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX3RvZ2dsZVBhZ2VMYXlvdXRPcmllbnRhdGlvbiAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmVydGljYWxseU9yaWVudGVkID0gIXRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgICAgIC8vaWYgaW4gZ3JpZCwgc3dpdGNoIG91dCBvZiBncmlkXG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgdmVydGljYWxseU9yaWVudGVkOiB2ZXJ0aWNhbGx5T3JpZW50ZWQsXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WU9mZnNldCgpLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRYT2Zmc2V0KClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsbHlPcmllbnRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY2hhbmdlIHZpZXcgaWNvbiBpcyBjbGlja2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfY2hhbmdlVmlldyAoZGVzdGluYXRpb25WaWV3KVxuICAgIHtcbiAgICAgICAgc3dpdGNoIChkZXN0aW5hdGlvblZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgJ2RvY3VtZW50JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlICdib29rJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhc2UgJ2dyaWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2VJbmRleCAtIDAtYmFzZWQgcGFnZSBpbmRleC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geEFuY2hvciAtIHggY29vcmRpbmF0ZSB0byBqdW1wIHRvIG9uIHJlc3VsdGluZyBwYWdlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5QW5jaG9yIC0geSBjb29yZGluYXRlIHRvIGp1bXAgdG8gb24gcmVzdWx0aW5nIHBhZ2UuXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gV2hldGhlciB0aGUganVtcCB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgX2dvdG9QYWdlQnlJbmRleCAocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSBwYXJzZUludChwYWdlSW5kZXgsIDEwKTtcblxuICAgICAgICBpZiAodGhpcy5faXNQYWdlSW5kZXhWYWxpZChwaWR4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeE9mZnNldCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WE9mZnNldChwaWR4LCB4QW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHlPZmZzZXQgPSB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldFlPZmZzZXQocGlkeCwgeUFuY2hvcik7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ290byhwaWR4LCB5T2Zmc2V0LCB4T2Zmc2V0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcGFnZSBpbmRleCBpcyB2YWxpZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZUluZGV4IC0gTnVtZXJpYyAoMC1iYXNlZCkgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQgb3Igbm90LlxuICAgICAqL1xuICAgIF9pc1BhZ2VJbmRleFZhbGlkIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5pc1BhZ2VWYWxpZChwYWdlSW5kZXgsIHRoaXMuc2V0dGluZ3Muc2hvd05vblBhZ2VkUGFnZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcGFnZVggYW5kIHBhZ2VZIHZhbHVlLCByZXR1cm5zIGVpdGhlciB0aGUgcGFnZSB2aXNpYmxlIGF0IHRoYXQgKHgseSlcbiAgICAgKiBwb3NpdGlvbiBvciAtMSBpZiBubyBwYWdlIGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0UGFnZUluZGV4Rm9yUGFnZVhZVmFsdWVzIChwYWdlWCwgcGFnZVkpXG4gICAge1xuICAgICAgICAvL2dldCB0aGUgZm91ciBlZGdlcyBvZiB0aGUgb3V0ZXIgZWxlbWVudFxuICAgICAgICBjb25zdCBvdXRlck9mZnNldCA9IHRoaXMudmlld2VyU3RhdGUub3V0ZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBvdXRlclRvcCA9IG91dGVyT2Zmc2V0LnRvcDtcbiAgICAgICAgY29uc3Qgb3V0ZXJMZWZ0ID0gb3V0ZXJPZmZzZXQubGVmdDtcbiAgICAgICAgY29uc3Qgb3V0ZXJCb3R0b20gPSBvdXRlck9mZnNldC5ib3R0b207XG4gICAgICAgIGNvbnN0IG91dGVyUmlnaHQgPSBvdXRlck9mZnNldC5yaWdodDtcblxuICAgICAgICAvL2lmIHRoZSBjbGlja2VkIHBvc2l0aW9uIHdhcyBvdXRzaWRlIHRoZSBkaXZhLW91dGVyIG9iamVjdCwgaXQgd2FzIG5vdCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiBhIHBhZ2VcbiAgICAgICAgaWYgKHBhZ2VYIDwgb3V0ZXJMZWZ0IHx8IHBhZ2VYID4gb3V0ZXJSaWdodClcbiAgICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICBpZiAocGFnZVkgPCBvdXRlclRvcCB8fCBwYWdlWSA+IG91dGVyQm90dG9tKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuXG4gICAgICAgIC8vbmF2aWdhdGUgdGhyb3VnaCBhbGwgZGl2YSBwYWdlIG9iamVjdHNcbiAgICAgICAgY29uc3QgcGFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZhLXBhZ2UnKTtcbiAgICAgICAgbGV0IGN1clBhZ2VJZHggPSBwYWdlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChjdXJQYWdlSWR4LS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vZ2V0IHRoZSBvZmZzZXQgZm9yIGVhY2ggcGFnZVxuICAgICAgICAgICAgY29uc3QgY3VyUGFnZSA9IHBhZ2VzW2N1clBhZ2VJZHhdO1xuICAgICAgICAgICAgY29uc3QgY3VyT2Zmc2V0ID0gY3VyUGFnZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgLy9pZiB0aGlzIHBvaW50IGlzIG91dHNpZGUgdGhlIGhvcml6b250YWwgYm91bmRhcmllcyBvZiB0aGUgcGFnZSwgY29udGludWVcbiAgICAgICAgICAgIGlmIChwYWdlWCA8IGN1ck9mZnNldC5sZWZ0IHx8IHBhZ2VYID4gY3VyT2Zmc2V0LnJpZ2h0KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvL3NhbWUgd2l0aCB2ZXJ0aWNhbCBib3VuZGFyaWVzXG4gICAgICAgICAgICBpZiAocGFnZVkgPCBjdXJPZmZzZXQudG9wIHx8IHBhZ2VZID4gY3VyT2Zmc2V0LmJvdHRvbSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy9pZiB3ZSBtYWRlIGl0IHRocm91Z2ggdGhlIGFib3ZlIHR3bywgd2UgZm91bmQgdGhlIHBhZ2Ugd2UncmUgbG9va2luZyBmb3JcbiAgICAgICAgICAgIHJldHVybiBjdXJQYWdlLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB3ZSBtYWRlIGl0IHRocm91Z2ggdGhhdCBlbnRpcmUgd2hpbGUgbG9vcCwgd2UgZGlkbid0IGNsaWNrIG9uIGEgcGFnZVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX3JlbG9hZFZpZXdlciAobmV3T3B0aW9ucylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnJlbG9hZChuZXdPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDdXJyZW50VVJMICgpXG4gICAge1xuICAgICAgICByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICsgJyMnICsgdGhpcy5fZ2V0VVJMSGFzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogICAgICAgICAgICAgICAgUFVCTElDIEZVTkNUSU9OU1xuICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICoqL1xuXG4gICAgLyoqXG4gICAgICogIEFjdGl2YXRlIHRoaXMgaW5zdGFuY2Ugb2YgZGl2YSB2aWEgdGhlIGFjdGl2ZSBEaXZhIGNvbnRyb2xsZXIuXG4gICAgICpcbiAgICAgKiAgQHB1YmxpY1xuICAgICAqL1xuICAgIGFjdGl2YXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzQWN0aXZlRGl2YSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBvYmplY3QgKG9iamVjdERhdGEpIHBhcmFtZXRlciBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgYnkgRGl2YS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtvYmplY3R9IG9iamVjdERhdGEgLSBBbiBJSUlGIE1hbmlmZXN0IG9iamVjdCBPUiBhIFVSTCB0byBhIElJSUYgbWFuaWZlc3QuXG4gICAgICovXG4gICAgY2hhbmdlT2JqZWN0IChvYmplY3REYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5jbGVhcigpO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLm9iamVjdERhdGEgPSBvYmplY3REYXRhO1xuXG4gICAgICAgIHRoaXMuX2xvYWRPckZldGNoT2JqZWN0RGF0YSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB2aWV3cy4gVGFrZXMgJ2RvY3VtZW50JywgJ2Jvb2snLCBvciAnZ3JpZCcgdG8gc3BlY2lmeSB3aGljaCB2aWV3IHRvIHN3aXRjaCBpbnRvXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSBkZXN0aW5hdGlvblZpZXcgLSB0aGUgZGVzdGluYXRpb24gdmlldyB0byBjaGFuZ2UgdG8uXG4gICAgICovXG4gICAgY2hhbmdlVmlldyAoZGVzdGluYXRpb25WaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlVmlldyhkZXN0aW5hdGlvblZpZXcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBEZWFjdGl2YXRlIHRoaXMgZGl2YSBpbnN0YW5jZSB0aHJvdWdoIHRoZSBhY3RpdmUgRGl2YSBjb250cm9sbGVyLlxuICAgICAqXG4gICAgICogIEBwdWJsaWNcbiAgICAgKiovXG4gICAgZGVhY3RpdmF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pc0FjdGl2ZURpdmEgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGluc3RhbmNlLCB0ZWxscyBwbHVnaW5zIHRvIGRvIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGRvY3VtZW50IGRyYWdnaW5nLCBzY3JvbGxpbmcgKGJ5IGtleWJvYXJkIGlmIHNldCksIGFuZCB6b29taW5nIGJ5IGRvdWJsZS1jbGlja2luZ1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqKi9cbiAgICBkaXNhYmxlU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5kaXNhYmxlU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlLWVuYWJsZXMgZG9jdW1lbnQgZHJhZ2dpbmcsIHNjcm9sbGluZyAoYnkga2V5Ym9hcmQgaWYgc2V0KSwgYW5kIHpvb21pbmcgYnkgZG91YmxlLWNsaWNraW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGVuYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZW5hYmxlU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGRvY3VtZW50IGRyYWcgc2Nyb2xsaW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZGlzYWJsZURyYWdTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmRpc2FibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgZG9jdW1lbnQgZHJhZyBzY3JvbGxpbmdcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBlbmFibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5lbmFibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudGVyIGZ1bGxzY3JlZW4gbW9kZSBpZiBjdXJyZW50bHkgbm90IGluIGZ1bGxzY3JlZW4gbW9kZS4gSWYgY3VycmVudGx5IGluIGZ1bGxzY3JlZW5cbiAgICAgKiBtb2RlIHRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCB3b3JrIGV2ZW4gaWYgZW5hYmxlRnVsbHNjcmVlbiBpcyBzZXQgdG8gZmFsc2UgaW4gdGhlIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgc3dpdGNoIHRvIGZ1bGxzY3JlZW4gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90LlxuICAgICAqKi9cbiAgICBlbnRlckZ1bGxzY3JlZW5Nb2RlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnRlciBncmlkIHZpZXcgaWYgY3VycmVudGx5IG5vdCBpbiBncmlkIHZpZXcuIElmIGN1cnJlbnRseSBpbiBncmlkIHZpZXcgbW9kZVxuICAgICAqIHRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSBzd2l0Y2ggdG8gZ3JpZCB2aWV3IHdhcyBzdWNjZXNzZnVsIG9yIG5vdC5cbiAgICAgKiovXG4gICAgZW50ZXJHcmlkVmlldyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlVmlldygnZ3JpZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgcGFnZSBpbWFnZSBVUklzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gQW4gYXJyYXkgb2YgYWxsIHRoZSBVUklzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKiAqL1xuICAgIGdldEFsbFBhZ2VVUklzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5tYXAoIChwZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBnLmY7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2FudmFzIGlkZW50aWZpZXIgZm9yIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSSSBvZiB0aGUgY3VycmVudGx5IHZpc2libGUgY2FudmFzLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50Q2FudmFzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleF0uY2FudmFzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGN1cnJlbnQgcGFnZSBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLiBBbHNvIHdvcmtzIGluXG4gICAgICogZ3JpZCB2aWV3LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgcGFnZSBkaW1lbnNpb25zIGF0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgZmlsZW5hbWUgKGRlcHJlY2F0ZWQpLiBSZXR1cm5zIHRoZSBVUkkgZm9yIGN1cnJlbnQgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSSSBmb3IgdGhlIGN1cnJlbnQgcGFnZSBpbWFnZS5cbiAgICAgKiovXG4gICAgZ2V0Q3VycmVudFBhZ2VGaWxlbmFtZSAoKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIG1ldGhvZCB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIG5leHQgdmVyc2lvbiBvZiBEaXZhLiBQbGVhc2UgdXNlIGdldEN1cnJlbnRQYWdlVVJJIGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5mO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgcGFnZSBpbmRpY2VzIHRoYXQgYXJlIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHthcnJheX0gLSBUaGUgMC1iYXNlZCBpbmRpY2VzIGFycmF5IGZvciB0aGUgY3VycmVudGx5IHZpc2libGUgcGFnZXMuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlSW5kaWNlcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuY3VycmVudFBhZ2VJbmRpY2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIDAtYmFzZWQgaW5kZXggZm9yIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgMC1iYXNlZCBpbmRleCBmb3IgdGhlIGN1cnJlbnRseSB2aXNpYmxlIHBhZ2UuXG4gICAgICoqL1xuICAgICBnZXRBY3RpdmVQYWdlSW5kZXggKClcbiAgICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXg7XG4gICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3J0Y3V0IHRvIGdldFBhZ2VPZmZzZXQgZm9yIGN1cnJlbnQgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7fSAtXG4gICAgICogKi9cbiAgICBnZXRDdXJyZW50UGFnZU9mZnNldCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFnZU9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBVUkkgZm9yIHRoZSB2aXNpYmxlIHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJJIGZvciB0aGUgY3VycmVudCBwYWdlIGltYWdlLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50UGFnZVVSSSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXhdLmY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjdXJyZW50IFVSTCBmb3IgdGhlIHZpZXdlciwgaW5jbHVkaW5nIHRoZSBoYXNoIHBhcmFtZXRlcnMgcmVmbGVjdGluZ1xuICAgICAqIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB2aWV3ZXIuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJMIGZvciB0aGUgY3VycmVudCB2aWV3IHN0YXRlLlxuICAgICAqICovXG4gICAgZ2V0Q3VycmVudFVSTCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEN1cnJlbnRVUkwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBmaWxlbmFtZXMgaW4gdGhlIGRvY3VtZW50LiBEZXByZWNhdGVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybnMge0FycmF5fSAtIEFuIGFycmF5IG9mIGFsbCB0aGUgVVJJcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICogKi9cbiAgICBnZXRGaWxlbmFtZXMgKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgdmVyc2lvbiBvZiBEaXZhLiBVc2UgZ2V0QWxsUGFnZVVSSXMgaW5zdGVhZC4nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5tYXAoIChwZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBnLmY7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbnVtYmVyIG9mIGdyaWQgcGFnZXMgcGVyIHJvdy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBudW1iZXIgb2YgZ3JpZCBwYWdlcyBwZXIgcm93LlxuICAgICAqKi9cbiAgICBnZXRHcmlkUGFnZXNQZXJSb3cgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8od2FiYWluKTogQWRkIHRlc3QgY2FzZVxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGluc3RhbmNlIElEIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbnN0YW5jZSBJRC5cbiAgICAgKiAqL1xuICAgIC8vXG4gICAgZ2V0SW5zdGFuY2VJZCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBzZWxlY3RvciBmb3IgdGhpcyBpbnN0YW5jZS4gVGhpcyBpcyB0aGUgc2VsZWN0b3IgZm9yIHRoZSBwYXJlbnRcbiAgICAgKiBkaXYuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgdmlld3BvcnQgc2VsZWN0b3IuXG4gICAgICogKi9cbiAgICBnZXRJbnN0YW5jZVNlbGVjdG9yICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5zZWxlY3RvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aXRsZSBvZiB0aGUgZG9jdW1lbnQsIGJhc2VkIG9uIHRoZSBsYWJlbCBpbiB0aGUgSUlJRiBtYW5pZmVzdC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBjdXJyZW50IHRpdGxlIG9mIHRoZSBvYmplY3QgZnJvbSB0aGUgbGFiZWwga2V5IGluIHRoZSBJSUlGIE1hbmlmZXN0LlxuICAgICAqKi9cbiAgICBnZXRJdGVtVGl0bGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0Lml0ZW1UaXRsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBlbnRpcmUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgZG9jdW1lbnRcbiAgICAgKiAqL1xuICAgIGdldE1heFpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1heCB6b29tIGxldmVsIGZvciBhIGdpdmVuIHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VJZHggLSBUaGUgMC1iYXNlZCBpbmRleCBudW1iZXIgZm9yIHRoZSBwYWdlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhhdCBwYWdlLlxuICAgICAqICovXG4gICAgZ2V0TWF4Wm9vbUxldmVsRm9yUGFnZSAocGFnZUlkeClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2hlY2tMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSWR4XS5tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGVudGlyZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBkb2N1bWVudFxuICAgICAqICovXG4gICAgZ2V0TWluWm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5taW5ab29tTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHBhZ2VzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBudW1iZXIgb2YgcGFnZXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqICovXG4gICAgZ2V0TnVtYmVyT2ZQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm51bVBhZ2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGEgY2FudmFzIGhhcyBtdWx0aXBsZSBpbWFnZXMgZGVmaW5lZCwgcmV0dXJucyB0aGUgbm9uLXByaW1hcnkgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgcGFnZSBpbmRleCBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBvdGhlciBpbWFnZXMuXG4gICAgICogQHJldHVybnMge29iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG90aGVyIGltYWdlcy5cbiAgICAgKiovXG4gICAgZ2V0T3RoZXJJbWFnZXMgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF0ub3RoZXJJbWFnZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBhZ2UgZGltZW5zaW9ucyBpbiB0aGUgY3VycmVudCB2aWV3IGFuZCB6b29tIGxldmVsXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBBIHZhbGlkIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBhZ2VcbiAgICAgKiAqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2NoZWNrTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCkuZ2V0UGFnZURpbWVuc2lvbnMocGFnZUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaW1lbnNpb25zIG9mIGEgZ2l2ZW4gcGFnZSBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqIEFsc28gd29ya3MgaW4gR3JpZCB2aWV3XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBwYWdlIGRpbWVuc2lvbnMgYXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiAqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBsZXQgcGlkeCA9IHBhcnNlSW50KHBhZ2VJbmRleCwgMTApO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNQYWdlSW5kZXhWYWxpZChwaWR4KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBQYWdlIEluZGV4Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpLmdldFBhZ2VEaW1lbnNpb25zKHBpZHgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwYWdlIGRpbWVuc2lvbnMgYXQgYSBnaXZlbiB6b29tIGxldmVsXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSWR4IC0gQSB2YWxpZCAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHpvb21MZXZlbCAtIEEgY2FuZGlkYXRlIHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgcGFnZSBhdCB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICAgKiovXG4gICAgZ2V0UGFnZURpbWVuc2lvbnNBdFpvb21MZXZlbCAocGFnZUlkeCwgem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICh6b29tTGV2ZWwgPiB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbClcbiAgICAgICAgICAgIHpvb21MZXZlbCA9IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsO1xuXG4gICAgICAgIGNvbnN0IHBnID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYXJzZUludChwYWdlSWR4LCAxMCldO1xuICAgICAgICBjb25zdCBwZ0F0Wm9vbSA9IHBnLmRbcGFyc2VJbnQoem9vbUxldmVsLCAxMCldO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogcGdBdFpvb20udyxcbiAgICAgICAgICAgIGhlaWdodDogcGdBdFpvb20uaFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBpbWFnZSBvZiB0aGUgcGFnZSBhdCB0aGUgZ2l2ZW4gaW5kZXguIFRoZVxuICAgICAqIG9wdGlvbmFsIHNpemUgcGFyYW1ldGVyIHN1cHBvcnRzIHNldHRpbmcgdGhlIGltYWdlIHdpZHRoIG9yIGhlaWdodFxuICAgICAqIChkZWZhdWx0IGlzIGZ1bGwtc2l6ZWQpLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7P29iamVjdH0gc2l6ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgaW5mb3JtYXRpb25cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBJSUlGIFVSTCBmb3IgYSBnaXZlbiBwYWdlIGF0IGFuIG9wdGlvbmFsIHNpemVcbiAgICAgKi9cbiAgICBnZXRQYWdlSW1hZ2VVUkwgKHBhZ2VJbmRleCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldFBhZ2VJbWFnZVVSTChwYWdlSW5kZXgsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc2V0IG9mIGNvLW9yZGluYXRlcyAoZS5nLiwgZnJvbSBhIG1vdXNlIGNsaWNrKSwgcmV0dXJuIHRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBmb3Igd2hpY2ggaXQgbWF0Y2hlcy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VYIC0gVGhlIHggY28tb3JkaW5hdGVcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VZIC0gVGhlIHkgY28tb3JkaW5hdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBwYWdlIGluZGV4IG1hdGNoaW5nIHRoZSBjby1vcmRpbmF0ZXMuXG4gICAgICogKi9cbiAgICBnZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMgKHBhZ2VYLCBwYWdlWSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMocGFnZVgsIHBhZ2VZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gdGhlIG5vcnRod2VzdCBjb3JuZXJzIG9mIGRpdmEtaW5uZXIgYW5kIHBhZ2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7P29wdGlvbnN9IG9wdGlvbnMgLSBBIHNldCBvZiBvcHRpb25zIHRvIHBhc3MgaW4uXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBUaGUgb2Zmc2V0IGJldHdlZW4gdGhlIHVwcGVyIGxlZnQgY29ybmVyIGFuZCB0aGUgcGFnZS5cbiAgICAgKlxuICAgICAqICovXG4gICAgZ2V0UGFnZU9mZnNldCAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRQYWdlUmVnaW9uKHBhZ2VJbmRleCwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIFRoZSBjdXJyZW50IGluc3RhbmNlIHNldHRpbmdzLlxuICAgICAqICovXG4gICAgZ2V0U2V0dGluZ3MgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjb21wbGV0ZSBzdGF0ZSBvZiB0aGUgdmlld2VyLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugc3RhdGUuXG4gICAgICogKi9cbiAgICBnZXRTdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFN0YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqICovXG4gICAgZ2V0Wm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEdvIHRvIGEgcGFydGljdWxhciBwYWdlICh3aXRoIGluZGV4aW5nIHN0YXJ0aW5nIGF0IDApLlxuICAgICAqICBUaGUgKHhBbmNob3IpIHNpZGUgb2YgdGhlIHBhZ2Ugd2lsbCBiZSBhbmNob3JlZCB0byB0aGUgKHhBbmNob3IpIHNpZGUgb2YgdGhlIGRpdmEtb3V0ZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogIEBwdWJsaWNcbiAgICAgKiAgQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSAwLWJhc2VkIHBhZ2UgaW5kZXguXG4gICAgICogIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqICBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCI7IHNhbWUgcHJvY2VzcyBhcyB4QW5jaG9yLlxuICAgICAqICBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkOyBmYWxzZSBpZiBpdCBpcyBub3QuXG4gICAgICogKi9cbiAgICBnb3RvUGFnZUJ5SW5kZXggKHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNhbnZhcyBsYWJlbCwgYXR0ZW1wdCB0byBnbyB0byB0aGF0IHBhZ2UuIElmIG5vIGxhYmVsIHdhcyBmb3VuZC5cbiAgICAgKiB0aGUgbGFiZWwgd2lsbCBiZSBhdHRlbXB0ZWQgdG8gbWF0Y2ggYWdhaW5zdCB0aGUgcGFnZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtzdHJpbmd9IGxhYmVsIC0gVGhlIGxhYmVsIHRvIHNlYXJjaCBvbi5cbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB4QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcImxlZnRcIiwgXCJyaWdodFwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkOyBmYWxzZSBpZiBpdCBpcyBub3QuXG4gICAgICogKi9cbiAgICBnb3RvUGFnZUJ5TGFiZWwgKGxhYmVsLCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzO1xuICAgICAgICBsZXQgbGxjID0gbGFiZWwudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFnZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYWdlc1tpXS5sLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsbGMpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChpLCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBhcnNlSW50KGxhYmVsLCAxMCkgLSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSnVtcCB0byBhIHBhZ2UgYmFzZWQgb24gaXRzIGZpbGVuYW1lLiBEZXByZWNhdGVkLiBVc2UgZ290b1BhZ2VCeVVSSSBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge3N0cmluZ30gZmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgb2YgdGhlIGltYWdlIHRvIGp1bXAgdG8uXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geEFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJsZWZ0XCIsIFwicmlnaHRcIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geUFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJ0b3BcIiwgXCJib3R0b21cIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgc3VjY2Vzc2Z1bCBhbmQgZmFsc2UgaWYgdGhlIGZpbGVuYW1lIGlzIG5vdCBmb3VuZC5cbiAgICAqL1xuICAgIGdvdG9QYWdlQnlOYW1lIChmaWxlbmFtZSwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IHZlcnNpb24gb2YgRGl2YS5qcy4gVXNlIGdvdG9QYWdlQnlVUkkgaW5zdGVhZC4nKTtcbiAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5fZ2V0UGFnZUluZGV4KGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEp1bXAgdG8gYSBwYWdlIGJhc2VkIG9uIGl0cyBVUkkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSB1cmkgLSBUaGUgVVJJIG9mIHRoZSBpbWFnZSB0byBqdW1wIHRvLlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHlBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwidG9wXCIsIFwiYm90dG9tXCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHN1Y2Nlc3NmdWwgYW5kIGZhbHNlIGlmIHRoZSBVUkkgaXMgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIGdvdG9QYWdlQnlVUkkgKHVyaSwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuX2dldFBhZ2VJbmRleCh1cmkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcGFnZSBoYXMgb3RoZXIgaW1hZ2VzIHRvIGRpc3BsYXkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHBhZ2UgaGFzIG90aGVyIGltYWdlcyB0byBkaXNwbGF5LlxuICAgICAqKi9cbiAgICBoYXNPdGhlckltYWdlcyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5vdGhlckltYWdlcyA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgcGFnZXMgdGhhdCBhcmUgbWFya2VkIFwibm9uLXBhZ2VkXCIgaW4gdGhlIElJSUYgbWFuaWZlc3QuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGhpZGVOb25QYWdlZFBhZ2VzICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoeyBzaG93Tm9uUGFnZWRQYWdlczogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHZpZXdlciBjdXJyZW50bHkgaW4gZnVsbC1zY3JlZW4gbW9kZT9cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSB2aWV3ZXIgaXMgaW4gZnVsbHNjcmVlbiBtb2RlLlxuICAgICAqKi9cbiAgICBpc0luRnVsbHNjcmVlbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcGFnZSBpbmRleCBpcyB3aXRoaW4gdGhlIHJhbmdlIG9mIHRoZSBkb2N1bWVudFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQuXG4gICAgICoqL1xuICAgIGlzUGFnZUluZGV4VmFsaWQgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1BhZ2VJbmRleFZhbGlkKHBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHBhZ2UgaXMgY3VycmVudGx5IGluIHRoZSB2aWV3cG9ydFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHBhZ2UgaXMgY3VycmVudGx5IGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKiovXG4gICAgaXNQYWdlSW5WaWV3cG9ydCAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuaXNQYWdlVmlzaWJsZShwYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIERpdmEgdmlld2VyIGhhcyBiZWVuIGZ1bGx5IGluaXRpYWxpemVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHZpZXdlciBpcyBpbml0aWFsaXplZDsgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqKi9cbiAgICBpc1JlYWR5ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc29tZXRoaW5nIChlLmcuIGEgaGlnaGxpZ2h0IGJveCBvbiBhIHBhcnRpY3VsYXIgcGFnZSkgaXMgdmlzaWJsZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEBwYXJhbXMge251bWJlcn0gbGVmdE9mZnNldCAtIFRoZSBkaXN0YW5jZSBvZiB0aGUgcmVnaW9uIGZyb20gdGhlIGxlZnQgb2YgdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSB0b3BPZmZzZXQgLSBUaGUgZGlzdGFuY2Ugb2YgdGhlIHJlZ2lvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVnaW9uXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWdpb25cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSByZWdpb24gaXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqKi9cbiAgICBpc1JlZ2lvbkluVmlld3BvcnQgKHBhZ2VJbmRleCwgbGVmdE9mZnNldCwgdG9wT2Zmc2V0LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCk7XG5cbiAgICAgICAgaWYgKCFsYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICBjb25zdCB0b3AgPSBvZmZzZXQudG9wICsgdG9wT2Zmc2V0O1xuICAgICAgICBjb25zdCBsZWZ0ID0gb2Zmc2V0LmxlZnQgKyBsZWZ0T2Zmc2V0O1xuXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdHNSZWdpb24oe1xuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBib3R0b206IHRvcCArIGhlaWdodCxcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHdpZHRoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHBhZ2UgbGF5b3V0IGlzIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5IG9yaWVudGVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmVydGljYWw7IGZhbHNlIGlmIGhvcml6b250YWwuXG4gICAgICoqL1xuICAgIGlzVmVydGljYWxseU9yaWVudGVkICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVhdmUgZnVsbHNjcmVlbiBtb2RlIGlmIGN1cnJlbnRseSBpbiBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiBpbiBmdWxsc2NyZWVuIG1vZGUgaW50aXRpYWxseSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICoqL1xuICAgIGxlYXZlRnVsbHNjcmVlbk1vZGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVhdmUgZ3JpZCB2aWV3IGlmIGN1cnJlbnRseSBpbiBncmlkIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiBpbiBncmlkIHZpZXcgaW5pdGlhbGx5LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiovXG4gICAgbGVhdmVHcmlkVmlldyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoeyBpbkdyaWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBudW1iZXIgb2YgZ3JpZCBwYWdlcyBwZXIgcm93LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZXNQZXJSb3cgLSBUaGUgbnVtYmVyIG9mIHBhZ2VzIHBlciByb3dcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldEdyaWRQYWdlc1BlclJvdyAocGFnZXNQZXJSb3cpXG4gICAge1xuICAgICAgICAvLyBUT0RPKHdhYmFpbik6IEFkZCB0ZXN0IGNhc2VcbiAgICAgICAgaWYgKCF0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmlzVmFsaWRPcHRpb24oJ3BhZ2VzUGVyUm93JywgcGFnZXNQZXJSb3cpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgaW5HcmlkOiB0cnVlLFxuICAgICAgICAgICAgcGFnZXNQZXJSb3c6IHBhZ2VzUGVyUm93XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWduIHRoaXMgZGl2YSBpbnN0YW5jZSB3aXRoIGEgc3RhdGUgb2JqZWN0IChhcyByZXR1cm5lZCBieSBnZXRTdGF0ZSlcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtvYmplY3R9IHN0YXRlIC0gQSBEaXZhIHN0YXRlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldFN0YXRlIChzdGF0ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih0aGlzLl9nZXRMb2FkT3B0aW9uc0ZvclN0YXRlKHN0YXRlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldFpvb21MZXZlbCAoem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuem9vbSh6b29tTGV2ZWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgbm9uLXBhZ2VkIHBhZ2VzLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgc2hvd05vblBhZ2VkUGFnZXMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7IHNob3dOb25QYWdlZFBhZ2VzOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICB0b2dnbGVGdWxsc2NyZWVuTW9kZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cvSGlkZSBub24tcGFnZWQgcGFnZXNcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHRvZ2dsZU5vblBhZ2VkUGFnZXNWaXNpYmlsaXR5ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgc2hvd05vblBhZ2VkUGFnZXM6ICF0aGlzLnNldHRpbmdzLnNob3dOb25QYWdlZFBhZ2VzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vQ2hhbmdlcyBiZXR3ZWVuIGhvcml6b250YWwgbGF5b3V0IGFuZCB2ZXJ0aWNhbCBsYXlvdXQuIFJldHVybnMgdHJ1ZSBpZiBkb2N1bWVudCBpcyBub3cgdmVydGljYWxseSBvcmllbnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgIHRvZ2dsZU9yaWVudGF0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9nZ2xlUGFnZUxheW91dE9yaWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyBhIG1lYXN1cmVtZW50IGZyb20gdGhlIHpvb20gbGV2ZWwgb24gdGhlIGxhcmdlc3Qgc2l6ZVxuICAgICAqIHRvIG9uZSBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIGEgcG9pbnQgMTAwMCBvbiBhbiBpbWFnZSB0aGF0IGlzIG9uIHpvb20gbGV2ZWwgMiBvZiA1XG4gICAgICogdHJhbnNsYXRlcyB0byBhIHBvc2l0aW9uIG9mIDExMS4xMTEuLi4gKDEwMDAgLyAoNSAtIDIpXjIpLlxuICAgICAqXG4gICAgICogV29ya3MgZm9yIGEgc2luZ2xlIHBpeGVsIGNvLW9yZGluYXRlIG9yIGEgZGltZW5zaW9uIChlLmcuLCB0cmFuc2xhdGVzIGEgYm94XG4gICAgICogdGhhdCBpcyAxMDAwIHBpeGVscyB3aWRlIG9uIHRoZSBvcmlnaW5hbCB0byBvbmUgdGhhdCBpcyAxMTEuMTExIHBpeGVscyB3aWRlXG4gICAgICogb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwb3NpdGlvbiAtIEEgcG9pbnQgb24gdGhlIG1heCB6b29tIGxldmVsXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgc2FtZSBwb2ludCBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICovXG4gICAgdHJhbnNsYXRlRnJvbU1heFpvb21MZXZlbCAocG9zaXRpb24pXG4gICAge1xuICAgICAgICBjb25zdCB6b29tRGlmZmVyZW5jZSA9IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsIC0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAvIE1hdGgucG93KDIsIHpvb21EaWZmZXJlbmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGEgbWVhc3VyZW1lbnQgZnJvbSB0aGUgY3VycmVudCB6b29tIGxldmVsIHRvIHRoZSBwb3NpdGlvbiBvbiB0aGVcbiAgICAgKiBsYXJnZXN0IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBXb3JrcyBmb3IgYSBzaW5nbGUgcGl4ZWwgY28tb3JkaW5hdGUgb3IgYSBkaW1lbnNpb24gKGUuZy4sIHRyYW5zbGF0ZXMgYSBib3hcbiAgICAgKiB0aGF0IGlzIDExMS4xMTEgcGl4ZWxzIHdpZGUgb24gdGhlIGN1cnJlbnQgaW1hZ2UgdG8gb25lIHRoYXQgaXMgMTAwMCBwaXhlbHMgd2lkZVxuICAgICAqIG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcG9zaXRpb24gLSBBIHBvaW50IG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWxcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBzYW1lIHBvaW50IG9uIHRoZSBtYXggem9vbSBsZXZlbC5cbiAgICAqL1xuICAgIHRyYW5zbGF0ZVRvTWF4Wm9vbUxldmVsIChwb3NpdGlvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHpvb21EaWZmZXJlbmNlID0gdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWwgLSB0aGlzLnNldHRpbmdzLnpvb21MZXZlbDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBkaWZmZXJlbmNlLCBpdCdzIGEgYm94IG9uIHRoZSBtYXggem9vbSBsZXZlbCBhbmRcbiAgICAgICAgLy8gd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBwb3NpdGlvbi5cbiAgICAgICAgaWYgKHpvb21EaWZmZXJlbmNlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAqIE1hdGgucG93KDIsIHpvb21EaWZmZXJlbmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBab29tIGluLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIGZhbHNlIGlmIGl0J3MgYXQgdGhlIG1heGltdW0gem9vbVxuICAgICAqKi9cbiAgICB6b29tSW4gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb20gb3V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIGZhbHNlIGlmIGl0J3MgYXQgdGhlIG1pbmltdW0gem9vbVxuICAgICAqKi9cbiAgICB6b29tT3V0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgLSAxKTtcbiAgICB9XG59XG5cbkRpdmEuRXZlbnRzID0gZGl2YS5FdmVudHM7XG5cbmV4cG9ydCBkZWZhdWx0IERpdmE7XG5cbi8qKlxuICogTWFrZSBgRGl2YWAgYXZhaWxhYmxlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cbiAqICovXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAoZnVuY3Rpb24gKGdsb2JhbClcbiAgICB7XG4gICAgICAgIGdsb2JhbC5EaXZhID0gZ2xvYmFsLkRpdmEgfHwgRGl2YTtcbiAgICB9KSh3aW5kb3cpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==